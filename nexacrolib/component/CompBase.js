//==============================================================================
//
//  Copyright 2021 TOBESOFT Co., Ltd.
//  All Rights Reserved.
//
//  NOTICE: TOBESOFT permits you to use, modify, and distribute this file 
//          in accordance with the terms of the license agreement accompanying it.
//
//  Readme URL: http://www.nexacro.com/legal/license/tobesoft/ko/NexacroN-public-license-readme-1.1.html
//
//==============================================================================
if(nexacro._Browser!="Runtime"&&!nexacro.Element){"use strict";var _process=true;nexacro.__createCanvasElementHandle=function(_a,_b,_c,_d,_e,_f){var _g=_b.createElement("canvas");var _h=_g.style;nexacro.__setDOMStyle_Pos(_h,_c,_d);nexacro.__setDOMStyle_Size(_g,_e,_f);_g._linked_element=_a;_g._draw_ctx=_g.getContext("2d");return _g;};nexacro.__destroyCanvasElementHandle=function(_a,_b){if(_a){_a.removeChild(_b);}_b._draw_ctx=null;_b._linked_element=null;};nexacro.__setLastFocusedElement=function(_a){if(_a){var _b=_a.linkedcontrol?_a.linkedcontrol._getWindow():(_a.parent_elem?_a.parent_elem.linkedcontrol._getWindow():null);if(_b){var _c=_b;while(true){if(_c instanceof nexacro._PopupWindow){if(_c==_c.parent){break;}_c=_c.parent;}else{break;}}if(!_c){_c=_b;}_c._last_focused_elem=_a;}}};nexacro.Element=function(_a,_b){this._p_parent=_a;this.parent_elem=_a;this.id=_b;this._p_name=this.parent_elem.name+":"+(_b||"elem");};var _pElement=nexacro._createPrototype(nexacro.Object,nexacro.Element);nexacro.Element.prototype=_pElement;_pElement._type_name="Element";_pElement._p_parent=null;_pElement.parent_elem=null;_pElement.id="";_pElement.status="";_pElement.userstatus="";_pElement.left=0;_pElement.top=0;_pElement.width=0;_pElement.height=0;_pElement.visible=true;_pElement.rtl=undefined;_pElement.layouttype="default";_pElement.layouthorizontalgap=undefined;_pElement.layoutverticalgap=undefined;_pElement.flexmainaxisalign="";_pElement.flexcrossaxisalign="";_pElement.flexcrossaxiswrapalign="";_pElement.flexwrap="";_pElement.tablecellalign="";_pElement.tablecellincompalign="";_pElement._tablecellhalign="";_pElement._tablecellvalign="";_pElement._tablecellincomphalign="";_pElement._tablecellincompvalign="";_pElement.tabletemplate="";_pElement.tabletemplatearea="";_pElement.tabledirection="";_pElement.layoutspacing="";_pElement._layoutspacing=null;_pElement._property_map_layoutalign=[["start","start"],["center","center"],["end","end"],["spacebetween","space-between"],["spacearound","space-around"],["spaceevenly","space-evenly"]];_pElement.color=null;_pElement.font=null;_pElement.textDecoration=null;_pElement.wordSpacing=null;_pElement.letterSpacing=null;_pElement.pointerEvent="";_pElement.handle=null;_pElement.dest_handle=null;_pElement.owner_elem=null;_pElement._is_nc_element=false;_pElement._is_input_element=false;_pElement.typeselector="";_pElement.classselector="";_pElement.clearContents=nexacro._emptyFn;_pElement.create=function(_a){var _b=(this._is_nc_element)?this.parent_elem:this.parent_elem.getContainerElement(this.position_step);if(_b&&_b.handle&&!this.handle){this.owner_elem=_b;var _c=_a._doc||_b._getRootWindowHandle();var _d=_c.createElement("div");nexacro.__setDOMNode_ClassName(_d,this._getElementClassName());this.handle=_d;_d.id=this.name;_d._linked_element=this;var _e=_d.style;this._refreshCommonStyleProps(_e);nexacro.__appendDOMNode(this._is_nc_element?_b.handle:_b.dest_handle,_d);}};_pElement.createCommand=function(){var _a=(this._is_nc_element)?this.parent_elem:this.parent_elem.getContainerElement(this.position_step);if(_a&&!this.handle){this.owner_elem=_a;var _b=this._getCommonStyleStr();var _c="<div id='"+this.name+"' class='"+this._getElementClassName()+"'";_c+=(_b)?(" style='"+_b+"'>"):">";_c+="</div>";return _c;}return "";};_pElement.attachHandle=function(_a){if(this.name&&!this.handle){this.handle=_a._doc.getElementById(this.name);}};_pElement._removeElementHandle=function(){var _a=this.handle;var _b=this.linkedcontrol;if(_b&&_b._is_main){_a=this.dest_handle;}if(_a){var _c;_a._linked_element=null;if(this._is_nc_element){_c=(this.owner_elem?this.owner_elem.handle:null);}else{_c=(this.owner_elem?this.owner_elem.dest_handle:null);}nexacro.__removeDOMNode(_c,_a);}};_pElement._destroyElementHandle=function(){var _a=this.handle;if(_a){this._removeElementHandle();this.handle=null;}};_pElement.destroy=function(){this._destroyElementHandle();this.owner_elem=null;this._p_parent=null;this.parent_elem=null;};_pElement.isInputElement=function(){return this._is_input_element;};_pElement.stopSysEvent=function(){this._event_stop=true;};_pElement._appendToContainer=function(_a){var _b=this.handle;if(this.owner_elem==null){this.owner_elem=_a;if(_b&&_a.handle){nexacro.__appendDOMNode(_a.dest_handle,_b);}}};_pElement._insertToContainer=function(_a,_b){var _c=this.handle;if(this.owner_elem==null){this.owner_elem=_a;if(_c&&_a.handle){nexacro.__insertDOMNode(_a.dest_handle,_c,_b.handle);}}};_pElement._removeFromContainer=function(){var _a=this.owner_elem;if(_a){this.owner_elem=null;var _b=this.handle;var _c=this.linkedcontrol;if(_c._findOwnerElementHandle){var _d=_c._findOwnerElementHandle();if(_d.is_append){if(_d.ref_handle){nexacro.__removeDOMNode(_d.ref_handle,_b);}else{nexacro.__removeDOMNode(_d.owner_handle,_b);}}}else if(_b&&_a.handle){if(this._is_nc_element){nexacro.__unlinkDOMNode(_a.handle,_b);}else if(_a.dest_handle!=_b){nexacro.__unlinkDOMNode(_a.dest_handle,_b);}}}};_pElement.getContainerElement=function(){return this;};_pElement._getRootWindowHandle=function(){if(this.owner_elem){return this.owner_elem._getRootWindowHandle();}return null;};_pElement._isRtl=function(_a){var _b=_a?(this.parent_elem?this.parent_elem:this.parent.getElement()):this;while(_b){if(_b.rtl!==undefined){return _b.rtl;}if(_b.parent_elem){_b=_b.parent_elem;}else{_b=_b.parent;}}return nexacro._rtl;};_pElement._isParentRtl=function(){var _a=this.parent_elem?this.parent_elem:(this.parent?this.parent.getElement():null);while(_a){if(_a.rtl!==undefined){return _a.rtl;}if(_a.parent_elem){_a=_a.parent_elem;}else{_a=_a.parent;}}return nexacro._rtl;};_pElement._checkUpdateElementByRTL=function(_a,_b){var _c=false;var _d=this._isParentRtl();if(_a){var _e=_a.style;if(typeof _b=="number"){if(!((_e.left==_b+"px")^_d)){_c=true;}}else{}}return _c;};_pElement.setElementLayoutType=function(_a){if(this.layouttype!=_a){this.layouttype=_a;var _b=this._client_elem;if(_b){_b._setElementLayoutType(_a);}}};_pElement.setElementLayoutFluidPos=function(_a){var _b=this.handle;if(_b){if(_a){nexacro.__setDOMStyle_LayoutFluidPos(_b.style);nexacro.__clearDOMStyle_Pos(_b.style);}else{nexacro.__clearDOMStyle_LayoutFluidPos(_b.style);nexacro.__setDOMStyle_Pos(_b.style,this.left,this.top);}}};_pElement.setElementLayoutHorizontalGap=function(_a){if(this.layouthorizontalgap!=_a){this.layouthorizontalgap=_a;var _b=this._client_elem;if(_b){_b._setElementLayoutHorizontalGap(_a);}}};_pElement.setElementLayoutVerticalGap=function(_a){if(this.layoutverticalgap!=_a){this.layoutverticalgap=_a;var _b=this._client_elem;if(_b){_b._setElementLayoutVerticalGap(_a);}}};_pElement.setElementFlexMainAxisAlign=function(_a){if(this.flexmainaxisalign!=_a){this.flexmainaxisalign=_a;_a=this._getPropertyFlexAlign(_a);var _b=this._client_elem;if(_b){_b._setElementFlexMainAxisAlign(_a);}}};_pElement.setElementFlexCrossAxisAlign=function(_a){if(this.flexcrossaxisalign!=_a){this.flexcrossaxisalign=_a;_a=this._getPropertyFlexAlign(_a);var _b=this._client_elem;if(_b){_b._setElementFlexCrossAxisAlign(_a);}}};_pElement.setElementFlexCrossAxisWrapAlign=function(_a){if(this.flexcrossaxiswrapalign!=_a){this.flexcrossaxiswrapalign=_a;_a=this._getPropertyFlexAlign(_a);var _b=this._client_elem;if(_b){_b._setElementFlexCrossAxisWrapAlign(_a);}}};_pElement.setElementTableCellAlign=function(_a){if(this.tablecellalign!=_a){this.tablecellalign=_a;var _b=this._client_elem;if(_b){_b._setElementTableCellAlign(_a);}}};_pElement.setElementTableCellinCompAlign=function(_a){if(this.tablecellincompalign!=_a){this.tablecellincompalign=_a;var _b=this._client_elem;if(_b){_b._setElementTableCellinCompAlign(_a);}}};_pElement._getPropertyFlexAlign=function(_a){var _b=this._property_map_layoutalign;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d][0]==_a){return _b[_d][1];}}return "start";};_pElement._parseLayoutCellAlign=function(_a){if(_a&&(typeof (_a)=="string")){var _b=_a.trim();if(_b){var _c=_b.split(/\s+/);var _d=[];_d[0]=this._getPropertyFlexAlign(_c[0]);_d[1]=this._getPropertyFlexAlign(_c[1]);return _d;}}};_pElement._compareLayoutBasis=function(_a,_b){if(_a&&_b){return _a.type===_b.type&&_a.width===_b.width&&_a.height===_b.height&&_a.maxwidth===_b.maxwidth&&_a.maxheight===_b.maxheight&&_a.minwidth===_b.minwidth&&_a.minheight===_b.minheight;}return false;};_pElement.setElementFlexWrap=function(_a){if(this.flexwrap!=_a){this.flexwrap=_a;var _b=this._client_elem;if(_b){_b._setElementFlexWrap(_a);}}};_pElement.setElementFlexGrow=function(_a){if(this.flexgrow!=_a){this.flexgrow=_a;var _b=this.handle;if(_b){nexacro.__setDOMStyle_FlexGrow(_b.style,_a);}}};_pElement.setElementFlexShrink=function(_a){if(this.flexshrink!=_a){this.flexshrink=_a;var _b=this.handle;if(_b){nexacro.__setDOMStyle_FlexShrink(_b.style,_a);}}};_pElement.setElementTableTemplate=function(_a){if(this.tabletemplate!=_a){this.tabletemplate=_a?_a.split("*").join("fr"):"";var _b=this._client_elem;if(_b){_b._setElementTableTemplate(this.tabletemplate);}}};_pElement.setElementTableTemplateArea=function(_a){if(this.tabletemplatearea!=_a){this.tabletemplatearea=_a;var _b=this._client_elem;if(_b){_b._setElementTableTemplateArea(_a);}}};_pElement.setElementTableDirection=function(_a){if(this.tabledirection!=_a){this.tabledirection=_a;var _b=this._client_elem;if(_b){_b._setElementTableDirection(_a);}}};_pElement.setElementLayoutSpacing=function(_a){this.layoutspacing=_a;if(_a){if(this._layoutspacing==null||this._layoutspacing.value!=_a){var _b=nexacro.PaddingObject(_a);if(this._is_simple_control){this._setElementLayoutSpacing(_b);}this._layoutspacing=this.layoutspacing=_b;}}else{if(this._layoutspacing){this._layoutspacing=null;}}var _c=this._client_elem;if(_c){_c._setElementLayoutSpacing(this._layoutspacing);}};_pElement.setElementPosition=function(_a,_b,_c){var _d=this.handle;if(this.left!=_a||this.top!=_b||_c){this.left=_a;this.top=_b;if(_d){var _e=this._isParentRtl();if(this._use_translate_move){if(this._style_left==undefined||this._style_top==undefined){this._style_left=(_d.style.left)?parseInt(_d.style.left):0;this._style_top=(_d.style.top)?parseInt(_d.style.top):0;}var _f=_a;var _g=_b;var _h=this._style_left;var _i=this._style_top;if(nexacro._Browser_Transform3d>0){_f-=_h;_g-=_i;}if(_f||_g){nexacro.__setDOMStyle_Translate(_d.style,_f,_g,_e);}else{nexacro.__clearDOMStyle_Translate(_d.style);}}else{if(!this._isFluid()||this._isFlexible()||!nexacro._is_native_fluidlayout||this._is_popup||this._is_nc_element){nexacro.__setDOMStyle_Pos(_d.style,_a,_b,_e);}}}}};_pElement._isFluid=function(){let _a=this.parent_elem;if(_a){return _a.layouttype=="default"?false:true;}return false;};_pElement._isFlexible=function(){let _a=this.parent_elem;if(_a){return _a._is_flexible;}};_pElement._forceApplyPosTop=function(_a){if(this.top!=_a){var _b=this.handle;if(_b){nexacro.__setDOMStyle_Pos(_b.style,null,_a,this._isParentRtl());}}};_pElement._forceApplyPosLeft=function(){if(this.left){var _a=this.handle;if(_a){nexacro.__setDOMStyle_Pos(_a.style,this.left,null,this._isParentRtl());}}};_pElement.setElementSize=function(_a,_b){if(this.width!=_a||this.height!=_b){this.width=_a;this.height=_b;if(_a<0){_a=0;}if(_b<0){_b=0;}var _c=this.handle;if(_c){if(_a&&_b){nexacro.__setDOMStyle_Size(_c.style,_a,_b);}else{nexacro.__clearDOMStyle_Size(_c.style);}}}};_pElement.setElementVisible=function(_a){if(this.visible!=_a){this.visible=_a;var _b=this.handle;if(_b){nexacro.__setDOMStyle_Visible(_b.style,_a);}}};_pElement.setElementRtl=function(_a){if(this.rtl!=_a){this.rtl=_a;var _b=this.handle;if(_b){nexacro.__setDOMStyle_Direction(_b.style,_a);}}};_pElement.setElementTypeCSSSelector=function(_a){if(this.typeselector!=_a){this.typeselector=_a;var _b=this.handle;if(_b){nexacro.__setDOMNode_ClassName(_b,this._getElementClassName());}}};_pElement.setElementClassCSSSelector=function(_a){if(this.classselector!=_a){this.classselector=_a;var _b=this.handle;if(_b){nexacro.__setDOMNode_ClassName(_b,this._getElementClassName());}}};_pElement.setElementTextAlignByClassCSSSelector=function(_a){var _b="nexacenteralign";{if(_a=="left"){_b="nexaleftalign";}else if(_a=="right"){_b="nexarightalign";}}this.setElementClassCSSSelector(_b);};_pElement._getElementClassName=function(){var _a=this.typeselector;if(this.rtl){_a+=" nexartl";}if(this.classselector){_a+=" "+this.classselector;}return _a;};_pElement._getElementNexaClassName=function(_a,_b){var _c=_a;if(this._isRtl(true)){_c+=" nexartl";}if(_b){_c+=" "+_b;}return _c;};_pElement.setElementStatus=function(_a){if(this.status!=_a){this.status=_a;var _b=this.handle;if(_b){nexacro.__setDOMNode_Status(_b,_a);}}};_pElement.setElementUserStatus=function(_a){if(this.userstatus!=_a){this.userstatus=_a;var _b=this.handle;if(_b){nexacro.__setDOMNode_UserStatus(_b,_a);}}};_pElement._getWindow=function(){return this.linkedcontrol._getWindow();};_pElement.setElementColor=function(_a){if(this.color!=_a){this.color=_a;if(this.handle){nexacro.__setDOMStyle_ColorObject(this.handle.style,_a);}}};_pElement.setElementFont=function(_a){if(this.font!=_a){this.font=_a;if(this.handle){nexacro.__setDOMStyle_FontObject(this.handle.style,_a);}}};_pElement.setElementTextDecoration=function(_a){if(this.textDecoration!=_a){this.textDecoration=_a;if(this.handle){nexacro.__setDOMStyle_TextDecorationObject(this.handle.style,_a);}}};_pElement.setElementWordSpacing=function(_a){if(this.wordSpacing!=_a){this.wordSpacing=_a;if(this.handle){nexacro.__setDOMStyle_WordSpacingObject(this.handle.style,_a);}}};_pElement.setElementLetterSpacing=function(_a){if(this.letterSpacing!=_a){this.letterSpacing=_a;if(this.handle){nexacro.__setDOMStyle_LetterSpacingObject(this.handle.style,_a);}}};_pElement.setElementPointerEvents=function(_a){if(this.pointerEvent!=_a){this.pointerEvent=_a;var _b=this.handle;if(_b){nexacro.__setDOMNodeStylePointerEvents(_b.style,_a);}}};_pElement._refreshCommonStyleProps=function(_a,_b){var _c=this._isParentRtl();if(!this.visible){nexacro.__setDOMStyle_Visible(_a,false);}if(this.display=="none"){nexacro.__setDOMStyle_Display(_a,"none");}var _d=this.linkedcontrol;if(this._use_translate_move){nexacro.__setDOMStyle_Pos(_a,0,0,_c);nexacro.__setDOMStyle_Translate(_a,this.left,this.top,this.rtl);}else{if(_d&&!_d._is_form&&!_d._is_frame){if(!this._isFluid()||this._is_nc_element){if(!nexacro._is_native_fluidlayout){nexacro.__setDOMStyle_Pos(_a,this.left,this.top,_c);}}}else{nexacro.__setDOMStyle_Pos(_a,this.left,this.top,_c);}}if(!_b&&!(_d&&_d._is_frame&&(_d._is_main&&!nexacro._allow_default_pinchzoom))){if(this.width&&this.height){nexacro.__setDOMStyle_Size(_a,this.width,this.height);}}if(_d&&(_d._is_main||_d._is_popup_frame)){var _e=this.font?this.font:_d._getReferenceAbsoluteFont();if(_e){var _f=this.handle.parentElement.style;if(_f){nexacro.__setDOMStyle_FontObject(_f,_e);}}}if(this.color){nexacro.__setDOMStyle_ColorObject(_a,this.color);}if(this.font){nexacro.__setDOMStyle_FontObject(_a,this.font);}if(this.wordSpacing){nexacro.__setDOMStyle_WordSpacingObject(_a,this.wordSpacing);}if(this.letterSpacing){nexacro.__setDOMStyle_LetterSpacingObject(_a,this.letterSpacing);}if(this.textDecoration){nexacro.__setDOMStyle_TextDecorationObject(_a,this.textDecoration);}if(this.rtl!==undefined){nexacro.__setDOMStyle_Direction(_a,this.rtl);}if(this.wordWrap){nexacro.__setDOMStyle_WordWrap(_a,this.wordWrap);}if(this.pointerEvent){nexacro.__setDOMNodeStylePointerEvents(_a,this.pointerEvent);}};_pElement._getCommonStyleStr=function(_a){var _b="";var _c=this._isParentRtl();if(!this.visible){_b+=nexacro.__getHTMLStyle_Visible(false);}if(this.display=="none"){_b+=nexacro.__getHTMLStyle_Display("none");}var _d=this.linkedcontrol;var _e=this._isFluid();var _f=_d?_d._excluded_flex:false;if(!_e||!nexacro._is_native_fluidlayout||this.parent_elem._is_flexible){if(this.left>=0||this.top>=0){_b+=nexacro.__getHTMLStyle_Pos(this.left,this.top,_c);}}if(this._layoutbasis){_b+=nexacro.__getHTMLStyle_FluidSize(this._layoutbasis);}else if(!_a){if(this.width>=0&&this.height>=0){_b+=nexacro.__getHTMLStyle_Size(this.width,this.height);}}if(this.color){_b+=nexacro.__getHTMLStyle_ColorObject(this.color);}if(this.font){_b+=nexacro.__getHTMLStyle_FontObject(this.font);}if(this.wordSpacing){_b+=nexacro.__getHTMLStyle_WordSpacingObject(this.wordSpacing);}if(this.letterSpacing){_b+=nexacro.__getHTMLStyle_LetterSpacingObject(this.letterSpacing);}if(this.textDecoration){_b+=nexacro.__getHTMLStyle_TextDecorationObject(this.textDecoration);}if(this.rtl!==undefined){_b+=nexacro.__getHTMLStyle_Direction(this.rtl);}if(this.wordWrap){_b+=nexacro.__getHTMLStyle_WordWrap(this.wordWrap);}if(this.pointerEvent){_b+=nexacro.__getHTMLStyle_PointerEvents(this.pointerEvent);}if(_e&&nexacro._is_native_fluidlayout){if(this.visible){if(_f){_b+=nexacro.__getHTMLStyleAbsolute();}else{_b+=nexacro.__getHTMLStyle_FluidLayoutDefaultPosition();}}if(this._layoutbasis&&(this._layoutbasis.type=="horizontal"||this._layoutbasis.type=="vertical")){_b+=nexacro.__getHTMLStyle_LayoutBasis(this._layoutbasis);}if(this.flexgrow>-1){_b+=nexacro.__getHTMLStyle_FlexGrow(this.flexgrow);}if(this.flexshrink>-1){_b+=nexacro.__getHTMLStyle_FlexShrink(this.flexshrink);}if(this.layoutorder>-1){_b+=nexacro.__getHTMLStyle_LayoutOrder(this.layoutorder);}if(this._tablecellarea||this._tablecellarea===""){_b+=nexacro.__getHTMLStyle_TableCellArea(this._tablecellarea);}}_b+=this._getAccessibilityStyleStr();return _b;};_pElement._getOverflowScrollSize=function(){return 0;};_pElement._contains=function(_a){while(_a){if(_a==this){return true;}_a=_a.parent_elem;}return false;};_pElement.setElementPreventedEvent=function(_a){var _b=this.handle;if(_b){if(this.inert!=_a){this.inert=_a;nexacro.__setDOMNode_Inert(_b,_a);}}};_pElement._getComputedStyle=nexacro._emptyFn;_pElement._getComputedStyleBackgroundColor=nexacro._emptyFn;_pElement.setElementAccessibilityRole=nexacro._emptyFn;_pElement.setElementAccessibilityLabel=nexacro._emptyFn;_pElement.setElementAccessibilityDescription=nexacro._emptyFn;_pElement.setElementAccessibilityAction=nexacro._emptyFn;_pElement.setElementAccessibilityFlagReadOnly=nexacro._emptyFn;_pElement.setElementAccessibilityStatHidden=nexacro._emptyFn;_pElement.getElementCaretPos=nexacro._emptyFn;_pElement._getPositionInWindow=function(){return nexacro._getElementXYInWindow(this.handle);};_pElement._on_createAccessibilityCommand=function(_a){return _a;};_pElement._getAccessibilityStyleStr=function(){return "";};_pElement._clearLayoutBasis=function(){if(this._layoutbasis){this._layoutbasis=null;}if(this._client_elem){this._client_elem._clearLayoutBasiss();}};_pElement._setElementFittocontents=function(_a){if(this.fittocontents!=_a){this.fittocontents=_a;}};_pElement._on_createAccessibilityHandle=nexacro._emptyFn;nexacro._EdgeImageElement=function(_a){this._p_parent=_a;this.parent_elem=_a;};var __pEdgeImageElement=nexacro._createPrototype(nexacro.Element,nexacro._EdgeImageElement);nexacro._EdgeImageElement.prototype=__pEdgeImageElement;__pEdgeImageElement._type_name="_EdgeImageElement";__pEdgeImageElement.edgeImage=null;__pEdgeImageElement._is_nc_element=true;__pEdgeImageElement.create=function(_a){var _b=this.edgeImage;var _c=this._edge_info;var _d=(_b&&_b.value!="none");var _e=(_c&&_c.value!="none");var _f=this.parent_elem;if(_f.handle&&!this.handle&&(_d||_e)){this.owner_elem=_f;_a=_a||_f._getRootWindowHandle();var _g=_a.createElement("div");this.handle=_g;nexacro.__setDOMNode_ClassName(_g,this._getElementNexaClassName("nexaedge"));nexacro.__setDOMStyle_EdgeObject(_g.style,_b?_b:_c);var _h=_f.handle;nexacro.__insertDOMNode(_h,_g,_h.firstChild);}};__pEdgeImageElement.setElementSize=function(_a,_b){this.width=_a;this.height=_b;};__pEdgeImageElement.setElementInfo=function(_a,_b){if(this.edgeImage!=_a||this._edge_info!=_b){this.edgeImage=_a;this._edge_info=_b;var _c=this.handle;if(_c){nexacro.__setDOMStyle_EdgeObject(_c.style,_a);}}};__pEdgeImageElement.createCommand=function(){if(this.edgeImage){if(this.edgeImage.value!="none"){return "<div class='"+this._getElementNexaClassName("nexaedge")+"' style='"+nexacro.__getHTMLStyle_EdgeObject(this.edgeImage)+"'></div>";}}else if(this._edge_info){if(this._edge_info.value!="none"){return "<div class='"+this._getElementNexaClassName("nexaedge")+"'></div>";}}return "";};__pEdgeImageElement.attachHandle=function(_a){if(this.name&&!this.handle){var _b=_a._doc.getElementById(this.name);if(_b){this.handle=_b;}}};__pEdgeImageElement.attach_handle_fromparent=function(_a){if(_a&&!this.handle){var _b=_a.firstChild;if(_b){this.handle=_b;}}};__pEdgeImageElement.destroy=function(){var _a=this.handle;if(_a){var _b=(this.owner_elem?this.owner_elem.handle:null);nexacro.__removeDOMNode(_b,_a);this.owner_elem=null;this.handle=null;}this._p_parent=null;this.parent_elem=null;};nexacro.TextBoxElement=function(_a,_b){this._p_parent=_a;this.parent_elem=_a;this.id=_b;this._p_name=this.parent_elem.name+":"+(_b||"text");};var _pTextBoxElement=nexacro._createPrototype(nexacro.Element,nexacro.TextBoxElement);nexacro.TextBoxElement.prototype=_pTextBoxElement;_pTextBoxElement._type_name="TextBoxElement";_pTextBoxElement.typeselector="nexacontentsbox";_pTextBoxElement._box_node=null;_pTextBoxElement.text="";_pTextBoxElement.padding=null;_pTextBoxElement.textAlign=null;_pTextBoxElement.verticalAlign=null;_pTextBoxElement.wordWrap=null;_pTextBoxElement.pointerEvent="";_pTextBoxElement._use_decoration=false;_pTextBoxElement._wordwrap_info=null;_pTextBoxElement._firstchild=false;_pTextBoxElement._created=false;_pTextBoxElement._use_style_padding=false;_pTextBoxElement._createTextElementHandle=function(_a){var _b=_a.createElement("div");this._box_node=_b;nexacro.__setDOMNode_ClassName(_b,this._getElementClassName());return _b;};_pTextBoxElement._getComputedStyle=function(_a,_b){var _c;var _d=this._box_node;if(_a){if(!this.text){var _e=this.text;this.setElementText(" ");_d=this._box_node;var _f;if(_d){_c=window.getComputedStyle(_d,null);_f=_c.getPropertyValue(_a);}this.setElementText(_e);return _f;}else if(_d){_c=window.getComputedStyle(_d,null);return _c.getPropertyValue(_a);}}};_pTextBoxElement._is_accept_touch=function(_a){if(nexacro._OS==='iOS'&&_a){var _b=_a._last_focused_elem;if(_b&&_b.isInputElement()){if(this!==_b&&_b.isComposing()){return false;}}}return true;};_pTextBoxElement._refreshCommonStyleProps=function(_a){nexacro.Element.prototype._refreshCommonStyleProps.call(this,_a);var _b=this.width;var _c=this.height;if(_b<0){_b=0;}if(_c<0){_c=0;}if(_b==0||_c==0){nexacro.__setDOMStyle_Size(_a,_b,_c);}};_pTextBoxElement.setElementSize=function(_a,_b){if(this.width!=_a||this.height!=_b){this.width=_a;this.height=_b;if(_a<0){_a=0;}if(_b<0){_b=0;}var _c=this.handle;if(_c){if(_a>=0&&_b>=0){nexacro.__setDOMStyle_Size(_c.style,_a,_b);}else{nexacro.__clearDOMStyle_Size(_c.style);}}}};_pTextBoxElement.setElementMove=function(_a,_b,_c,_d,_e){this.setElementPosition(_a,_b,_e);this.setElementSize(_c,_d);};_pTextBoxElement._getComputedStyleAlign=function(_a){var _b={textAlign:"",verticalAlign:""};_b.textAlign=this._getComputedStyle("text-align");_b.verticalAlign=this._getComputedStyle("vertical-align");return _b;};_pTextBoxElement._createElementHandleAfter=nexacro._emptyFn;_pTextBoxElement._createElementHandle=function(_a,_b){if(this.text){_b=_b||_a._getRootWindowHandle();var _c=this._createTextElementHandle(_b);_c.id=this.name;_c._linked_element=this;this.handle=_c;var _d=_c.style;var _e=this._box_node;var _f=_e.style;this._refreshCommonStyleProps(_d);if(this.textAlign){nexacro.__setDOMStyle_textAlign(_f,this.textAlign,this.rtl);}if(this.verticalAlign){nexacro.__setDOMStyle_verticalAlign(_f,this.verticalAlign);}if(this._use_decoration){nexacro.__setDOMNode_DecorateText(_e,this.text);}else{nexacro.__setDOMNode_Text(_e,this.text,this.wordWrap||this._wordwrap_info);}if(this._use_style_padding){nexacro.__setDOMStyle_PaddingObject(_f,this.padding,this.rtl);}this._on_createAccessibilityHandle(_c);this._createElementHandleAfter(_c);if(this._firstchild){nexacro.__insertDOMNode(_a.dest_handle,_c,_a.dest_handle.firstChild);}else{nexacro.__appendDOMNode(_a.dest_handle,_c);}}};_pTextBoxElement.create=function(_a){var _b=this.parent_elem.getContainerElement(this.position_step);if(_b&&!this._created){this.owner_elem=_b;this.rtl=this._isParentRtl();this._createElementHandle(_b,_a._doc);this._created=true;}};_pTextBoxElement.createCommandAfter=function(_a,_b,_c){_a+=(_b||_c)?(" style='"+_b+_c+"'>"):">";return _a;};_pTextBoxElement.createCommand=function(){var _a=this.parent_elem.getContainerElement(this.position_step);if(_a&&!this._created){this.owner_elem=_a;this.rtl=this._isParentRtl();if(this.text){var _b=this._getCommonStyleStr();var _c="";if(this.textAlign){_c+=nexacro.__getHTMLStyle_textAlign(this.textAlign,this.rtl);}if(this.verticalAlign){_c+=nexacro.__getHTMLStyle_verticalAlign(this.verticalAlign);}if(this.pointerEvent){_c+=nexacro.__getHTMLStyle_PointerEvents(this.pointerEvent);}if(this._use_style_padding){_c+=nexacro.__getHTMLStyle_PaddingObject(this.padding,this.rtl);}var _d=this._getElementClassName();var _e="<div id='"+this.name+"' class='"+_d+"'";_e=this._on_createAccessibilityCommand(_e);_e=this.createCommandAfter(_e,_b,_c);if(this._use_decoration){_e+=nexacro.__getHTMLAttr_DecorateText(this.text);}else{_e+=nexacro.__getHTMLAttr_Text(this.text,this.wordWrap||this._wordwrap_info);}_e+="</div>";return _e;}}return "";};_pTextBoxElement.attachHandle=function(_a){if(this.name&&!this._created){var _b=_a._doc.getElementById(this.name);if(_b){this.handle=_b;this._box_node=_b;_b._linked_element=this;}this._created=true;}};_pTextBoxElement.destroy=function(){this._destroyElementHandle();this.owner_elem=null;this._box_node=null;this._p_parent=null;this.parent_elem=null;this._created=false;};_pTextBoxElement.setElementPadding=function(_a){if(!this._use_style_padding){return;}if(this.padding!=_a){this.padding=_a;var _b=this._box_node;if(_b){nexacro.__setDOMStyle_PaddingObject(_b.style,_a,this.rtl);}}};_pTextBoxElement.setElementTextAlign=function(_a){if(this.textAlign!=_a){this.textAlign=_a;var _b=this._box_node;if(_b){nexacro.__setDOMStyle_textAlign(_b.style,_a,this.rtl);}}};_pTextBoxElement.setElementVerticalAlign=function(_a){if(this.verticalAlign!=_a){this.verticalAlign=_a;var _b=this._box_node;if(_b){nexacro.__setDOMStyle_verticalAlign(_b.style,_a);}}};_pTextBoxElement.setElementText=function(_a){if(this.text!=_a||this._use_decoration==true){this.text=_a;this._use_decoration=false;if(this._created){if(_a){if(this.handle){nexacro.__setDOMNode_Text(this._box_node,_a,this.wordWrap||this._wordwrap_info);}else{if(this.owner_elem){this._createElementHandle(this.owner_elem);}}}else{if(this.handle){this._destroyElementHandle();}}}}};_pTextBoxElement._flexAlignCenterMiddle=function(){var _a=this._box_node;if(_a){var _b=_a.style;nexacro.__setDOMStyle_LayoutFluidPos(_b);nexacro.__setDOMStyle_FlexMainAxisAlign(_b,"center");nexacro.__setDOMStyle_FlexCrossAxisAlign(_b,"center");}};_pTextBoxElement.setElementDecorateText=function(_a){if(this.text!=_a||this._use_decoration==false){this.text=_a;this._use_decoration=true;if(this._created){if(_a){if(this.handle){nexacro.__setDOMNode_DecorateText(this._box_node,_a);}else{this._createElementHandle(this.owner_elem);}}else{if(this.handle){this._destroyElementHandle();}}}}};_pTextBoxElement.setElementWordWrap=function(_a){if(this.wordWrap!=_a){var _b=this.wordWrap||this._wordwrap_info;this.wordWrap=_a;var _c=this.handle;if(_c){nexacro.__setDOMNodeStyle_WordWrap(_c.style,_a);if(this._created&&this.text&&this._use_decoration==false&&_b!=_a){nexacro.__setDOMNode_Text(this._box_node,this.text,_a);}}}};_pTextBoxElement.setElementPointerEvents=nexacro._emptyFn;_pTextBoxElement.setElementCSSMapInfo=function(_a){if(this._wordwrap_info!=_a){var _b=this.wordWrap||this._wordwrap_info;this._wordwrap_info=_a;var _c=this.handle;if(_c){if(!this.wordWrap&&this.text&&this._use_decoration==false&&_b!=_a){nexacro.__setDOMNode_Text(this._box_node,this.text,_a);}}}};_pTextBoxElement._change_to_keypad_type=nexacro._emptyFn;nexacro.TextBoxFlexElement=function(_a,_b){nexacro.TextBoxElement.call(this,_a,_b);};var _pTextBoxFlexElement=nexacro._createPrototype(nexacro.TextBoxElement,nexacro.TextBoxFlexElement);nexacro.TextBoxFlexElement.prototype=_pTextBoxFlexElement;_pTextBoxFlexElement._type_name="TextBoxFlexElement";_pTextBoxFlexElement.typeselector="nexacontentsboxflex";_pTextBoxFlexElement.padd_left=0;_pTextBoxFlexElement.padd_top=0;_pTextBoxFlexElement.padd_right=0;_pTextBoxFlexElement.padd_bottom=0;_pTextBoxFlexElement._createElementHandle=function(_a,_b){if(this.text){_b=_b||_a._getRootWindowHandle();var _c=this._createTextElementHandle(_b);_c.id=this.name;_c._linked_element=this;this.handle=_c;var _d=_c.style;var _e=this._box_node;var _f=_e.style;this._setChangeFlexAlign(this.textAlign,this.verticalAlign);this._refreshCommonStyleProps(_d);if(this._use_decoration){nexacro.__setDOMNode_DecorateText(_e,this.text);}else{nexacro.__setDOMNode_Text(_e,this.text,this.wordWrap||this._wordwrap_info);}this._createElementHandleAfter(_c);nexacro.__appendDOMNode(_a.dest_handle,_c);}};_pTextBoxFlexElement.createCommand=function(){var _a=this.parent_elem.getContainerElement(this.position_step);if(_a&&!this._created){this.owner_elem=_a;this.rtl=this._isParentRtl();if(this.text){var _b=this._getCommonStyleStr();var _c="";_c+=this._getChangeFlexAlignStr(this.textAlign,this.verticalAlign);if(this.pointerEvent){_c+=nexacro.__getHTMLStyle_PointerEvents(this.pointerEvent);}var _d=this._getElementClassName();var _e="<div id='"+this.name+"' class='"+_d+"'";_e=this._on_createAccessibilityCommand(_e);_e=this.createCommandAfter(_e,_b,_c);if(this._use_decoration){_e+=nexacro.__getHTMLAttr_DecorateText(this.text);}else{_e+=nexacro.__getHTMLAttr_Text(this.text,this.wordWrap||this._wordwrap_info);}_e+="</div>";return _e;}}return "";};_pTextBoxFlexElement.attachHandle=function(_a){nexacro.TextBoxElement.prototype.attachHandle.call(this,_a);this._applyPadding();};_pTextBoxFlexElement._refreshCommonStyleProps=function(_a){nexacro.TextBoxElement.prototype._refreshCommonStyleProps.call(this,_a);this._applyPadding();};_pTextBoxFlexElement._getComputedStyleAlign=function(_a){var _b={textAlign:"",verticalAlign:""};_b.textAlign=this._getComputedStyle("justify-content");_b.verticalAlign=this._getComputedStyle("align-items");if(_b.textAlign=="flex-start"){_b.textAlign="left";}else if(_b.textAlign=="flex-end"){_b.textAlign="right";}if(_b.verticalAlign=="flex-start"){_b.verticalAlign="top";}else if(_b.verticalAlign=="flex-end"){_b.verticalAlign="bottom";}else if(_b.verticalAlign=="center"){_b.verticalAlign="middle";}return _b;};_pTextBoxFlexElement._setChangeFlexAlign=function(_a,_b){var _c=this._box_node;if(!_c){return;}var _d=_c.style;if(_a){var _e;switch(_a){case "left":_e=(!this.rtl)?"flex-start":"flex-end";break;case "right":_e=(!this.rtl)?"flex-end":"flex-start";break;case "center":_e="center";break;}nexacro.__setDOMStyle_FlexMainAxisAlign(_d,_e);}if(_b){var _f;switch(_b){case "top":_f="flex-start";break;case "bottom":_f="flex-end";break;case "middle":_f="center";break;}nexacro.__setDOMStyle_FlexCrossAxisAlign(_d,_f);}};_pTextBoxFlexElement._getChangeFlexAlignStr=function(_a,_b){var _c="";if(_a){var _d;switch(_a){case "left":_d=(!this.rtl)?"flex-start":"flex-end";break;case "right":_d=(!this.rtl)?"flex-end":"flex-start";break;case "center":_d="center";break;}_c+=nexacro.__getHTMLStyle_FlexMainAxisAlign(_d);}if(_b){var _e;switch(_b){case "top":_e="flex-start";break;case "bottom":_e="flex-end";break;case "middle":_e="center";break;}_c+=nexacro.__getHTMLStyle_FlexCrossAxisAlign(_e);}return _c;};_pTextBoxFlexElement.setElementTextAlign=function(_a){if(this.textAlign!=_a){this.textAlign=_a;var _b=this._box_node;if(_b){this._setChangeFlexAlign(_a,null);this._applyPadding();}}};_pTextBoxFlexElement.setElementVerticalAlign=function(_a){if(this.verticalAlign!=_a){this.verticalAlign=_a;var _b=this._box_node;if(_b){this._setChangeFlexAlign(null,_a);this._applyPadding();}}};_pTextBoxFlexElement._applyPadding=function(){var _a=this.handle;if(!_a){return;}var _b=this._isParentRtl();var _c=this.padd_top;var _d=(!_b)?this.padd_right:this.padd_left;var _e=this.padd_bottom;var _f=(!_b)?this.padd_left:this.padd_right;var _g=this._getComputedStyle("align-items");if(_g=="flex-start"){_a.style.padding=_c+"px "+_d+"px "+0+"px "+_f+"px";}else if(_g=="flex-end"){_a.style.padding=0+"px "+_d+"px "+_e+"px "+_f+"px";}else{var _h=_c-_e;if(_h>=0){_c=_h;_e=0;}else{_c=0;_e= -_h;}_a.style.padding=_c+"px "+_d+"px "+_e+"px "+_f+"px";}};_pTextBoxFlexElement.setElementPadding=function(_a,_b,_c,_d,_e){if(this.padd_left!=_a||this.padd_top!=_b||this.padd_right!=_c||this.padd_bottom!=_d||_e){this.padd_left=_a;this.padd_top=_b;this.padd_right=_c;this.padd_bottom=_d;this._applyPadding();}};nexacro.TextBoxVirtualFlexElement=function(_a,_b){nexacro.TextBoxFlexElement.call(this,_a,_b);};var _pTextBoxVirtualFlexElement=nexacro._createPrototype(nexacro.TextBoxFlexElement,nexacro.TextBoxVirtualFlexElement);nexacro.TextBoxVirtualFlexElement.prototype=_pTextBoxVirtualFlexElement;_pTextBoxVirtualFlexElement._type_name="TextBoxVirtualFlexElement";_pTextBoxVirtualFlexElement._createTextElementHandle=function(_a){var _b=this._box_node=this.parent_elem.handle;this.parent_elem._addselector=this.typeselector+" "+this.classselector;nexacro.__setDOMNode_ClassName(_b,this.parent_elem._getElementClassName());return _b;};_pTextBoxVirtualFlexElement._createElementHandle=function(_a,_b){if(this.text){_b=_b||_a._getRootWindowHandle();var _c=this._createTextElementHandle(_b);this.handle=_c;var _d=_c.style;var _e=this._box_node;var _f=_e.style;this._refreshCommonStyleProps(_d);this._setChangeFlexAlign(this.textAlign,this.verticalAlign);this._setNodeText(this.text,this._use_decoration);this._createElementHandleAfter(_c);}};_pTextBoxVirtualFlexElement.createCommand=function(){var _a=this.parent_elem.getContainerElement(this.position_step);if(_a&&!this._created){this.owner_elem=_a;this.rtl=this._isParentRtl();}return "";};_pTextBoxVirtualFlexElement.attachHandle=function(_a){if(this.name&&!this._created){var _b=_a._doc.getElementById(this.name);if(_b){this.handle=_b;this._box_node=_b;_b._linked_element=this;}this._created=true;if(this._use_decoration){var _c=this.textDecoration;this.textDecoration=null;this.setElementTextDecoration(_c);}else{var _d=this.text;this.text=null;this.setElementText(_d);}if(this._box_node){this.handle=this._box_node;var _e=this._box_node.style;this._refreshCommonStyleProps(this.handle.style);this._setChangeFlexAlign(this.textAlign,this.verticalAlign);}var _f=this.classselector;this.classselector=null;this.setElementClassCSSSelector(_f);}};_pTextBoxVirtualFlexElement.destroy=function(){this._clearFlex();this.owner_elem=null;this._box_node=null;this._p_parent=null;this.parent_elem=null;this._created=false;};_pTextBoxVirtualFlexElement._refreshCommonStyleProps=function(_a){if(!this.visible){this.setElementVisible(this.visible,true);}this._applyPadding();if(this.color){nexacro.__setDOMStyle_ColorObject(_a,this.color);}if(this.font){nexacro.__setDOMStyle_FontObject(_a,this.font);}if(this.wordSpacing){nexacro.__setDOMStyle_WordSpacingObject(_a,this.wordSpacing);}if(this.letterSpacing){nexacro.__setDOMStyle_LetterSpacingObject(_a,this.letterSpacing);}if(this.textDecoration){nexacro.__setDOMStyle_TextDecorationObject(_a,this.textDecoration);}if(this.rtl!==undefined){nexacro.__setDOMStyle_Direction(_a,this.rtl);}if(this.wordWrap){nexacro.__setDOMStyle_WordWrap(_a,this.wordWrap);}if(this.pointerEvent){nexacro.__setDOMNodeStylePointerEvents(_a,this.pointerEvent);}};_pTextBoxVirtualFlexElement._clearFlex=function(){var _a=this.parent_elem.handle;if(_a){var _b=_a.style;this.parent_elem._addselector="";var _c=(this.parent_elem._getElementClassName());nexacro.__setDOMNode_ClassName(_a,_c);this._setNodeText("",this._use_decoration);_b.justifyContent="";_b.alignItems="";_a.style.padding="0px 0px 0px 0px";nexacro.__setDOMStyle_WordSpacingObject(_b,"");nexacro.__setDOMStyle_LetterSpacingObject(_b,"");nexacro.__setDOMStyle_TextDecorationObject(_b,"");nexacro.__setDOMStyle_Direction(_b,"");nexacro.__setDOMStyle_WordWrap(_b,"");}};_pTextBoxVirtualFlexElement._setNodeText=function(_a,_b){var _c=this._box_node;if(_c){var _d=null;var _e=[];if(this.id=="expandtext"){for(var _f=0;_f<_c.childNodes.length;_f++ ){if(_c.childNodes[_f].nodeName=="#text"){_d=_c.childNodes[_f];}else{_e.push(_c.childNodes[_f]);}}}if(_b){nexacro.__setDOMNode_DecorateText(_c,_a);for(var _f=0;_f<_e.length;_f++ ){_c.appendChild(_e[_f]);}}else{if(_d){_d.nodeValue=_a;}else{nexacro.__setDOMNode_Text(_c,_a,this.wordWrap||this._wordwrap_info);for(var _f=0;_f<_e.length;_f++ ){_c.appendChild(_e[_f]);}}}}};_pTextBoxVirtualFlexElement.setElementVisible=function(_a,_b){if(this.visible!=_a||_b){this.visible=_a;var _c=this._box_node;if(_c){if(_a){this._setNodeText(this.text,this._use_decoration);}else{this._setNodeText("",this._use_decoration);}}}};_pTextBoxVirtualFlexElement.setElementClassCSSSelector=function(_a){if(this.classselector!=_a){this.classselector=_a;var _b=this.handle;if(_b){nexacro.__setDOMNode_ClassName(_b,this.parent_elem._getElementClassName());}}};_pTextBoxVirtualFlexElement.setElementText=function(_a){if(this.text!=_a||this._use_decoration==true){this.text=_a;this._use_decoration=false;if(this._created){if(this.visible){if(_a){if(this.handle){this._setNodeText(_a,false);}else{this._createElementHandle(this.owner_elem);}}else{if(this.handle){this._setNodeText("",false);}}}}}};_pTextBoxVirtualFlexElement.setElementPosition=function(_a,_b,_c){if(this.left!=_a||this.top!=_b||_c){this.left=_a;this.top=_b;var _d=this.width;var _e=this.height;if(_d<0){_d=0;}if(_e<0){_e=0;}var _f=this.parent_elem;var _g=this.left;var _h=this.top;var _i=_f.width-_d-_g;var _j=_f.height-_e-_h;var _k=_f._padding_info;if(_k){_i=_k.right;_h=_k.top;_g=_k.left;_j=_k.bottom;}this.setElementPadding(_g,_h,_i,_j,true);}};_pTextBoxVirtualFlexElement.setElementSize=function(_a,_b){if(this.width!=_a||this.height!=_b){this.width=_a;this.height=_b;if(_a<0){_a=0;}if(_b<0){_b=0;}var _c=this.parent_elem;var _d=this.left;var _e=this.top;var _f=_c.width-_a-_d;var _g=_c.height-_b-_e;var _h=_c._padding_info;if(_h){_f=_h.right;_e=_h.top;_d=_h.left;_g=_h.bottom;}this.setElementPadding(_d,_e,_f,_g,true);}};_pTextBoxVirtualFlexElement.setElementMove=function(_a,_b,_c,_d,_e){if(this.left!=_a||this.top!=_b||_e||this.width!=_c||this.height!=_d){this.left=_a;this.top=_b;this.width=_c;this.height=_d;if(_c<0){_c=0;}if(_d<0){_d=0;}var _f=this.left;var _g=this.top;var _h=this.parent_elem.width-_c-_f;var _i=this.parent_elem.height-_d-_g;this.setElementPadding(_f,_g,_h,_i,true);}};_pTextBoxVirtualFlexElement.setElementDecorateText=nexacro._emptyFn;nexacro.IconElement=function(_a,_b){this._p_parent=_a;this.parent_elem=_a;this.id=_b;this._p_name=this.parent_elem.name+":"+(_b||"icon");};var _pIconElement=nexacro._createPrototype(nexacro.Element,nexacro.IconElement);nexacro.IconElement.prototype=_pIconElement;_pIconElement._type_name="IconElement";_pIconElement.typeselector="nexacontentsbox";_pIconElement.padding=null;_pIconElement.textAlign=null;_pIconElement.verticalAlign=null;_pIconElement.icon="";_pIconElement._created=false;_pIconElement._createElementHandle=function(_a,_b){if(this.icon&&(this.icon.value!="none")){_b=_b||_a._getRootWindowHandle();var _c=_b.createElement("div");this.handle=_c;nexacro.__setDOMNode_ClassName(_c,this._getElementClassName());_c.id=this.name;_c._linked_element=this;var _d=_c.style;this._refreshCommonStyleProps(_d);var _e=this.textAlign;if(_e){nexacro.__setDOMStyle_BKImageTextAlign(_d,_e);}if(this.verticalAlign){nexacro.__setDOMStyle_BKImageVerticalAlign(_d,this.verticalAlign);}nexacro.__setDOMStyle_BKImageUrl(_d,this.icon._sysurl);nexacro.__appendDOMNode(_a.dest_handle,_c);}};_pIconElement.create=function(_a){var _b=this.parent_elem.getContainerElement(this.position_step);if(_b&&!this._created){this.owner_elem=_b;this.rtl=this._isParentRtl();this._createElementHandle(_b,_a._doc);this._created=true;}};_pIconElement.createCommand=function(){var _a=this.parent_elem.getContainerElement(this.position_step);if(_a&&!this._created){this.owner_elem=_a;this.rtl=this._isParentRtl();if(this.icon&&(this.icon.value!="none")){var _b=this._getCommonStyleStr();var _c;_b+=nexacro.__getHTMLStyle_BKImageUrl(this.icon._sysurl);var _d=this._getElementClassName();_c="<div id='"+this.name+"' class='"+_d+"'";_c+=(_b)?(" style='"+_b+"'"):"";_c=this._on_createAccessibilityCommand(_c);_c+="></div>";return _c;}}return "";};_pIconElement.attachHandle=function(_a){if(this.name&&!this._created){var _b=_a._doc.getElementById(this.name);if(_b){this.handle=_b;_b._linked_element=this;}this._created=true;}};_pIconElement.destroy=function(){this._destroyElementHandle();this.owner_elem=null;this._p_parent=null;this.parent_elem=null;this._created=false;};_pIconElement.setElementTextAlign=function(_a){if(this.textAlign!=_a){this.textAlign=_a;var _b=this.handle;if(_b){if(_a){nexacro.__setDOMStyle_BKImageTextAlign(_b.style,_a);}else{nexacro.__clearDOMStyle_BKImageTextAlign(_b.style);}}}};_pIconElement.setElementVerticalAlign=function(_a){if(this.verticalAlign!=_a){this.verticalAlign=_a;var _b=this.handle;if(_b){if(_a){nexacro.__setDOMStyle_BKImageVerticalAlign(_b.style,_a);}else{nexacro.__clearDOMStyle_BKImageVerticalAlign(_b.style);}}}};_pIconElement.setElementIcon=function(_a){if(this.icon!=_a){this.icon=_a;if(this._created){if(_a&&_a.value!="none"){var _b=this.handle;if(_b){var _c=_a._sysurl;nexacro.__setDOMStyle_BKImageUrl(_b.style,_c);}else{this._createElementHandle(this.owner_elem);}}else{if(this.handle){this._destroyElementHandle();}}}}};nexacro.IconTextElement=function(_a,_b){this._p_parent=_a;this.parent_elem=_a;this.id=_b;this._p_name=this.parent_elem.name+":"+(_b||"contents");};var _pIconTextElement=nexacro._createPrototype(nexacro.Element,nexacro.IconTextElement);nexacro.IconTextElement.prototype=_pIconTextElement;_pIconTextElement._type_name="IconTextElement";_pIconTextElement.typeselector="nexacontentsbox";_pIconTextElement.text="";_pIconTextElement.icon=null;_pIconTextElement.iconPos="";_pIconTextElement.textAlign=null;_pIconTextElement.verticalAlign=null;_pIconTextElement.textwidth=0;_pIconTextElement.wordWrap=null;_pIconTextElement._wordwrap_info=null;_pIconTextElement._contents_type=0;_pIconTextElement._box_node=null;_pIconTextElement._icon_node=null;_pIconTextElement._text_node=null;_pIconTextElement._created=false;_pIconTextElement._use_decoration=false;_pIconTextElement._use_newline=true;_pIconTextElement._createBoxElementHandle=function(_a,_b){var _c=this._getElementClassName();if(_b==1||_b==2||_b==3){var _d=_a.createElement("div");this._box_node=_d;nexacro.__setDOMNode_ClassName(_d,_c);return _d;}return null;};_pIconTextElement._createElementHandle=function(_a,_b){var _c=this._contents_type;if(_c){_b=_b||_a._getRootWindowHandle();var _d=this.handle;var _e;if(!_d){_d=this._createBoxElementHandle(_b,_c);_d.id=this.name;_d._linked_element=this;_e=this.handle=_d;}var _f=this._box_node;var _g=null,_h=null;if(_f.getElementsByTagName("img").length){_g=this._text_node;_h=this._icon_node;}else{this._text_node=this._icon_node=null;}if(_c==3){if(this._use_decoration){nexacro.__setDOMNode_DecorateText(_f,"");}else{nexacro.__setDOMNode_Text(_f,"");}if(!this._icon_node){_h=_b.createElement("img");nexacro.__setDOMNode_ClassName(_h,this._getElementNexaClassName("nexaiconitem"));this._icon_node=_h;_g=_b.createElement("div");nexacro.__setDOMNode_ClassName(_g,this._getElementNexaClassName("nexatextitem"));if(this.iconPos=="left"||this.iconPos=="right"){nexacro.__setDOMStyle_Display(_g.style,"inline-block");}this._text_node=_g;if(this.iconPos=="left"||this.iconPos=="top"){nexacro.__appendDOMNode(_f,_h);nexacro.__appendDOMNode(_f,_g);}else{nexacro.__appendDOMNode(_f,_g);nexacro.__appendDOMNode(_f,_h);}}else{nexacro.__setDOMStyle_Display(this._icon_node,"");nexacro.__setDOMStyle_Display(this._text_node,"");}nexacro.__setDOMNode_Alt(this._icon_node,"");}else{if(this._icon_node){nexacro.__setDOMStyle_Display(this._icon_node,"none");nexacro.__setDOMStyle_Display(this._text_node,"none");}}var _i=_d.style;var _j=_f.style;this._refreshCommonStyleProps(_i);if(_c==1||_c==3){if(this.textAlign){nexacro.__setDOMStyle_textAlign(_j,this.textAlign,this.rtl);}if(this.verticalAlign){nexacro.__setDOMStyle_verticalAlign(_j,this.verticalAlign);}}else if(_c==2){var _k=this.textAlign;if(_k){nexacro.__setDOMStyle_BKImageTextAlign(_j,_k);}if(this.verticalAlign){nexacro.__setDOMStyle_BKImageVerticalAlign(_j,this.verticalAlign);}}if(_c==1){if(this._use_decoration){nexacro.__setDOMNode_DecorateText(_f,this.text);}else{nexacro.__setDOMNode_Text(_f,this.text,this.wordWrap||this._wordwrap_info);}}else if(_c==2){nexacro.__setDOMStyle_BKImageUrl(_j,this.icon._sysurl);}else if(_c==3){if(_g&&this.textPadding){nexacro.__setDOMStyle_PaddingObject(_g.style,this.textPadding,this.rtl);}if(this._use_decoration){nexacro.__setDOMNode_DecorateText(_g,this.text);}else{nexacro.__setDOMNode_Text(_g,this.text,this.wordWrap||this._wordwrap_info);}nexacro.__setDOMNode_ImageUrl(_h,this.icon._sysurl);}this._on_createAccessibilityHandle(_d);if(_e){nexacro.__appendDOMNode(_a.dest_handle,_e);}}};_pIconTextElement.create=function(_a){var _b=this.parent_elem.getContainerElement(this.position_step);if(_b&&_b.handle&&!this._created){this.owner_elem=_b;this.rtl=this._isParentRtl();this._createElementHandle(_b,_a._doc);this._created=true;}};_pIconTextElement.createCommand=function(){var _a=this.parent_elem.getContainerElement(this.position_step);if(_a&&!this._created){this.owner_elem=_a;this.rtl=this._isParentRtl();var _b=this._contents_type;if(_b){var _c=this._getCommonStyleStr();var _d="";var _e="";var _f="";if(_b==1||_b==3){if(this.textAlign){_d+=nexacro.__getHTMLStyle_textAlign(this.textAlign,this.rtl);}if(this.verticalAlign){_d+=nexacro.__getHTMLStyle_verticalAlign(this.verticalAlign);}}else if(_b==2){var _g=this.textAlign;if(_g||this.verticalAlign){_d+=nexacro.__getHTMLStyle_BKImageAlign(_g,this.verticalAlign);}}if(_b==1){if(this._use_decoration){_f=nexacro.__getHTMLAttr_DecorateText(this.text);}else{_f=nexacro.__getHTMLAttr_Text(this.text,this.wordWrap||this._wordwrap_info);}}else if(_b==2){_d+=nexacro.__getHTMLStyle_BKImageUrl(this.icon._sysurl);}else if(_b==3){if(this.textwidth){_e+=nexacro.__getHTMLStyle_TextWidth(parseInt(this.textwidth));}if(this.textPadding){_e+=nexacro.__getHTMLStyle_PaddingObject(this.textPadding,this.rtl);}if(this.iconPos=="left"||this.iconPos=="right"){_e+=nexacro.__getHTMLStyle_Display("inline-block");}if(this._use_decoration){_f=nexacro.__getHTMLAttr_DecorateText(this.text);}else{_f=nexacro.__getHTMLAttr_Text(this.text,this.wordWrap||this._wordwrap_info);}}var _h=this._getElementClassName(),_i="";if(_b==1){_i="<div id='"+this.name+"' class='"+_h+"'";_i=this._on_createAccessibilityCommand(_i);_i+=(_c||_d)?(" style='"+_c+_d+"'>"):">";_i+=_f+"</div>";}else if(_b==2){_i="<div id='"+this.name+"' class='"+_h+"'";_i=this._on_createAccessibilityCommand(_i);_i+=(_c||_d)?(" style='"+_c+_d+"'>"):">";_i+="</div>";}else if(_b==3){_i="<div id='"+this.name+"' class='"+_h+"'";_i=this._on_createAccessibilityCommand(_i);_i+=(_c||_d)?(" style='"+_c+_d+"'>"):">";if(this.iconPos=="left"||this.iconPos=="top"){_i+="<img "+nexacro.__getDOMNode_Alt("");_i+=" class='"+this._getElementNexaClassName("nexaiconitem")+"' src='"+this.icon._sysurl+"'/>";_i+="<div class='"+this._getElementNexaClassName("nexatextitem")+"'";_i+=(_e)?(" style='"+_e+"'>"):">";_i+=_f+"</div>";}else{_i+="<div class='"+this._getElementNexaClassName("nexatextitem")+"'";_i+=(_e)?(" style='"+_e+"'>"):">";_i+=_f+"</div>";_i+="<img "+nexacro.__getDOMNode_Alt("");_i+=" class='"+this._getElementNexaClassName("nexaiconitem")+"' src='"+this.icon._sysurl+"'/>";}_i+="</div>";}return _i;}}return "";};_pIconTextElement.attachHandle=function(_a){if(this.name&&!this._created){var _b=_a._doc.getElementById(this.name);if(_b){this.handle=_b;_b._linked_element=this;this._box_node=_b;if(this._contents_type==3){var _c=_b;if(this.iconPos=="left"||this.iconPos=="top"){this._icon_node=_c.firstChild;this._text_node=_c.lastChild;}else{this._text_node=_c.firstChild;this._icon_node=_c.lastChild;}}}this._created=true;}};_pIconTextElement.destroy=function(){this._destroyElementHandle();this.owner_elem=null;this._box_node=null;this._text_node=null;this._icon_node=null;this._p_parent=null;this.parent_elem=null;this._created=false;};_pIconTextElement.setElementPadding=function(_a){if(this.padding!=_a){this.padding=_a;var _b=this.handle;if(_b){nexacro.__setDOMStyle_PaddingObject(_b.style,_a,this.rtl);}}};_pIconTextElement.setElementTextAlign=function(_a){if(this.textAlign!=_a){this.textAlign=_a;var _b=this._box_node;if(_b){var _c=this._contents_type;if(_c==1||_c==3){nexacro.__setDOMStyle_textAlign(_b.style,_a,this.rtl);}else{if(_a){nexacro.__setDOMStyle_BKImageTextAlign(_b.style,_a);}else{nexacro.__clearDOMStyle_BKImageTextAlign(_b.style);}}}}};_pIconTextElement.setElementVerticalAlign=function(_a){if(this.verticalAlign!=_a){this.verticalAlign=_a;var _b=this._box_node;if(_b){var _c=this._contents_type;if(_c!=2){nexacro.__setDOMStyle_verticalAlign(_b.style,_a);}else{if(_a){nexacro.__setDOMStyle_BKImageVerticalAlign(_b.style,_a);}else{nexacro.__clearDOMStyle_BKImageVerticalAlign(_b.style);}}}}};_pIconTextElement.setElementTextPadding=function(_a){if(this.textPadding!=_a){this.textPadding=_a;var _b=this._text_node;if(_b){nexacro.__setDOMStyle_PaddingObject(_b.style,_a,this.rtl);}}};_pIconTextElement.setElementTextWidth=function(_a){if(this.textwidth!=_a){this.textwidth=_a;var _b=this._text_node;if(_b){var _c=this._contents_type;if(_c==3){var _d=parseInt(_a);if(_d>0){nexacro.__setDOMStyle_TextWidth(_b.style,_d);}else{nexacro.__clearDOMStyle_TextWidth(_b.style);}}}}};_pIconTextElement.setElementText=function(_a){if(this.text!==_a||this._use_decoration==true){this.text=_a;this._use_decoration=false;var _b=0;var _c=this.icon?(this.icon.value=="none"?undefined:this.icon._sysurl):undefined;if(_c&&_a){_b=3;}else if(_c){_b=2;}else if(_a){_b=1;}if(this._contents_type!=_b){this._contents_type=_b;if(this._created){this._destroyElementHandle();this._createElementHandle(this.owner_elem);}}else{if(this._created){if(_b==1){var _d=this._box_node;if(_d){nexacro.__setDOMNode_Text(_d,_a,this.wordWrap||this._wordwrap_info);}}else if(_b==3){var _e=this._text_node;if(_e){nexacro.__setDOMNode_Text(_e,_a,this.wordWrap||this._wordwrap_info);}}}}}};_pIconTextElement.setElementDecorateText=function(_a){if(this.text!=_a||this._use_decoration==false){this.text=_a;this._use_decoration=true;var _b=0;var _c=this.icon?(this.icon.value=="none"?undefined:this.icon._sysurl):undefined;if(_c&&_a){_b=3;}else if(_c){_b=2;}else if(_a){_b=1;}if(this._contents_type!=_b){this._contents_type=_b;if(this._created){this._destroyElementHandle();this._createElementHandle(this.owner_elem);}}else{if(this._created){if(_b==1){var _d=this._box_node;nexacro.__setDOMNode_DecorateText(_d,_a);}else if(_b==3){var _e=this._text_node;nexacro.__setDOMNode_DecorateText(_e,_a);}}}}};_pIconTextElement.setElementWordWrap=function(_a){if(this.wordWrap!=_a){var _b=this.wordWrap||this._wordwrap_info;this.wordWrap=_a;var _c=this.handle;if(_c){nexacro.__setDOMNodeStyle_WordWrap(_c.style,_a);if(this._created&&this.text&&this._use_decoration==false&&_b!=_a){var _d=this._contents_type;if(_d==1){var _e=this._box_node;if(_e){nexacro.__setDOMNode_Text(_e,this.text,_a);}}else if(_d==3){var _f=this._text_node;if(_f){nexacro.__setDOMNode_Text(_f,this.text,_a);}}}}}};_pIconTextElement.setElementCSSMapInfo=function(_a){if(this._wordwrap_info!=_a){var _b=this.wordWrap||this._wordwrap_info;this._wordwrap_info=_a;var _c=this.handle;if(_c){if(!this.wordWrap&&this.text&&this._use_decoration==false&&_b!=_a){var _d=this._contents_type;if(_d==1){var _e=this._box_node;if(_e){nexacro.__setDOMNode_Text(_e,this.text,_a);}}else if(_d==3){var _f=this._text_node;if(_f){nexacro.__setDOMNode_Text(_f,this.text,_a);}}}}}};_pIconTextElement.setElementIcon=function(_a){if(this.icon!=_a){this.icon=_a;var _b=_a?(_a.value=="none"?undefined:_a._sysurl):undefined;var _c=0;if(_b&&this.text){_c=3;}else if(_b){_c=2;}else if(this.text){_c=1;}if(this._contents_type!=_c){this._contents_type=_c;if(this._created){if(this._contents_type==0){this._destroyElementHandle();}this._createElementHandle(this.owner_elem);}}else{if(this._created){if(_c==2){var _d=this._box_node;nexacro.__setDOMStyle_BKImageUrl(_d.style,_b);}else if(_c==3){var _e=this._icon_node;nexacro.__setDOMNode_ImageUrl(_e,_b);}}}}};_pIconTextElement.setElementIconPos=function(_a){var _b=["left","right","top","bottom"];if(_b.indexOf(_a)<0){_a="left";}if(this.iconPos!=_a){var _c=this.iconPos;this.iconPos=_a;if(this._created&&this._contents_type==3){var _d=this._text_node;var _e=this._icon_node;var _f=this._box_node;if(_c){if(_a=="left"||_a=="right"){if(_c=="top"||_c=="bottom"){nexacro.__setDOMStyle_Display(_d.style,"inline-block");}}else{if(_c=="left"||_c=="right"){nexacro.__setDOMStyle_Display(_d.style,"block");}}if(_a=="left"||_a=="top"){if(_c=="right"||_c=="bottom"){nexacro.__appendDOMNode(_f,_d);}}else{if(_c=="left"||_c=="top"){nexacro.__appendDOMNode(_f,_e);}}}else{switch(_a){case "left":nexacro.__setDOMStyle_Display(_d.style,"inline-block");nexacro.__appendDOMNode(_f,_d);break;case "right":nexacro.__setDOMStyle_Display(_d.style,"inline-block");break;case "top":nexacro.__appendDOMNode(_f,_d);break;}}}}};nexacro.ImageElement=function(_a,_b){this._p_parent=_a;this.parent_elem=_a;this.id=_b;this._p_name=this.parent_elem.name+":"+(_b||"image");};var _pImageElement=nexacro._createPrototype(nexacro.Element,nexacro.ImageElement);nexacro.ImageElement.prototype=_pImageElement;_pImageElement._type_name="ImageElement";_pImageElement.typeselector="nexaimagebox";_pImageElement.image=null;_pImageElement.padding=null;_pImageElement._created=false;_pImageElement._createElementHandle=function(_a,_b){if(this.image){_b=_b||_a._getRootWindowHandle();var _c=_b.createElement("img");if(_c){_c.id=this.name;_c._linked_element=this;this.handle=_c;nexacro.__setDOMNode_Alt(_c,"");var _d=_c.style;this._refreshCommonStyleProps(_d);nexacro.__setDOMNode_ImageUrl(_c,this.image._sysurl);nexacro.__setDOMStyle_Pos(_c.style,this.left,this.top);nexacro.__appendDOMNode(_a.dest_handle,_c);}}};_pImageElement.create=function(_a){var _b=this.parent_elem.getContainerElement(this.position_step);if(_b&&_b.handle&&!this.handle){this.owner_elem=_b;this.rtl=this._isParentRtl();this._createElementHandle(_b,_a._doc);this._created=true;}};_pImageElement.createCommand=function(){var _a=this.parent_elem.getContainerElement(this.position_step);if(_a&&!this._created){this.owner_elem=_a;this.rtl=this._isParentRtl();if(this.image){var _b=this._getCommonStyleStr();var _c="<img "+nexacro.__getDOMNode_Alt("");_c+=" id='"+this.name+"' class='"+this._getElementNexaClassName("nexaimagebox")+"'";_c+=" src='"+this.image._sysurl+"'";_c=this._on_createAccessibilityCommand(_c);_c+=(_b)?(" style='"+_b+"'/>"):"/>";return _c;}}return "";};_pImageElement.attachHandle=function(_a){if(this.name&&!this._created){var _b=_a._doc.getElementById(this.name);if(_b){this.handle=_b;_b._linked_element=this;}this._created=true;}};_pImageElement.destroy=function(){this._destroyElementHandle();this.owner_elem=null;this._p_parent=null;this.parent_elem=null;this._created=false;};_pImageElement.setElementPadding=function(_a){if(this.padding!=_a){this.padding=_a;var _b=this.handle;if(_b){nexacro.__setDOMStyle_PaddingObject(_b.style,_a,this.rtl);}}};_pImageElement.setElementImage=function(_a){if(this.image!=_a){this.image=_a;if(_a){if(this.handle){nexacro.__setDOMNode_ImageUrl(this.handle,_a._sysurl);}else if(this.owner_elem){this._createElementHandle(this.owner_elem);}}else{if(this.handle){this._destroyElementHandle();}}}};_pImageElement.getImageCount=nexacro._emptyFn;_pImageElement.setImageIndex=nexacro._emptyFn;nexacro.InputElement=function(_a,_b){this._p_parent=_a;this.parent_elem=_a;this.id=_b;this._p_name=this.parent_elem.name+":"+(_b||"input");this._composer=new nexacro._CompositionState();this._imelocale=new nexacro._ImeLocale();};var _pInputElement=nexacro._createPrototype(nexacro.Element,nexacro.InputElement);nexacro.InputElement.prototype=_pInputElement;_pInputElement._type_name="InputElement";_pInputElement.typeselector="nexainput";_pInputElement.textAlign=null;_pInputElement.padding=null;_pInputElement.caretcolor=null;_pInputElement.selectcolor=null;_pInputElement.selectbackground=null;_pInputElement.compositecolor=null;_pInputElement.enable=true;_pInputElement.useime="global";_pInputElement.imemode="auto";_pInputElement.readonly=false;_pInputElement.maxlength=0;_pInputElement.autoskip=false;_pInputElement.autoselect=false;_pInputElement.value=null;_pInputElement.defaultvalue="";_pInputElement.displaynulltext="";_pInputElement.displayinvalidtext=undefined;_pInputElement.tabindentsize=4;_pInputElement.usesoftkeyboard=true;_pInputElement.inputtype="text";_pInputElement.tabindex=0;_pInputElement._keypad_type="text";_pInputElement._is_focused=false;_pInputElement._is_sys_focused=false;_pInputElement._is_input_touchstart=false;_pInputElement._is_input_element=true;_pInputElement._is_invalid_value=false;_pInputElement._accept_focus_process=true;_pInputElement._accept_blur_process=true;_pInputElement._accept_keypadrestore_process=false;_pInputElement._zerolength_value=undefined;_pInputElement._input_text="";_pInputElement._disabled_color=null;_pInputElement._imedisable=false;_pInputElement._checkmax_editing_only=true;_pInputElement._last_selection_range=null;_pInputElement._BeforeinputState={};_pInputElement._BeforeinputState.PASS=0;_pInputElement._BeforeinputState.CANCEL=1;_pInputElement._BeforeinputState.CONVERT_UPPER=2;_pInputElement._BeforeinputState.CONVERT_LOWER=3;_pInputElement._BeforeinputState.REPLACE=4;_pInputElement._BeforeinputState.MAXLENGTH=5;_pInputElement._BeforeinputState.PREVENT_DEFAULT=6;_pInputElement._beforeinput_result_data=null;_pInputElement._beforeinput_result_pos=null;_pInputElement._beforeinput_result_insert_data=null;_pInputElement._delay_pos=null;_pInputElement._forced_fire_event_list=[];_pInputElement._paste_caret_pos=null;_pInputElement._use_timer=false;_pInputElement._status_csspseudoclass={AUTOFILL:0};_pInputElement.MOUSE_LBUTTON=0;_pInputElement.MOUSE_MBUTTON=1;_pInputElement.MOUSE_RBUTTON=2;_pInputElement._use_html_maxlength=false;_pInputElement._skip_sys_keyinput=false;_pInputElement._skip_check_imelocale=false;_pInputElement._force_focus=false;if((nexacro._Browser=="Chrome"&&nexacro._BrowserVersion>=60)||nexacro._Browser=="Edge"){_pInputElement._use_event_beforeinput=true;}else{_pInputElement._use_event_beforeinput=false;}_pInputElement._evtorder_compositionend_is_last=false;if(nexacro._OS=="iOS"||(nexacro._OS=="Mac OS"&&nexacro._Browser=="Safari"&&(function(_a){return (((_a[0]|0)===10&&(_a[1]|0)>=14)||(_a[0]|0)>10);})(nexacro._OSVersion.split('.')))){_pInputElement._evtfire_oninput_after_compositionend=false;}else{_pInputElement._evtfire_oninput_after_compositionend=true;}if((nexacro._OS=="iOS"&&nexacro._Browser=="MobileSafari")||(nexacro._OS=="Mac OS"&&nexacro._Browser=="Safari")){_pInputElement._apple_default_browser=true;}else{_pInputElement._apple_default_browser=false;}if(nexacro._OS=="Android"&&nexacro._Browser=="Chrome"&&nexacro._BrowserVersion<=34){_pInputElement._evtfire_oninput_only_when_backspacekey=true;}else{_pInputElement._evtfire_oninput_only_when_backspacekey=false;}if(nexacro._OS=="iOS"||nexacro._OS=="Android"||nexacro._OS=="Windows Phone"||nexacro._AndroidDesktopMode==true){_pInputElement._NUMERIC_KEYPAD_TYPE="tel";}else{_pInputElement._NUMERIC_KEYPAD_TYPE="text";}if(nexacro._OS=="Android"){_pInputElement._INDICATOR_WIDTH=32;}else{_pInputElement._INDICATOR_WIDTH=0;}_pInputElement._createElementHandle=function(_a,_b){var _c=this.handle=_b.createElement("input");var _d=_c.style;_c.id=this.name;nexacro.__setDOMNode_ClassName(_c,this._getElementClassName());_c._linked_element=this;this._refreshCommonStyleProps(_d);this._setElementDefaultLineHeight();if(this.textAlign){nexacro.__setDOMStyle_textAlign(_d,this.textAlign,this.rtl);}if(this.padding){nexacro.__setDOMStyle_PaddingObject(_d,this.padding,this.rtl);}if(!this.enable){nexacro.__setDOMNode_Enable(_c,false);}if(this.readonly){nexacro.__setDOMNode_ReadOnly(_c,true);}if(!nexacro._isNull(this.value)||this.value===""){if(this._is_invalid_value&&!nexacro._isNull(this.displayinvalidtext)){nexacro.__setDOMNode_Value(_c,this.displayinvalidtext);nexacro.__setDOMNode_Type(_c,"text");}else{nexacro.__setDOMNode_Value(_c,this.value);nexacro.__setDOMNode_Type(_c,this.inputtype);}}else if(this.displaynulltext){nexacro.__setDOMNode_Value(_c,this.displaynulltext);nexacro.__setDOMNode_Type(_c,"text");}else if(this.inputtype){nexacro.__setDOMNode_Type(_c,this.inputtype);}if(this.imemode){nexacro.__setDOMNode_ImeMode(_c,this.imemode);}if(this.maxlength>0&&this._use_html_maxlength){nexacro.__setDOMNode_MaxLength(_c,this.maxlength);}this._on_createAccessibilityHandle(_b,_a,_c);nexacro.__setDOMNode_Autocomplete(_c,"new-password");if(nexacro._OS=="iOS"){nexacro.__setDOMNode_Spellcheck(_c,"false");}if(this.handle){nexacro.__appendDOMNode(_a.dest_handle,this.handle);}};_pInputElement.create=function(_a){var _b=this.parent_elem.getContainerElement(this.position_step);if(_b&&_b.handle&&!this._created){this.owner_elem=_b;this.rtl=this._isParentRtl();this._createElementHandle(_b,_a._doc);this._bindSysEvent();this._created=true;}};_pInputElement._destroyInputHandle=function(){if(this.handle){var _a=(this.owner_elem?this.owner_elem.dest_handle:null);this.handle._linked_element=null;nexacro.__removeDOMNode(_a,this.handle);this.handle=null;}};_pInputElement._destroyLabelHandle=function(){if(this._label_handle){var _a=(this.owner_elem?this.owner_elem.dest_handle:null);nexacro.__removeDOMNode(_a,this._label_handle);this._label_handle=null;}};_pInputElement.destroy=function(){if(this._restore_scrollpos_timer>0){clearTimeout(this._restore_scrollpos_timer);this._restore_scrollpos_timer=0;}this._unbindSysEvent();this._destroyInputHandle();if(nexacro._enableaccessibility){this._destroyLabelHandle();}return nexacro.Element.prototype.destroy.call(this);};_pInputElement.createCommand=function(){var _a=this.parent_elem.getContainerElement(this.position_step);if(_a&&!this._created){this.owner_elem=_a;this.rtl=this._isParentRtl();var _b=this._getCommonStyleStr();if(!this.enable){_b+=nexacro.__getHTMLStyle_Enable(this.enable,this._disabled_color);}if(this.textAlign){_b+=nexacro.__getHTMLStyle_textAlign(this.textAlign,this.rtl);}if(this.padding){_b+=nexacro.__getHTMLStyle_PaddingObject(this.padding,this.rtl);}if(this.imemode){if(this._imedisable){_b+=nexacro.__getHTMLStyle_ImeMode("disabled");}else{_b+=nexacro.__getHTMLStyle_ImeMode(this.imemode);}}_b+=this._getElementDefaultLineHeight();var _c=nexacro.__getHTMLAttr_Enable(this.enable)+nexacro.__getHTMLAttr_ReadOnly(this.readonly);if(this.maxlength>0&&this._use_html_maxlength){_c+=nexacro.__getHTMLAttr_MaxLength(this.maxlength);}var _d="";_d+="<input id='"+this.name+"' class='"+this._getElementClassName()+"' ";_d+=(_b)?(" style='"+_b+"' "):"";if(!nexacro._isNull(this.value)||this.value===""){if(this._is_invalid_value&&!nexacro._isNull(this.displayinvalidtext)){_d+="value ='"+nexacro._encodeXml(this.displayinvalidtext)+"' ";_c+=nexacro.__getHTMLAttr_InputType("text");}else{_d+="value ='"+nexacro._encodeXml(this.value)+"' ";_c+=nexacro.__getHTMLAttr_InputType(this.inputtype);}}else if(this.displaynulltext){_d+="value ='"+nexacro._encodeXml(this.displaynulltext)+"' ";_c+=nexacro.__getHTMLAttr_InputType("text");}else{_d+="value ='"+nexacro._encodeXml(this.defaultvalue)+"' ";_c+=nexacro.__getHTMLAttr_InputType(this.inputtype);}if(nexacro._isTouchInteraction&&nexacro._OS=="Android"){_c+=nexacro.__getHTMLAttr_InputMode(this.usesoftkeyboard?this._keypad_type:"none");}else{_c+=nexacro.__getHTMLAttr_InputMode(this._keypad_type);}_d+=nexacro.__getHTMLAttr_Autocomplete("new-password");if(nexacro._OS=="iOS"){_d+=nexacro.__getHTMLAttr_Spellcheck("false");}_d+=_c?(" "+_c):"";_d=this._on_createAccessibilityCommand(_d);_d+=">";return _d;}return "";};_pInputElement.attachHandle=function(_a){if(this.name&&!this.handle){var _b=_a._doc.getElementById(this.name);this.handle=_b;this.handle._linked_element=this;this._bindSysEvent();if(nexacro._enableaccessibility){this._label_handle=_a._doc.getElementById(this.name+":label");}}};if(nexacro._OS=="Android"){_pInputElement._getCommonStyleStr=function(){var _a="";var _b=this._isParentRtl();if(!this.visible){_a+=nexacro.__getHTMLStyle_Visible(false);}if(this.display=="none"){_a+=nexacro.__getHTMLStyle_Display("none");}var _c=this.linkedcontrol;if(_c){if(!this._isFluid()||this._is_nc_element||!nexacro._is_native_fluidlayout){if(this.left>=0||this.top>=0){_a+=nexacro.__getHTMLStyle_Pos(this.left,this.top,_b);}}}else{if(this.left>=0||this.top>=0){_a+=nexacro.__getHTMLStyle_Pos(this.left,this.top,_b);}}if(this.width>=0&&this.height>=0){_a+=nexacro.__getHTMLStyle_Size(this.inputtype=="date"?this.width+this._INDICATOR_WIDTH:this.width,this.height);}if(this.color){_a+=nexacro.__getHTMLStyle_ColorObject(this.color);}if(this.font){_a+=nexacro.__getHTMLStyle_FontObject(this.font);}if(this.wordSpacing){_a+=nexacro.__getHTMLStyle_WordSpacingObject(this.wordSpacing);}if(this.letterSpacing){_a+=nexacro.__getHTMLStyle_LetterSpacingObject(this.letterSpacing);}if(this.textDecoration){_a+=nexacro.__getHTMLStyle_TextDecorationObject(this.textDecoration);}if(this.rtl!=undefined){_a+=nexacro.__getHTMLStyle_Direction(this.rtl);}if(this.wordWrap){_a+=nexacro.__getHTMLStyle_WordWrap(this.wordWrap);}return _a;};_pInputElement._refreshCommonStyleProps=function(_a){var _b=this._isParentRtl();if(!this.visible){nexacro.__setDOMStyle_Visible(_a,false);}if(this.display=="none"){nexacro.__setDOMStyle_Display(_a,"none");}{if(this._use_translate_move){nexacro.__setDOMStyle_Pos(_a,0,0,_b);nexacro.__setDOMStyle_Translate(_a,this.left,this.top,this.rtl);}else{nexacro.__setDOMStyle_Pos(_a,this.left,this.top,_b);}}var _c=this.linkedcontrol;if(!(_c&&_c._is_frame&&(_c._is_main&&!nexacro._allow_default_pinchzoom))){if(this.width&&this.height){nexacro.__setDOMStyle_Size(_a,this.inputtype=="date"?this.width+this._INDICATOR_WIDTH:this.width,this.height);}}if(this.color){nexacro.__setDOMStyle_ColorObject(_a,this.color);}if(this.font){nexacro.__setDOMStyle_FontObject(_a,this.font);}if(this.wordSpacing){nexacro.__setDOMStyle_WordSpacingObject(_a,this.wordSpacing);}if(this.letterSpacing){nexacro.__setDOMStyle_LetterSpacingObject(_a,this.letterSpacing);}if(this.textDecoration){nexacro.__setDOMStyle_TextDecorationObject(_a,this.textDecoration);}if(this.rtl!==undefined){nexacro.__setDOMStyle_Direction(_a,this.rtl);}if(this.wordWrap){nexacro.__setDOMStyle_WordWrap(_a,this.wordWrap);}};}if(nexacro._OS=="Android"){_pInputElement.setElementSize=function(_a,_b){if(this.width!=_a||this.height!=_b){this.width=_a;this.height=_b;if(_a<0){_a=0;}if(_b<0){_b=0;}if(this.inputtype=="date"){_a+=this._INDICATOR_WIDTH;}var _c=this.handle;if(_c){if(_a&&_b){nexacro.__setDOMStyle_Size(_c.style,_a,_b);}else{nexacro.__clearDOMStyle_Size(_c.style);}this._setElementDefaultLineHeight();}}};}else{_pInputElement.setElementSize=function(_a,_b){if(this.width!=_a||this.height!=_b){this.width=_a;this.height=_b;if(_a<0){_a=0;}if(_b<0){_b=0;}var _c=this.handle;if(_c){if(_a&&_b){nexacro.__setDOMStyle_Size(_c.style,_a,_b);}else{nexacro.__clearDOMStyle_Size(_c.style);}this._setElementDefaultLineHeight();}}};}_pInputElement.setElementTextAlign=function(_a){if(this.textAlign!=_a){this.textAlign=_a;var _b=this.handle;if(_b){nexacro.__setDOMStyle_textAlign(_b.style,_a,this.rtl);}}};_pInputElement.setElementPadding=function(_a){if(this.padding!=_a){this.padding=_a;var _b=this.handle;if(_b){nexacro.__setDOMStyle_PaddingObject(_b.style,_a,this.rtl);}}};_pInputElement.setElementCaretColor=function(_a){if(this.caretcolor!=_a){this.caretcolor=_a;}};_pInputElement.setElementSelectColor=function(_a){this.selectcolor=_a;};_pInputElement.setElementSelectBackgroundColor=function(_a){this.selectbackground=_a;};_pInputElement.setElementCompositeColor=function(_a){this.compositecolor=_a;};_pInputElement.setElementTabindentSize=function(_a){this.tabindentsize=_a;};_pInputElement._setElementDefaultLineHeight=function(){if(this.handle){nexacro.__setDOMStyle_LineHeightObject(this.handle.style,nexacro.CSSValueObject("100%"));}};_pInputElement._getElementDefaultLineHeight=function(){return nexacro.__getHTMLStyle_lineHeight("100%");};_pInputElement.setElementEnable=function(_a,_b){if(this.enable!=_a){this.enable=_a;this._disabled_color=(!_a)?_b:null;var _c=this.handle;if(_c){nexacro.__setDOMNode_Enable(_c,_a);}}};_pInputElement.setElementReadonly=function(_a){if(this.readonly!=_a){this.readonly=_a;var _b=this.handle;if(_b){nexacro.__setDOMNode_ReadOnly(_b,_a);}this._applyReadOnly();}};_pInputElement.setElementAutoSkip=function(_a){if(this.autoskip!=_a){this.autoskip=_a;}};_pInputElement.setElementAutoSelect=function(_a){if(this.autoselect!=_a){this.autoselect=_a;}};_pInputElement.setElementMaxLength=function(_a){if(this.maxlength!=_a){this.maxlength=_a;var _b=this.handle;if(_b){if(this._use_html_maxlength){nexacro.__setDOMNode_MaxLength(_b,(_a>0)?_a:65535);}var _c=this.getElementText();if(this._is_focused||!this._checkmax_editing_only){if(this.maxlength>0&&_c.length>this.maxlength){_c=_c.substring(0,this.maxlength);this._updateInputValue(_c);}}}}};if(nexacro._isTouchInteraction&&nexacro._OS=="Android"){_pInputElement.setElementInputMode=function(_a){this._keypad_type=_a;var _b=this.handle;if(_b){if(this.usesoftkeyboard==false){_a="none";}nexacro.__setDOMNode_InputMode(_b,_a);}};}else{_pInputElement.setElementInputMode=function(_a){this._keypad_type=_a;var _b=this.handle;if(_b){nexacro.__setDOMNode_InputMode(_b,_a);}};}_pInputElement.setElementUseSoftKeyboard=function(_a){if(this.usesoftkeyboard!=_a){this.usesoftkeyboard=_a;this.setElementInputMode(this._keypad_type);}};_pInputElement.setElementUseIme=function(_a){if(this.useime!=_a){this.useime=_a;}};_pInputElement.setElementImeMode=function(_a){if(this.imemode!=_a){this.imemode=_a;var _b=this.handle;if(_b){nexacro.__setDOMNode_ImeMode(_b,_a);}}};_pInputElement.setElementDisplayNullText=function(_a,_b){var _c=this.handle;if(this.displaynulltext==_a){return;}this.displaynulltext=_a;if(_c){if(nexacro._isNull(this.value)&&!this._is_focused){if(_b!=""&&_b!=undefined){this._updateInputValue(_b);}else{this._updateInputValue(this.displaynulltext);}}}};_pInputElement.setElementDisplayInvalidText=function(_a){if(this.displayinvalidtext==_a){return;}this.displayinvalidtext=_a;var _b=this.handle;if(_b){if(this._is_invalid_value){this._updateInputValue(this.displayinvalidtext);}}};_pInputElement.setElementDefaultValue=function(_a){if(_a!=this.defaultvalue){this.defaultvalue=_a;}};_pInputElement.setElementValue=function(_a,_b){var _c=(nexacro._isNull(_a)?this.defaultvalue:(_a+""));var _d=this.inputtype;this._is_invalid_value=(_b===true)?true:false;if(!_b&&(this.value==_a)&&(this._getInputValue()==_c)){return;}this.value=_a;this._input_text=_c;var _e=this.handle;var _f=this.parent_elem.linkedcontrol;if(_e){if(_b){if(!nexacro._isNull(this.displayinvalidtext)&&!this._is_focused){_d="text";this._updateInputValue(this.displayinvalidtext);}else{this._updateInputValue(_c);}}else{this._setElementLastSelectionRange();if(this.value||this.value===""){if(!_f._is_killfocusing&&(this._is_focused||!this._checkmax_editing_only)){if(this.maxlength>0&&_c.length>this.maxlength){_c=_c.substring(0,this.maxlength);}}this._updateInputValue(_c);}else if(!this._is_focused&&this.displaynulltext!=""){_d="text";this._updateInputValue(this.displaynulltext);}else{this._updateInputValue(_c);}}nexacro.__setDOMNode_Type(_e,_d);}};_pInputElement.replaceElementText=function(_a,_b,_c,_d){var _e=this._getInputValue();if(_b<0){return;}if(_c<0){_c=_e.length;}if(_b>_c){_c=_b;}_a=(_a?_a:"");var _f=_b+_a.length;var _g=_e.substring(0,_b)+_a+_e.substring(_c);if(_d){this._updateInputValue(_g,!this._processing_oninput,_b,_f);}else{this._updateInputValue(_g,!this._processing_oninput,_f);}};_pInputElement.updateElementText=function(_a,_b){_a=(_a?_a:"");this._updateInputValue(_a,!this._processing_oninput,_b);};_pInputElement._updateElementValue=function(_a){if(this.value==_a){return;}if(!_a){_a=this._zerolength_value;}this.value=_a;};_pInputElement._setElementUseMaxLength=function(_a){if(nexacro._Browser=="Gecko"){this._use_html_maxlength=false;}else{this._use_html_maxlength=_a;}};_pInputElement._updateInputValue=function(_a,_b,_c,_d){var _e=this.handle;if(_e){if(nexacro._Browser=="Chrome"||nexacro._Browser=="Edge"){if(this._composer&&this._composer.isComposing()){this._composer.setStatus(nexacro._CompositionState.END,_d);}}this._input_text=_a;nexacro.__setDOMNode_Value(_e,_a);if(_c!=null&&_c>-1){if(_d==-1){_d=_a.length;}if(_d==null||_d<_c){_d=_c;}var _f=this._getRootWindowHandle();if(_f){nexacro.__setInputDOMNode_SetSelect(_f,_e,_c,_d);}this._setElementLastSelectionRange([_c,_d]);}if(_b){nexacro.__fireHTMLEvent(_e,"input","oninput");}}};_pInputElement.setElementInputType=function(_a,_b){var _c="text";if(_a=="number"||_a=="tel"){_c=this._NUMERIC_KEYPAD_TYPE;_a="text";}else if(_a=="date"){_a="date";}else if(_a=="search"){_a="search";}else if(_a!="password"){_a="text";}var _d=this.handle;if(this._imedisable!=_b){this._imedisable=_b?_b:false;if(_d){nexacro.__setDOMNode_ImeMode(_d,this._imedisable?"disabled":this.imemode);}}if(this.inputtype!=_a){this.inputtype=_a;if(_d){nexacro.__changeInputDOMNodeType(_d,_a);}}this.setElementInputMode(_c);};_pInputElement.setElementImeAction=nexacro._emptyFn;if(nexacro._OS=="iOS"&&(nexacro._SystemType=="iphone"||nexacro._SystemType=="ipad")){_pInputElement._change_to_keypad_type=nexacro._emptyFn;_pInputElement._change_type_on_sys_focus=nexacro._emptyFn;_pInputElement._restore_keypad_type=nexacro._emptyFn;_pInputElement._scrollintoview_on_sys_click=function(){if(this._restore_scrollpos_onclick){if(this._restore_scrollpos_timer>0){clearTimeout(this._restore_scrollpos_timer);this._restore_scrollpos_timer=0;}var _a=this._getRootWindowHandle();var _b=_a.defaultView||_a.parentWindow;if(this._scoll_pos){_b.scrollTo(this._scoll_pos[0],this._scoll_pos[1]);}nexacro._stopSysObserving(_b,"scroll","onscroll",this._on_sys_scroll);this._restore_scrollpos_onclick=false;}};}else{_pInputElement._change_to_keypad_type=nexacro._emptyFn;_pInputElement._change_type_on_sys_focus=nexacro._emptyFn;_pInputElement._scrollintoview_on_sys_click=nexacro._emptyFn;_pInputElement._restore_keypad_type=nexacro._emptyFn;}_pInputElement._fireHTMLEvent=function(_a,_b,_c){nexacro.__fireHTMLEvent(_a,_b,_c);};_pInputElement._applyElementFocus=function(){nexacro.__setInputDOMNodeFocus(this.handle);};_pInputElement._applyMaxlength=function(){var _a=this.handle;if(this._checkmax_editing_only){var _b=this.value;if(!nexacro._isNull(_b)){if(this.maxlength>0&&_b.length>this.maxlength){_b=_b.substring(0,this.maxlength);}}else{_b=this.defaultvalue;}var _c=this._getInputValue();if(_c!==_b){this._updateInputValue(_b);if(nexacro._isNull(this.value)){nexacro.__setDOMNode_Type(_a,this.inputtype);nexacro.__setDOMStyle_ColorObject(_a.style,"");}}}};_pInputElement._applyReadOnly=function(){if(this.readonly){var _a=this.value;if(nexacro._isNull(_a)){_a=this.defaultvalue;}var _b=this._getInputValue();if(_b!==_a){this._updateInputValue(_a);}}};_pInputElement.setElementFocus=function(_a,_b){var _c=this.handle;if(_c){if(!this._is_focused){this._is_focused=true;this._trigger_type=_a;if(!this.readonly){this._applyMaxlength();}else if(this.displaynulltext){var _d=this.value;if(nexacro._isNull(_d)){_d=this.defaultvalue;}var _e=this._getInputValue();if(_e!==_d){this._updateInputValue(_d);}}this._trigger_type="";}if(!this._is_sys_focused){if(!(nexacro._OS=="iOS"&&this.inputtype=="date")){nexacro.__setInputDOMNodeFocus(_c,_a);}}else{if(this.autoselect&&nexacro._OS=="iOS"){if(this._keypad_type=="number"){nexacro.__setInputDOMNodeFocus(_c);}}}nexacro.__setLastFocusedElement(this);}};_pInputElement.setElementBlur=function(){var _a=this.handle;if(_a){var _b=this._getRootWindowHandle();var _c;if(_b){if(this.inputtype!="date"){if(nexacro._Browser!="MobileSafari"){if(!(nexacro._enableaccessibility&&nexacro._accessibilitytype==5)){var _d=nexacro.__getInputDOMNodeCaretPos(_b,_a);var _e=_d?_d.end:0;nexacro.__setInputDOMNode_SetSelect(_b,_a,_e,_e,true);}}}}if(this._checkmax_editing_only&&this.maxlength>0){var _f=(nexacro._isNull(this.value)?this.defaultvalue:(this.value+""));var _g=this._getInputValue();if(_f!=_g){this._updateInputValue(_f);}}if(this._is_focused){this._is_focused=false;if(nexacro._Browser!="Gecko"){if(this._is_sys_focused){nexacro.__setDOMNode_Blur(_a);}}}if(this.value==null&&this.displaynulltext!=""){nexacro.__setDOMNode_Type(_a,"text");this._updateInputValue(this.displaynulltext,false);}else{if(this._is_invalid_value&&!nexacro._isNull(this.displayinvalidtext)){if(nexacro._OS=="iOS"&&nexacro._SystemType=="iphone"){_c=this;setTimeout(function(){nexacro.__setDOMNode_Type(_a,"text");_c._updateInputValue(_c.displayinvalidtext,false);},0);}else{nexacro.__setDOMNode_Type(_a,"text");this._updateInputValue(this.displayinvalidtext,false);}}}}};_pInputElement.setElementSetSelect=function(_a,_b){if(this.inputtype=="date"){return;}if((nexacro._OS=="iOS"||nexacro._OS=="Mac OS")&&this.isComposing()){return;}var _c=this.handle;if(_c){var _d=this._getRootWindowHandle();var _e=this.getElementText();var _f=_e.length;_b=(typeof _b=='number')?(_b==-1?_f:_b):_a;if(!this._is_focused){this._setElementLastSelectionRange([_a,_b]);return;}var _g=_b-_a;if(_d){if(_g==_f){if(nexacro._isTouchInteraction&&nexacro._OS=="iOS"){if(nexacro._enableaccessibility){setTimeout(function(){nexacro.__setInputDOMNode_SetSelect(_d,_c,_a,_b);},500);}else{nexacro.__setInputDOMNode_SetSelect(_d,_c,_a,_b);}}else{if(this._use_timer){setTimeout(function(){_c.focus();nexacro.__setDOMNode_Select(_d,_c);},1);}else{nexacro.__setDOMNode_Select(_d,_c);}}}else{nexacro.__setInputDOMNode_SetSelect(_d,_c,_a,_b);}}}};_pInputElement._setElementLastSelectionRange=function(_a){if(_a){this._last_selection_range=_a;}else{this._last_selection_range=null;}};_pInputElement.getElementCaretPos=function(){var _a=this.handle;if(_a&&this.inputtype!="date"){if(!this._is_focused){if(this._last_selection_range){var _b=this._last_selection_range;return {begin:_b[0],end:_b[1]};}else if(!this._last_selection_range){return -1;}}else{var _c=this._getRootWindowHandle();if(_c){return nexacro.__getInputDOMNodeCaretPos(_c,_a);}}}return -1;};_pInputElement.getElementSelectionRange=function(){var _a=this.handle;if(_a){if(!this._is_focused){if(this._last_selection_range){return this._last_selection_range;}}else{var _b=this._getRootWindowHandle();if(_b){var _c=nexacro.__getInputDOMNodeSelectionRange(_b,_a);return _c.splice(0,2);}}}return [0,0];};_pInputElement.getElementText=function(){var _a=this.handle;if(_a){return this._getInputValue();}return this._input_text;};_pInputElement._getInputValue=function(){var _a=this.handle;if(_a){if(this._is_focused){return nexacro.__getDOMNodeValue(_a);}else{if(this.displaynulltext){if(this.getInputStatusPseudoClass("AUTOFILL")){return nexacro.__getDOMNodeValue(_a);}else{var _b=(nexacro._isTouchInteraction&&nexacro._SupportTouch);if(_b){return nexacro.__getDOMNodeValue(_a);}else{return this._input_text;}}}else{if(this._is_invalid_value){return this._input_text;}else{return nexacro.__getDOMNodeValue(_a);}}}}return "";};_pInputElement.getElementValue=function(){return this.value;};_pInputElement.getCompositionStatus=function(){return (this._composer?this._composer.status:nexacro._CompositionState.NONE);};_pInputElement.isComposing=function(){return (this._composer?this._composer.isComposing():false);};_pInputElement.isCompositEnd=function(){return (this._composer?(this._composer.status==nexacro._CompositionState.END):false);};_pInputElement.setCompositionComplete_process=function(_a,_b){var _c=this.getElementCaretPos();var _d=this._getInputValue();var _e=_b?_b:this._composer.isComposing();if(_e){this._composer.setStatus(nexacro._CompositionState.END,_c.end);this._updateInputValue(_d,!this._processing_oninput);}};_pInputElement.setCompositionComplete=function(_a,_b){var _c=this.handle;if(_c){this.setCompositionComplete_process.call(this,_a,_b);var _d=this.getElementCaretPos();this._composer.setStatus(nexacro._CompositionState.NONE,_d.end);}};_pInputElement.setCompositionCancel_process=function(_a,_b){var _c=_b?_b:this._composer.isComposing();if(_c){var _d=this._getInputValue();var _e=this._composer.getOffset();this._composer.setStatus(nexacro._CompositionState.END,_e.begin);this._updateInputValue(_d.substring(0,_e.begin),!this._processing_oninput);}};_pInputElement.setCompositionCancel=function(_a,_b){var _c=this.handle;if(_c){this.setCompositionCancel_process.call(this,_a,_b);var _d=this.getElementCaretPos();this._composer.setStatus(nexacro._CompositionState.NONE,_d.end);}};_pInputElement.setInputProcess=function(_a){this._processing_oninput=_a;};_pInputElement.getInputProcess=function(){return this._processing_oninput;};_pInputElement.setInputStatusPseudoClass=function(_a,_b){this._status_csspseudoclass[_a]=_b;};_pInputElement.getInputStatusPseudoClass=function(_a){return this._status_csspseudoclass[_a];};_pInputElement.setElementAccessibilityStatAutoComplete=nexacro._emptyFn;_pInputElement.setElementAccessibilityStatExpanded=nexacro._emptyFn;_pInputElement.setElementAccessibilityFlagHasPopup=nexacro._emptyFn;_pInputElement.setElementAccessibilityInfoValueMax=nexacro._emptyFn;_pInputElement.setElementAccessibilityInfoValueMin=nexacro._emptyFn;_pInputElement.setElementAccessibilityInfoValueCur=nexacro._emptyFn;_pInputElement._setElementInputRole=nexacro._emptyFn;_pInputElement._wantAccessibilityAdditionalLabel=nexacro._emptyFn;_pInputElement._updateElementAccessibilityLabel=nexacro._emptyFn;_pInputElement._checkMaxLength=function(_a,_b,_c){var _d=this.maxlength;if(_d<=0&&_b<=0){return;}var _e=_a.length;var _f=this._composer.isComposing();if(_d<_e){if(this._use_html_maxlength&&_f){return;}var _g;if(_f&&!_c){_g=this._composer.isHasCandiateWindow(_a.charAt(_b -1));}if(_c||!_f||!_g){return {"ismax":true,"pos":(_b-(_e-_d))};}else{var _h=this._composer.getOffset();if(_d==(_e-(_h.end-_h.begin))){return {"ismax":true,"pos":(_b-(_e-_d))};}}}else{return {"ismax":(!_f&&_d==_e),"pos":_b};}return;};_pInputElement._go_next_focus=function(){var _a=this.handle;var _b=this.parent_elem.linkedcontrol;if(_a&&_b){var _c=_b._getForm();var _d=_c._searchNextTabFocus(_c._last_focused,undefined,undefined,0);if(_d&&_d[0]){if(_d[0]._hasContainer()&&_d[0]._last_focused){var _e=_c._getWindow();_e._removeFromCurrentFocusPath(_d[0]._last_focused);}if(_d[0]._has_inputElement){_d[0]._processing_autoskip=true;}_d[0]._setFocus(true,0,true);if(!_d[0]._p_autoselect&&_d[0]._is_editable_control){_d[0]._setDefaultCaret();}}}};_pInputElement._bindSysEvent=function(){var _a=this.handle;if(_a){nexacro._observeSysEvent(_a,"keydown","onkeydown",this._on_sys_keydown);nexacro._observeSysEvent(_a,"keyup","onkeyup",this._on_sys_keyup);nexacro._observeSysEvent(_a,"keypress","onkeypress",this._on_sys_keypress);if(this._use_event_beforeinput){nexacro._observeSysEvent(_a,"beforeinput","onbeforeinput",this._on_sys_beforeinput_forward);}nexacro._observeSysEvent(_a,"input","oninput",this._on_sys_keyinput_forward);nexacro._observeSysEvent(_a,"compositionstart","oncompositionstart",this._on_sys_compositionstart);nexacro._observeSysEvent(_a,"compositionupdate","oncompositionupdate",this._on_sys_compositionupdate);nexacro._observeSysEvent(_a,"compositionend","oncompositionend",this._on_sys_compositionend);nexacro._observeSysEvent(_a,"cut","oncut",this._on_sys_cut);nexacro._observeSysEvent(_a,"paste","onpaste",this._on_sys_paste);nexacro._observeSysEvent(_a,"mousedown","onmousedown",this._on_sys_mousedown);nexacro._observeSysEvent(_a,"mouseup","onmouseup",this._on_sys_mouseup);nexacro._observeSysEvent(_a,"focus","onfocus",this._on_sys_focus);nexacro._observeSysEvent(_a,"blur","onblur",this._on_sys_blur);nexacro._observeSysEvent(_a,"select","onselect",this._on_sys_select);nexacro._observeSysEvent(_a,"click","onclick",this._on_sys_click);if(nexacro._SupportTouch){nexacro._observeSysEvent(_a,"touchstart","ontouchstart",this._on_sys_touchstart);nexacro._observeSysEvent(_a,"touchend","ontouchend",this._on_sys_touchend);}nexacro._observeSysEvent(_a,"animationstart","onanimationstart",this._on_sys_animationstart);}};_pInputElement._unbindSysEvent=function(){var _a=this.handle;if(_a){nexacro._stopSysObserving(_a,"keydown","onkeydown",this._on_sys_keydown);nexacro._stopSysObserving(_a,"keyup","onkeyup",this._on_sys_keyup);nexacro._stopSysObserving(_a,"keypress","onkeypress",this._on_sys_keypress);if(this._use_event_beforeinput){nexacro._stopSysObserving(_a,"beforeinput","onbeforeinput",this._on_sys_beforeinput_forward);}nexacro._stopSysObserving(_a,"input","oninput",this._on_sys_keyinput_forward);nexacro._stopSysObserving(_a,"compositionstart","oncompositionstart",this._on_sys_compositionstart);nexacro._stopSysObserving(_a,"compositionupdate","oncompositionupdate",this._on_sys_compositionupdate);nexacro._stopSysObserving(_a,"compositionend","oncompositionend",this._on_sys_compositionend);nexacro._stopSysObserving(_a,"cut","oncut",this._on_sys_cut);nexacro._stopSysObserving(_a,"paste","onpaste",this._on_sys_paste);nexacro._stopSysObserving(_a,"mousedown","onmousedown",this._on_sys_mousedown);nexacro._stopSysObserving(_a,"mouseup","onmouseup",this._on_sys_mouseup);nexacro._stopSysObserving(_a,"focus","onfocus",this._on_sys_focus);nexacro._stopSysObserving(_a,"blur","onblur",this._on_sys_blur);nexacro._stopSysObserving(_a,"select","onselect",this._on_sys_select);nexacro._stopSysObserving(_a,"click","onclick",this._on_sys_click);if(nexacro._SupportTouch){nexacro._stopSysObserving(_a,"touchstart","ontouchstart",this._on_sys_touchstart);nexacro._stopSysObserving(_a,"touchend","ontouchend",this._on_sys_touchend);}nexacro._stopSysObserving(_a,"animationstart","onanimationstart",this._on_sys_animationstart);}};_pInputElement.on_sys_keydown_before_process=function(_a){var _b=_a.target;var _c=_b._linked_element;var _d=nexacro._getSysEventKey(_a);var _e=_c.parent_elem.linkedcontrol;var _f=_e._getWindow();if(_e){_e._adjustStepindex();}var _g;if(_e){_g=_f._getCaptureComp(false,true,_e);}if(_g&&_g!=_e){if(_a.keyCode!=27){nexacro._stopSysEvent(_a);}return false;}var _h=_c.getElementCaretPos();_c._composer.setDelayStatus(undefined);var _i=_c._composer.isComposing();var _j=nexacro._CompositionState.NONE;var _k=_h.begin;if(_d==nexacro.KeyCode_ImeInput&&nexacro._OS!="Android"){if(_i){_j=nexacro._CompositionState.COMPOSING;_k=_h.end;}else{if(nexacro._OS=="Windows"&&_a.code=="Backspace"){var _l=_b.value;_l=_l.slice(0,_h.begin-1)+_l.slice(_h.end);if(_h.begin>0){_h.begin-=1;}_c.setElementValue(_l);_c.setElementSetSelect(_h.begin,_h.begin);_c._setElementLastSelectionRange([_h.begin,_h.begin]);}else{_j=nexacro._CompositionState.START;_k=_h.begin;}}_c._composer.setDelayStatus(_j,_k);}else{if(_i){_j=nexacro._CompositionState.END;_k=_h.end;_c._composer.setDelayStatus(_j,_k);}else{_c._composer.setStatus(_j,_k);}}return true;};_pInputElement.on_sys_keydown_specialkey_process=function(_a){return true;};_pInputElement.on_sys_keydown_process=function(_a){return true;};_pInputElement._on_sys_keydown=function(_a){var _b=_a.target;if(_b){var _c=_b._linked_element;if(!_c.readonly){if(!_c.on_sys_keydown_before_process.call(_c,_a)){return;}_c.on_sys_keydown_process.call(_c,_a);}}};_pInputElement.on_sys_keyup_before_process=function(_a){return true;};_pInputElement.on_sys_keyup_specialkey_process=function(_a){return true;};_pInputElement.on_sys_keyup_process=function(_a){var _b=_a.target;var _c=_b._linked_element;_c._composer.setDelayStatus(undefined);var _d=_c._getInputValue();if(nexacro._OS=="Android"&&nexacro._Browser=="Chrome"&&nexacro._BrowserVersion>"34"){if(_c._beforeinput_result_pos&&!_c._composer.isComposing()){var _e=_c._beforeinput_result_pos.begin;var _f=_c._beforeinput_result_pos.end;if(_e!=null&&_e>-1){if(_f==-1){_f=_d.length;}if(_f==null||_f<_e){_f=_e;}var _g=_c._getRootWindowHandle();if(_g){nexacro.__setInputDOMNode_SetSelect(_g,_b,_e,_f);}}}}return true;};_pInputElement._on_sys_keyup=function(_a){var _b=_a.target;if(_b){var _c=_b._linked_element;if(!_c.readonly){if(!_c.on_sys_keyup_before_process.call(_c,_a)){return;}if(!_c.on_sys_keyup_specialkey_process.call(_c,_a)){return;}_c.on_sys_keyup_process.call(_c,_a);}if(_c._use_event_beforeinput){while(_c._beforeinput_result&&_c._beforeinput_result.length>0){_c._beforeinput_result.pop();}_c._beforeinput_result_insert_data=null;_c._beforeinput_result_data=null;_c._beforeinput_result_pos=null;}}};_pInputElement.on_sys_keypress_before_process=function(_a){return true;};_pInputElement.on_sys_keypress_process=function(_a){var _b=_a.target;var _c=_b._linked_element;var _d=_a.charCode||_a.keyCode;var _e=_c._getInputValue();var _f=_c.getElementSelectionRange();var _g=_c.parent_elem.linkedcontrol;var _h=_g._getRootWindow();if(_h&&_h._keydown_element&&nexacro._Browser=="Gecko"){if(_h._keydown_element!==_c){if((!_g._grid&&_g._processing_autoskip)||(_g._grid&&!_g._processing_autoskip&&_g._grid._p_autoenter!="key")){_g._processing_autoskip=false;nexacro._stopSysEvent(_a);return false;}}}if(!_a.ctrlKey&&!_a.altKey&&_d){var _i=String.fromCharCode(_d);if(_i.length>0){if(_c.autoskip&&_c.maxlength>0&&_e.length>=_c.maxlength&&_f[0]==_f[1]){if(_d!=nexacro.Event.KEY_RETURN){_c._go_next_focus();}}}}if(!_c._use_html_maxlength){if(_c.maxlength>0&&_e.length>=_c.maxlength&&_f[0]==_f[1]){nexacro._stopSysEvent(_a);return false;}}};_pInputElement._on_sys_keypress=function(_a){var _b=_a.target;if(_b){var _c=_b._linked_element;if(nexacro._OS=="iOS"||nexacro._OS=="Mac OS"){_c._updateImeLocale(_a);return false;}if(!_c.on_sys_keypress_before_process.call(_c,_a)){return;}return _c.on_sys_keypress_process.call(_c,_a);}};_pInputElement._is_accept_touch=function(_a){if(!_a&&nexacro._Browser=="MobileSafari"&&this.isComposing()){return false;}else if(nexacro._OS==='iOS'&&_a){var _b=_a._last_focused_elem;if(_b&&_b.isInputElement()){if(this!==_b&&_b.isComposing()){return false;}}}return true;};_pInputElement.on_complete_composition_value_process=function(){return true;};_pInputElement.on_complete_composition_value=function(){return this.on_complete_composition_value_process.call(this);};_pInputElement.on_apply_imeSet=function(_a){var _b,_c;var _d=_a?_a.target:null;var _e=_d?_d._linked_element:this;var _f=_e._imelocale.getLocale();if(_f&&nexacro._cache_inputelement_set[_f]){for(var _h in nexacro._cache_inputelement_set[_f]){_e[_h]=nexacro._cache_inputelement_set[_f][_h];}for(_b=0,_c=nexacro._inputelement_user_override_func.length;_b<_c;_b++ ){if(!nexacro._cache_inputelement_set[_f][nexacro._inputelement_user_override_func[_b]]){_e[nexacro._inputelement_user_override_func[_b]]=nexacro.InputElement.prototype[nexacro._inputelement_user_override_func[_b]];}}}else{for(_b=0,_c=nexacro._inputelement_user_override_func.length;_b<_c;_b++ ){_e[nexacro._inputelement_user_override_func[_b]]=nexacro.InputElement.prototype[nexacro._inputelement_user_override_func[_b]];}}var _g=_e.parent_elem.linkedcontrol;if(_g.on_apply_imeSet){_g.on_apply_imeSet();}_e.on_apply_ime_environment(_a);};_pInputElement.on_apply_ime_environment_process=function(_a){var _b=_a?_a.target:this.handle;this._setElementUseMaxLength(true);nexacro.__setDOMNode_MaxLength(_b,this.maxlength);};_pInputElement.on_apply_ime_environment=function(_a){this.on_apply_ime_environment_process.call(this,_a);};_pInputElement.on_apply_force_imeSet=function(_a){return true;};_pInputElement._updateLocale=function(_a){var _b=_a.target;var _c=_b._linked_element;var _d=_c.parent_elem.linkedcontrol;if(_d instanceof nexacro.MaskEdit){_c._skip_check_imelocale=true;_c._imelocale.setLocale("");_c.on_apply_imeSet(_a);return;}var _e=_c.getElementCaretPos();var _f=_c._getInputValue();var _g=(_a.data||_a.key)||_f.substr(_e.end-1,1);var _h=/[a-zA-Z]/;if(nexacro._OS=="Android"&&_h.test(_g)){return;}_c._imelocale.updateLocale(_g);if(_c._imelocale.IsChangeLocale()){_c.on_apply_imeSet(_a);}_c.on_apply_force_imeSet.call(_c,_a);};_pInputElement._updateImeLocale=function(_a){var _b=_a.target;var _c=_b._linked_element;var _d=_c.parent_elem.linkedcontrol;var _e;var _f=_c._composer.status;var _g=_c._getInputValue();var _h=_c.getElementCaretPos();var _i=_c._composer._prev_status;if(this._use_event_beforeinput){var _j=_a.data;if(_f!=nexacro._CompositionState.END){if(_j===null){return true;}if(!_c.isComposing()){}else{if(_d instanceof nexacro.MaskEdit){return true;}if((_i==nexacro._CompositionState.NONE&&_f==nexacro._CompositionState.START)||(_i==nexacro._CompositionState.END&&_f==nexacro._CompositionState.START)){_c._updateLocale(_a);}}}else{if(_d instanceof nexacro.MaskEdit){if(_f==nexacro._CompositionState.END){_b.blur();_b.focus();this.setElementSetSelect(_h.begin,_h.end);return true;}}}}else{if(this._apple_default_browser){if(_c.isComposing()&&(_d instanceof nexacro.MaskEdit)){_b.blur();_b.focus();_c._updateInputValue(_d._p_text,false,_h.begin);return false;}_e=_a.data||_a.key;if(_e){if(_a.key||(_c.isComposing()&&(_i==nexacro._CompositionState.START&&_f==nexacro._CompositionState.COMPOSING))){var _k=_a.charCode||_a.keyCode;if(_a.key&&(_k>=33&&_k<=126)){return true;}_c._updateLocale(_a);}}return true;}if(_h!=-1&&_f!=nexacro._CompositionState.END){if(!_c.isComposing()){}else{if(_i==nexacro._CompositionState.NONE&&nexacro._CompositionState.START||_i==nexacro._CompositionState.END&&nexacro._CompositionState.START||_i==nexacro._CompositionState.START&&nexacro._CompositionState.COMPOSING){if(_g){_c._updateLocale(_a);}}}}}return true;};_pInputElement.on_sys_beforeinput_forward_before_process=function(_a){var _b=(_a.target||_a.srcElement);if(_b){var _c=_b._linked_element;var _d=_c.parent_elem.linkedcontrol;if(_d instanceof nexacro.MaskEdit){var _e=_c._composer._prev_status;var _f=_c._composer.status;if(_e==nexacro._CompositionState.END&&_f==nexacro._CompositionState.END){return false;}}}return true;};_pInputElement.on_sys_beforeinput_forward_process=function(_a){var _b=_a.target;var _c=_b._linked_element;var _d=_c.parent_elem.linkedcontrol;var _e=_a.data;var _f=_a.inputType;var _g=_c._getInputValue();var _h=_c.getElementCaretPos();var _i=_c.getCompositionStatus();var _j=_h.begin;var _k=_h.end;var _l=_d._getWindow();var _m;if(_d){_m=_l._getCaptureComp(false,true,_d);}if(_m&&_m!=_d){_c._beforeinput_result=[_c._BeforeinputState.CANCEL];_c._beforeinput_result_data=_g;_c._beforeinput_result_pos={begin:_j,end:_k};return false;}if(_e==null&&_f=="insertLineBreak"){_e="";}else if(_f=="insertCompositionText"){_c._composing_start=_j;_c._composing_end=_k;}_c._beforeinput_result=_d._on_beforekeyinput(_c,_e,_i,_j,_k,_f);if(_c._beforeinput_result){_c._beforeinput_result.forEach(function(_n){var _o,_p;switch(_n){case _c._BeforeinputState.PASS:break;case _c._BeforeinputState.CANCEL:_c._beforeinput_result_data=_g;_c._beforeinput_result_pos={begin:_j,end:_k};break;case _c._BeforeinputState.CONVERT_UPPER:if(_f=="insertFromPaste"){_c._beforeinput_result_insert_data=_c._beforeinput_result_insert_data?_c._beforeinput_result_insert_data.toUpperCase():"";_p=_c._beforeinput_result_data;_c._beforeinput_result_data=_p.substring(0,_c._beforeinput_result_pos.begin-_c._beforeinput_result_insert_data.length);_c._beforeinput_result_data+=_c._beforeinput_result_insert_data;_c._beforeinput_result_data+=_p.substring(_c._beforeinput_result_pos.begin);}else if(_f!="insertLineBreak"){_o=_j+_e.length;_c._beforeinput_result_data=_g.substring(0,_j)+_e.toUpperCase()+_g.substring(_k,_g.length);_c._beforeinput_result_pos={begin:_o,end:_o};}break;case _c._BeforeinputState.CONVERT_LOWER:if(_f=="insertFromPaste"){_c._beforeinput_result_insert_data=_c._beforeinput_result_insert_data?_c._beforeinput_result_insert_data.toLowerCase():"";_p=_c._beforeinput_result_data;_c._beforeinput_result_data=_p.substring(0,_c._beforeinput_result_pos.begin-_c._beforeinput_result_insert_data.length);_c._beforeinput_result_data+=_c._beforeinput_result_insert_data;_c._beforeinput_result_data+=_p.substring(_c._beforeinput_result_pos.begin);}else if(_f!="insertLineBreak"){_o=_j+_e.length;_c._beforeinput_result_data=_g.substring(0,_j)+_e.toLowerCase()+_g.substring(_k);_c._beforeinput_result_pos={begin:_o,end:_o};}break;case _c._BeforeinputState.MAXLENGTH:break;case _c._BeforeinputState.REPLACE:break;case _c._BeforeinputState.PREVENT_DEFAULT:_a.preventDefault();break;default:break;}},_c);}};_pInputElement._on_sys_beforeinput_forward=function(_a){var _b=_a.target;if(_b){var _c=_b._linked_element;if(!_c.on_sys_beforeinput_forward_before_process.call(_c,_a)){return false;}if(!_c._updateImeLocale(_a)){return false;}_c.on_sys_beforeinput_forward_process.call(_c,_a);}};_pInputElement.on_sys_keyinput_forward_before_process=function(_a){return true;};_pInputElement.on_sys_keyinput_forward_process=function(_a){var _b=(_a.target||_a.srcElement);var _c;var _d=_b._linked_element;if(_d&&!_d._processing_oninput){_d._processing_oninput=true;_c=_d._on_sys_keyinput.call(this,_a);_d._processing_oninput=false;}return _c;};_pInputElement._on_sys_keyinput_forward=function(_a){var _b=(_a.target||_a.srcElement);if(_b){var _c=_b._linked_element;if((nexacro._Browser=="Chrome"||nexacro._Browser=="Edge")&&!_a.inputype&&_c._skip_sys_keyinput){_c._skip_sys_keyinput=false;}if(!_c.on_sys_keyinput_forward_before_process(_a)){return false;}return _c.on_sys_keyinput_forward_process(_a);}};_pInputElement.on_sys_keyinput_before_process=function(_a){return true;};if(_pInputElement._use_event_beforeinput){_pInputElement.on_sys_keyinput_process=function(_a){var _b=(_a.target||_a.srcElement);var _c=_b._linked_element;if(_c._skip_sys_keyinput){_c._skip_sys_keyinput=false;return;}var _d=_c.parent_elem.linkedcontrol;var _e=false;var _f;var _g;if(_c._beforeinput_result){var _h=false;_c._beforeinput_result.forEach(function(_m){switch(_m){case nexacro.InputElement.prototype._BeforeinputState.PASS:break;case nexacro.InputElement.prototype._BeforeinputState.CANCEL:_c._updateInputValue(_c._beforeinput_result_data,false,_c._beforeinput_result_pos.begin,_c._beforeinput_result_pos.end);_h=true;break;case nexacro.InputElement.prototype._BeforeinputState.CONVERT_UPPER:case nexacro.InputElement.prototype._BeforeinputState.CONVERT_LOWER:case nexacro.InputElement.prototype._BeforeinputState.REPLACE:if(_c._beforeinput_result_data!=null){_c._updateInputValue(_c._beforeinput_result_data,false,_c._beforeinput_result_pos.begin,_c._beforeinput_result_pos.end);}break;case nexacro.InputElement.prototype._BeforeinputState.MAXLENGTH:_e=true;break;}},_c);if(_h&&!_e&&!_c.autoskip){return;}}_f=_c._getInputValue();_g=_c.getElementCaretPos();if(_d._is_undo&&this.maxlength>0){var _i=_c._checkMaxLength(_f,_g.end);if(_i&&_i.ismax){_f=_f.substring(0,_i.pos);_c._updateInputValue(_f,false,"",_i.end);}_d._is_undo=false;}if(_c._composer.isComposing()){_c._composer.setStatus(nexacro._CompositionState.COMPOSING,_g.end);}var _j=_c.value;_c._updateElementValue(_f);if(_d._on_keyinput){_d._on_keyinput(_c);}if(_c.getInputStatusPseudoClass("AUTOFILL")){nexacro.__changeInputDOMNodeType(_b,_c.inputtype);}if(_c.autoskip&&_e){if(_c.value&&_f.length>=_c.maxlength){_c._go_next_focus();}}var _k=_c._composer._prev_status;var _l=_c._composer.status;if(_k==_l&&_c.value==_j){if(_d._on_input_autoskip){_d._on_input_autoskip();}}_c._composer._prev_status=_l;};_pInputElement._on_sys_keyinput=function(_a){var _b=(_a.target||_a.srcElement);if(_b){var _c=_b._linked_element;return _c.on_sys_keyinput_process.call(_c,_a);}};}else{_pInputElement.on_sys_keyinput_process=function(_a){var _b=(_a.target||_a.srcElement);var _c=_b._linked_element;var _d=_c.parent_elem.linkedcontrol;var _e=_d._getRootWindow();if(_e&&_e._keydown_element&&_e._keydown_element!=_c&&_d._processing_autoskip){var _f=_c.value;var _g=(_c._last_selection_range)?_c._last_selection_range:[0,0];_c._updateInputValue(_f,false,_g[0],_g[1]);_d._processing_autoskip=false;return false;}var _h=_c._composer.status;var _i,_j;var _k=_c._getInputValue();var _l=_c.getElementCaretPos();if(_h==nexacro._CompositionState.NONE){_i=_c._paste_caret_pos?_c._paste_caret_pos.begin:_c._composer.startOffset;_j=_c._paste_caret_pos?_c._paste_caret_pos.end:_l.end;if(_i>_j){_i=_j;}}else{var _m=_c._composer.getOffset();_i=_m.begin;_j=_m.end;if(_i==_j&&(_h==3||_h==1)){if(_c._last_selection_range){_i=_c._last_selection_range[0];}else{_i-=1;}}if(_c._composer.isComposing()){_j=_l.end;}}var _n=_c._checkBackspaceKeyInKeyInput(_c.value,_k,_i,_j);var _o=_c._checkSelectionInKeyInput(_c.value,_k,_i,_j);if(_n){nexacro.__fireHTMLEvent(_b,"keydown","onkeydown");}if(_o!==false){_i=_o;}if(_d._on_beforekeyinput){_d._on_beforekeyinput(_c,_k,_h,_i,_j);if(_c._event_stop){nexacro._stopSysEvent(_a);_c._event_stop=false;return false;}}var _p=_c._getInputValue();_l=_c.getElementCaretPos();if(nexacro._OS=="Android"&&nexacro._Browser=="Chrome"&&nexacro._BrowserVersion>"34"){if(_d instanceof nexacro.MaskEdit){_c._beforeinput_result_pos={begin:_l.begin,end:_l.end};}}var _q=false;if(_c.maxlength>0){var _r=_c._paste_caret_pos?_c._paste_caret_pos.end-(_k.length-_p.length):_l.end;_k=_p;var _s=_c._checkMaxLength(_k,_r);if(_s){_q=_s.ismax;var _t=_s.pos;if(_q){if(_r!=_t){_k=_k.substring(0,_t)+_k.substring(_r);_c._updateInputValue(_k);_c.setElementSetSelect(_t,_t);_k=_c._getInputValue();_l=_c.getElementCaretPos();}_c.setCompositionComplete(_t,false);}}}else{_k=_p;}if(_c._composer.isComposing()){_c._composer.setStatus(nexacro._CompositionState.COMPOSING,_l.end);}var _f=_c.value;_c._updateElementValue(_k);var _u=_c._composer._prev_status;var _v=_c._composer.status;if(_u==_v&&_c.value==_f){if(_d._on_input_autoskip){_d._on_input_autoskip();}}_c._composer._prev_status=_v;if(_d._on_keyinput){_d._on_keyinput(_c);}if(_c.value==_f){if(_q&&_c.autoskip){if(nexacro._Browser=="Safari"){setTimeout(function(){_c._go_next_focus();},0);}else{_c._go_next_focus();}}return false;}if(_c._event_stop){nexacro._stopSysEvent(_a);_c._event_stop=false;return false;}if(_q&&_c.autoskip){if(_c.value&&_k.length>_c.value.length){_q=false;}if(_q){if(nexacro._Browser=="Safari"){setTimeout(function(){_c._go_next_focus();},0);}else{_c._go_next_focus();}}}return true;};_pInputElement._on_sys_keyinput=function(_a){var _b=(_a.target||_a.srcElement);if(_b){var _c=_b._linked_element;{if(!_c._updateImeLocale(_a)){return false;}}if(!_c.on_sys_keyinput_process.call(_c,_a)){return false;}}};}_pInputElement.on_sys_cut_before_process=function(_a){return true;};_pInputElement._on_sys_cut=function(_a){var _b=(_a.target||_a.srcElement);var _c=_b._linked_element;if(!_c.on_sys_cut_before_process.call(_c,_a)){return false;}};_pInputElement.on_sys_paste_before_process=function(_a){return true;};_pInputElement._on_sys_paste=function(_a){var _b=(_a.target||_a.srcElement);var _c=_b._linked_element;if(!_c.on_sys_paste_before_process.call(_c,_a)){return false;}var _d;if(_a.clipboardData&&_a.clipboardData.getData){_d=_a.clipboardData.getData('text/plain');}else if(window.clipboardData&&window.clipboardData.getData){_d=window.clipboardData.getData('text');}if(_b&&!_b._linked_element._use_event_beforeinput&&_d){_d=_d.replace(/\r\n|\n/g,"");var _e=_c._getInputValue();var _f=_c.getElementCaretPos();var _g=_f.begin;var _h=_f.end;var _i=_e.substring(0,_g)+_d+_e.substring(_h);var _j=_g+_d.length;_f.end=_j;nexacro._stopSysEvent(_a);setTimeout(function(){_c._paste_caret_pos=_f;_c._updateInputValue(_i,true,_j);_c._paste_caret_pos=null;},0);nexacro._stopSysEvent(_a);return false;}};_pInputElement.on_sys_compositionstart_process=function(_a){var _b=(_a.target||_a.srcElement);var _c=_b._linked_element;var _d=_c.getElementCaretPos();_c._composer.setStatus(nexacro._CompositionState.START,_d.begin);return true;};_pInputElement._on_sys_compositionstart=function(_a){var _b=(_a.target||_a.srcElement);if(_b){var _c=_b._linked_element;_c.on_sys_compositionstart_process.call(_c,_a);}};_pInputElement.on_sys_compositionupdate_process=function(_a){var _b=(_a.target||_a.srcElement);var _c=_b._linked_element;var _d=_c.getElementCaretPos();_c._composer.setStatus(nexacro._CompositionState.COMPOSING,_d.end);return true;};_pInputElement._on_sys_compositionupdate=function(_a){var _b=(_a.target||_a.srcElement);if(_b){var _c=_b._linked_element;_c.on_sys_compositionupdate_process.call(_c,_a);}};_pInputElement.on_sys_compositionend_process=function(_a){var _b=(_a.target||_a.srcElement);var _c=_b._linked_element;var _d=_c.getElementCaretPos();_c._composer.setStatus(nexacro._CompositionState.END,_d.end);return true;};_pInputElement._on_sys_compositionend=function(_a){var _b=(_a.target||_a.srcElement);if(_b){var _c=_b._linked_element;_c.on_sys_compositionend_process.call(_c,_a);}};_pInputElement._on_sys_mousedown=function(_a){var _b=(_a.target||_a.srcElement);if(_b&&_a.button==nexacro.InputElement.prototype.MOUSE_LBUTTON){var _c=_b._linked_element;if(_c){var _d=_c.getElementSelectionRange();if(_a.ctrlKey&&(_d[0]==_d[1])){_c.setElementSetSelect(0,-1);_c.__prevent_sys_lbuttonup=true;}else{_c._setElementLastSelectionRange();_c.__prevent_sys_lbuttonup=false;}if(nexacro._Browser=="Gecko"){if(!_c._is_sys_focused&&_c.autoselect){_a.preventDefault();}}if(nexacro._OS=="iOS"){if(_c.inputtype=="date"){_a.preventDefault();}}}}};_pInputElement._on_sys_mouseup=function(_a){var _b=(_a.target||_a.srcElement);if(_b&&_a.button==nexacro.InputElement.prototype.MOUSE_LBUTTON){var _c=_b._linked_element;if(_c){if(_c.__prevent_sys_lbuttonup){_c.__prevent_sys_lbuttonup=false;_a.preventDefault();return false;}if(_c.getElementCaretPos&&_c._composer){var _d=_c.getElementCaretPos();_c._composer.setStatus(nexacro._CompositionState.NONE,_d.end);}}}};_pInputElement._on_sys_scroll=function(_a){var _b=(_a.target||_a.srcElement);if(_b){if(_b.nodeName=="input"||_b.nodeName=="textarea"){}else if(_b.nodeName=="#document"){var _c=_b.defaultView||_b.parentWindow;var _d=('pageXOffset' in _c)?_c.pageXOffset:_b.documentElement.scrollLeft;var _e=('pageXOffset' in _c)?_c.pageYOffset:_b.documentElement.scrollTop;var _f=_b.activeElement;if(_f&&_f!=_b.body){var _g=_f._linked_element;if(!_g){return;}if(_g._restore_scrollpos_onclick){if(_g._restore_scrollpos_timer>0){clearTimeout(_g._restore_scrollpos_timer);_g._restore_scrollpos_timer=0;}_g._scoll_pos=[_d,_e];nexacro._stopSysObserving(_c,"scroll","onscroll",_g._on_sys_scroll);}}}}};_pInputElement.on_sys_focus_before_process=function(_a){return true;};_pInputElement.on_sys_focus_process=function(_a){var _b=(_a.target||_a.srcElement);var _c=_b._linked_element;if(_c._accept_focus_process===false){_c._accept_focus_process=true;return;}var _d=_c.parent;if(_d){if(_c._need_reset_update_value){_c.on_reset_update_value(true);}var _e=_d.linkedcontrol;if(_e){var _f=_e._getWindow();if(_f&&_f._is_active_window){var _g=_f.getCurrentFocusPaths();var _h=_g?nexacro._indexOf(_g,_e._getRootComponent(_e)):-1;if(_h==-1){var _i=_g?_g[_g.length-1]:null;if(_i){if(_c._use_event_beforeinput){_c._skip_sys_keyinput=true;}if(nexacro._Browser=="Chrome"||nexacro._Browser=="Opera"||nexacro._Browser=="Edge"||nexacro._OS=="iOS"){if(_e.on_apply_value){_e.on_apply_value(_e._p_value,_c._is_invalid_value);}else if(_e.parent.on_apply_value){_e.parent.on_apply_value(_e.parent._p_value,_c._is_invalid_value);}}_i._apply_setfocus();return;}}}}}_c._is_sys_focused=true;var _j=_c._getRootWindowHandle();if(_c.autoselect&&_c.inputtype!="date"){_c.__prevent_sys_lbuttonup=true;if(nexacro._OS=="iOS"){if(_e instanceof nexacro._CalendarEditControl&&_b.type=="number"){nexacro.__changeInputDOMNodeType(_b,"text");this.setElementValue(_c.value);}nexacro.__setDOMNode_Select(_j,_b);}else{nexacro.__setDOMNode_Select(_j,_b);}}else if(_c._last_selection_range){var _k=_c._last_selection_range;nexacro.__setInputDOMNode_SetSelect(_j,_b,_k[0],_k[1]);}if(_c.value==null){_c._zerolength_value=undefined;}else{_c._zerolength_value="";}var _l=_c.getElementCaretPos();_c._composer.setStatus(nexacro._CompositionState.NONE,_l.begin);return true;};_pInputElement._on_sys_focus=function(_a){var _b=(_a.target||_a.srcElement);if(_b){var _c=_b._linked_element;if(!_c){return;}if(!_c.on_sys_focus_before_process(_a)){return;}if(!_c.on_sys_focus_process(_a)){return;}}};_pInputElement.on_sys_blur_before_process=function(_a){return true;};_pInputElement.on_sys_blur_process=function(_a){var _b=(_a.target||_a.srcElement);var _c=_b._linked_element;if(_c._accept_blur_process===false){_c._accept_blur_process=true;return;}_c._is_sys_focused=false;_c._restore_scrollpos_onclick=false;_c._skip_sys_keyinput=false;if(_c._restore_scrollpos_timer>0){clearTimeout(_c._restore_scrollpos_timer);_c._restore_scrollpos_timer=0;}var _d=_c._getRootWindowHandle();if(_d){var _e=_d.defaultView||_d.parentWindow;nexacro._stopSysObserving(_e,"scroll","onscroll",_c._on_sys_scroll);nexacro._adjustBodyScrollPos(_d);}return true;};_pInputElement._on_sys_blur=function(_a){if(nexacro._OS=="iOS"&&nexacro._isOpenSystemCalendar()){nexacro._destroySystemCalendarOverlay();}var _b=(_a.target||_a.srcElement);if(_b){var _c=_b._linked_element;if(!_c){return;}if(!_c.on_sys_blur_before_process(_a)){return;}if(!_c.on_sys_blur_process(_a)){return;}}};_pInputElement.on_sys_select_before_process=function(_a){return true;};_pInputElement.on_sys_select_process=function(_a){var _b=(_a.target||_a.srcElement);var _c=_b._linked_element;if(_c._is_focused){var _d=_c.getElementSelectionRange();if(_d&&_d[0]!=_d[1]){_c._setElementLastSelectionRange(_d);}}return true;};_pInputElement._on_sys_select=function(_a){var _b=(_a.target||_a.srcElement);if(_b){var _c=_b._linked_element;if(_c){if(!_c.on_sys_select_before_process(_a)){return;}if(!_c.on_sys_select_process(_a)){return;}}}};_pInputElement._on_sys_click=function(_a){var _b=(_a.target||_a.srcElement);if(_b){var _c=_b._linked_element;if(_c){if(nexacro._OS=="Android"&&_c.inputtype=="date"){if(_c.parent.linkedcontrol._prevent_clickevent){_a.preventDefault();}}_c._scrollintoview_on_sys_click();}}};_pInputElement.on_sys_touchstart_process=function(_a){var _b=(_a.target||_a.srcElement);var _c=_b._linked_element;if(_c){if(_c.inputtype=="date"&&_c.readonly){nexacro._stopSysEvent(_a);return false;}}var _d=_a.touches;if(_d&&_d.length>1){nexacro._stopSysEvent(_a);}return true;};_pInputElement._on_sys_touchstart=function(_a){var _b=(_a.target||_a.srcElement);if(_b){var _c=_b._linked_element;_c.on_sys_touchstart_process.call(_c,_a);}};_pInputElement.on_sys_touchend_process=function(_a){var _b=(_a.target||_a.srcElement);var _c=_b._linked_element;if(_c){var _d=_c.getElementCaretPos();_c._composer.setStatus(nexacro._CompositionState.NONE,_d.end);}return true;};_pInputElement._on_sys_touchend=function(_a){var _b=(_a.target||_a.srcElement);if(_b){var _c=_b._linked_element;_c.on_sys_touchend_process.call(_c,_a);}};_pInputElement._on_sys_touchmove=nexacro._emptyFn;_pInputElement._on_sys_animationstart=function(_a){var _b=(_a.target||_a.srcElement);if(_b){var _c=_b._linked_element;var _d=_a.animationName;switch(_d){case "nexainput_autofill":{_c.setInputStatusPseudoClass("AUTOFILL",1);if(_c.inputtype=="password"){nexacro.__changeInputDOMNodeType(_b,"password");}break;}case "nexainput_notautofill":{_c.setInputStatusPseudoClass("AUTOFILL",0);if(_c.value==null&&_c.displaynulltext!=""&&!_c._is_focused){nexacro.__changeInputDOMNodeType(_b,"text");}break;}}}};if(_pInputElement._evtfire_oninput_only_when_backspacekey){_pInputElement._checkBackspaceKeyInKeyInput=function(_a,_b,_c,_d){var _e=false;var _f=this._composer.getOffset();if(_a){if(_a.length>_b.length){if(_d<_f.end){var _g=_a.substring(0,_d).indexOf(_b.substring(0,_d));if(_g==0){_e=true;}}}}return _e;};_pInputElement._checkSelectionInKeyInput=function(_a,_b,_c,_d){var _e=false;if(_d-_c!=1){if(_a&&_a.length==_c){if(_c!=_d){_e=true;for(var _f=0;_f<_a.length;_f++ ){if(_a.charAt(_f)!=_b.charAt(_f)){_e=_f;break;}if(_f==_d){_e=_f;break;}}}}}return _e;};}else{_pInputElement._checkBackspaceKeyInKeyInput=function(){return false;};_pInputElement._checkSelectionInKeyInput=function(){return false;};}_pInputElement=null;nexacro.TextAreaElement=function(_a,_b){this._p_parent=_a;this.parent_elem=_a;this.id=_b;this._p_name=this.parent_elem.name+":"+(_b||"input");this._need_reset_update_value=false;this._composer=new nexacro._CompositionState();this._imelocale=new nexacro._ImeLocale();};var _pTextAreaElement=new nexacro._createPrototype(nexacro.InputElement,nexacro.TextAreaElement);nexacro.TextAreaElement.prototype=_pTextAreaElement;_pTextAreaElement._type_name="TextAreaElement";_pTextAreaElement.typeselector="nexatextarea";_pTextAreaElement.usemultiline=true;_pTextAreaElement._use_html_maxlength=false;_pTextAreaElement._scroll_width=0;_pTextAreaElement._scroll_height=0;if(nexacro._Browser=="Edge"||nexacro._BrowserType=="Opera"){_pTextAreaElement._BROWSER_SCROLLBAR_SIZE=0;}else if(nexacro._Browser=="Gecko"){_pTextAreaElement._BROWSER_SCROLLBAR_SIZE=17;}else{_pTextAreaElement._BROWSER_SCROLLBAR_SIZE=undefined;}_pTextAreaElement._createElementHandle=function(_a,_b){var _c=this.handle=_b.createElement("textarea");var _d=_c.style;_c.id=this.name;nexacro.__setDOMNode_ClassName(_c,this._getElementClassName());nexacro.__setTextAreaDOMStyle_AbsoluteTransparent(_c.style);_c._linked_element=this;this._refreshCommonStyleProps(_d);var _e=this.wordWrap||this._wordwrap_info;if(_e){nexacro.__setTextAreaDOMNode_WordWrap(_c,_e);}if(this.textAlign){nexacro.__setDOMStyle_textAlign(_d,this.textAlign,this.rtl);}if(this.padding){nexacro.__setDOMStyle_PaddingObject(_d,this.padding,this.rtl);}if(!this.enable){nexacro.__setDOMNode_Enable(_c,false);}if(this.readonly){nexacro.__setDOMNode_ReadOnly(_c,true);}if(this.value){if(this._is_invalid_value&&!nexacro._isNull(this.displayinvalidtext)){nexacro.__setDOMNode_Value(_c,this.displayinvalidtext);}else{nexacro.__setDOMNode_Value(_c,this.value);}}else if(this.displaynulltext){nexacro.__setDOMNode_Value(_c,this.displaynulltext);}if(this.imemode){nexacro.__setDOMNode_ImeMode(_c,this.imemode);}if(this.maxlength>0&&this._use_html_maxlength){nexacro.__setDOMNode_MaxLength(_c,this.maxlength);}this._on_createAccessibilityHandle(_b,_a,_c);if(this.value){this._scroll_width=this.getElementScrollWidth();this._scroll_height=this.getElementScrollHeight();}if(this.handle){nexacro.__appendDOMNode(_a.dest_handle,this.handle);}};_pTextAreaElement._destroyInputHandle=function(){if(this.handle){var _a=(this.owner_elem?this.owner_elem.dest_handle:null);this.handle._linked_element=null;nexacro.__removeDOMNode(_a,this.handle);this.handle=null;}};_pTextAreaElement.createCommand=function(){var _a=this.parent_elem.getContainerElement(this.position_step);if(_a&&!this._created){this.owner_elem=_a;this.rtl=this._isParentRtl();var _b=this._getCommonStyleStr();_b+=nexacro.__getTextAreaHTMLStyle_AbsoluteTransparent();if(!this.enable){_b+=nexacro.__getHTMLStyle_Enable(this.enable,this._disabled_color);}if(this.padding){_b+=nexacro.__getHTMLStyle_PaddingObject(this.padding,this.rtl);}if(this.textAlign){_b+=nexacro.__getHTMLStyle_textAlign(this.textAlign,this.rtl);}if(this.imemode){if(this._imedisable){_b+=nexacro.__getHTMLStyle_ImeMode("disabled");}else{_b+=nexacro.__getHTMLStyle_ImeMode(this.imemode);}}var _c=nexacro.__getHTMLAttr_Enable(this.enable)+nexacro.__getHTMLAttr_ReadOnly(this.readonly);if(this.maxlength>0&&this._use_html_maxlength){_c+=nexacro.__getHTMLAttr_MaxLength(this.maxlength);}if(nexacro._isTouchInteraction&&nexacro._OS=="Android"){_c+=nexacro.__getHTMLAttr_InputMode(this.usesoftkeyboard?"":"none");}var _d="";_d+="<textarea id='"+this.name+"' class='"+this._getElementNexaClassName("nexatextarea")+"' ";_d+=(_b)?(" style='"+_b+"'"):"";_d+=_c?(" "+_c):"";_d=this._on_createAccessibilityCommand(_d);_d+=">";if(this.value){if(this._is_invalid_value&&!nexacro._isNull(this.displayinvalidtext)){_d+=nexacro._encodeXml(this.displayinvalidtext);}else{_d+=nexacro._encodeXml(this.value);}}else if(this.displaynulltext){_d+=nexacro._encodeXml(this.displaynulltext);}else{_d+="";}_d+="</textarea>";return _d;}return "";};_pTextAreaElement.attachHandle=function(_a){nexacro.InputElement.prototype.attachHandle.call(this,_a);this._scroll_width=this.getElementScrollWidth();this._scroll_height=this.getElementScrollHeight();};if(nexacro._OS=="iOS"){_pTextAreaElement.setElementSize=function(_a,_b){if(this.width!=_a||this.height!=_b){var _c=this.parent_elem;var _d=_c.padding?_c.padding:_c._padding_info;if(_d){_a-=_d.left+_d.right;_b-=_d.top+_d.bottom;}this.width=_a+this._getOverflowScrollSize();this.height=_b+this._getOverflowScrollSize();if(_a<0){_a=0;}if(_b<0){_b=0;}var _e=this.handle;if(_e){var _f=this.getElementCaretPos();nexacro.__setDOMStyle_Size(_e.style,this.width,this.height);var _g=this.getElementCaretPos();if((_f!=-1&&_g!=-1)&&(_f.begin!=_g.begin||_f.end!=_g.end)){this.setElementSetSelect(0,0);this.setElementSetSelect(_f.begin,_f.end);}this._setElementScrollSize();}}};}else{_pTextAreaElement.setElementSize=function(_a,_b){var _c=this._getOverflowScrollSize();_a+=_c;_b+=_c;if(this.width!=_a||this.height!=_b){this.width=_a;this.height=_b;if(_a<0){_a=0;}if(_b<0){_b=0;}var _d=this.handle;if(_d){var _e=this.getElementCaretPos();nexacro.__setDOMStyle_Size(_d.style,this.width,this.height);var _f=this.getElementCaretPos();if((_e!=-1&&_f!=-1)&&(_e.begin!=_f.begin||_e.end!=_f.end)){this.setElementSetSelect(0,0);this.setElementSetSelect(_e.begin,_e.end);}this._setElementScrollSize();}}};}_pTextAreaElement._applyMaxlength=function(){var _a=this.handle;if(this._checkmax_editing_only){var _b=this.value;if(!nexacro._isNull(_b)){if(this.maxlength>0&&_b.length>this.maxlength){_b=_b.substring(0,this.maxlength);}}else{_b=this.defaultvalue;}var _c=this._getInputValue();if(_c!==_b){this._updateInputValue(_b);if(nexacro._isNull(this.value)){nexacro.__setDOMNode_Type(_a,this.inputtype);nexacro.__setDOMStyle_ColorObject(_a.style,"");}}}};_pTextAreaElement._setElementScrollSize=function(){var _a=this.parent.linkedcontrol;var _b=nexacro._get_invisible_obj(_a);nexacro._reset_invisible_obj(_b,true);this._scroll_width=this.getElementScrollWidth();this._scroll_height=this.getElementScrollHeight();if(_b){nexacro._reset_invisible_obj(_b,false);}};_pTextAreaElement.setElementFocus=function(_a,_b){var _c=this.handle;if(_c){if(!this._is_focused){this._is_focused=true;this._applyMaxlength();}if(!this._is_sys_focused){if(!(nexacro._OS=="iOS"&&this.inputtype=="date")){nexacro.__setInputDOMNodeFocus(_c,_a);}}nexacro.__setLastFocusedElement(this);}};_pTextAreaElement.setElementBlur=function(){var _a=this.handle;if(_a){var _b=this._getRootWindowHandle();if(_b){if(this.inputtype!="date"){if(nexacro._Browser!="MobileSafari"){if(!(nexacro._enableaccessibility&&nexacro._accessibilitytype==5)){var _c=nexacro.__getTextAreaDOMNodeCaretPos(_b,_a);var _d=_c?_c.end:0;nexacro.__setTextAreaDOMNodeSetSelect(_b,_a,_d,_d,true);}}nexacro._removeInputDOMNodeCaret(_a);}}if(this._checkmax_editing_only&&this.maxlength>0){var _e=(nexacro._isNull(this.value)?this.defaultvalue:(this.value+""));var _f=this._getInputValue();if(_e!==_f){this._updateInputValue(_e);}}if(this._is_focused){this._is_focused=false;if(nexacro._Browser!="Gecko"){if(this._is_sys_focused){nexacro.__setDOMNode_Blur(_a);}}}}};_pTextAreaElement.setElementEnable=function(_a,_b){if(this.enable!=_a){this.enable=_a;if(!_a){this._disabled_color=_b;}else{this._disabled_color=null;}var _c=this.handle;if(_c){if(nexacro._enableaccessibility){nexacro.__setDOMAccessibility_StatHidden(_c,!_a);}nexacro.__setTextAreaDOMNode_Enable(_c,_a);}}};_pTextAreaElement.setElementCSSMapInfo=function(_a){if(this._wordwrap_info!=_a){var _b=this.wordWrap||this._wordwrap_info;this._wordwrap_info=_a;var _c=this.handle;if(_c){if(!this.wordWrap&&_b!=_a){nexacro.__setTextAreaDOMNode_Wrap(_c,_a);}}}};_pTextAreaElement.setElementWordWrap=function(_a){if(this.wordWrap!=_a){this.wordWrap=_a;var _b=this.handle;if(_b){nexacro.__setTextAreaDOMNode_WordWrap(_b,_a);if(!this._is_focused&&this.value==null&&this.displaynulltext){this._updateInputValue(this.displaynulltext);}else{if(this._is_invalid_value&&!nexacro._isNull(this.displayinvalidtext)){this._updateInputValue(this.displayinvalidtext);}else{this._updateInputValue(this.getElementText());}}}}};_pTextAreaElement.setElementValue=function(_a){if(_a){_a=_a.replace(/\r\n/g,"\n");}this._setElementValue(_a);};_pTextAreaElement._setElementValue=function(_a){var _b=this.parent.linkedcontrol;var _c=nexacro._getHTMLPositionStyle();if(_c){nexacro._setHTMLPositionStyle("absolute");}nexacro.InputElement.prototype.setElementValue.call(this,_a);if(_c){nexacro._OnceCallbackTimer.callonce(_b,function(){nexacro._setHTMLPositionStyle(_c);});}};_pTextAreaElement.updateElementText=function(_a,_b){if(_a){_a=_a.replace(/\r\n/g,"\n");}nexacro.InputElement.prototype.updateElementText.call(this,_a,_b);};_pTextAreaElement._updateElementValue=function(_a){if(_a){_a=_a.replace(/\r\n/g,"\n");}nexacro.InputElement.prototype._updateElementValue.call(this,_a);this._setElementScrollSize();};_pTextAreaElement._getInputValue=function(){return nexacro.InputElement.prototype._getInputValue.call(this);};_pTextAreaElement._updateInputValue=function(_a,_b,_c,_d){nexacro.InputElement.prototype._updateInputValue.call(this,_a,_b,_c,_d);this._setElementScrollSize();};_pTextAreaElement.on_reset_update_value=function(_a){return true;};_pTextAreaElement.setElementSetSelect=function(_a,_b){var _c=this.handle;if(_c){if((nexacro._OS=="iOS"||nexacro._OS=="Mac OS")&&this.isComposing()){return;}var _d=this._getInputValue();_b=(typeof _b=='number')?(_b==-1?_d.length:_b):_a;this._setElementLastSelectionRange([_a,_b]);if(this._is_focused){nexacro.__setTextAreaDOMNodeSetSelect(this._getRootWindowHandle(),_c,_a,_b);}}};_pTextAreaElement.getElementCaretPos=function(){var _a=this.handle;if(_a){if(!this._is_focused){if(this._last_selection_range){var _b=this._last_selection_range;return {begin:_b[0],end:_b[1]};}else if(!this._last_selection_range){return -1;}}else{var _c=this._getRootWindowHandle();if(_c){return nexacro.__getTextAreaDOMNodeCaretPos(_c,_a);}}}return -1;};_pTextAreaElement.getElementSelectionRange=function(){var _a=this.handle;if(_a){if(!this._is_focused){if(this._last_selection_range){return this._last_selection_range;}}else{var _b=this._getRootWindowHandle();if(_b){var _c=nexacro.__getTextAreaDOMNodeSelectionRange(_b,_a);return _c.slice(0,2);}}}return [0,0];};_pTextAreaElement.getElementCaretLine=function(){var _a=this.handle;if(_a&&this._is_focused){var _b=this._getRootWindowHandle();if(_b){return nexacro.__getTextAreaDOMNodeCaretLine(_b,_a,this.wordWrap,this.font);}}return 0;};_pTextAreaElement.getElementTextLineCount=function(_a){var _b=this.handle;if(_b){var _c=this._getRootWindowHandle();if(_c){var _d=_a?this.wordWrap:"none";return nexacro.__getTextAreaDOMNodeTextLineCount(_c,_b,_b.value,_d,this.font);}}return 0;};_pTextAreaElement.isFirstCaretLine=function(){var _a=this.handle;if(_a&&this._is_focused){var _b=this._getRootWindowHandle();if(_b){var _c=nexacro.__getTextAreaDOMNodeSelectionRange(_b,_a);var _d=_c[0],_e=_c[1],_f=_c[2];var _g=this._getInputValue();if(_f=="none"||_f=="backward"){_g=_g.slice(0,_d);}else{_g=_g.slice(0,_e);}if(_g==""){return true;}if(/[\r\n]/g.test(_g)){return false;}var _h=nexacro.__getTextAreaDOMNodeTextLineCount(_b,_a,_g,this.wordWrap,this.font);if(_h<=1){return true;}}}return false;};_pTextAreaElement.isLastCaretLine=function(){var _a=this.handle;if(_a&&this._is_focused){var _b=this._getRootWindowHandle();if(_b){var _c=nexacro.__getTextAreaDOMNodeSelectionRange(_b,_a);var _d,_e=_c[2];var _f=this._getInputValue();var _g;if(_e=="backward"){_d=_c[0];}else{_d=_c[1];}_g=_f.slice(_d);if(_g==""){return true;}if(/[\r\n]/g.test(_g)){return false;}var _h=_f.lastIndexOf('\n');if(_h<0){_h=_f.lastIndexOf('\r');}if(_h>=0){_h+=1;}else{_h=0;}var _i=_f.slice(_h);var _j=nexacro.__getTextAreaDOMNodeTextLineCount(_b,_a,_i,this.wordWrap,this.font);var _k=_f.slice(_h,_d);var _l=nexacro.__getTextAreaDOMNodeTextLineCount(_b,_a,_k,this.wordWrap,this.font);if(_j==_l){return true;}}}return false;};_pTextAreaElement.setElementScrollPos=function(_a,_b){if(_a<0){_a=0;}if(_b<0){_b=0;}this.setElementHScrollPos(_a);this.setElementVScrollPos(_b);};_pTextAreaElement.getElementHScrollPos=function(){var _a=this.handle;if(_a){if(!this._is_focused&&this.value==null&&this.displaynulltext){return 0;}if(this.rtl){return (_a.scrollWidth-_a.clientWidth-_a.scrollLeft);}else{return _a.scrollLeft;}}return 0;};_pTextAreaElement.setElementHScrollPos=function(_a){var _b=this.handle;if(_b){if(!this._is_focused&&this.value==null&&this.displaynulltext){return;}if(this.rtl){_b.scrollLeft=(_b.scrollWidth-_b.clientWidth-_a);}else{_b.scrollLeft=_a;}}};_pTextAreaElement.getElementVScrollPos=function(){var _a=this.handle;if(_a){if(!this._is_focused&&this.value==null&&this.displaynulltext){return 0;}return _a.scrollTop;}return 0;};_pTextAreaElement.setElementVScrollPos=function(_a){var _b=this.handle;if(_b){if(!this._is_focused&&this.value==null&&this.displaynulltext){return;}_b.scrollTop=_a;}};_pTextAreaElement.getElementContentSize=function(){return {width:this._scroll_width,height:this._scroll_height};};_pTextAreaElement.getElementScrollSize=function(){return {width:this.getElementScrollWidth(),height:this.getElementScrollHeight()};};_pTextAreaElement.getElementScrollWidth=function(){var _a=this.handle;var _b=0;if(_a){var _c=_a.scrollWidth-_a.clientWidth;_b=this.parent_elem.client_width+_c;}return _b;};_pTextAreaElement.getElementScrollHeight=function(){var _a=this.handle;var _b=0;if(_a){var _c=_a.scrollHeight-_a.clientHeight;_b=this.parent_elem.client_height+_c;}return _b;};_pTextAreaElement._getOverflowScrollSize=function(){if(this._BROWSER_SCROLLBAR_SIZE===undefined){nexacro.TextAreaElement.prototype._BROWSER_SCROLLBAR_SIZE=nexacro.__getOverflowScrollSize();}var _a=this._BROWSER_SCROLLBAR_SIZE;if(nexacro._Browser=="Gecko"){var _b=window.devicePixelRatio;if(_b){if(_b<1){_a=_a/_b;}else{_a=_a* _b;}}}return _a;};_pTextAreaElement._bindSysEvent=function(){var _a=this.handle;if(_a){nexacro.InputElement.prototype._bindSysEvent.call(this);nexacro._observeSysEvent(_a,"scroll","onscroll",this._on_sys_scroll);}};_pTextAreaElement._unbindSysEvent=function(){var _a=this.handle;if(_a){nexacro.InputElement.prototype._unbindSysEvent.call(this);nexacro._stopSysObserving(_a,"scroll","onscroll",this._on_sys_scroll);}};_pTextAreaElement._on_sys_scroll=function(_a){var _b=(_a.target||_a.srcElement);if(_b){var _c=_b._linked_element;if(_c){var _d=_c.parent_elem;var _e=_d.linkedcontrol;var _f=_e._getWindow();var _g="";var _h=_d._scrolltype;var _i=_c.getElementCaretPos();var _j=false;var _k=false;var _l=false;if(_f&&(_f._cur_ldown_elem||_f._cur_mdown_elem)){if(_f._cur_mdown_elem){_j=true;}_k=true;}else if(nexacro._isTouchInteraction){if(_f&&_f._cur_touch_elem||(_i&&_i!=-1&&_i.begin!=_i.end)){_k=true;}}if(_k){var _m=_d.scroll_left;var _n=_d.scroll_top;if(_m!=_b.scrollLeft){if(_h!="none"&&_h!="vertical"&&!_e._is_tracking){if(_c.rtl){var _o=(_b.scrollWidth-_b.clientWidth-_b.scrollLeft);if(_m!=_o){_l=true;}}else{_m=_b.scrollLeft;_l=true;}}if(_j){_g="mousewheel_h";}}if(_n!=_b.scrollTop){if(_h!="none"&&_h!="horizontal"&&!_e._is_tracking){_n=_b.scrollTop;_l=true;}if(_j){_g="mousewheel_v";}}if(_l){_e._scrollTo(_m,_n,true,true,undefined,_g);}}}}};_pTextAreaElement._on_sys_paste=function(_a){var _b=(_a.target||_a.srcElement);var _c=_b._linked_element;if(!_c.on_sys_paste_before_process.call(_c,_a)){return false;}var _d;if(_a.clipboardData&&_a.clipboardData.getData){_d=_a.clipboardData.getData('text/plain');}else if(window.clipboardData&&window.clipboardData.getData){_d=window.clipboardData.getData('text');}if(_b&&!_b._linked_element._use_event_beforeinput&&_d){var _e=_c._getInputValue();var _f=_c.getElementCaretPos();var _g=_f.begin;var _h=_f.end;_d=_d.replace(/&quot;/g,"\"");if(_d.indexOf("\r\n")!=-1||_d.indexOf("\n\r")!=-1){_d=_d.replace(/\r\n|\n\r/g,"\n");}if(_d.indexOf("\r")!=-1){_d=_d.replace(/\r/g,"");}var _i=_e.substring(0,_g)+_d+_e.substring(_h);var _j=_g+_d.length;_f.end=_j;nexacro._stopSysEvent(_a);_c._paste_caret_pos=_f;_c._updateInputValue(_i,true,_j);_c._paste_caret_pos=null;_f=_c.getElementCaretPos();setTimeout(function(){_c.setElementSetSelect(_f.begin,_f.end);},0);return false;}};_pTextAreaElement.on_apply_imeSet=function(_a){var _b,_c;var _d=_a?(_a.target||_a.srcElement):this.handle;var _e=_d?_d._linked_element:this;var _f=_e._imelocale.getLocale();if(_f&&nexacro._cache_inputelement_set[_f]&&nexacro._cache_textareaelement_set[_f]){for(_b=0,_c=nexacro._inputelement_user_override_func.length;_b<_c;_b++ ){_e[nexacro._inputelement_user_override_func[_b]]=nexacro.InputElement.prototype[nexacro._inputelement_user_override_func[_b]];if(nexacro.TextAreaElement.prototype[nexacro._inputelement_user_override_func[_b]]){_e[nexacro._inputelement_user_override_func[_b]]=nexacro.TextAreaElement.prototype[nexacro._inputelement_user_override_func[_b]];}}for(var _h in nexacro._cache_inputelement_set[_f]){_e[_h]=nexacro._cache_inputelement_set[_f][_h];}for(var _h in nexacro._cache_textareaelement_set[_f]){_e[_h]=nexacro._cache_textareaelement_set[_f][_h];}for(_b=0,_c=nexacro._inputelement_user_override_func.length;_b<_c;_b++ ){if(!nexacro._cache_inputelement_set[_f][nexacro._inputelement_user_override_func[_b]]&&!nexacro._cache_textareaelement_set[_f][nexacro._inputelement_user_override_func[_b]]&&_e[nexacro._inputelement_user_override_func[_b]]!==nexacro.InputElement.prototype[nexacro._inputelement_user_override_func[_b]]){_e[nexacro._inputelement_user_override_func[_b]]=nexacro.TextAreaElement.prototype[nexacro._inputelement_user_override_func[_b]];}}}else if(_f&&nexacro._cache_inputelement_set[_f]){for(_b=0,_c=nexacro._inputelement_user_override_func.length;_b<_c;_b++ ){_e[nexacro._inputelement_user_override_func[_b]]=nexacro.InputElement.prototype[nexacro._inputelement_user_override_func[_b]];if(nexacro.TextAreaElement.prototype[nexacro._inputelement_user_override_func[_b]]){_e[nexacro._inputelement_user_override_func[_b]]=nexacro.TextAreaElement.prototype[nexacro._inputelement_user_override_func[_b]];}}for(var _h in nexacro._cache_inputelement_set[_f]){_e[_h]=nexacro._cache_inputelement_set[_f][_h];}for(_b=0,_c=nexacro._inputelement_user_override_func.length;_b<_c;_b++ ){if(!nexacro._cache_inputelement_set[_f][nexacro._inputelement_user_override_func[_b]]&&_e[nexacro._inputelement_user_override_func[_b]]!==nexacro.InputElement.prototype[nexacro._inputelement_user_override_func[_b]]){_e[nexacro._inputelement_user_override_func[_b]]=nexacro.TextAreaElement.prototype[nexacro._inputelement_user_override_func[_b]];}}}else if(_f&&nexacro._cache_textareaelement_set[_f]){for(_b=0,_c=nexacro._inputelement_user_override_func.length;_b<_c;_b++ ){_e[nexacro._inputelement_user_override_func[_b]]=nexacro.InputElement.prototype[nexacro._inputelement_user_override_func[_b]];if(nexacro.TextAreaElement.prototype[nexacro._inputelement_user_override_func[_b]]){_e[nexacro._inputelement_user_override_func[_b]]=nexacro.TextAreaElement.prototype[nexacro._inputelement_user_override_func[_b]];}}for(var _h in nexacro._cache_textareaelement_set[_f]){_e[_h]=nexacro._cache_textareaelement_set[_f][_h];}for(_b=0,_c=nexacro._inputelement_user_override_func.length;_b<_c;_b++ ){if(!nexacro._cache_textareaelement_set[_f][nexacro._inputelement_user_override_func[_b]]&&_e[nexacro._inputelement_user_override_func[_b]]!==nexacro.InputElement.prototype[nexacro._inputelement_user_override_func[_b]]){_e[nexacro._inputelement_user_override_func[_b]]=nexacro.TextAreaElement.prototype[nexacro._inputelement_user_override_func[_b]];}}}else{for(_b=0,_c=nexacro._inputelement_user_override_func.length;_b<_c;_b++ ){_e[nexacro._inputelement_user_override_func[_b]]=nexacro.InputElement.prototype[nexacro._inputelement_user_override_func[_b]];if(nexacro.TextAreaElement.prototype[nexacro._inputelement_user_override_func[_b]]){_e[nexacro._inputelement_user_override_func[_b]]=nexacro.TextAreaElement.prototype[nexacro._inputelement_user_override_func[_b]];}}for(_b=0,_c=nexacro._inputelement_user_override_func.length;_b<_c;_b++ ){if(_e[nexacro._inputelement_user_override_func[_b]]!==nexacro.InputElement.prototype[nexacro._inputelement_user_override_func[_b]]){_e[nexacro._inputelement_user_override_func[_b]]=nexacro.TextAreaElement.prototype[nexacro._inputelement_user_override_func[_b]];}}}var _g=_e.parent_elem.linkedcontrol;if(_g.on_apply_imeSet){_g.on_apply_imeSet();}_e.on_apply_ime_environment(_a);};_pTextAreaElement=null;nexacro.ControlElement=function(_a){this._p_parent=_a;this.parent_elem=_a;};var _pControlElement=nexacro._createPrototype(nexacro.Element,nexacro.ControlElement);nexacro.ControlElement.prototype=_pControlElement;_pControlElement._type_name="ControlElement";_pControlElement.enable=true;_pControlElement.tabindex=-1;_pControlElement.zindex=-1;_pControlElement.color=null;_pControlElement.font=null;_pControlElement.textDecoration=null;_pControlElement.borderRadius=null;_pControlElement.border=null;_pControlElement.background=null;_pControlElement.edge=null;_pControlElement.padding=null;_pControlElement.cursor=null;_pControlElement.opacity=null;_pControlElement.boxShadow=null;_pControlElement.position_step=undefined;_pControlElement.linkedcontrol=null;_pControlElement.inner_width=0;_pControlElement.inner_height=0;_pControlElement.client_left=0;_pControlElement.client_top=0;_pControlElement.client_width=0;_pControlElement.client_height=0;_pControlElement._classname="";_pControlElement._is_popup=false;_pControlElement.zoom=100;_pControlElement._edge_elem=null;_pControlElement._apply_client_padding=true;_pControlElement._border_info=null;_pControlElement._padding_info=null;_pControlElement._edge_info=null;_pControlElement._client_left=0;_pControlElement._client_top=0;_pControlElement._contents_maxheight=0;_pControlElement._contents_maxwidth=0;_pControlElement._has_contents_size=false;_pControlElement._is_bordernone=false;_pControlElement.flexgrow=-1;_pControlElement.flexshrink=-1;_pControlElement._layoutbasis=null;_pControlElement.layoutorder=-1;_pControlElement.tablecellarea="";_pControlElement._tablecellarea="";_pControlElement.accessibilityrole="";_pControlElement.accessibilityenable=true;_pControlElement.accessibilitylabel="";_pControlElement.accessibilitydesclevel="";_pControlElement.accessibilitydescription="";_pControlElement.accessibilityaction="";_pControlElement.accessibility_value=undefined;_pControlElement.accessibility_stat_disabled=undefined;_pControlElement.accessibility_stat_hidden=undefined;_pControlElement.accessibility_stat_checked=undefined;_pControlElement.accessibility_stat_pressed=undefined;_pControlElement.accessibility_stat_selected=undefined;_pControlElement.accessibility_stat_expanded=undefined;_pControlElement.accessibility_stat_autocomplete=undefined;_pControlElement.accessibility_flag_haspopup=undefined;_pControlElement.accessibility_flag_focusable=undefined;_pControlElement.accessibility_flag_readonly=undefined;_pControlElement.accessibility_flag_password=undefined;_pControlElement.accessibility_flag_multiselectable=undefined;_pControlElement.accessibility_flag_defaultbutton=undefined;_pControlElement.accessibility_prop_itemcount=undefined;_pControlElement.accessibility_prop_itemindex=undefined;_pControlElement.accessibility_prop_valuemax=undefined;_pControlElement.accessibility_prop_valuemin=undefined;_pControlElement.create=nexacro._emptyFn;_pControlElement.destroy=nexacro._emptyFn;_pControlElement.clearContents=nexacro._emptyFn;_pControlElement.setElementStepCount=nexacro._emptyFn;_pControlElement.setElementStepIndex=nexacro._emptyFn;_pControlElement._setElementContentsMaxSize=nexacro._emptyFn;_pControlElement.borderLeftNone=false;_pControlElement.borderTopNone=false;_pControlElement.borderRightNone=false;_pControlElement.borderBottomNone=false;_pControlElement._transition_effector=null;_pControlElement.create=function(_a){var _b,_c,_d;var _e;if(!this._is_popup){_c=(this._is_nc_element)?this.parent_elem:this.parent_elem.getContainerElement(this.position_step);if(_c&&_c.handle){if(!this.handle){var _f=this.linkedcontrol;this.owner_elem=_c;_b=_a._doc||_c._getRootWindowHandle();var _g="div";if(_f&&_f._p_semantictag){_g=_f._p_semantictag;}if(_f&&_f._is_temp){this.name+="_temp";}_d=_b.createElement(_g);_d.id=this.name;_d._linked_element=this;var _h=this._isParentRtl();this.handle=this.dest_handle=_d;nexacro.__setDOMNode_ClassName(_d,this._getElementClassName());if(!this._is_simple_control){var _i=_b.createElement("div");this.dest_handle=_i;nexacro.__setDOMNode_ClassName(_i,this._getElementNexaClassName("nexasimplecontainer"));nexacro.__setDOMNode_Id(_i,"",this.name+":container");nexacro.__appendDOMNode(_d,_i);var _j=_i.style;nexacro.__setDOMStyle_Pos(_j,this.client_left,this.client_top,_h);if(this.client_width&&this.client_height){nexacro.__setDOMStyle_Size(_j,this.client_width,this.client_height);}}_e=_d.style;if(!this._isFluid()||!nexacro._is_native_fluidlayout||this._is_nc_element){nexacro.__setDOMStyle_Pos(_e,this.left,this.top,_h);}nexacro.__setDOMStyle_Size(_e,this.width,this.height);this._on_createAccessibilityHandle(_d);this._refreshControl(_d,_e,_b);if(nexacro._OS=="iOS"&&!nexacro._allow_default_pinchzoom){nexacro.__setDOMStyle_TouchAction(_e,"none");}if(this._isMultiInnerProc()){nexacro.__appendDOMNode((this._is_nc_element)?_c.handle:_c._getDestHandle(this.top),_d);}else{var _k=(this._is_nc_element)?_c.handle:_c.dest_handle;if(_f&&_f._firstchild){nexacro.__insertDOMNode(_k,_d,_k.firstChild);}else{nexacro.__appendDOMNode(_k,_d);}}}}}else{_b=this._doc=_a._doc;_c=_a;_d=_b.createElement("div");var _l=this.linkedcontrol;_d._linked_element=this;_d.id=this.name;this.handle=this.dest_handle=_d;nexacro.__setDOMNode_ClassName(_d,this._getElementClassName());_e=_d.style;nexacro.__setDOMStyle_Pos(_e,this.left,this.top);nexacro.__setDOMStyle_Size(_e,this.width,this.height);if(_l._findOwnerElementHandle){var _m=_l._findOwnerElementHandle();if(_m.is_append){if(_m.ref_handle){nexacro.__appendDOMNode(_m.ref_handle,_d);}else{nexacro.__appendDOMNode(_m.owner_handle,_d);}this.owner_elem=_m.owner_handle._linked_element;}else{nexacro.__insertDOMNode(_m.owner_handle,_d,_m.ref_handle);this.owner_elem=_c.dest_handle._linked_element;}}else{nexacro.__appendDOMNode(_c.dest_handle,_d);this.owner_elem=_c;}this._on_createAccessibilityHandle(_d);this._refreshControl(_d,_e,_b);}};_pControlElement._iframe_eventhandler_oncontextmenu=function(_a){return nexacro._stopSysEvent(_a);};_pControlElement._getControlStatusStr=function(){var _a="";if(this.status){_a+=nexacro.__getHTMLAttr_Status(this.status);}if(this.userstatus){_a+=nexacro.__getHTMLAttr_UserStatus(this.userstatus);}return _a;};_pControlElement._on_createCommandStart=function(){return "";};_pControlElement.createCommandStart=function(){if(!this._is_popup){var _a=(this._is_nc_element)?this.parent_elem:this.parent_elem.getContainerElement(this.position_step);if(_a&&!this.handle){var _b="";var _c=this.linkedcontrol;this.owner_elem=_a;if(_c._p_semantictag){_b="<"+_c._p_semantictag+" id='"+this.name+"' class='"+this._getElementClassName()+"' tabindex ='"+this.tabindex+"' ";}else{_b="<div id='"+this.name+"' class='"+this._getElementClassName()+"' tabindex ='"+this.tabindex+"' ";}if(!nexacro._isNull(this.tooltiptext)){_b+=" title = '"+this.tooltiptext+"' ";}var _d=this._getControlStyleStr();var _e=this._getControlStatusStr();if(nexacro._OS=="iOS"&&!nexacro._allow_default_pinchzoom){_d+=nexacro.__getHTMLStyle_TouchAction("none");}_b+=_e?(" "+_e):"";_b+=_d?(" style='"+_d+"'"):"";_b=this._on_createAccessibilityCommand(_b);_b+=">";if(this._edge_elem){_b+=this._edge_elem.createCommand();}if(this._client_elem&&!this._is_popup){_b+=this._client_elem.createCommandStart();}else if(!this._is_simple_control){_d="";if(this.client_left||this.client_top){_d+=nexacro.__getHTMLStyle_Pos(this.client_left,this.client_top,this._isParentRtl());}if(this.client_width&&this.client_height){_d+=nexacro.__getHTMLStyle_Size(this.client_width,this.client_height);}_b+="<div class='"+this._getElementNexaClassName("nexasimplecontainer")+"' id='"+this.name+":container' ";_b+=_d?(" style='"+_d+"' >"):" >";}return _b;}}return "";};_pControlElement._on_createCommandEnd=function(){return "";};_pControlElement.createCommandEnd=function(){if(!this._is_popup){var _a="";if(this._client_elem&&!this._is_popup){_a=this._client_elem.createCommandEnd();}else if(!this._is_simple_control){_a+="</div>";}_a+=this._on_createCommandEnd();var _b=this.linkedcontrol;if(_b&&_b._p_semantictag){_a+="</"+_b._p_semantictag+">";}else{_a+="</div>";}return _a;}return "";};_pControlElement._on_attachHandle=nexacro._emptyFn;_pControlElement.attachHandle=function(_a){if(this.name){var _b=this.handle||_a._doc.getElementById(this.name);if(_b){_b._linked_element=this;if(this._is_simple_control){this.handle=this.dest_handle=_b;}else if(this._client_elem){this.handle=this.dest_handle=_b;this._client_elem.attachHandle(_a);}else{this.handle=_b;this.dest_handle=_b.lastChild;}var _c=this._edge_elem;if(_c){_c.attach_handle_fromparent(_b);}this._setAccessibility_notify();this._on_attachHandle(_a);}}};_pControlElement._on_destroy=nexacro._emptyFn;_pControlElement.destroy=function(){var _a=this.handle;if(_a){if(this._transition_effector){if(this._transition_effector.isPlaying()){this._transition_effector.cancel();}this._transition_effector=null;}this._removeElementHandle();this.dest_handle=null;if(this._edge_elem){this._edge_elem.destroy();this._edge_elem=null;}if(this._client_elem){this._client_elem.destroy();this._client_elem=null;}this._on_destroy();}this.owner_elem=null;this.handle=null;this._p_parent=null;this.parent_elem=null;this.linkedcontrol=null;};_pControlElement.initElementInfo=function(){var _a=this.linkedcontrol;this.width=0;this.height=0;this.client_width=0;this.client_height=0;this.inner_width=0;this.inner_height=0;this._is_simple_control=_a._is_simple_control;this._is_popup=_a._is_popup_control;this._use_translate_move=_a._use_translate_move;this._use_container_move=_a._use_container_move;this._apply_client_padding=_a._apply_client_padding;};_pControlElement.clearElementPosition=function(){var _a=this.handle;if(_a){this.left=0;this.top=0;var _b=_a.style;nexacro.__clearDOMStyle_Pos(_b);}};_pControlElement.setLinkedControl=function(_a){if(!this.linkedcontrol&&_a){this._p_parent=_a;this.linkedcontrol=_a;this.id=_a.id;this._p_name=_a._unique_id;}};_pControlElement._setElementTransition=function(_a){var _b=this.handle;if(_b){nexacro.__setDOMStyle_Transition(_b.style,_a);}};_pControlElement.setElementPositionStep=function(_a){if(this.position_step!=_a||_a==-1){this.position_step=_a;var _b=this.handle;if(_b&&this.parent_elem){var _c=this.owner_elem;var _d=this.parent_elem.getContainerElement(_a);if(_c&&_c.dest_handle&&_d&&_d.dest_handle){nexacro.__unlinkDOMNode(_c.dest_handle,this.handle);nexacro.__appendDOMNode(_d.dest_handle,this.handle);this.owner_elem=_d;}}}};_pControlElement._setElementLayoutBasis=function(_a){if(!this._compareLayoutBasis(this._layoutbasis,_a)){this._layoutbasis=_a;var _b=this.handle;if(_b){nexacro.__setDOMStyle_FluidSize(this.handle.style,this._layoutbasis);nexacro.__setDOMStyle_LayoutBasis(this.handle.style,this._layoutbasis);}}};_pControlElement._setElementLayoutPosition=function(){var _a=this.handle;if(_a){nexacro.__setDOMStyle_LayoutFluidPos(_a.style);nexacro.__clearDOMStyle_Pos(_a.style);}};_pControlElement.setElementLayoutOrder=function(_a){if(this.layoutorder!==_a){this.layoutorder=_a;var _b=this.handle;if(_b){nexacro.__setDOMStyle_LayoutOrder(_b.style,_a);}}};_pControlElement.setElementTableCellArea=function(_a){if(this.tablecellarea!==_a){this.tablecellarea=this._tablecellarea=_a;this._parseLayoutPosition();var _b=this.handle;if(_b){if(this._tablecellarea){nexacro.__setDOMStyle_TableCellArea(_b.style,this._tablecellarea);}else{nexacro.__clearDOMStyle_TableCellArea(_b.style);}}}};_pControlElement._parseLayoutPosition=function(){var _a=this._tablecellarea;if(_a){var _b=_a.indexOf('/');var _c=[];var _d=[];var _e=[];var _f,_g,_h,_i;if(_b>-1){_c=_a.split('/');_d=_c[0].trim().split(/\s+/);_e=_c[1].trim().split(/\s+/);var _j=/^[0-9]+$/;var _k=true;_d.forEach(function(_o,_p,_q){_o=_o.trim();_q[_p]= +_o;},this);_e.forEach(function(_o,_p,_q){_o=_o.trim();_q[_p]= +_o;},this);if(_d.length==2){if(_d[0]>_d[1]){_d.push(_d.shift());}}if(_e.length==2){if(_e[0]>_e[1]){_e.push(_e.shift());}}for(var _o=0;_o<_d.length;_o++ ){if(_j.test(_d[_o])){if(!_f){_f=parseInt(_d[_o])+1;_g=parseInt(_d[_o])+2;}else{_g=parseInt(_d[_o])+2;break;}}else{_k=false;break;}}for(_o=0;_o<_e.length;_o++ ){if(_j.test(_e[_o])){if(!_h){_h=parseInt(_e[_o])+1;_i=parseInt(_e[_o])+2;}else{_i=parseInt(_e[_o])+2;break;}}else{_k=false;break;}}if(_k){this._tablecellarea=_f+"/"+_h+"/"+_g+"/"+_i;}return true;}else{var _l=this.linkedcontrol;if(_l&&_l._is_subcontrol){return false;}else{var _m=nexacro._getLayoutManager();if(_m){var _n=_m.getLayoutProperty(_l._getForm(),"tabletemplatearea");if(_n&&_n.indexOf(_a)>-1){return false;}else{this._tablecellarea="";}}}}}else{this._tablecellarea="";}};_pControlElement._on_clearContents=nexacro._emptyFn;_pControlElement.clearContents=function(){if(this.handle&&this._client_elem){this._client_elem.clearContents();this._on_clearContents();}};_pControlElement.appendChildElement=function(_a){if(this.handle){if(_a.parent_elem!=this){_a.parent_elem=this;}if(!_a.handle){_a.create(this._getWindow());}else{_a._appendToContainer(this.getContainerElement(_a.position_step));}}};_pControlElement.insertChildElement=function(_a,_b){if(this.handle){if(_a.parent_elem!=this){_a.parent_elem=this;}if(!_a.handle){_a.create(this._getWindow());}else{_a._insertToContainer(this.getContainerElement(_a.position_step),_b);}}};_pControlElement.removeChildElement=function(_a){if(_a.parent_elem==this){_a._removeFromContainer();}};_pControlElement._getComputedStyle=function(_a,_b){var _c=this.handle;if(_c&&_a){var _d=window.getComputedStyle(_c,null);return _d.getPropertyValue(_a);}};_pControlElement._getComputedStyleBackgroundColor=function(_a,_b){var _c=this.handle;if(_c){var _d=window.getComputedStyle(_c,null);if(_b){var _e=_d.getPropertyValue("background");if(_e&&_e.indexOf("linear-gradient")>=0){return _e;}}return _d.getPropertyValue("background-color");}};_pControlElement._flushCommand=nexacro._emptyFn;_pControlElement._getComputedStyleSubValue=nexacro._emptyFn;_pControlElement._sendToBackElement=function(_a){if(_a&&_a.owner_elem==this&&_a.handle){nexacro.__sendDOMNodeToBack(_a.handle);}};_pControlElement._bringToFrontElement=function(_a){if(_a&&_a.owner_elem==this&&_a.handle){nexacro.__bringDOMNodeToFront(_a.handle);}};_pControlElement._moveToNextElement=function(_a,_b){if(_a&&_b&&_a.owner_elem==this&&_b.owner_elem==this&&_a.handle&&_b.handle){nexacro.__moveDOMNodeToNext(_a.handle,_b.handle);}};_pControlElement._moveToPrevElement=function(_a,_b){if(_a&&_b&&_a.owner_elem==this&&_b.owner_elem==this&&_a.handle&&_b.handle){nexacro.__moveDOMNodeToPrev(_a.handle,_b.handle);}};_pControlElement.sendToBackElement=function(_a){var _b=this.getContainerElement(_a.position_step);_b._sendToBackElement(_a);};_pControlElement.bringToFrontElement=function(_a){var _b=this.getContainerElement(_a.position_step);_b._bringToFrontElement(_a);};_pControlElement.moveToNextElement=function(_a,_b){var _c=this.getContainerElement(_a.position_step);_c._moveToNextElement(_a,_b);};_pControlElement.moveToPrevElement=function(_a,_b){var _c=this.getContainerElement(_a.position_step);_c._moveToPrevElement(_a,_b);};_pControlElement.saveToImageFile=nexacro._emptyFn;_pControlElement.saveToImageObject=nexacro._emptyFn;_pControlElement._setElementHScrollPos=function(_a){var _b=this.handle;if(_b){nexacro.__setDOMNode_HScrollPos(_b,_a);}};_pControlElement._setElementVScrollPos=function(_a){var _b=this.handle;if(_b){nexacro.__setDOMNode_VScrollPos(_b,_a);}};_pControlElement._setElementScrollPos=function(_a,_b){var _c=this.handle;if(_c){nexacro.__setDOMNode_Offset(_c,_a,_b);}};_pControlElement.setElementTranslateStart=function(){if(this._client_elem){this._client_elem._setElementTranslateStart();}};_pControlElement.setElementTranslateEnd=function(){if(this._client_elem){this._client_elem._setElementTranslateEnd();}};_pControlElement.setElementHScrollPos=function(_a){if(_a<0){_a=0;}if(_a>this.hscroll_limit){_a=this.hscroll_limit;}if(this.scroll_left!=_a||this._reset_scrollpos){this.scroll_left=_a;if(this._use_container_move){this._client_elem._setElementHScrollPos(_a);}if(this.linkedcontrol){this.linkedcontrol._setHscrollPos(_a);}}};_pControlElement.setElementVScrollPos=function(_a){if(_a<0){_a=0;}if(_a>this.vscroll_limit){_a=this.vscroll_limit;}if(this.scroll_top!=_a||this._reset_scrollpos){this.scroll_top=_a;if(this._use_container_move){this._client_elem._setElementVScrollPos(_a);}if(this.linkedcontrol){this.linkedcontrol._setVscrollPos(_a);}}};_pControlElement.setElementScrollPos=function(_a,_b){if(_a<0){_a=0;}if(_b<0){_b=0;}if(_a>this.hscroll_limit){_a=this.hscroll_limit;}if(_b>this.vscroll_limit){_b=this.vscroll_limit;}if(this.scroll_left!=_a||this.scroll_top!=_b){this.scroll_left=_a;this.scroll_top=_b;if(this._use_container_move){this._client_elem._setElementScrollPos(_a,_b);}if(this.linkedcontrol){this.linkedcontrol._setHscrollPos(_a);this.linkedcontrol._setVscrollPos(_b);}}};_pControlElement.getElementScrollLeft=function(){return 0;};_pControlElement.getElementScrollTop=function(){return 0;};_pControlElement.getElementScrollWidth=function(){return this.inner_width;};_pControlElement.getElementScrollHeight=function(){return this.inner_height;};_pControlElement.beginTransitionEffect=function(_a,_b){if(this.handle&&_a){if(this._transition_effect&&_a!=this._transition_effect._effect){this._transition_effect.destroy();}this._transition_effect=new nexacro._ViewTransitionEffect(this.handle,_a);this._transition_effect.begin(_b);}};_pControlElement.applyTransitionEffect=function(){if(this.handle&&this._transition_effect){this._transition_effect.apply();}};_pControlElement.cancelTransitionEffect=function(){if(this.handle&&this._transition_effect){this._transition_effect.cancel();}};_pControlElement._getElementClassName=function(){var _a=this.typeselector;if(this.rtl){_a+=" nexartl";}if(this.idselector){_a+=" "+this.idselector;}if(this.classselector){_a+=" "+this.classselector;}if(this._use_translate_move){_a+=" nexatransform";}if(this._addselector){_a+=(" "+this._addselector);}return _a;};_pControlElement.setElementTypeCSSSelector=function(_a){if(this.typeselector!=_a){this.typeselector=_a;var _b=this.handle;if(_b){var _c=this._getElementClassName();if(this._classname!=_c){this._classname=_c;nexacro.__setDOMNode_ClassName(_b,_c);}}}};_pControlElement.setElementClassCSSSelector=function(_a){if(this.classselector!=_a){this.classselector=_a;var _b=this.handle;if(_b){_a=this._getElementClassName();if(this._classname!=_a){this._classname=_a;nexacro.__setDOMNode_ClassName(_b,_a);}}}};_pControlElement.setElementIDCSSSelector=function(_a){if(this.idselector!=_a){this.idselector=_a;var _b=this.handle;if(_b){var _c=this._getElementClassName();if(this._classname!=_c){this._classname=_c;nexacro.__setDOMNode_ClassName(_b,_c);}}}};_pControlElement.setElementCSSMapInfo=function(_a,_b,_c){var _d=false,_e=false;if(this._border_info!=_a){this._border_info=_a;_d=(this.border==null);}if(this._padding_info!=_b){this._padding_info=_b;_e=(this.padding==null);}if(this._edge_info!=_c){this._edge_info=_c;}var _f=this.handle;var _g=(_d&&this._updateInnerSize());var _h=false;var _i=this._edge_elem;if(_i){if((this.edge&&this.edge.value!="none")||(this._edge_info&&this._edge_info.value!="none")){if(_g){_i.setElementSize(this.inner_width,this.inner_height);}if(this.edge==null){_i.setElementInfo(null,_c);}}else{_i.destroy();this._edge_elem=null;}}else{if(this.edge){if(this.edge.value!="none"){_h=true;}}else if(this._edge_info){if(this._edge_info.value!="none"){_h=true;}}if(_h){_i=this._edge_elem=new nexacro._EdgeImageElement(this);_i.setElementSize(this.inner_width,this.inner_height);_i.setElementInfo(this.edge,_c);if(_f){_i.create();}}}if(_g||_e){this._updateClientRect();}};_pControlElement.setElementZIndex=function(_a){if(this.zindex!=_a){this.zindex=_a;var _b=this.handle;if(_b){nexacro.__setDOMStyle_Zindex(_b.style,_a);}}};_pControlElement.setElementToolTip=function(_a,_b){if(this.tooltiptext!=_a||this.tooltiptype!=_b){this.tooltiptext=_a;this.tooltiptype=_b;var _c=this.handle;if(_c){nexacro.__setDOMNode_ToolTip(_c,_a,_b);}}};_pControlElement.setElementFocus=function(_a){var _b=this.handle;if(_b){nexacro.__setDOMNode_Focus(_b,_a);nexacro.__setLastFocusedElement(this);}};_pControlElement.setElementSize=function(_a,_b){if(_a<0){_a=0;}if(_b<0){_b=0;}if(this.handle){if(this._layoutbasis){nexacro.__setDOMStyle_FluidSize(this.handle.style,this._layoutbasis);}else{nexacro.__setDOMStyle_Size(this.handle.style,_a,_b);}if(_a==0||_b==0){var _c=nexacro.BorderObject("0px none");nexacro.__setDOMStyle_BorderObject(this.handle.style,_c,this.rtl);this._is_bordernone=true;}else if(this.width==0||this.height==0||this._is_bordernone){nexacro.__setDOMStyle_BorderObject(this.handle.style,this.border,this.rtl);if(this.borderLeftNone||this.borderTopNone||this.borderRightNone||this.borderBottomNone){nexacro.__setDOMStyle_BorderNone(this.handle.style,this.borderLeftNone,this.borderTopNone,this.borderRightNone,this.borderBottomNone,this.border,this._get_rtl());}this._is_bordernone=false;}}this.width=_a;this.height=_b;if(this._updateInnerSize()){this._updateClientRect();if(this._edge_elem){this._edge_elem.setElementSize(this.inner_width,this.inner_height);}}};_pControlElement._get_rtl=function(){return this.rtl;};_pControlElement.setElementBorderRadius=function(_a){if(this.borderRadius!=_a){this.borderRadius=_a;if(this.handle){nexacro.__setDOMStyle_BorderRadiusObject(this.handle.style,_a,this.rtl);}}};_pControlElement.setElementBorder=function(_a){if(this.border!=_a){this.border=_a;if(this.handle){nexacro.__setDOMStyle_BorderObject(this.handle.style,_a,this.rtl);}if(this._updateInnerSize()){this._updateClientRect();if(this._edge_elem){this._edge_elem.setElementSize(this.inner_width,this.inner_height);}}}};_pControlElement.setElementBorderLeftNone=function(_a){if(this.borderLeftNone!=_a){this.borderLeftNone=_a;if(this.handle){nexacro.__setDOMStyle_BorderLeftNone(this.handle.style,_a);}if(this._updateInnerSize()){this._updateClientRect();if(this._edge_elem){this._edge_elem.setElementSize(this.inner_width,this.inner_height);}}}};_pControlElement.setElementBorderTopNone=function(_a){if(this.borderTopNone!=_a){this.borderTopNone=_a;if(this.handle){nexacro.__setDOMStyle_BorderTopNone(this.handle.style,_a);}if(this._updateInnerSize()){this._updateClientRect();if(this._edge_elem){this._edge_elem.setElementSize(this.inner_width,this.inner_height);}}}};_pControlElement.setElementBorderRightNone=function(_a){if(this.borderRightNone!=_a){this.borderRightNone=_a;if(this.handle){nexacro.__setDOMStyle_BorderRightNone(this.handle.style,_a);}if(this._updateInnerSize()){this._updateClientRect();if(this._edge_elem){this._edge_elem.setElementSize(this.inner_width,this.inner_height);}}}};_pControlElement.setElementBorderBottomNone=function(_a){if(this.borderBottomNone!=_a){this.borderBottomNone=_a;if(this.handle){nexacro.__setDOMStyle_BorderBottomNone(this.handle.style,_a);}if(this._updateInnerSize()){this._updateClientRect();if(this._edge_elem){this._edge_elem.setElementSize(this.inner_width,this.inner_height);}}}};_pControlElement.setElementBorderNone=function(_a,_b,_c,_d){if(_a!=this.borderLeftNone||_b!=this.borderTopNone||_c!=this.borderRightNone||_d!=this.borderBottomNone){this.borderLeftNone=_a;this.borderTopNone=_b;this.borderRightNone=_c;this.borderBottomNone=_d;this._refreshBorderNone();}};_pControlElement._refreshBorderNone=function(){if(this.handle){nexacro.__setDOMStyle_BorderNone(this.handle.style,this.borderLeftNone,this.borderTopNone,this.borderRightNone,this.borderBottomNone,this.border,this._get_rtl());}if(this._updateInnerSize()){this._updateClientRect();if(this._edge_elem){this._edge_elem.setElementSize(this.inner_width,this.inner_height);}}};_pControlElement.setElementBackground=function(_a){if(this.background!=_a){this.background=_a;var _b=this.handle;if(_b){nexacro.__setDOMStyle_BackgroundObject(_b.style,_a,this.rtl);}}};_pControlElement.setElementEdge=function(_a){if(this.edge!=_a){this.edge=_a;var _b=false;var _c=this._edge_elem;if(_c){if(_a){if(_a.value=="none"){_c.destroy();this._edge_elem=null;}else{_c.setElementInfo(_a,this._edge_info);}}else if(this._edge_info){if(this._edge_info.value=="none"){_c.destroy();this._edge_elem=null;}else{_c.setElementInfo(null,this._edge_info);}}else{_c.destroy();this._edge_elem=null;}}else{if(_a){if(_a.value!="none"){_b=true;}}else if(this._edge_info){if(this._edge_info.value!="none"){_b=true;}}if(_b){_c=this._edge_elem=new nexacro._EdgeImageElement(this);_c.setElementSize(this.inner_width,this.inner_height);_c.setElementInfo(_a,this._edge_info);if(this.handle){_c.create();}}}}};_pControlElement.setElementPadding=function(_a){if(this.padding!=_a){this.padding=_a;if(this._apply_client_padding){this._updateClientRect();}}};_pControlElement.setElementCursor=function(_a){if(this.cursor!=_a){this.cursor=_a;var _b=this.handle;if(_b){nexacro.__setDOMStyle_CursorObject(_b.style,_a);}}};_pControlElement.setElementOpacity=function(_a){if(this.opacity!=_a){this.opacity=_a;var _b=this.handle;if(_b){nexacro.__setDOMStyle_OpacityObject(_b.style,_a);}}};_pControlElement.setElementBoxShadow=function(_a){if(this.boxShadow!=_a){this.boxShadow=_a;var _b=this.handle;if(_b){nexacro.__setDOMStyle_ShadowObject(_b.style,_a,this.rtl);}}};_pControlElement.setElementZoom=function(_a){var _b=this.handle;if(_b){if(_a<0){_a=0;}this.zoom=_a;nexacro.__setDOMStyle_TransformScale(_b.style,_a/100);this._updateClientRect();}};_pControlElement.setElementDisplay=function(_a){if(this.display!=_a){this.display=_a;var _b=this.handle;if(_b){nexacro.__setDOMStyle_Display(_b.style,_a);}}};_pControlElement.setElementSimpleControl=function(_a){if(this._is_simple_control!=_a){if(this.handle){if(!this._is_simple_control){nexacro.__removeDOMNode(this.handle,this.dest_handle);this.dest_handle=this.handle;}else{var _b=this.owner_elem;var _c=_b._getRootWindowHandle();var _d=_c.createElement("div");this.dest_handle=_d;nexacro.__setDOMNode_ClassName(_d,this._getElementNexaClassName("nexasimplecontainer"));nexacro.__setDOMNode_Id(_d,"",this.name+":container");nexacro.__appendDOMNode(this.handle,_d);var _e=_d.style;nexacro.__setDOMStyle_Pos(_e,this.client_left,this.client_top);if(this.client_width&&this.client_height){nexacro.__setDOMStyle_Size(_e,this.client_width,this.client_height);}}}this._is_simple_control=_a;}};_pControlElement.setElementHittestType=nexacro._emptyFn;_pControlElement.getClientLeft=function(){if(this._apply_client_padding&&!this._is_simple_control){return 0;}return this.client_left;};_pControlElement.getClientTop=function(){if(this._apply_client_padding&&!this._is_simple_control){return 0;}return this.client_top;};_pControlElement.getClientWidth=function(){return this.client_width;};_pControlElement.getClientHeight=function(){return this.client_height;};_pControlElement._updateInnerSize=function(){var _a=this.width;var _b=this.height;var _c=this.border||this._border_info;if(_c){var _d=_c.left?_c.left._width:0;var _e=_c.right?_c.right._width:0;var _f=_c.top?_c.top._width:0;var _g=_c.bottom?_c.bottom._width:0;if(this.borderLeftNone){_d=0;}if(this.borderRightNone){_e=0;}if(this.borderTopNone){_f=0;}if(this.borderBottomNone){_g=0;}_a-=(_d+_e);_b-=(_f+_g);if(_a<0){_a=0;}if(_b<0){_b=0;}}if(this.inner_width!=_a||this.inner_height!=_b){this.inner_width=_a;this.inner_height=_b;return true;}return false;};_pControlElement._updateInnerElement=function(_a,_b){if(_a<0){_a=0;}if(_b<0){_b=0;}if(this.handle){if(_a==0||_b==0){var _c=nexacro.BorderObject("0px none");nexacro.__setDOMStyle_BorderObject(this.handle.style,_c,this.rtl);this._is_bordernone=true;}else if(this.width==0||this.height||this._is_bordernone){nexacro.__setDOMStyle_BorderObject(this.handle.style,this.border,this.rtl);if(this.borderLeftNone||this.borderTopNone||this.borderRightNone||this.borderBottomNone){nexacro.__setDOMStyle_BorderNone(this.handle.style,this.borderLeftNone,this.borderTopNone,this.borderRightNone,this.borderBottomNone,this.border,this._get_rtl());}this._is_bordernone=false;}}this.width=_a;this.height=_b;if(this._updateInnerSize()){this._updateClientRect();if(this._edge_elem){this._edge_elem.setElementSize(this.inner_width,this.inner_height);}}};_pControlElement._on_updateClientRect=function(){var _a=0;if(this._apply_client_padding){var _b=0;var _c=0;var _d=this.inner_width;var _e=this.inner_height;var _f=(this.padding||this._padding_info);if(_f){_b=_f.left;_c=_f.top;_d-=_f.left+_f.right;_e-=_f.top+_f.bottom;}if(this.client_left!=_b||this.client_top!=_c){this.client_left=_b;this.client_top=_c;_a=1;}if(this.client_width!=_d||this.client_height!=_e){this.client_width=_d;this.client_height=_e;_a+=2;}}else{if(this.client_width!=this.inner_width||this.client_height!=this.inner_height){this.client_width=this.inner_width;this.client_height=this.inner_height;_a+=2;}}return _a;};_pControlElement._updateClientRect=function(){var _a=this._on_updateClientRect();if(_a&1){this._on_change_clientPos(this.client_left,this.client_top);}if(_a&2){this._on_change_clientSize(this.client_width,this.client_height);}};_pControlElement._on_change_clientPos=function(_a,_b){var _c=false;var _d=this._client_elem;if(_d){_d.setElementPosition(_a,_b);}else if(this._apply_client_padding){if(this.handle&&this.handle!=this.dest_handle){var _e=this.dest_handle;nexacro.__setDOMStyle_Pos(_e.style,_a,_b);}else{_c=true;}}var _f=this.linkedcontrol;if(_f&&_c){_f.on_change_containerPos(_a,_b);}};_pControlElement._on_change_clientSize=function(_a,_b){var _c=this._client_elem;if(_c){_c.setElementSize(_a,_b);}else if(this._apply_client_padding||!this._is_simple_control){if(this.handle&&this.handle!=this.dest_handle){var _d=this.dest_handle;nexacro.__setDOMStyle_Size(_d.style,_a,_b);}}var _e=this.linkedcontrol;if(_e){_e.on_change_containerRect(_a,_b);}};_pControlElement._refreshControl=function(_a,_b){this._refreshControlTabIndex(_a);if(!nexacro._isNull(this.tooltiptext)){nexacro.__setDOMNode_ToolTip(_a,this.tooltiptext,this.tooltiptype);}if(this.zindex>=0){nexacro.__setDOMStyle_Zindex(_b,this.zindex);}this._refreshCommonStyleProps(_b);if(this.width==0||this.height==0){var _c=nexacro.BorderObject("0px none");nexacro.__setDOMStyle_BorderObject(_b,_c);this._is_bordernone=true;}else{nexacro.__setDOMStyle_BorderObject(_b,this.border,this.rtl);if(this.borderLeftNone||this.borderTopNone||this.borderRightNone||this.borderBottomNone){nexacro.__setDOMStyle_BorderNone(this.handle.style,this.borderLeftNone,this.borderTopNone,this.borderRightNone,this.borderBottomNone,this.border,this._get_rtl());}this._is_bordernone=false;}if(this.borderRadius){nexacro.__setDOMStyle_BorderRadiusObject(_b,this.borderRadius,this.rtl);}if(this.background){nexacro.__setDOMStyle_BackgroundObject(_b,this.background,this.rtl);}if(this.cursor){nexacro.__setDOMStyle_CursorObject(_b,this.cursor);}if(this.opacity){nexacro.__setDOMStyle_OpacityObject(_b,this.opacity);}if(this.boxShadow){nexacro.__setDOMStyle_ShadowObject(_b,this.boxShadow,this.rtl);}if(this.status){nexacro.__setDOMNode_Status(_a,this.status);}if(this.userstatus){nexacro.__setDOMNode_UserStatus(_a,this.userstatus);}if(nexacro._enableaccessibility){this._refreshAccessibilityInfo(_a,_b);}if(this._isFluid()&&nexacro._is_native_fluidlayout){if(this._layoutbasis){nexacro.__setDOMStyle_FluidSize(this.handle.style,this._layoutbasis);}if(this.flexgrow>-1){nexacro.__setDOMStyle_FlexGrow(_b,this.flexgrow);}if(this.flexshrink>-1){nexacro.__setDOMStyle_FlexShrink(_b,this.flexshrink);}if(this.layoutorder>-1){nexacro.__setDOMStyle_LayoutOrder(_b,this.layoutorder);}if(this._tablecellarea||this._tablecellarea===""){nexacro.__setDOMStyle_TableCellArea(_b,this._tablecellarea);}}if(this._edge_elem){this._edge_elem.create();}};_pControlElement._refreshControlTabIndex=function(_a,_b){if(_b===undefined){if(this.tabindex>=-1){nexacro.__setDOMNode_TabIndex(_a,this.tabindex);}}else{if(_b!==null){nexacro.__setDOMNode_TabIndex(_a,_b);}else{nexacro.__removeHTMLAttr_Proeprty(_a,"tabindex");}}};_pControlElement._refreshLayoutInfo=function(){var _a=this.handle;if(!_a){return;}var _b=_a.style;this._refreshControlTabIndex(_a);if(this._isFluid()&&nexacro._is_native_fluidlayout){if(this._layoutbasis){nexacro.__setDOMStyle_FluidSize(_b,this._layoutbasis);}if(this.flexgrow>-1){nexacro.__setDOMStyle_FlexGrow(_b,this.flexgrow);}if(this.flexshrink>-1){nexacro.__setDOMStyle_FlexShrink(_b,this.flexshrink);}if(this.layoutorder>-1){nexacro.__setDOMStyle_LayoutOrder(_b,this.layoutorder);}if(this._tablecellarea||this._tablecellarea===""){nexacro.__setDOMStyle_TableCellArea(_b,this._tablecellarea);}}};_pControlElement._getControlStyleStr=function(){var _a=this._getCommonStyleStr();if(this.borderRadius){_a+=nexacro.__getHTMLStyle_BorderRadiusObject(this.borderRadius,this.rtl);}if(this.width==0||this.height==0){_a+="border: 0px none;";this._is_bordernone=true;}else if(this.border){_a+=nexacro.__getHTMLStyle_BorderObject(this.border,this.rtl);}if(this._get_rtl()){if(this.borderLeftNone){_a+=nexacro.__getHTMLStyle_BorderRightNone();}if(this.borderTopNone){_a+=nexacro.__getHTMLStyle_BorderTopNone();}if(this.borderRightNone){_a+=nexacro.__getHTMLStyle_BorderLeftNone();}if(this.borderBottomNone){_a+=nexacro.__getHTMLStyle_BorderBottomNone();}}else{if(this.borderLeftNone){_a+=nexacro.__getHTMLStyle_BorderLeftNone();}if(this.borderTopNone){_a+=nexacro.__getHTMLStyle_BorderTopNone();}if(this.borderRightNone){_a+=nexacro.__getHTMLStyle_BorderRightNone();}if(this.borderBottomNone){_a+=nexacro.__getHTMLStyle_BorderBottomNone();}}if(this.background){_a+=nexacro.__getHTMLStyle_BackgroundObject(this.background,this.rtl);}if(this.cursor){_a+=nexacro.__getHTMLStyle_CursorObject(this.cursor);}if(this.opacity){_a+=nexacro.__getHTMLStyle_OpacityObject(this.opacity);}if(this.boxShadow){_a+=nexacro.__getHTMLStyle_ShadowObject(this.boxShadow,this.rtl);}return _a;};_pControlElement._isMultiInnerProc=function(){var _a=this.parent_elem;if(_a&&_a._use_container_move&&_a._use_multiinner){if(this.owner_elem&&(this.owner_elem instanceof nexacro._MultiInnerContainerElement)){return true;}}return false;};_pControlElement.setElementPosition=function(_a,_b,_c){if(this._isMultiInnerProc()){var _d=this.owner_elem;if(this.left!=_a||this.top!=_b||_c){var _e=_b;if(!this._is_nc_element&&_d&&(this.top!=_b||_c)){_e=_d._changeInnerElement(_b,this.handle);}nexacro.Element.prototype.setElementPosition.call(this,_a,_e,_c);this.top=_b;}}else{nexacro.Element.prototype.setElementPosition.call(this,_a,_b,_c);}};_pControlElement._setElementLayoutType=function(_a){if(this._layouttype!=_a){this._layouttype=_a;var _b=this.handle;if(_b){nexacro.__setDOMStyle_LayoutType(_b.style,_a);}}};_pControlElement._setElementLayoutHorizontalGap=function(_a){if(this._layouthorizontalgap!=_a){this._layouthorizontalgap=_a;var _b=this.dest_handle;if(_b){nexacro.__setDOMStyle_LayoutGap(_b.style,_a,this._layoutverticalgap);}}};_pControlElement._setElementLayoutVerticalGap=function(_a){if(this._layoutverticalgap!=_a){this._layoutverticalgap=_a;var _b=this.dest_handle;if(_b){nexacro.__setDOMStyle_LayoutGap(_b.style,this._layouthorizontalgap,_a);}}};_pControlElement._setElementFlexMainAxisAlign=function(_a){if(this._flexmainaxisalign!=_a){this._flexmainaxisalign=_a=this._getPropertyFlexAlign(_a);var _b=this.dest_handle;if(_b){nexacro.__setDOMStyle_FlexMainAxisAlign(_b.style,_a);}}};_pControlElement._setElementFlexCrossAxisAlign=function(_a){if(this._flexcrossaxisalign!=_a){this._flexcrossaxisalign=_a=this._getPropertyFlexAlign(_a);var _b=this.dest_handle;if(_b){nexacro.__setDOMStyle_FlexCrossAxisAlign(_b.style,_a);}}};_pControlElement._setElementFlexCrossAxisWrapAlign=function(_a){if(this._flexcrossaxiswrapalign!=_a){this._flexcrossaxiswrapalign=_a=this._getPropertyFlexAlign(_a);var _b=this.dest_handle;if(_b){nexacro.__setDOMStyle_FlexCrossAxisWrapAlign(_b.style,_a);}}};_pControlElement._setElementFlexWrap=function(_a){if(this._flexwrap!=_a){this._flexwrap=_a;var _b=this.dest_handle;if(_b){nexacro.__setDOMStyle_FlexWrap(_b.style,_a);}}};_pControlElement._setElementLayoutSpacing=function(_a){if(this._layoutspacing!=_a){this._layoutspacing=_a;var _b=this.dest_handle;if(_b){nexacro.__setDOMStyle_LayoutSpacing(_b.style,_a,this.rtl);}}};_pControlElement._setElementTableCellAlign=function(_a){if(this._tablecellalign!=_a){this._tablecellalign=_a;var _b=this._parseLayoutCellAlign(_a);if(_b&&_b.length==2){this._tablecellhalign=_b[0];this._tablecellvalign=_b[1];}var _c=this.dest_handle;if(_c){if(this._tablecellhalign){nexacro.__setDOMStyle_TableCellHAlign(_c.style,this._tablecellhalign);}if(this._tablecellvalign){nexacro.__setDOMStyle_TableCellVAlign(_c.style,this._tablecellvalign);}}}};_pControlElement._setElementTableCellinCompAlign=function(_a){if(this._tablecellincompalign!=_a){this._tablecellincompalign=_a;var _b=this._parseLayoutCellAlign(_a);if(_b&&_b.length==2){this._tablecellincomphalign=_b[0];this._tablecellincompvalign=_b[1];}var _c=this.dest_handle;if(_c){if(this._tablecellincomphalign){nexacro.__setDOMStyle_TableCellinCompHAlign(_c.style,this._tablecellincomphalign);}if(this._tablecellincompvalign){nexacro.__setDOMStyle_TableCellinCompHAlign(_c.style,this._tablecellincompvalign);}}}};_pControlElement._setElementTableDirection=function(_a){if(this._tabledirection!=_a){this._tabledirection=_a;var _b=this.dest_handle;if(_b){nexacro.__setDOMStyle_TableDirection(_b.style,_a);}}};_pControlElement._setElementTableTemplate=function(_a){if(this._tabletemplate!=_a){_a=_a?_a.split("*").join("fr"):"";this._tabletemplate=_a;var _b=this.dest_handle;if(_b){if(_a){nexacro.__setDOMStyle_TableTemplate(_b.style,_a);}else{nexacro.__clearDOMStyle_TableTemplate(_b.style);}}}};_pControlElement._setElementTableTemplateArea=function(_a){if(this._tabletemplatearea!=_a){this._tabletemplatearea=_a;var _b=this.dest_handle;if(_b){if(_a){nexacro.__setDOMStyle_TableTemplateArea(_b.style,_a);}else{nexacro.__clearDOMStyle_TableTemplateArea(_b.style);}}}};_pControlElement._refreshAccessibilityInfo=nexacro._emptyFn;_pControlElement._getAccessibilityInfoStr=function(){return "";};_pControlElement._setAccessibility_notify=nexacro._emptyFn;_pControlElement.setElementAccessibilityEnable=nexacro._emptyFn;_pControlElement.setElementAccessibilityDescLevel=nexacro._emptyFn;_pControlElement.setElementAccessibilityValue=nexacro._emptyFn;_pControlElement.setElementAccessibilityStatDisabled=nexacro._emptyFn;_pControlElement.setElementAccessibilityStatChecked=nexacro._emptyFn;_pControlElement.setElementAccessibilityStatPressed=nexacro._emptyFn;_pControlElement.setElementAccessibilityStatSelected=nexacro._emptyFn;_pControlElement.setElementAccessibilityStatExpanded=nexacro._emptyFn;_pControlElement.setElementAccessibilityStatAutoComplete=nexacro._emptyFn;_pControlElement.setElementAccessibilityFlagHasPopup=nexacro._emptyFn;_pControlElement.setElementAccessibilityFlagFocusable=nexacro._emptyFn;_pControlElement.setElementAccessibilityFlagPassword=nexacro._emptyFn;_pControlElement.setElementAccessibilityFlagMultiSelectable=nexacro._emptyFn;_pControlElement.setElementAccessibilityFlagDefaultButton=nexacro._emptyFn;_pControlElement.setElementAccessibilityFlagMultiLine=nexacro._emptyFn;_pControlElement.setElementAccessibilityInfoCount=nexacro._emptyFn;_pControlElement.setElementAccessibilityInfoIndex=nexacro._emptyFn;_pControlElement.setElementAccessibilityInfoValueMax=nexacro._emptyFn;_pControlElement.setElementAccessibilityInfoValueMin=nexacro._emptyFn;_pControlElement.setElementAccessibilityInfoValueCur=nexacro._emptyFn;_pControlElement.setElementAccessibilityInfoLevel=nexacro._emptyFn;_pControlElement.setElementAccessibilityHotKey=nexacro._emptyFn;_pControlElement.setElementAccessibilityStatFocus=nexacro._emptyFn;_pControlElement.setElementAccessibilityStatKillFocus=nexacro._emptyFn;_pControlElement.setElementAccessibilityStatLive=nexacro._emptyFn;_pControlElement.notifyAccessibility=nexacro._emptyFn;_pControlElement._makeAccessibilityLabelbyReadtype=nexacro._emptyFn;_pControlElement.setElementAccessibilityParentLabel=nexacro._emptyFn;_pControlElement._updateElementAccessibilityLabel=nexacro._emptyFn;nexacro.ScrollableControlElement=function(_a,_b){this._p_parent=_a;this.parent_elem=_a;this._use_multiinner=_b;if(_b){this._client_elem=new nexacro._MultiInnerContainerElement(this);}else{this._client_elem=new nexacro._ContainerElement(this);}};var _pScrollableControlElement=nexacro._createPrototype(nexacro.ControlElement,nexacro.ScrollableControlElement);nexacro.ScrollableControlElement.prototype=_pScrollableControlElement;_pScrollableControlElement._type_name="ScrollableControlElement";_pScrollableControlElement.create=function(_a){var _b,_c,_d,_e;if(!this._is_popup){_b=(this._is_nc_element)?this.parent_elem:this.parent_elem.getContainerElement(this.position_step);if(_b&&_b.handle){if(!this.handle){this.owner_elem=_b;_c=_a._doc||_b._getRootWindowHandle();_d=_c.createElement("div");_d.id=this.name;_d._linked_element=this;this.handle=this.dest_handle=_d;nexacro.__setDOMNode_ClassName(_d,this._getElementClassName());_e=_d.style;if(!this._isFluid()||this._is_nc_element||!nexacro._is_native_fluidlayout){nexacro.__setDOMStyle_Pos(_e,this.left,this.top,this._isParentRtl());}nexacro.__setDOMStyle_Size(_e,this.width,this.height);this._refreshControl(_d,_e,_c);nexacro.__appendDOMNode(_b.dest_handle,_d);}}}else{_c=_a._doc;_b=_a;_d=_c.createElement("div");_d.id=this.name;_d._linked_element=this;this.handle=this.dest_handle=_d;nexacro.__setDOMNode_ClassName(_d,this._getElementClassName());_e=_d.style;nexacro.__setDOMStyle_Pos(_e,this.left,this.top);nexacro.__setDOMStyle_Size(_e,this.width,this.height);this._refreshControl(_d,_e,_c);this.handle=this.dest_handle=_d;if(this.linkedcontrol._findOwnerElementHandle){var _f=this.linkedcontrol._findOwnerElementHandle();if(_f.is_append){nexacro.__appendDOMNode(_f.owner_handle,_d);}else{_f.owner_handle.insertBefore(_d,_f.ref_handle);}this.owner_elem=_f.owner_handle._linked_element;}else{nexacro.__appendDOMNode(_b.dest_handle,_d);this.owner_elem=_b;}}if(this.handle){if(!this._client_elem.handle){this._client_elem.create(_a);}var _g=this._step_count;if(_g>0){this._step_containers=[];for(var _i=0;_i<_g;_i++ ){var _h=new nexacro._ContainerElement(this._client_elem,this._use_translate_scroll);_h.setElementPosition(_i* this.client_width,0);_h.setElementSize(this.client_width,this.container_maxheight);_h.create(_a);this._step_containers.push(_h);}if(this._client_elem._scroll_left!=this._client_elem.handle.scrollLeft){nexacro.__setDOMNode_HScrollPos(this._client_elem.handle,this._client_elem._scroll_left,this._isRtl());}}}};_pScrollableControlElement._on_destroy=function(){var _a=this.handle;if(_a){var _b=this._step_containers;if(_b){var _c=_b.length;for(var _e=0;_e<_c;_e++ ){var _d=_b[_e];_d.destroy();}this._step_containers=null;}}};_pScrollableControlElement._on_clearContents=function(){if(this.handle){var _a=this._step_containers;if(_a){var _b=_a.length;for(var _d=0;_d<_b;_d++ ){var _c=_a[_d];_c.destroy();}this._step_containers=null;}}};_pScrollableControlElement._setInnerElementScrollMaxTops=function(_a){if(!this._use_multiinner){return;}if(this._client_elem){this._client_elem._setScrollMaxTops(_a);}};_pScrollableControlElement.initElementInfo=function(){nexacro.ControlElement.prototype.initElementInfo.call(this);this._zclient_width=0;this._zclient_height=0;var _a=this.linkedcontrol;if(_a._is_scrollable){this._hscroll_control=null;this._vscroll_control=null;this._step_containers=null;this.zoom=100;this.scroll_left=0;this.scroll_top=0;if(this._client_elem){this._client_elem._setElementHScrollPos(0);this._client_elem._setElementVScrollPos(0);}this.container_maxwidth=0;this.container_maxheight=0;this.hscroll_limit=0;this.vscroll_limit=0;this._hscroll_size=0;this._vscroll_size=0;this._hscrollbartype="";this._vscrollbartype="";this._scrolltype="";this._scrollview_width_top=0;this._step_count=0;this._pre_step_count=0;this._step_index=-1;this._use_translate_scroll=_a._use_translate_scroll;this._use_container_move=_a._use_container_move;this.setElementScrollbarSize(_a._getHScrollBarSize(),_a._getVScrollBarSize(),_a._getHScrollBarType(),_a._getVScrollBarType(),_a.scrolltype);}else if(_a._is_expandable){this._expandbarwidth=0;this._expandbarheight=0;this._expandbartype=false;this._expanddirtype="horz";this._expandvisible=undefined;this._expandarrange=undefined;this._use_translate_scroll=false;this._use_container_move=false;this._on_updateClientRect=this._on_updateClientRectExpand;this._on_change_clientPos=this._on_change_clientPosExpand;this._on_change_clientSize=this._on_change_clientSizeExpand;}this._not_use_scrollLeft=_a._not_use_scrollLeft;this._not_use_scrollTop=_a._not_use_scrollTop;var _b=this._client_elem;if(_b){_b._not_use_scrollLeft=this._not_use_scrollLeft;_b._not_use_scrollTop=this._not_use_scrollTop;_b._use_translate_scroll=this._use_translate_scroll;_b._use_container_move=this._use_container_move;}};_pScrollableControlElement.setElementStepCount=function(_a){if(this._step_count!=_a){var _b=this._step_count;var _c=this._step_containers;var _d,_e;if(_c&&this._step_count){for(_d=0;_d<_b;_d++ ){_e=_c[_d];_e.destroy();}this._step_containers=null;}this._pre_step_count=this._step_count;this._step_count=_a;this._updateClientRect();if(this.handle&&_a>0){this._step_containers=[];for(_d=0;_d<_a;_d++ ){_e=new nexacro._ContainerElement(this._client_elem,this._use_translate_scroll);_e.setElementPosition(_d* this.client_width,0);_e.setElementSize(this.client_width,this.client_height);_e.create();this._step_containers.push(_e);}}}};_pScrollableControlElement.setElementStepIndex=function(_a){if(this._step_index!=_a){if(this._step_count>0){if(_a>-1&&this._step_count>_a){this._step_index=_a;}}else{this._step_index=_a;}}};_pScrollableControlElement.setElementZoom=function(_a){var _b=this.handle;if(_b){if(_a<0){_a=0;}this.zoom=_a;var _c=this.getContainerElement(this._step_index);if(_c){_c.setElementZoom(_a);}this._updateClientRect();}};_pScrollableControlElement.setElementScrollMaxSize=function(_a,_b){if(this.container_maxwidth!=_a||this.container_maxheight!=_b){this.container_maxwidth=_a;this.container_maxheight=_b;if(this._step_count){var _c=this.getContainerElement(this._step_index);if(_c){_c.setElementScrollMaxSize(this.client_width,_b);}}if(this._client_elem){this._client_elem.setElementScrollMaxSize(_a,_b);}this._updateClientRect();}};_pScrollableControlElement.setElementScrollbarSize=function(_a,_b,_c,_d,_e){var _f=false;if(this._vscroll_size!=_b||this._hscroll_size!=_a){this._vscroll_size=_b|0;this._hscroll_size=_a|0;_f=true;}if(this._hscrollbartype!=_c||this._vscrollbartype!=_d){this._hscrollbartype=_c;this._vscrollbartype=_d;_f=true;}if(this._scrolltype!=_e){this._scrolltype=_e;var _g=this._client_elem;if(_g&&this._scrolltype!="none"){_g._setElementScrolltype(this._getElementScrollType(_e));}_f=true;}if(_f){this._updateClientRect();}return _f;};_pScrollableControlElement.setElementExpandbarSize=function(_a,_b,_c,_d,_e){var _f=false;if(this._expandbarwidth!=_a[0]){this._expandbarwidth= +_a[0];_f=true;}if(this._expandbarheight!=_a[1]){this._expandbarheight= +_a[1];_f=true;}if(this._expandbartype!=_b){this._expandbartype=_b;_f=true;}if(this._expanddirtype!=_c){this._expanddirtype=_c;_f=true;}if(this._expandvisible!=_d){this._expandvisible=_d;_f=true;}if(this._expandarrange!=_e){this._expandarrange=_e;_f=true;}if(_f){this._updateClientRect();}return _f;};_pScrollableControlElement.getContainerElement=function(_a){var _b=this._step_count;var _c=this._step_index;var _d=this._step_containers;if(_b>0&&_d&&_b>_a){if(_a<0||_a==null){_a=(_c>-1?_c:0);}return _d[_a];}else{return this._client_elem;}};_pScrollableControlElement.getElementScrollLeft=function(){var _a=this.getContainerElement(this.position_step);if(!_a){return 0;}return _a.getElementScrollLeft();};_pScrollableControlElement.getElementScrollTop=function(){var _a=this._client_elem;if(!_a){return 0;}return _a.getElementScrollTop();};_pScrollableControlElement.getElementScrollWidth=function(){var _a=this.getContainerElement(this.position_step);if(!_a){return 0;}return _a.getElementScrollWidth();};_pScrollableControlElement.getElementScrollHeight=function(){var _a=this._client_elem;if(!_a){return 0;}return _a.getElementScrollHeight();};_pScrollableControlElement.setElementVScrollPos=function(_a){if(_a<0){_a=0;}if(_a>this.vscroll_limit){_a=this.vscroll_limit;}if(this.scroll_top!=_a||this._reset_scrollpos){this.scroll_top=_a;if(this._step_count>0){this.getContainerElement(this._step_index)._setElementVScrollPos(_a);}else if(this._use_container_move){this._client_elem._setElementVScrollPos(_a);}if(this.linkedcontrol){this.linkedcontrol._setVscrollPos(_a);}}};_pScrollableControlElement._updateClientRect=function(){var _a=this._on_updateClientRect();if(_a&1){this._on_change_clientPos(this.client_left,this.client_top);}if(_a&2){this._on_change_clientSize(this._zclient_width,this._zclient_height);}};_pScrollableControlElement._on_change_clientPos=function(_a,_b){var _c=this._step_count;var _d=this._step_index;var _e=this._step_containers;var _f=this._zclient_width;var _g;var _h;if(this._apply_client_padding){if(this._client_elem){if(_c>0&&_e){for(_g=0;_g<_c;_g++ ){_h=_e[_g];_h.setElementPosition(_f* _g,0);if(_g==_d&&this._use_translate_scroll){_h.setElementSize(_f,this.container_maxheight);}}}else{this._client_elem.setElementPosition(_a,_b);}}else if(this.handle&&this.handle!=this.dest_handle){var _i=this.dest_handle;nexacro.__setDOMStyle_Pos(_i.style,_a,_b);}}else if(this._client_elem){this._client_elem.setElementPosition(_a,_b);if(_c>0&&_e){for(_g=0;_g<_c;_g++ ){_h=_e[_g];_h.setElementPosition(_f* _g,0);}_d=this._step_index;var _j=_f* _d;if(this.scroll_left!=_j){this.scroll_left=_j;this._client_elem._setElementHScrollPos(_j);}}}var _k=this.linkedcontrol;if(_k){_k.on_change_containerPos(_a,_b);}};_pScrollableControlElement._on_change_clientPosExpand=function(_a,_b){var _c=this._client_elem;if(_c){_c.setElementPosition(_a,_b);}else{var _d=this.handle;var _e=this.dest_handle;if(_d&&_d!=_e&this._apply_client_padding){nexacro.__setDOMStyle_Pos(_e.style,_a,_b);}}var _f=this.linkedcontrol;if(_f){_f.on_change_containerPos(_a,_b);}};_pScrollableControlElement._on_change_clientSize=function(_a,_b){var _c=this.handle;var _d=this.dest_handle;var _e=this._client_elem;var _f=this._zclient_width;var _g=Math.max(_a,this.container_maxwidth);var _h=Math.max(_b,this.container_maxheight);var _i=this._step_count;var _j=this._step_containers;var _k;var _l;if(this._apply_client_padding){if(_e){_e.setElementSize(_a,_b);if(_i>0&&_j){if(this._use_translate_scroll){for(_l=0;_l<_i;_l++ ){_k=_j[_l];if(_k){_k.setElementSize(_a,_h);_d=_k.dest_handle;if(_d){nexacro.__setDOMStyle_Size(_d.style,_a,_h);}}}}else if(this._use_container_move){for(_l=0;_l<_i;_l++ ){_k=_j[_l];if(_k){_k.setElementSize(_f,_b);_d=_k.dest_handle;if(_d){nexacro.__setDOMStyle_Size(_d.style,_a,_b);}}}}}}else if(_c&&_c!=_d){nexacro.__setDOMStyle_Size(_d.style,_a,_b);}}else{if(_e){if(_i>0&&_j){for(_l=0;_l<_i;_l++ ){_k=_j[_l];if(_k){_k.setElementSize(_f,_h);}}}else{_e.setElementSize(_a,_b);}}}if(_e&&_e._use_translate_scroll){if(this._use_multiinner){_e.setElementScrollMaxSize(_g,_h);}else{if(_e.dest_handle){nexacro.__setDOMStyle_Size(_e.dest_handle.style,_g,_h);}}}var _m=this.linkedcontrol;if(_m){_m.on_change_containerRect(_a,_b);}};_pScrollableControlElement._on_change_clientSizeExpand=function(_a,_b){var _c=this._client_elem;if(_c){_c.setElementSize(_a,_b);}else{var _d=this.handle;var _e=this.dest_handle;if(_d&&_d!=_e&this._apply_client_padding){nexacro.__setDOMStyle_Size(_e.style,_a,_b);}}var _f=this.linkedcontrol;if(_f){_f.on_change_containerRect(_a,_b);}};_pScrollableControlElement._setAttachCliendTop=function(_a){if(this._attach_client_top!=_a){this._attach_client_top=_a;this._updateClientRect();}};_pScrollableControlElement._on_updateClientRect=function(){var _a=0;var _b=0;var _c=this.inner_width;var _d=this.inner_height;var _e=this.client_width;var _f=this.fittocontents;if(this._apply_client_padding){var _g=this.padding?this.padding:this._padding_info;if(_g){_a=_g.left;_b=_g.top;_c-=_g.left+_g.right;_d-=_g.top+_g.bottom;}}if(this._attach_client_top>0){_b+=this._attach_client_top;_d-=this._attach_client_top;if(_d<0){_d=0;}}var _h=this._client_elem;if(!_h){return 0;}var _i=this.zoom/100;var _j=this._zclient_width=_c/_i;var _k=this._zclient_height=_d/_i;var _l=this.container_maxwidth;var _m=this.container_maxheight;var _n=this._contents_maxwidth;var _o=this._contents_maxheight;var _p=this._has_contents_size;var _q=this.scroll_left;var _r=this.scroll_top;var _s=this._step_count;var _t=this._pre_step_count;var _u=false;_u=_s!=_t;var _v=this._step_containers;if((_s>0&&_v)||_u){_l=_s* _j;}var _w=false;var _x=false;var _y=0;var _z=0;var _aa=this._hscrollbartype;var _ab=this._vscrollbartype;var _ac=this._scrolltype;if((_s>0&&_v)||_u){_aa="none";}if(nexacro._isAlmostGreater(_l,_j)){if(_f!="width"&&_f!="both"&&_aa!="none"&&_aa!="autoindicator"){_d-=this._hscroll_size;_k=_d/_i;}_y=_l-_j;}else{if(_aa=="fixed"){_d-=this._hscroll_size;_k=_d/_i;}}if(nexacro._isAlmostGreater(_m,_k)&&(_p?nexacro._isAlmostGreater(_o,_k):true)){_z=_m-_k;if(_f!="height"&&_f!="both"&&_ab!="none"&&_ab!="autoindicator"){_c-=this._vscroll_size;_j=_c/_i;}if(nexacro._isAlmostGreater(_l,_j)&&(_p?nexacro._isAlmostGreater(_n,_j):true)){if(_f!="width"&&_f!="both"&&_aa!="none"&&_aa!="autoindicator"&&_y==0){_d-=this._hscroll_size;_k=_d/_i;_z+=this._hscroll_size;}_y=_l-_j;}else if(nexacro._isAlmostGreater(_l,_e)){_y=_l-_e;}}else{if(_ab=="fixed"){_c-=this._vscroll_size;_j=_c/_i;if(nexacro._isAlmostGreater(_l,_j)){_y=_l-_j;}else if(nexacro._isAlmostGreater(_l,_e)){_y=_l-_e;}}}if((_s>0&&_v)||_u){_l=_s* _j;if(nexacro._isAlmostGreater(_l,_j)){_y=_l-_j;}}if(this.hscroll_limit!=_y){_x=true;this.hscroll_limit=_y;if(_q>_y&&_y>=0){this.setElementHScrollPos(_y);}}if(this.vscroll_limit!=_z){_w=true;this.vscroll_limit=_z;if(_r>_z&&_z>=0){this.setElementVScrollPos(_z);}}this._zclient_width=_j;this._zclient_height=_k;var _ad=0;if(this.client_left!=_a||this.client_top!=_b){this.client_left=_a;this.client_top=_b;_ad=1;}else if(_s>0){_ad=1;}var _ae=this.client_width!=_c;var _af=this.client_height!=_d;if(_ae||_af){this.client_width=_c;this.client_height=_d;_ad+=2;}else if(this.client_width!=_j||this.client_height!=_k){_ad+=2;}else if(_x||_w){_ad+=2;}return _ad;};_pScrollableControlElement._on_updateClientRectExpand=function(){var _a=0;var _b=0;var _c=0;var _d=this.inner_width;var _e=this.inner_height;if(!this._client_elem){return _a;}if(this._apply_client_padding){var _f=this.padding?this.padding:this._padding_info;if(_f){_b=_f.left;_c=_f.top;_d-=_f.left+_f.right;_e-=_f.top+_f.bottom;}}if(this._expandbartype&&this._expanddirtype=="vert"){_e-=this._expandbarheight;}if(this._expandbartype&&this._expanddirtype=="horz"){_d-=this._expandbarwidth;}if(this.client_left!=_b||this.client_top!=_c){this.client_left=_b;this.client_top=_c;_a=1;}if(this.client_width!=_d||this.client_height!=_e){this.client_width=this._zclient_width=_d;this.client_height=this._zclient_height=_e;_a+=2;}return _a;};_pScrollableControlElement._getElementScrollType=function(_a){var _b=0x11;if(_a=="both"){_b=0x00;}else if(_a=="horizontal"){_b=0x01;}else if(_a=="vertical"){_b=0x10;}return _b;};_pScrollableControlElement._setElementContentsMaxSize=function(_a,_b){if(this._contents_maxwidth!=_a||this._contents_maxheight!=_b){this._contents_maxwidth=_a;this._contents_maxheight=_b;this._has_contents_size=true;}};nexacro.FrameControlElement=function(_a){this._p_parent=_a;this.parent_elem=_a;this._border_elems=new nexacro.Collection();};var _pFrameControlElement=nexacro._createPrototype(nexacro.ControlElement,nexacro.FrameControlElement);nexacro.FrameControlElement.prototype=_pFrameControlElement;_pFrameControlElement._type_name="FrameControlElement";_pFrameControlElement._title_control=null;_pFrameControlElement._status_control=null;_pFrameControlElement._title_height=0;_pFrameControlElement._status_height=0;_pFrameControlElement._title_top=0;_pFrameControlElement._title_width=0;_pFrameControlElement._status_top=0;_pFrameControlElement._status_width=0;_pFrameControlElement._max_child_zindex=0;_pFrameControlElement._is_window_element=false;_pFrameControlElement._resizable=false;_pFrameControlElement._doc=null;_pFrameControlElement.create=function(_a){var _b,_c,_d,_e,_f;if(!this.handle){if(this.parent_elem==null){_b=this._doc=_a._doc;this.owner_elem=_a;this._is_window_element=true;this.left=0;this.top=0;if(nexacro._allow_default_pinchzoom){this.width=nexacro._getWindowHandleClientWidth(_a.handle);this.height=nexacro._getWindowHandleClientHeight(_a.handle);}else{this.width=_a.clientWidth;this.height=_a.clientHeight;}_c=_a.dest_handle;_c.id=this.name;_c._linked_element=this;this.handle=this.dest_handle=_c;nexacro.__setDOMNode_ClassName(_c,this._getElementClassName());if(!this._is_simple_control){_e=_b.createElement("div");this.dest_handle=_e;nexacro.__setDOMNode_ClassName(_e,this._getElementNexaClassName("nexasimplecontainer"));var _g=this.parent;var _h=(_g._is_window)?"nexacontainer":(this.name+":container");nexacro.__setDOMNode_Id(_e,"",_h);nexacro.__appendDOMNode(_c,_e);_f=_e.style;nexacro.__setDOMStyle_Pos(_f,this.client_left,this.client_top);nexacro.__setDOMStyle_Size(_f,this.client_width,this.client_height);}_d=_c.style;if(!nexacro._allow_default_pinchzoom&&nexacro._isDesktop()){nexacro.__setDOMStyle_Fixed(_d);}this._refreshControl(_c,_d,_b);nexacro.__setDOMStyle_BorderNone(_d,true,true,true,true,this.border,this.rtl);}else{var _i=(this._is_nc_element)?this.parent_elem:this.parent_elem.getContainerElement();if(_i&&_i.handle&&!this.handle){this.owner_elem=_i;_b=_i._getRootWindowHandle();_c=_b.createElement("div");_c.id=this.name;_c._linked_element=this;this.handle=this.dest_handle=_c;nexacro.__setDOMNode_ClassName(_c,this._getElementClassName());_d=_c.style;if(_i instanceof nexacro.ModalOverlayElement){if(!nexacro._allow_default_pinchzoom&&nexacro._isDesktop()){nexacro.__setDOMStyle_Fixed(_d);}}if(!this._is_simple_control){_e=_b.createElement("div");this.dest_handle=_e;nexacro.__setDOMNode_ClassName(_e,this._getElementNexaClassName("nexasimplecontainer"));var _g=this.parent;var _h=(_g._is_window==true)?"nexacontainer":(this.name+":container");nexacro.__setDOMNode_Id(_e,"",_h);nexacro.__appendDOMNode(_c,_e);_f=_e.style;nexacro.__setDOMStyle_Pos(_f,this.client_left,this.client_top);if(this.client_width&&this.client_height){nexacro.__setDOMStyle_Size(_f,this.client_width,this.client_height);}}nexacro.__setDOMStyle_Pos(_d,this.left,this.top);if(this.width&&this.height){nexacro.__setDOMStyle_Size(_d,this.width,this.height);}this._refreshControl(_c,_d,_b);nexacro.__appendDOMNode(_i.dest_handle,_c);}}if(this._resizable){this._createBorderElements();this._updateBorderElementsPosition();}}else{if(this.parent_elem==null){var _j=_a;if(this.handle!=_j.dest_handle){var _k=this.handle;_b=this._doc=_j._doc;_c=_j.dest_handle;this.owner_elem=_j;this._is_window_element=true;this.left=0;this.top=0;this.width=_j.clientWidth;this.height=_j.clientHeight;_c.id=this.name;_c._linked_element=this;this.handle=this.dest_handle=_c;_d=_c.style;if(this.border){this.border=null;}this._title_height=0;this._status_height=0;nexacro.__setDOMStyle_Pos(_d,this.left,this.top);if(this.width&&this.height){nexacro.__setDOMStyle_Size(_d,this.width,this.height);}this._refreshControl(_c,_d,_b);if(_k.hasChildNodes()){var _l=_k.childNodes;for(var _n=0;_n<_l.length;_n++ ){var _m=_l[_n];nexacro.__appendDOMNode(_c,_m);}}}}}};_pFrameControlElement._on_destroy=function(){this._destroyBorderElements();this._title_control=null;this._status_control=null;};_pFrameControlElement.setElementCSSMapInfo=function(_a,_b,_c){if(this.linkedcontrol&&this.linkedcontrol._is_window){_a=null;}nexacro.ControlElement.prototype.setElementCSSMapInfo.call(this,_a,null,_c);};_pFrameControlElement._getRootWindowHandle=function(){if(this._is_window_element){return this._doc;}else if(this.owner_elem){return this.owner_elem._getRootWindowHandle();}else if(this.parent&&this.parent._getRootWindowHandle){return this.parent._getRootWindowHandle();}return null;};_pFrameControlElement.setElementBorder=function(_a){if(this.linkedcontrol&&this.linkedcontrol._is_window){return;}nexacro.ControlElement.prototype.setElementBorder.call(this,_a);};_pFrameControlElement._updateClientRect=function(){var _a=this._on_updateClientRect();if(_a&1){this._on_change_clientPos(this.client_left,this.client_top);}if(_a&2){this._on_change_clientSize(this.client_width,this.client_height);}if(_a){this._updateBorderElementsPosition();}};_pFrameControlElement._on_updateClientRect=function(){var _a=0;var _b=0;var _c=this.inner_width;var _d=this.inner_height;if(this._apply_client_padding){var _e=(this.padding||this._padding_info);if(_e){_a=_e.left;_b=_e.top;_c-=_e.left+_e.right;_d-=_e.top+_e.bottom;}}var _f=this._title_control;if(_f){if(!this._is_verticalmin&&(this.client_left!=_a||this._title_top!=_b||this._title_width!=_c)){this._title_top=_b;this._title_width=_c;_f.move(_a,_b,_c,this._title_height);}else if(this._is_verticalmin&&(this.client_top!=_b||this._title_top!=_b||this._title_height!=_d)){this._title_top=_b;this._title_width=_c;_f.move(_a,_b,_c,_d);}_b+=this._title_height;_d-=this._title_height;if(_d<0){_d=0;}}else{this._title_top=_b;}var _g=this._status_control;if(_g){if(this._status_height>0){_d-=this._status_height;if(_d<0){_d=0;}}var _h=_b+_d;if(this.client_left!=_a||this._status_top!=_h||this._status_width!=_c){this._status_top=_h;this._status_width=_c;_g.move(_a,_h,_c,this._status_height);}}else{this._status_top=_b+_d;}var _i=0;if(this.client_left!=_a||this.client_top!=_b){this.client_left=_a;this.client_top=_b;_i=1;}if(this.client_width!=_c||this.client_height!=_d){this.client_width=_c;this.client_height=_d;_i+=2;}return _i;};_pFrameControlElement.appendChildElement=function(_a){if(this.handle){if(!this._client_elem){return;}if(_a.parent_elem==this._client_elem){_a._is_nc_element=true;}else{if(_a.handle){var _b=_a._getRootWindowHandle();var _c=this._getRootWindowHandle();if(_b!=_c){_a.parent_elem=this._client_elem;_a._removeFromContainer();}else{_a.parent_elem=this._client_elem;}}else{_a.parent_elem=this._client_elem;}}_a._is_nc_element=true;_a.setElementPosition(0,0);_a.setElementSize(this.client_width,this.client_height);if(!_a.handle){_a.create();}else{_a._appendToContainer(this._client_elem);}}};_pFrameControlElement.removeChildElement=function(_a){if(_a.parent_elem==this){_a._removeFromContainer();}};_pFrameControlElement.sendToBackElement=function(_a){if(_a&&_a.owner_elem&&_a.owner_elem.owner_elem==this.owner_elem&&_a.handle){nexacro.__sendDOMNodeToBack(_a.handle);if(_a._border_elems){for(var _b=0;_b<_a._border_elems.length;_b++ ){nexacro.__sendDOMNodeToBack(_a._border_elems[_b].handle);}}}};_pFrameControlElement.bringToFrontElement=function(_a){if(this.handle){this._max_child_zindex++ ;var _b=(this._max_child_zindex* 10);_a.setElementZIndex(_b);if(_a._border_elems){for(var _c=0;_c<_a._border_elems.length;_c++ ){_a._border_elems[_c].setElementZIndex(_b+(_c+1));}}}};_pFrameControlElement.moveToNextElement=function(_a,_b){var _c=this.getContainerElement(_a.position_step);_c.moveToNextElement(_a,_b);};_pFrameControlElement.moveToPrevElement=function(_a,_b){var _c=this.getContainerElement(_a.position_step);_c.moveToPrevElement(_a,_b);};_pFrameControlElement.setTitleBarControl=function(_a,_b){this._title_control=_a;if(_a){this._title_height=parseInt(_b)|0;this._title_width=0;}else{this._title_height=0;this._title_width=0;}this._updateClientRect();};_pFrameControlElement.setStatusBarControl=function(_a,_b){this._status_control=_a;if(_a){this._status_height=parseInt(_b)|0;this._status_width=0;}else{this._status_height=0;this._status_width=0;}this._updateClientRect();};_pFrameControlElement._createBorderElements=function(){if(this.parent==null||this.parent_elem==null){return;}if(this._border_elems.length>0){return;}var _a,_b;var _c=Array("lt","t","rt","l","r","lb","b","rb");for(_a=0;_a<8;_a++ ){_b=new nexacro._FrameResizeBorderElement(this.parent_elem);_b.parent=this;this._border_elems.add_item(_c[_a],_b);}this._setResizable(this._resizable);var _d=this.linkedcontrol._getWindow();for(_a=0;_a<8;_a++ ){_b=this._border_elems[_a];_b.linkedcontrol=this.linkedcontrol;_b.create(_d);}};_pFrameControlElement._destroyBorderElements=function(){var _a=this._border_elems.length;for(var _b=0;_b<_a;_b++ ){this._border_elems[_b].destroy();this._border_elems[_b]=null;}this._border_elems.clear();this._border_elems=null;};_pFrameControlElement.setElementPosition=function(_a,_b){nexacro.ControlElement.prototype.setElementPosition.call(this,_a,_b);this._updateBorderElementsPosition();};_pFrameControlElement._updateBorderElementsPosition=function(){if(this._border_elems.length==0){return;}var _a=this.border||this._border_info;var _b=0,_c=0,_d=0,_e=0;if(_a){if(_a._single==1){_b=_c=_d=_e=_a._getBorderWidth();}else{_b=_a.left._width;_c=_a.top._width;_d=_a.right._width;_e=_a.bottom._width;}}var _f=this.inner_width;var _g=this.inner_height;if(_b<5){var _h=5-_b;_b+=_h;_f-=_h;}if(_c<5){var _i=5-_c;_c+=_i;_g-=_i;}if(_d<5){var _j=5-_d;_d+=_j;_f-=_j;}if(_e<5){var _k=5-_e;_e+=_k;_g-=_k;}var _l=this.left;var _m=this.top;var _n=_l;var _o=_m;var _p;for(_p=0;_p<8;_p++ ){this._border_elems[_p].setElementPosition(_n,_o);switch(_p){case 0:_n+=_b;break;case 1:_n+=_f;break;case 2:_n=_l;_o+=_c;break;case 3:_n+=(_b+_f);break;case 4:_n=_l;_o+=_g;break;case 5:_n+=_b;break;case 6:_n+=_f;break;case 7:break;}}var _q,_r;for(_p=0;_p<8;_p++ ){if(_p==0||_p==3||_p==5){_q=_b;}if(_p==1||_p==6){_q=_f;}if(_p==2||_p==4||_p==7){_q=_d;}if(_p<3){_r=_c;}else if(_p<5){_r=_g;}else{_r=_e;}this._border_elems[_p].setElementSize(_q,_r);}};_pFrameControlElement._setResizable=function(_a){this._resizable=_a;if(this.handle){if(this._border_elems.length==0){if(_a){this._createBorderElements();this._updateBorderElementsPosition();}else{return;}}var _b=Array("nw","n","ne","w","e","sw","s","se");for(var _f=0;_f<8;_f++ ){var _c=this._border_elems[_f];_c._is_track=_a;var _d;if(_a){_d=nexacro.CursorObject(_b[_f]+"-resize");}else{_d=nexacro.CursorObject("arrow");}_c.setElementCursor(_d);}}var _e=this._status_control;if(_e){_e.set_resizable(_a);}};nexacro._FrameResizeBorderElement=function(_a){this._p_parent=_a;this.parent_elem=_a;};var __pFrameResizeBorderElement=nexacro._createPrototype(nexacro.ControlElement,nexacro._FrameResizeBorderElement);nexacro._FrameResizeBorderElement.prototype=__pFrameResizeBorderElement;__pFrameResizeBorderElement._type_name="FrameResizeBorderElement";__pFrameResizeBorderElement._is_simple_control=true;__pFrameResizeBorderElement.create=function(_a){var _b=(this._is_nc_element)?this.parent_elem:this.parent_elem.getContainerElement();if(_b&&_b.handle&&!this.handle){this.owner_elem=_b;var _c=_a._doc||_b._getRootWindowHandle();var _d=_c.createElement("div");_d._linked_element=this;this.handle=this.dest_handle=_d;var _e=_d.style;nexacro.__setDOMStyle_Pos(_e,this.left,this.top);nexacro.__setDOMStyle_Size(_e,this.width,this.height);this._refreshControl(_d,_e,_c);nexacro.__appendDOMNode(this._is_nc_element?_b.handle:_b.dest_handle,_d);}};__pFrameResizeBorderElement._on_starttrack=function(){this.linkedcontrol._on_border_starttrack(this.cursor);};__pFrameResizeBorderElement._on_endtrack=function(_a,_b,_c){this.linkedcontrol._on_border_endtrack(_a,_b,_c);};__pFrameResizeBorderElement._on_movetrack=function(_a,_b,_c){this.linkedcontrol._on_border_movetrack(_a,_b,_c);};__pFrameResizeBorderElement._updateClientRect=nexacro._emptyFn;nexacro.ModalOverlayElement=function(_a){this._p_parent=_a;this.parent_elem=_a;};var _pModalOverlayElement=nexacro._createPrototype(nexacro.ControlElement,nexacro.ModalOverlayElement);nexacro.ModalOverlayElement.prototype=_pModalOverlayElement;_pModalOverlayElement._type_name="ModalOverlayElement";_pModalOverlayElement.create=function(_a){if(this.parent_elem&&!this.handle){var _b=this._doc=this.parent_elem._getRootWindowHandle();var _c=_b.createElement("div");_c._linked_element=this;this.handle=this.dest_handle=_c;var _d=_c.style;nexacro.__setDOMNode_ClassName(_c,this._getElementNexaClassName("nexamodaloverlay"));nexacro.__setDOMNode_Id(_c,"",this.name+":container");nexacro.__setDOMStyle_Pos(_d,0,0);nexacro.__setDOMStyle_Size(_d,_a.clientWidth,_a.clientHeight);var _e=_a.frame.getElement();var _f=_a.frame._getWaitComponentElement();var _g=null;if(_f){_g=_f.handle;}if(_g){_e.dest_handle.insertBefore(_c,_g);}else{nexacro.__appendDOMNode(_e.dest_handle,_c);}this._refreshControl(_c,_c.style,_b);this._createBackgroundElement(_b,_c,_a.clientWidth,_a.clientHeight);if(nexacro._isDesktop()){if(nexacro._Browser=="Chrome"||nexacro._Browser=="Edge"){var _h=this._getWindow();if(_h){this.setElementZoom(_h._wheelZoom);}}}if(nexacro._enableaccessibility&&nexacro._accessibilitytype==5){nexacro.__removeHTMLAttr_Proeprty(_c,"tabindex");}}};_pModalOverlayElement._iframe_eventhandler_onmouseup=function(_a){return nexacro._syshandler_onmouseup(window.nexacro_HTMLSysEvent,null,_a);};_pModalOverlayElement._iframe_eventhandler_onmousemove=function(_a){return nexacro._syshandler_onmousemove(window.nexacro_HTMLSysEvent,null,_a);};_pModalOverlayElement._iframe_eventhandler_oncontextmenu=function(_a){return nexacro._stopSysEvent(_a);};_pModalOverlayElement.destroy=function(){if(!this.handle){return;}var _a=this.linkedcontrol._getWindow();var _b=_a.frame.getElement();this._destroyBackgroundElement(this.handle);nexacro.__removeDOMNode(_b.dest_handle,this.handle);this.handle=null;};_pModalOverlayElement.setElementSize=function(_a,_b,_c){nexacro.Element.prototype.setElementSize.call(this,_a,_b,_c);};_pModalOverlayElement._createBackgroundElement=nexacro._emptyFn;_pModalOverlayElement._destroyBackgroundElement=nexacro._emptyFn;_pModalOverlayElement._getRootWindowHandle=function(){return this._doc;};nexacro._OverlayElement=function(_a){this._p_parent=_a;this.parent_elem=_a;this.background=nexacro.BackgroundObject("grey");this.opacity=nexacro.OpacityObject(0.1);};var _pOverlayElement=nexacro._createPrototype(nexacro.ModalOverlayElement,nexacro._OverlayElement);nexacro._OverlayElement.prototype=_pOverlayElement;_pOverlayElement._type_name="OverlayElement";_pOverlayElement.create=function(_a){if(this.parent_elem&&!this.handle){var _b=this._doc=this.parent_elem._getRootWindowHandle();var _c=_b.createElement("div");_c._linked_element=this;this.handle=this.dest_handle=_c;var _d=_c.style;nexacro.__setDOMNode_ClassName(_c,this._getElementNexaClassName("nexamodaloverlay"));nexacro.__setDOMNode_Id(_c,"",this.name+":container");nexacro.__setDOMStyle_Pos(_d,0,0);var _e=this.parent.getElement();nexacro.__appendDOMNode(_e.dest_handle,_c);this._refreshControl(_c,_c.style,_b);this._createBackgroundElement(_b,_c);if(nexacro._enableaccessibility&&nexacro._accessibilitytype==5){nexacro.__removeHTMLAttr_Proeprty(_c,"tabindex");}}};_pOverlayElement=null;nexacro._ContainerElement=function(_a,_b,_c,_d){this._p_parent=_a;this.parent_elem=_a;this._use_translate_scroll=nexacro._isUndefined(_b)?true:_b;this.type=(_c)?_c:"";this._use_onscroll_inner=_d;};var __pContainerElement=nexacro._createPrototype(nexacro.Element,nexacro._ContainerElement);nexacro._ContainerElement.prototype=__pContainerElement;__pContainerElement._type_name="ContainerElement";__pContainerElement._scroll_left=0;__pContainerElement._scroll_top=0;__pContainerElement._scroll_maxwidth=0;__pContainerElement._scroll_maxheight=0;__pContainerElement._cached_scrollLeft=0;__pContainerElement._cached_scrollTop=0;__pContainerElement._is_nc_element=true;__pContainerElement._use_translate_scroll=true;__pContainerElement._use_container_move=true;__pContainerElement.type="";__pContainerElement._layoutbasis=null;__pContainerElement._layouttype="default";__pContainerElement._layouthorizontalgap=undefined;__pContainerElement._layoutverticalgap=undefined;__pContainerElement._flexmainaxisalign="";__pContainerElement._flexcrossaxisalign="";__pContainerElement._flexcrossaxiswrapalign="";__pContainerElement._flexwrap="";__pContainerElement._tablecellalign="";__pContainerElement._tablecellhalign="";__pContainerElement._tablecellvalign="";__pContainerElement._tablecellincompalign="";__pContainerElement._tablecellincomphalign="";__pContainerElement._tablecellincompvalign="";__pContainerElement._tabletemplate="";__pContainerElement._tabletemplatearea="";__pContainerElement._tabledirection="";__pContainerElement._layoutspacing="";var _bind_container_scroll_handler_after=nexacro._emptyFn;var _bind_container_scroll_handler=function(_a){return function(_b){if(!_b&&window.event){_b=window.event;}var _c=_b.srcElement||_b.target;if(!_c){return;}_b._node_activate_scroll=undefined;if(_a._use_translate_scroll){_c.scrollLeft=0;_c.scrollTop=0;}else if(_a._not_use_scrollLeft||_a._not_use_scrollTop){if(_a._not_use_scrollLeft){_c.scrollLeft=0;}if(_a._not_use_scrollTop){_c.scrollTop=0;}}else{if((_a._scroll_top!=_c.scrollTop||_a._scroll_left!=_c.scrollLeft)&&_a._use_onscroll_inner!=true){_b._node_activate_scroll=true;_a._callback_func_onscroll(_b);}else{_a._scroll_left=_c.scrollLeft;_a._scroll_top=_c.scrollTop;_a._scroll_maxwidth=_c.scrollWidth;_a._scroll_maxheight=_c.scrollHeight;}if(nexacro._enableaccessibility){var _d=_a.parent_elem;if(_d instanceof nexacro.GridRowControlElement){_d._setScrollableElementHScrollPos(_b,_c.scrollLeft);}_bind_container_scroll_handler_after(_a,_c.scrollLeft,_c.scrollTop);}}};};__pContainerElement._callback_func_onscroll=function(_a){if((!_a||_a.type!="scroll")&&window.event){_a=window.event;}if(_a.type!="scroll"){return;}var _b=_a.srcElement;if(!_b){return;}var _c=_b._linked_element;if(_c){if(_c._no_focus_scroll){if(_c._isRtl()){_b.scrollLeft= -_c._scroll_left;}else{_b.scrollLeft=_c._scroll_left;}}}};__pContainerElement.create=function(_a){var _b=this.parent_elem;if(_b&&_b.handle&&!this.handle){this.owner_elem=_b;this._p_name=_b.name+":container"+this.type;var _c=_a?_a._doc:_b._getRootWindowHandle();var _d=_c.createElement("div");_d._linked_element=this;this.handle=_d;nexacro.__setDOMNode_ClassName(_d,this._getElementNexaClassName("nexacontainer"));nexacro.__setDOMNode_Id(_d,"",this.name);this.createInnerContainer(_c);var _e=_d.style;if(!this._isFluid()||this._is_nc_element||!nexacro._is_native_fluidlayout){nexacro.__setDOMStyle_Pos(_e,this.left,this.top,this._isParentRtl());}nexacro.__setDOMStyle_Size(_e,this.width,this.height);this._on_createAccessibilityHandle(_d);if(_b.dest_handle.hasChildNodes()&&(nexacro._isNull(this.type)||this.type.length<1)){if(_b.dest_handle.firstChild.className=="nexaedge"){nexacro.__insertDOMNode(_b.dest_handle,_d,_b.dest_handle.childNodes[0].nextSibling);}else{nexacro.__insertDOMNode(_b.dest_handle,_d,_b.dest_handle.childNodes[0]);}}else{nexacro.__appendDOMNode(_b.dest_handle,_d);}this._syshandler_onscroll_forward=_bind_container_scroll_handler(this);nexacro._observeSysEvent(_d,"scroll","onscroll",this._syshandler_onscroll_forward);}};__pContainerElement.createCommandStart=function(){var _a=this.parent_elem;if(_a){this.owner_elem=_a;this._p_name=_a.name+":container"+this.type;var _b="<div";_b+=" class='"+this._getElementNexaClassName("nexacontainer")+"'";_b+=" id='"+this.name+"' ";var _c=this._getCommonStyleStr();_b+=" style='"+_c+"'";_b=this._on_createAccessibilityCommand(_b);_b+=">";if(this._use_translate_scroll||this._use_onscroll_inner){_b+="<div class='"+this._getElementNexaClassName("nexainnercontainer")+"' id='"+this.name+":innercontainer' style='"+nexacro.__getHTMLStyleSize((this._scroll_maxwidth?this._scroll_maxwidth:this.width),(this._scroll_maxheight?this._scroll_maxheight:this.height))+"'>";}return _b;}return "";};__pContainerElement.createCommandEnd=function(){var _a="";if(this._use_translate_scroll||this._use_onscroll_inner){_a+="</div>";}_a+="</div>";return _a;};__pContainerElement.attachHandle=function(_a){if(this.name){var _b=this.handle||_a._doc.getElementById(this.name);if(_b){this.handle=_b;_b._linked_element=this;if(this._use_translate_scroll||this._use_onscroll_inner){this.dest_handle=_b.firstChild;}else{this.dest_handle=_b;}this._syshandler_onscroll_forward=_bind_container_scroll_handler(this);nexacro._observeSysEvent(_b,"scroll","onscroll",this._syshandler_onscroll_forward);if(!this._use_translate_scroll){var _c=this._tempdiv;if(!_c){var _d=this._getRootWindowHandle();_c=this._tempdiv=_d.createElement("div");nexacro.__setDOMStyle_AbsoluteTransparent(_c.style);nexacro.__setDOMStyle_Size(_c.style,1,1);nexacro.__setDOMStyle_Visible(_c.style,false);nexacro.__appendDOMNode(this.handle,_c);}nexacro.__setDOMStyle_Pos(_c.style,this._scroll_maxwidth-1,this._scroll_maxheight-1);}}}};__pContainerElement._syshandler_inner_onscroll_forward=function(_a){_a.target.scrollTop=0;_a.target.scrollLeft=0;};__pContainerElement.createInnerContainer=function(_a){var _b=this.handle;var _c;var _d=this._scroll_maxwidth||this.parent._scroll_maxwidth;var _e=this._scroll_maxheight||this.parent._scroll_maxheight;if(_b){if(this._use_translate_scroll){_c=this.dest_handle=_a.createElement("div");nexacro.__setDOMNode_ClassName(_c,this._getElementNexaClassName("nexainnercontainer"));nexacro.__setDOMNode_Id(_c,"",this.name+":innercontainer");nexacro.__appendDOMNode(_b,_c);if(_d&&_e){nexacro.__setDOMStyle_Size(_c.style,_d,_e);}if(this._scroll_left!=0||this._scroll_top!=0){var _f=this._isRtl();nexacro.__setDOMStyle_Translate(_c.style, -this._scroll_left, -this._scroll_top,_f);}nexacro._observeSysEvent(_c,"scroll","onscroll",this._syshandler_inner_onscroll_forward);}else{if(this._use_onscroll_inner){_c=this.dest_handle=_a.createElement("div");nexacro.__setDOMNode_ClassName(_c,"nexainnercontainer");nexacro.__setDOMNode_Id(_c,"",this.name+":innercontainer");nexacro.__appendDOMNode(_b,_c);if(_d&&_e){nexacro.__setDOMStyle_Size(_c.style,_d,_e);}}else{_c=this.dest_handle=_b;}var _g=this._tempdiv;if(!_g){_g=this._tempdiv=_a.createElement("div");nexacro.__setDOMStyle_AbsoluteTransparent(_g.style);nexacro.__setDOMStyle_Size(_g.style,1,1);nexacro.__setDOMStyle_Visible(_g.style,false);nexacro.__appendDOMNode(_b,_g);}if(this._scroll_left){nexacro.__setDOMNode_HScrollPos(_b,this._scroll_left);}if(this._scroll_top){nexacro.__setDOMNode_VScrollPos(_b,this._scroll_top);}}switch(this._layouttype){case "horizontal":case "vertical":nexacro.__setDOMStyle_LayoutType(_c.style,this._layouttype);if(this._layouthorizontalgap>-1||this._layoutverticalgap>-1){nexacro.__setDOMStyle_LayoutGap(_c.style,this._layouthorizontalgap,this._layoutverticalgap);}if(this._layoutspacing){nexacro.__setDOMStyle_LayoutSpacing(_c.style,this._layoutspacing,this.rtl);}if(this._flexmainaxisalign){nexacro.__setDOMStyle_FlexMainAxisAlign(_c.style,this._flexmainaxisalign);}if(this._flexcrossaxisalign){nexacro.__setDOMStyle_FlexCrossAxisAlign(_c.style,this._flexcrossaxisalign);}if(this._flexcrossaxiswrapalign){nexacro.__setDOMStyle_FlexCrossAxisWrapAlign(_c.style,this._flexcrossaxiswrapalign);}if(this._flexwrap){nexacro.__setDOMStyle_FlexWrap(_c.style,this._flexwrap);}break;case "table":nexacro.__setDOMStyle_LayoutType(_c.style,this._layouttype);if(this._layouthorizontalgap>-1||this._layoutverticalgap>-1){nexacro.__setDOMStyle_LayoutGap(_c.style,this._layouthorizontalgap,this._layoutverticalgap);}if(this._layoutspacing){nexacro.__setDOMStyle_LayoutSpacing(_c.style,this._layoutspacing,this.rtl);}if(this._tablecellhalign){nexacro.__setDOMStyle_TableCellHAlign(_c.style,this._tablecellhalign);}if(this._tablecellvalign){nexacro.__setDOMStyle_TableCellVAlign(_c.style,this._tablecellvalign);}if(this._tablecellincomphalign){nexacro.__setDOMStyle_TableCellinCompHAlign(_c.style,this._tablecellincomphalign);}if(this._tablecellincompvalign){nexacro.__setDOMStyle_TableCellinCompVAlign(_c.style,this._tablecellincompvalign);}if(this._tabletemplate){nexacro.__setDOMStyle_TableTemplate(_c.style,this._tabletemplate);}if(this._tabletemplatearea){nexacro.__setDOMStyle_TableTemplateArea(_c.style,this._tabletemplatearea);}if(this._tabledirection){nexacro.__setDOMStyle_TableDirection(_c.style,this._tabledirection);}break;default:nexacro.__setDOMStyle_LayoutType(_c.style,this._layouttype);if(this._layouthorizontalgap>-1||this._layoutverticalgap>-1){nexacro.__clearDOMStyle_LayoutGap(_c.style);}if(this._layoutspacing){nexacro.__clearDOMStyle_LayoutSpacing(_c.style);}break;}}};__pContainerElement._removeElementHandle=function(){var _a=this.handle;if(_a){if(this._tempdiv){nexacro.__removeDOMNode(_a,this._tempdiv);this._tempdiv=null;}var _b;_a._linked_element=null;_b=(this.owner_elem?this.owner_elem.dest_handle:null);nexacro.__removeDOMNode(_b,_a);}};__pContainerElement._setElementTranslateStart=function(){if(!this._do_translate_scroll){var _a=!!this._use_translate_scroll;if(_a&&this._do_translate_scroll!=_a){this._scroll_offset_left=this._scroll_left;this._scroll_offset_top=this._scroll_top;this.dest_handle.style.willChange="transform, left";this._do_translate_scroll=_a;}}};__pContainerElement._setElementTranslateEnd=function(){if(this._do_translate_scroll){this._do_translate_scroll=false;var _a=this.dest_handle;nexacro.__clearDOMStyle_TranslateR(_a.style);this.dest_handle.style.willChange="";if(this._scroll_offset_left!=this._scroll_left||this._scroll_offset_top!=this._scroll_top){nexacro.__setDOMStyle_Pos(_a.style, -this._scroll_left, -this._scroll_top);}}};__pContainerElement._setElementVScrollPos=function(_a){if(this._scroll_top!=_a||this.parent._reset_scrollpos||this._use_container_move){var _b=this._isRtl();var _c=this._scroll_top;this._scroll_top=_a;if(this._use_translate_scroll){var _d=this.dest_handle;if(_d){if(this._do_translate_scroll){_a=this._scroll_top-this._scroll_offset_top;nexacro.__setDOMStyle_TranslateR(_d.style, -this._scroll_left, -_a,_b);}else{nexacro.__setDOMStyle_Translate(_d.style, -this._scroll_left, -_a,_b);}}}else if(this._use_container_move){var _e=this.handle;if(_e){if(this._cached_scrollTop!=_a||this._cached_scrollTop!=_c){nexacro.__setDOMNode_VScrollPos(_e,_a);}}}}};__pContainerElement._setElementLayoutType=function(_a){if(this._layouttype!=_a){this._layouttype=_a;var _b=this.dest_handle;if(_b){nexacro.__setDOMStyle_LayoutType(_b.style,_a);}}};__pContainerElement._setElementLayoutHorizontalGap=function(_a){if(this._layouthorizontalgap!=_a){this._layouthorizontalgap=_a;var _b=this.dest_handle;if(_b){nexacro.__setDOMStyle_LayoutGap(_b.style,_a,this._layoutverticalgap);}}};__pContainerElement._setElementLayoutVerticalGap=function(_a){if(this._layoutverticalgap!=_a){this._layoutverticalgap=_a;var _b=this.dest_handle;if(_b){nexacro.__setDOMStyle_LayoutGap(_b.style,this._layouthorizontalgap,_a);}}};__pContainerElement._setElementFlexMainAxisAlign=function(_a){if(this._flexmainaxisalign!=_a){this._flexmainaxisalign=_a;var _b=this.dest_handle;if(_b){nexacro.__setDOMStyle_FlexMainAxisAlign(_b.style,_a);}}};__pContainerElement._setElementFlexCrossAxisAlign=function(_a){if(this._flexcrossaxisalign!=_a){this._flexcrossaxisalign=_a;var _b=this.dest_handle;if(_b){nexacro.__setDOMStyle_FlexCrossAxisAlign(_b.style,_a);}}};__pContainerElement._setElementFlexCrossAxisWrapAlign=function(_a){if(this._flexcrossaxiswrapalign!=_a){this._flexcrossaxiswrapalign=_a;var _b=this.dest_handle;if(_b){nexacro.__setDOMStyle_FlexCrossAxisWrapAlign(_b.style,_a);}}};__pContainerElement._setElementFlexWrap=function(_a){if(this._flexwrap!=_a){this._flexwrap=_a;var _b=this.dest_handle;if(_b){nexacro.__setDOMStyle_FlexWrap(_b.style,_a);}}};__pContainerElement._setElementLayoutSpacing=function(_a){if(this._layoutspacing!=_a){this._layoutspacing=_a;var _b=this.dest_handle;if(_b){nexacro.__setDOMStyle_LayoutSpacing(_b.style,_a,this.rtl);}}};__pContainerElement._setElementTableCellAlign=function(_a){if(this._tablecellalign!=_a){this._tablecellalign=_a;var _b=this._parseLayoutCellAlign(_a);if(_b&&_b.length==2){this._tablecellhalign=_b[0];this._tablecellvalign=_b[1];}var _c=this.dest_handle;if(_c){if(this._tablecellhalign){nexacro.__setDOMStyle_TableCellHAlign(_c.style,this._tablecellhalign);}if(this._tablecellvalign){nexacro.__setDOMStyle_TableCellVAlign(_c.style,this._tablecellvalign);}}}};__pContainerElement._setElementTableCellinCompAlign=function(_a){if(this._tablecellincompalign!=_a){this._tablecellincompalign=_a;var _b=this._parseLayoutCellAlign(_a);if(_b&&_b.length==2){this._tablecellincomphalign=_b[0];this._tablecellincompvalign=_b[1];}var _c=this.dest_handle;if(_c){if(this._tablecellincomphalign){nexacro.__setDOMStyle_TableCellinCompHAlign(_c.style,this._tablecellincomphalign);}if(this._tablecellincompvalign){nexacro.__setDOMStyle_TableCellinCompHAlign(_c.style,this._tablecellincompvalign);}}}};__pContainerElement._setElementTableDirection=function(_a){if(this._tabledirection!=_a){this._tabledirection=_a;var _b=this.dest_handle;if(_b){nexacro.__setDOMStyle_TableDirection(_b.style,_a);}}};__pContainerElement._setElementTableTemplate=function(_a){if(this._tabletemplate!=_a){this._tabletemplate=_a;var _b=this.dest_handle;if(_b){if(_a){nexacro.__setDOMStyle_TableTemplate(_b.style,_a);}else{nexacro.__clearDOMStyle_TableTemplate(_b.style);}}}};__pContainerElement._setElementTableTemplateArea=function(_a){if(this._tabletemplatearea!=_a){this._tabletemplatearea=_a;var _b=this.dest_handle;if(_b){if(_a){nexacro.__setDOMStyle_TableTemplateArea(_b.style,_a);}else{nexacro.__clearDOMStyle_TableTemplateArea(_b.style);}}}};__pContainerElement._setElementLayoutBasis=function(_a){if(!this._compareLayoutBasis(this._layoutbasis,_a)){this._layoutbasis=_a;var _b=this.dest_handle;if(_b){if(_a){nexacro.__setDOMStyle_FluidSize(_b.style,_a);}}}};__pContainerElement._setElementHScrollPos=function(_a){if(this._scroll_left!=_a||this.parent._reset_scrollpos||this._use_container_move){var _b=this._isRtl();var _c=this._scroll_left;this._scroll_left=_a;if(this._use_translate_scroll){var _d=this.dest_handle;if(_d){if(this._do_translate_scroll){_a=this._scroll_left-this._scroll_offset_left;nexacro.__setDOMStyle_TranslateR(_d.style, -_a, -this._scroll_top,_b);}else{nexacro.__setDOMStyle_Translate(_d.style, -_a, -this._scroll_top,_b);}}}else if(this._use_container_move){var _e=this.handle;if(_e){if(this._cached_scrollLeft!=_a||this._cached_scrollLeft!=_c){nexacro.__setDOMNode_HScrollPos(_e,_a,_b);}}}}};__pContainerElement._setElementScrolltype=function(_a){};__pContainerElement._setElementScrollPos=function(_a,_b){if(this._scroll_left!=_a||this._scroll_top!=_b||this.parent._reset_scrollpos){this._scroll_left=_a;this._scroll_top=_b;if(this._use_translate_scroll){var _c=this.dest_handle;if(_c){if(this._do_translate_scroll){_a=this._scroll_left-this._scroll_offset_left;_b=this._scroll_top-this._scroll_offset_top;nexacro.__setDOMStyle_Translate(_c.style, -_a, -_b);}else{nexacro.__setDOMStyle_Pos(_c.style, -_a, -_b);}}}else if(this._use_container_move){var _d=this.handle;if(_d){if(this._cached_scrollTop!=_b){nexacro.__setDOMNode_VScrollPos(_d,_b);}if(this._cached_scrollLeft!=_a){nexacro.__setDOMNode_HScrollPos(_d,_a);}}}}};__pContainerElement.setElementScrollMaxSize=function(_a,_b){this._scroll_maxwidth=_a;this._scroll_maxheight=_b;if(this._use_translate_scroll){var _c=this.dest_handle;if(_c){nexacro.__setDOMStyle_Size(_c.style,_a,_b);}}else{if(this.handle){var _d=this._tempdiv;if(!_d){var _e=this._getRootWindowHandle();_d=this._tempdiv=_e.createElement("div");nexacro.__setDOMStyle_AbsoluteTransparent(_d.style);nexacro.__setDOMStyle_Size(_d.style,1,1);nexacro.__setDOMStyle_Visible(_d.style,false);nexacro.__appendDOMNode(this.handle,_d);}nexacro.__setDOMStyle_Pos(_d.style,_a -1,_b -1);}}};__pContainerElement.getElementScrollLeft=function(){return this._scroll_left;};__pContainerElement.getElementScrollTop=function(){return this._scroll_top;};__pContainerElement.getElementScrollWidth=function(){return this._scroll_maxwidth;};__pContainerElement.getElementScrollHeight=function(){return this._scroll_maxheight;};__pContainerElement.destroy=function(){var _a=this.handle;if(_a){nexacro._stopSysObserving(_a,"scroll","onscroll",this._syshandler_onscroll_forward);}if(this.dest_handle){nexacro._stopSysObserving(this.dest_handle,"scroll","onscroll",this._syshandler_inner_onscroll_forward);}this._destroyElementHandle();this.owner_elem=null;this.dest_handle=null;this._p_parent=null;this.parent_elem=null;};__pContainerElement._syshandler_onscroll_forward=function(_a){var _b=_a.target;var _c=_b._linked_element;if(_c){var _d=_c.parent;if(_d._recover_vpos!=undefined){_b.scrollTop=_d._recover_vpos;_d._recover_vpos=undefined;return;}if(_d._recover_hpos!=undefined){_b.scrollLeft=_d._recover_hpos;_d._recover_hpos=undefined;return;}var _e=_c._scroll_top|0;var _f=_c._scroll_left|0;_c._cached_scrollLeft=_b.scrollLeft;_c._cached_scrollTop=_b.scrollTop;var _g=_c._cached_scrollLeft;var _h=_c._cached_scrollTop;var _i=_c._findScrollbarControl(_c,false);var _j=false;var _k=false;if(_i){if(_f!=_c._cached_scrollLeft){if(_i.scrollbartype!="none"&&_i.scrollbartype!="vertical"){_j=true;}}if(_e!=_c._cached_scrollTop){if(_i.scrollbartype!="none"&&_i.scrollbartype!="horizontal"){_k=true;}}if(_j||_k){_i._scrollTo(_j?_g:null,_k?_h:null);}}}};__pContainerElement._findScrollbarControl=function(_a,_b){while(_a){var _c=_a.linkedcontrol;if(_c){return _c;}_a=_a.parent;}return null;};__pContainerElement.clearContents=function(){var _a=this.handle;if(_a){nexacro._stopSysObserving(_a,"scroll","onscroll",this._syshandler_onscroll_forward);_a._linked_element=null;var _b=(this.owner_elem?this.owner_elem.dest_handle:null);nexacro.__removeDOMNode(_b,_a);this.owner_elem=null;this.handle=this.dest_handle=null;}};__pContainerElement.appendChildElement=function(_a){if(this.handle){if(_a.parent_elem!=this.parent_elem){if(_a.handle){var _b=_a._getRootWindowHandle();var _c=this._getRootWindowHandle();if(_b!=_c){_a.parent_elem=this.parent_elem;_a._removeFromContainer();}else{_a.parent_elem=this.parent_elem;}}else{_a.parent_elem=this.parent_elem;}}if(!_a.handle){_a.create();}else{_a._appendToContainer(this);}}};__pContainerElement.removeChildElement=function(_a){if(_a.owner_elem==this){_a._removeFromContainer();}};__pContainerElement._moveToNextElement=function(_a,_b){if(_a&&_b&&_a.owner_elem==this&&_b.owner_elem==this&&_a.handle&&_b.handle){nexacro.__moveDOMNodeToNext(_a.handle,_b.handle);}};__pContainerElement._moveToPrevElement=function(_a,_b){if(_a&&_b&&_a.owner_elem==this&&_b.owner_elem==this&&_a.handle&&_b.handle){nexacro.__moveDOMNodeToPrev(_a.handle,_b.handle);}};__pContainerElement._sendToBackElement=function(_a){if(_a&&_a.owner_elem==this&&_a.handle){nexacro.__sendDOMNodeToBack(_a.handle);}};__pContainerElement._bringToFrontElement=function(_a){if(_a&&_a.owner_elem==this&&_a.handle){nexacro.__bringDOMNodeToFront(_a.handle);}};__pContainerElement._getElementClassName=function(){return this._getElementNexaClassName("nexacontainer");};__pContainerElement.setElementZoom=function(_a){this.zoom=_a;var _b=this.handle;if(_b){nexacro.__setDOMStyle_TransformScale(_b.style,_a/100);}};nexacro._MultiInnerContainerElement=function(_a,_b,_c){nexacro._ContainerElement.call(this,_a,_b,_c);this._scroll_max_arr=[];this._ext_inners=[];};var __pMultiInnerContainerElement=nexacro._createPrototype(nexacro._ContainerElement,nexacro._MultiInnerContainerElement);nexacro._MultiInnerContainerElement.prototype=__pMultiInnerContainerElement;__pMultiInnerContainerElement._type_name="MultiInnerContainerElement";__pMultiInnerContainerElement.attachHandle=function(_a){nexacro._ContainerElement.prototype.attachHandle.call(this,_a);this.recalcInnerContainer();};__pMultiInnerContainerElement.destroy=function(){nexacro._ContainerElement.prototype.destroy.call(this);this._destroyInnerContainerPages();this._scroll_max_arr=null;};__pMultiInnerContainerElement.createInnerContainer=function(){var _a=this.handle;if(_a){if(this._use_translate_scroll){var _b=this.owner_elem._getRootWindowHandle();var _c=this.dest_handle=_b.createElement("div");nexacro.__setDOMNode_ClassName(_c,this._getElementNexaClassName("nexainnercontainer"));nexacro.__setDOMNode_Id(_c,"",this.name+":innercontainer");nexacro.__appendDOMNode(_a,_c);var _d=this._calcInnerContainerPages();if(_d>0){for(var _e=0;_e<_d;_e++ ){this.appendInnerContainer(_e,_b);}}this.updateInnerContainerSize();this.updateInnerContainerPos();if(this._scroll_left!=0||this._scroll_top!=0){nexacro.__setDOMStyle_Translate(_c.style, -this._scroll_left, -this._scroll_top);}}else{this.dest_handle=_a;if(this._scroll_left){nexacro.__setDOMNode_HScrollPos(_a,this._scroll_left);}if(this._scroll_top){nexacro.__setDOMNode_VScrollPos(_a,this._scroll_top);}}}};__pMultiInnerContainerElement.recalcInnerContainer=function(){var _a=this.owner_elem;if(_a){var _b;var _c=this.owner_elem._getRootWindowHandle();var _d=this._calcInnerContainerPages();if(_d>0){for(_b=0;_b<_d;_b++ ){this.appendInnerContainer(_b,_c);}}if(_d<0){for(_b=_d* -1;_b>0;_b-- ){this.removeInnerContainer();}}this.updateInnerContainerSize();this.updateInnerContainerPos();}};__pMultiInnerContainerElement.appendInnerContainer=function(_a,_b){var _c=this.handle;var _d=this.dest_handle;var _e=_b.createElement("div");nexacro.__setDOMNode_ClassName(_e,this._getElementNexaClassName("nexainnercontainer"));nexacro.__setDOMNode_Id(_e,"",_d.id+"_ext_"+_a);nexacro.__setDOMNode_Selectable(_e,false);var _f=_e.style;nexacro.__setDOMStyle_Absolute(_f);nexacro.__appendDOMNode(_c,_e);this._ext_inners.push(_e);};__pMultiInnerContainerElement.removeInnerContainer=function(){var _a=this.handle;if(_a){var _b=this._ext_inners.length-1;nexacro.__removeDOMNode(_a,this._ext_inners[_b]);this._ext_inners.splice(_b,1);}};__pMultiInnerContainerElement.updateInnerContainerSize=function(){var _a=this.dest_handle;if(_a){var _b=this._scroll_maxheight;var _c=this._scroll_max_arr;var _d=this._scroll_maxwidth;var _e=0;{if(_b>_c[0]){_e=_c[0];}else{_e=_b;}nexacro.__setDOMStyle_Size(_a.style,_d,_e);}for(var _f=1,_g=_c.length;_f<_g;_f++ ){_a=this._ext_inners[_f -1];if(_a){if(_b>_c[_f]){_e=_c[_f]-_c[_f -1];}else{_e=_b-_c[_f -1];}nexacro.__setDOMStyle_Size(_a.style,_d,_e);}}}};__pMultiInnerContainerElement.updateInnerContainerPos=function(){var _a=this.dest_handle;if(_a){var _b;var _c=this._scroll_left;var _d=this._scroll_top;var _e=this._scroll_max_arr;var _f=this._isRtl();nexacro.__setDOMStyle_Translate(_a.style, -_c, -_d,_f);for(var _g=0,_h=this._ext_inners.length;_g<_h;_g++ ){if(_d+this.height>_e[_g]&&_d<_e[_g+1]){if(nexacro._Browser_Transform3d>0){_b=_d-(_e[_g]-this.height);}else{_b=_d-_e[_g];}}else{_b= -this.height;}nexacro.__setDOMStyle_Translate(this._ext_inners[_g].style, -_c, -_b,_f);}}};__pMultiInnerContainerElement._calcInnerContainerPages=function(){var _a=this._ext_inners.length;var _b=this._scroll_max_arr.length-1;return _b-_a;};__pMultiInnerContainerElement._destroyInnerContainerPages=function(){var _a=this.handle;if(_a){for(var _b=0,_c=this._ext_inners.length;_b<_c;_b++ ){nexacro.__removeDOMNode(_a,this._ext_inners[_b]);}this._ext_inners=null;}};__pMultiInnerContainerElement.setElementScrollMaxSize=function(_a,_b){this._scroll_maxwidth=_a;this._scroll_maxheight=_b;if(this._use_translate_scroll){this.recalcInnerContainer();}};__pMultiInnerContainerElement._setElementVScrollPos=function(_a){if(this._scroll_top!=_a||this.parent._reset_scrollpos){this._scroll_top=_a;this.updateInnerContainerPos();}};__pMultiInnerContainerElement._setScrollMaxTops=function(_a){this._scroll_max_arr=_a;};__pMultiInnerContainerElement._getDestHandle=function(_a,_b){if(_b==undefined){_b=this._getExtInnerIdx(_a);}return (_b<0)?this.dest_handle:this._ext_inners[_b];};__pMultiInnerContainerElement._getExtInnerIdx=function(_a){var _b=this._scroll_max_arr;var _c=-1;if(_b){for(var _d=0,_e=_b.length;_d<_e;_d++ ){if(_a<_b[_d]){_c=_d -1;break;}}}return _c;};__pMultiInnerContainerElement._changeInnerElement=function(_a,_b){var _c=this._getExtInnerIdx(_a);var _d=this._getDestHandle(_a,_c);var _e=_b.parentElement;if(_c!=null&&_c>-1){_a=_a-this._scroll_max_arr[_c];}if(_e&&(_e!=_d)){nexacro.__removeDOMNode(_e,_b);nexacro.__appendDOMNode(_d,_b);}return _a;};nexacro.PluginElement=function(_a){this._p_parent=_a;this.parent_elem=_a;this._params=new nexacro.Collection();this._events=new nexacro.Collection();};var _pPluginElement=nexacro._createPrototype(nexacro.Element,nexacro.PluginElement);nexacro.PluginElement.prototype=_pPluginElement;_pPluginElement._type_name="PluginElement";_pPluginElement.license="";_pPluginElement.lpkpath="";_pPluginElement.classid="";_pPluginElement.codebase="";_pPluginElement.code="";_pPluginElement.archive="";_pPluginElement.mimetype="";_pPluginElement.pluginsrc="";_pPluginElement.plugintype="";_pPluginElement.pluginpage="";_pPluginElement.windowed=false;_pPluginElement.popupstyle=false;_pPluginElement.enable=true;_pPluginElement.font=null;_pPluginElement.color=null;_pPluginElement.cursor=null;_pPluginElement.align=null;_pPluginElement.padding=null;_pPluginElement.color=null;_pPluginElement._object_node=null;_pPluginElement._embed_node=null;_pPluginElement._params=null;_pPluginElement._events=null;_pPluginElement._object_id=null;_pPluginElement.create=function(){var _a;var _b;if(!this.parent_elem){_b=nexacro._managerFrameDoc;_a=_b.body;this.owner_elem=_b.body;this.owner_elem.dest_handle=_b.body;}else{_a=this.parent_elem.getContainerElement(this.position_step);if(_a&&_a.handle&&!this.handle){this.owner_elem=_a;_b=_a._getRootWindowHandle();}}if(_a&&!this.handle){var _c=this._createObjectElementHandle(_b,this.left,this.top,this.width,this.height,this._params);nexacro.__setDOMNode_Selectable(_c,false);var _d=_c.style;if(!this.visible){nexacro.__setDOMStyle_Visible(_d,false);}this.handle=this.dest_handle=_c;var _e=this._events;var _f=_e.length;for(var _g=0;_g<_f;_g++ ){this.addEventHandler(_e.get_id(_g),_e.get_item(_g),null);}nexacro.__appendDOMNode(_a.dest_handle,_c);}};_pPluginElement.createCommand=function(){var _a=this.parent_elem.getContainerElement(this.position_step);if(_a&&!this._created){this.owner_elem=_a;this._p_name=_a.name+":"+this._type_name;this._object_id=this.name;var _b=this._getCommonStyleStr();var _c="<object id = '"+this.name+"'";_c+=this.codebase?"codebase = '"+this.codebase+"'":"";_c+=this.code?"code = '"+this.code+"'":"";_c+=this.archive?"archive = '"+this.archive+"'":"";_c+=this.mimetype?"mimetype = '"+this.mimetype+"'":"";_c+=this.movie?"data = '"+this.movie+"'":"";_c+=(_b)?(" style='"+_b+"'/>"):"/>";var _d=this._params;var _e=(_d?_d.length:0);for(var _f=0;_f<_e;_f++ ){_c+="<param name ='"+_d.get_id(_f)+"' value ='"+_d.get_item(_f)+"'/>";}if(this.pluginsrc||this.pluginpage){_c+="<embed ";_c+=this.pluginsrc?"src = '"+this.pluginsrc+"'":"";_c+=this.pluginpage?"pluginpage = '"+this.pluginpage+"'":"";_c+=this.plugintype?"type = '"+this.plugintype+"'":"";for(_f=0;_f<_e;_f++ ){_c+=" "+_d.get_id(_f)+" = '"+_d.get_item(_f)+"' ";}_c+="/></embed>";}_c+="</object>";return _c;}return "";};_pPluginElement._createObjectElementHandle=function(_a,_b,_c,_d,_e,_f){var _g=_a.createElement("object");_g._linked_element=this;var _h=_g.style;nexacro.__setDOMStyle_Pos(_h,_b,_c);nexacro.__setDOMStyle_Size(_h,_d,_e);var _i=this.codebase;if(_i){nexacro.__setHTMLAttr_Proeprty(_g,'codebase',_i);}var _j=this.code;if(_j){nexacro.__setHTMLAttr_Proeprty(_g,'code',_j);}var _k=this.movie;if(_k){nexacro.__setHTMLAttr_Proeprty(_g,'data',_k);}var _l=this.archive;if(_l){nexacro.__setHTMLAttr_Proeprty(_g,'archive',_l);}if(nexacro._Browser=="Chrome"||nexacro._Browser=="Edge"){var _m=this.mimetype;if(_m){nexacro.__setHTMLAttr_Proeprty(_g,'mimetype',_m);}}var _n=(_f?_f.length:0);for(var _t=0;_t<_n;_t++ ){this._setObjectDOMParam(_a,_g,_f.get_id(_t),_f.get_item(_t));}if(this.pluginsrc||this.pluginpage){var _o=_a.createElement("embed");var _p=_o.style;nexacro.__setDOMStyle_Absolute(_p);nexacro.__setDOMStyle_Size(_p,_d,_e);var _q=this.pluginsrc;if(_q){nexacro.__setHTMLAttr_Proeprty(_o,'src',_q);}var _r=this.pluginpage;if(_r){nexacro.__setHTMLAttr_Proeprty(_o,'pluginspage',_r);}var _s=this.plugintype;if(_s){nexacro.__setHTMLAttr_Proeprty(_o,'type',_s);}for(_t=0;_t<_n;_t++ ){nexacro.__setHTMLAttr_Proeprty(_o,_f.get_id(_t),_f.get_item(_t));}this._embed_node=_o;nexacro.__appendDOMNode(_g,_o);}this._object_node=_g;return _g;};_pPluginElement.setElementClassId=nexacro._emptyFn;_pPluginElement.addEventHandler=function(_a,_b){if(this.handle&&this._object_node){var _c=this._object_node;nexacro.__setHTMLAttr_Proeprty(_c,_a,_a);var _d=this._getRootWindowHandle();var _e=_d.createElement("script");var _f=/\(.*?\)/;var _g=_b.toString().match(_f)[0];var _h=_a+_g;nexacro.__setHTMLAttr_Proeprty(_e,'event',_h);var _i,_j;var _k="";var _l,_m;_i=this.component?this.component.parent:null;if(_i){_k="."+this.component.id+'["'+_a+'"]; \n';_k+='\tif (eventFn) eventFn._firePluginEvent'+_g+';'+"\n};";do{if(_i instanceof nexacro.MainFrame){_k='\tvar eventFn = nexacro.getApplication().mainframe'+_k;break;}if(_i instanceof nexacro.ChildFrame){_j=_i.parent;if(_j){if(_j instanceof nexacro.FrameSet||_j instanceof nexacro.VFrameSet||_j instanceof nexacro.HFrameSet||_j instanceof nexacro.ChildFrame){if(_j._frames&&_j._frames.length){_m=_j._frames.length;for(_l=0;_l<_m;_l++ ){if(_j._frames[_l]==_i){_k='._frames['+_l+']'+_k;break;}}}}else if(_j instanceof nexacro.MainFrame){_k='.frame'+_k;}else if(_j instanceof nexacro.Form){_k='.'+_i.id+_k;}}}else if(_i instanceof nexacro.FrameSet||_i instanceof nexacro.VFrameSet||_i instanceof nexacro.HFrameSet){_j=_i.parent;if(_j){if(_j._frames&&_j._frames.length){_m=_j._frames.length;for(_l=0;_l<_m;_l++ ){if(_j._frames[_l]==_i){_k='._frames['+_l+']'+_k;break;}}}}}else if(_i instanceof nexacro.Div){_k='.'+_i.id+_k;}else if(_i instanceof nexacro.Form){_k='.form'+_k;}_i=_i.parent;}while(_i)}if(_k){_k='function '+_h+'\n{\n'+_k;}_e.text=_k;this.handle.appendChild(_e);return true;}else{this._events.add_item(_a,_b);}return false;};_pPluginElement.removeEventHandler=function(_a,_b){if(this.handle&&this._object_node){var _c=this._object_node;nexacro.__removeHTMLAttr_Proeprty(_c,_a);_c.removeAttribute(_a);var _d=/\(.*?\)/;var _e=_b.toString().match(_d)[0];var _f=_a+_e;var _g;var _h=this.handle.getElementsByTagName("script");var _i=_h.length;for(_g=0;_g<_i;_g++ ){var _j=_h[_g];if(_j){var _k=nexacro.__getHTMLAttr_Proeprty(_j,'event');if(_k===_f){var _l=_j.parentNode;nexacro.__unlinkDOMNode(_l,_j);break;}}}}};if(nexacro._Browser=="Chrome"||nexacro._Browser=="Edge"){_pPluginElement.setElementMovie=function(_a){if(this.movie){nexacro.__removeDOMNode(this.owner_elem.handle,this._object_node);var _b=this._createObjectElementHandle(document,this.left,this.top,this.width,this.height,this._params);nexacro.__appendDOMNode(this.owner_elem.dest_handle,_b);}this.movie=_a;var _c=this._object_node;if(_c){nexacro.__setHTMLAttr_Proeprty(_c,"data",_a);}};}else{_pPluginElement.setElementMovie=function(_a){this.movie=_a;var _b=this._object_node;if(_b){nexacro.__setHTMLAttr_Proeprty(_b,"data",_a);}};}_pPluginElement.setElementPluginPage=nexacro._emptyFn;_pPluginElement._play=function(){var _a=this._object_node;if(_a){_a.Play();}};_pPluginElement._stopPlay=function(){var _a=this._object_node;if(_a){_a.StopPlay();}};_pPluginElement.attachHandle=function(_a){var _b=this.handle=_a._doc.getElementById(this.name);if(_b){this._object_node=_b;var _c=null;var _d=_b.getElementsByTagName("embed");if(_d&&_d.length>0){_c=_d[0];}this._embed_node=_c;var _e=this._events;var _f=_e.length;for(var _g=0;_g<_f;_g++ ){this.addEventHandler(_e.get_id(_g),_e.get_item(_g),null);}}};_pPluginElement.destroy=function(){var _a=this.handle;if(_a){_a._linked_element=null;var _b=null;if(this.owner_elem&&this.owner_elem.dest_handle){_b=this.owner_elem.dest_handle;}if(!this.owner_elem||_b){nexacro.__removeDOMNode(_b,_a);}this.owner_elem=null;this.handle=this.dest_handle=null;this._object_node=null;this._embed_node=null;}this._p_parent=null;this.parent_elem=null;var _c=this._params;if(_c){_c.destroy();this._params=null;}var _d=this._events;if(_d){_d.destroy();this._events=null;}};_pPluginElement._setObjectDOMParam=function(_a,_b,_c,_d){var _e=_a.createElement("param");nexacro.__setHTMLAttr_Proeprty(_e,"name",_c);nexacro.__setHTMLAttr_Proeprty(_e,"value",_d);nexacro.__appendDOMNode(_b,_e);};_pPluginElement.on_update_position=function(_a,_b,_c,_d){var _e=this._object_node;if(_e){var _f=_e.style;nexacro.__setDOMStyle_Absolute(_f);if(_b){nexacro.__setDOMStyle_Pos(_f,_c,_d);}if(_a){nexacro.__setDOMStyle_Size(_f,this.width,this.height);}}};_pPluginElement.setElementFocus=function(_a){var _b=this._object_node;if(_b){nexacro.__setDOMNode_Focus(_b,true);nexacro.__setLastFocusedElement(this);}};_pPluginElement.setElementLicense=function(_a){if(this.license!=_a){this.license=_a;}};_pPluginElement.setElementLicenseFile=function(_a){if(!this.handle&&this.lpkpath!=_a){this.lpkpath=_a;}};_pPluginElement.setElementMIMEType=function(_a){var _b;if(this.mimetype!=_a){this.mimetype=_a;_b=this._object_node;if(_b){nexacro.__setHTMLAttr_Proeprty(_b,'mimetype',_a);}}if(this.plugintype!=_a){this.plugintype=_a;_b=this._object_node;if(_b){var _c=this._embed_node;if(_c==null){var _d=this._getRootWindowHandle();this._embed_node=_c=_d.createElement("embed");nexacro.__appendDOMNode(_b,_c);}nexacro.__setHTMLAttr_Proeprty(_c,'type',_a);}}};_pPluginElement.setElementCodebase=function(_a){if(this.codebase!=_a){this.codebase=_a;var _b=this._object_node;if(_b){nexacro.__setHTMLAttr_Proeprty(_b,'codebase',_a);}}};_pPluginElement.setElementCode=function(_a){if(this.code!=_a){this.code=_a;var _b=this._object_node;if(_b){nexacro.__setHTMLAttr_Proeprty(_b,'code',_a);}}};_pPluginElement.setElementArchive=function(_a){if(this.archive!=_a){this.archive=_a;var _b=this._object_node;if(_b){nexacro.__setHTMLAttr_Proeprty(_b,'archive',_a);}}};_pPluginElement.getElementParam=function(_a){var _b=this.handle;var _c=this._object_node;if(_b&&_c){var _d=_c.getElementsByTagName("param");for(var _f in _d){if(_d[_f].name==_a){return _d[_f].value;}}if(_c[_a]){return this._object_node[_a];}}else{var _e=this._params;return _e.get_item(_a);}};_pPluginElement.setElementParam=function(_a,_b){var _c=this._object_node;if(this.handle&&_c){var _d=this._getRootWindowHandle();var _e=_c.getElementsByTagName("param");for(var _g in _e){if(_e[_g].name==_a){_e[_g].value=_b;this._object_node[_a]=_b;return;}}this._setObjectDOMParam(_d,_c,_a,_b);this._object_node[_a]=_b;}else{var _f=this._params;if(_f.get_item(_a)){_f.set_item(_a,_b);}else{_f.add_item(_a,_b);}}};_pPluginElement.setElementPluginSrc=function(_a){if(this.pluginsrc!=_a){this.pluginsrc=_a;var _b=this._object_node;if(_b){var _c=this._embed_node;if(_c==null){var _d=this._getRootWindowHandle();this._embed_node=_c=_d.createElement("embed");var _e=_c.style;nexacro.__setDOMStyle_Absolute(_e);nexacro.__setDOMStyle_Pos(_e,this.left,this.top);nexacro.__setDOMStyle_Size(_e,this.width,this.height);nexacro.__setHTMLAttr_Proeprty(_c,'src',_a);nexacro.__appendDOMNode(_b,_c);}else{nexacro.__setHTMLAttr_Proeprty(_c,'src',_a);nexacro.__removeDOMNode(_b,_c);nexacro.__appendDOMNode(_b,_c);}}}};_pPluginElement._setElementPluginName=nexacro._emptyFn;_pPluginElement.setElementPluginMIMEType=function(_a){if(this.plugintype!=_a){this.plugintype=_a;var _b=this._object_node;if(_b){var _c=this._embed_node;if(_c==null){var _d=this._getRootWindowHandle();this._embed_node=_c=_d.createElement("embed");nexacro.__appendDOMNode(_b,_c);}nexacro.__setHTMLAttr_Proeprty(_c,'type',_a);}}};_pPluginElement.callMethod=function(){if(arguments.length<1){return;}if(this.handle&&this._object_node){var _a=0;var _b=[];var _c=this._embed_node?this._embed_node:this._object_node;var _d=Array.prototype.shift.call(arguments);var _e="var ret = this."+_d+"(";for(var _h=0;_h<arguments.length;_h++ ){if(arguments[_h]===undefined){_e="var arg"+_h+" = undefined"+";\n"+_e;}else if(arguments[_h]===null){_e="var arg"+_h+" = null"+";\n"+_e;}else if(arguments[_h]===""){_e="var arg"+_h+" = \"\""+";\n"+_e;}else{if(typeof arguments[_h]=="string"){var _f=arguments[_h].replace(/"/g,"\\\"").replace(/\n/g,"\\n");_e="var arg"+_h+" = \""+_f+"\";\n"+_e;}else if(typeof arguments[_h]=="object"){_e="var arg"+_h+" = arguments["+_a+"];\n"+_e;_b.push(arguments[_h]);_a++ ;}else{_e="var arg"+_h+" = "+arguments[_h]+";\n"+_e;}}if(_h<arguments.length-1){_e+="arg"+_h+", ";}else{_e+="arg"+_h;}}_e+=");\n";_e+="return ret;";var _g=function(){var _i=new Function(arguments[0]);return _i.apply(this,_b);};return _g.call(_c,_e);}};_pPluginElement._getPluginObject=function(){if(this.handle&&this._object_node){var _a=new nexacro.PluginObject();_a.handle=this._object_node;_a._doc=this._getRootWindowHandle();return _a;}};_pPluginElement.getProperty=_pPluginElement.getElementParam;_pPluginElement.setProperty=_pPluginElement.setElementParam;_pPluginElement.install=nexacro._emptyFn;_pPluginElement.isInstalled=nexacro._emptyFn;_pPluginElement.isLoaded=nexacro._emptyFn;_pPluginElement.setElementVisible=nexacro._emptyFn;_pPluginElement.setElementAdjustAlpha=nexacro._emptyFn;_pPluginElement.setElementWindowed=nexacro._emptyFn;_pPluginElement.setElementEnable=nexacro._emptyFn;_pPluginElement.setElementPopupStyle=nexacro._emptyFn;_pPluginElement.initEvent=nexacro._emptyFn;_pPluginElement.updateWindow=nexacro._emptyFn;_pPluginElement.setElementAdjustAlpha=nexacro._emptyFn;_pPluginElement.setElementUsePersistData=nexacro._emptyFn;_pPluginElement.getElementUsePersistData=nexacro._emptyFn;_pPluginElement.setElementClassId64=nexacro._emptyFn;nexacro.PluginObject=function(){};var __pPluginObject=nexacro._createPrototype(nexacro.Object,nexacro.PluginObject);nexacro.PluginObject.prototype=__pPluginObject;__pPluginObject._type_name="PluginObject";__pPluginObject.handle=null;__pPluginObject._doc=null;__pPluginObject._window=null;__pPluginObject.getProperty=function(_a){var _b=this.handle;if(_b!==undefined){if(_a){var _c=_b[_a];if(_c===null||(typeof _c!=="undefined"&&typeof _c!="object"&&typeof _c!="function")){return _c;}else{if(_c!==undefined){var _d=new nexacro.PluginObject();_d.handle=_c;_d._window=this._window;return _d;}}var _e=this.handle.getElementsByTagName("param");for(var _f in _e){if(_e[_f].name==_a){return _e[_f].value;}}}}};__pPluginObject.setProperty=function(_a,_b){if(this.handle&&_a){if(this.handle[_a]!==undefined){this.handle[_a]=_b;return;}var _c=this.handle.getElementsByTagName("param");for(var _e in _c){if(_c[_e].name==_a){_c[_e].value=_b;return;}}if(this._doc){var _d=this._doc.createElement("param");nexacro.__setHTMLAttr_Proeprty(_d,"name",_a);nexacro.__setHTMLAttr_Proeprty(_d,"value",_b);nexacro.__appendDOMNode(this.handle,_d);}}};__pPluginObject._delete_property=function(_a){if(this.handle&&_a){if(this.handle[_a]){this.handle[_a]="";return;}var _b=this.handle.getElementsByTagName("param");for(var _c in _b){if(_b[_c].name==_a){nexacro.__unlinkDOMNode(this.handle,_b[_c]);return;}}}};__pPluginObject.callMethod=function(){if(arguments.length<1){return;}if(this.handle||this.handle!==undefined){var _a=0;var _b=[];var _c=Array.prototype.shift.call(arguments);var _d="var ret = this."+_c+"(";for(var _i=0;_i<arguments.length;_i++ ){if(arguments[_i]===undefined){_d="var arg"+_i+" = undefined"+";\n"+_d;}else if(arguments[_i]===null){_d="var arg"+_i+" = null"+";\n"+_d;}else if(arguments[_i]===""){_d="var arg"+_i+" = \"\""+";\n"+_d;}else{if(typeof arguments[_i]=="string"){var _e=arguments[_i].replace(/"/g,"\\\"").replace(/\n/g,"\\n");_d="var arg"+_i+" = \""+_e+"\";\n"+_d;}else if(typeof arguments[_i]=="object"){_d="var arg"+_i+" = arguments["+_a+"];\n"+_d;_b.push(arguments[_i]);_a++ ;}else{_d="var arg"+_i+" = "+arguments[_i]+";\n"+_d;}}if(_i<arguments.length-1){_d+="arg"+_i+", ";}else{_d+="arg"+_i;}}_d+=");\n";_d+="return ret;";var _f=function(){var _j=new Function(arguments[0]);return _j.apply(this,_b);};var _g=_f.call(this.handle,_d);if(_g!=null&&typeof (_g)=="object"){var _h=new nexacro.PluginObject();_h.handle=_g;return _h;}return _g;}};__pPluginObject.callMethodAsync=function(){var _a=this;var _b=new Promise(function(_c,_d){if(arguments.length<1){throw new TypeError("Failed to execute plugin method: 1 argument required, but only 0 present.");}if(_a.handle===undefined){_d("Unexpected plugin object");return;}_c(_a.callMethod());});return _b;};__pPluginObject.destroy=nexacro._emptyFn;nexacro._WebBrowserPluginElement=function(_a){this._p_parent=_a;this.parent_elem=_a;this.parent_elem.windowed=true;this._params=new nexacro.Collection();this._events=new nexacro.Collection();};var __pWebBrowserPluginElement=nexacro._createPrototype(nexacro.PluginElement,nexacro._WebBrowserPluginElement);nexacro._WebBrowserPluginElement.prototype=__pWebBrowserPluginElement;__pWebBrowserPluginElement._type_name="WebBrowserPluginElement";__pWebBrowserPluginElement.initEvent=nexacro._emptyFn;__pWebBrowserPluginElement._object_node=null;__pWebBrowserPluginElement._embed_node=null;__pWebBrowserPluginElement._params=null;__pWebBrowserPluginElement._events=null;__pWebBrowserPluginElement._window=null;__pWebBrowserPluginElement._document=null;__pWebBrowserPluginElement._block_node=null;__pWebBrowserPluginElement._prev_outfocus_message_elem=null;__pWebBrowserPluginElement._next_outfocus_message_elem=null;var _iframe_eventhandler_onmousemove=function(_a){var _b=_a.target;try{if(_b){var _c=_b.ownerDocument;var _d=_c._nexacro_iframe_contaniner;if(nexacro._cur_track_info){var _e=nexacro._findWindow(window.nexacro_HTMLSysEvent._win_win);var _f=nexacro.__findParentElement(_d);var _g=_c._nexacro_iframe_contaniner._linked_element.linkedcontrol;var _h=_g._getWindowPosition();_e._on_sys_mousemove(_f,"lbutton",_a.altKey,_a.ctrlKey,_a.shiftKey,_a.clientX+_h.x,_a.clientY+_h.y,_a.screenX,_a.screenY,_a.offsetX,_a.offsetY,_a.metaKey);}}}catch(e){nexacro._settracemsg(e);}};var _iframe_eventhandler_ontouchmove=function(_a){var _b=_a.target;var _c;function getDirection(_z,_aa){var _ab=_aa[2]-_z[2];var _ac=_aa[3]-_z[3];if(Math.abs(_ac)>=Math.abs(_ab)){return (_ac>0)?1:2;}return (_ab<0)?4:8;}if(_b){var _d=_b.ownerDocument;var _e=_d.body;var _f=_d._nexacro_iframe_contaniner;if(_d._nexacro_bInnerScroll){return;}if(nexacro._OS=="iOS"){_c=_d._nexacro_iframe;}else{_c=_e;}if(_d._nexacro_preTouchInfo){var _g=_a.changedTouches?_a.changedTouches.length:1;var _h={};for(var _z=0;_z<_g;_z++ ){_h=_a.changedTouches?_a.changedTouches[_z]:(_a.touches?_a.touches[0]:_a);}var _i=_h.pageX||_h.clientX;var _j=_h.pageY||_h.clientY;var _k=_h.screenX||_i;var _l=_h.screenY||_j;var _m=[_i,_j,_k,_l];var _n=_b.parentNode;var _o=getDirection(_d._nexacro_preTouchInfo,_m);var _p;var _q=_d.defaultView||_d.parentWindow;if(_d._nexacro_bInnerScroll===false){if(_o!=_d._nexacro_bInnerScrollDir){_d._nexacro_bInnerScroll=undefined;}}if(_o<3){while(_n&&_d._nexacro_bInnerScroll!==false&&_n!=_c){if(_o==1){if(_n.scrollTop>0){_d._nexacro_bInnerScroll=true;return;}}else{if(_n.scrollTop&&(_n.scrollTop+_n.clientHeight)<_n.scrollHeight){_d._nexacro_bInnerScroll=true;return;}}_n=_n.parentNode;}var _r;if(nexacro._OS=="iOS"){_r=parseInt(_c.style.height);}else{_r=_q.innerHeight;}var _s=_c.scrollHeight||_d.documentElement.scrollHeight;var _t=_c.scrollTop||_d.documentElement.scrollTop;if(_o==1){if(_t==0){_p=true;}}else{if(_t+_r>=_s){_p=true;}}var _u=_d._nexacro_preTouchInfo[1];if((_o==2&&_j>_u)||(_o==1&&_j<_u)){return;}}else{while(_n&&_d._nexacro_bInnerScroll!==false&&_n!=_c){if(_o==4){if(_n.scrollLeft>0){_d._nexacro_bInnerScroll=true;return;}}else{if(_n.scrollLeft&&(_n.scrollLeft+_n.clientWidth)<_n.scrollWidth){_d._nexacro_bInnerScroll=true;return;}}_n=_n.parentNode;}var _v;if(nexacro._OS=="iOS"){_v=parseInt(_c.style.width);}else{_v=_q.innerWidth;}var _w=_c.scrollWidth||_d.documentElement.scrollWidth;var _x=_c.scrollLeft||_d.documentElement.scrollLeft;if(_o==8){if(_x==0){_p=true;}}else{if(_x+_v>=_w){_p=true;}}var _y=_d._nexacro_preTouchInfo[0];if((_o==4&&_i>_y)||(_o==8&&_i<_y)){return;}}_d._nexacro_preTouchInfo[0]=_i;_d._nexacro_preTouchInfo[1]=_j;_d._nexacro_preTouchInfo[2]=_k;_d._nexacro_preTouchInfo[3]=_l;_d._nexacro_bInnerScroll=false;_d._nexacro_bInnerScrollDir=_o;if(_p){nexacro._syshandler_ontouchmove(window.nexacro_HTMLSysEvent,_f,_a);}else{_d._nexacro_bScroll=false;}}}};var _iframe_eventhandler_ontouchstart=function(_a){var _b=_a.target;var _c;if(_b){var _d=_b.ownerDocument;var _e=_d.body;var _f=_d._nexacro_iframe_contaniner;_d._nexacro_bInnerScroll=undefined;if(nexacro._OS=="iOS"){_c=_d._nexacro_iframe;}else{_c=_e;}_d._nexacro_bScroll=false;var _g=_d.defaultView||_d.parentWindow;var _h;var _i;if(nexacro._OS=="iOS"){_h=parseInt(_c.style.height);_i=parseInt(_c.style.width);}else{_h=nexacro._getWindowHandleClientHeight(_g);_i=nexacro._getWindowHandleClientWidth(_g);var _j=_g.innerHeight;var _k=_g.innerWidth;_h=(_h>_j)?_h:_j;_i=(_i>_k)?_i:_k;}var _l=_c.scrollHeight||_d.documentElement.scrollHeight;var _m=_c.scrollTop||_d.documentElement.scrollTop;var _n=_c.scrollWidth||_d.documentElement.scrollWidth;var _o=_c.scrollLeft||_d.documentElement.scrollLeft;if((_m==0||(_l-_h)<=_m)||(_o==0||(_n-_i)<=_o)){_d._nexacro_bScroll=true;var _p=_a.changedTouches?_a.changedTouches.length:1;var _q={};for(var _v=0;_v<_p;_v++ ){_q=_a.changedTouches?_a.changedTouches[_v]:(_a.touches?_a.touches[0]:_a);}var _r=_q.pageX||_q.clientX;var _s=_q.pageY||_q.clientY;var _t=_q.screenX||_r;var _u=_q.screenY||_s;_d._nexacro_preTouchInfo=[_r,_s,_t,_u];nexacro._syshandler_ontouchstart(window.nexacro_HTMLSysEvent,_f,_a);}}};var _iframe_eventhandler_ontouchend=function(_a){var _b=_a.target;if(_b){var _c=_b.ownerDocument;var _d=_c._nexacro_iframe_contaniner;if(_c._nexacro_bScroll){if(nexacro._last_touchend_time&&(nexacro._last_touchend_doc!=_c)){nexacro._last_touchend_time=null;}nexacro._syshandler_ontouchend(window.nexacro_HTMLSysEvent,_d,_a);}}};var _iframe_eventhandler_onmousewheel=function(_a){var _b=_a.target;if(_b){var _c=_b.ownerDocument;var _d=_c.body;var _e=_c._nexacro_iframe_contaniner;var _f;if(nexacro._OS=="iOS"){_f=_c._nexacro_iframe;}else{_f=_d;}var _g=_c.defaultView||_c.parentWindow;var _h=0;var _i=_f.scrollHeight||_c.documentElement.scrollHeight;var _j=_f.scrollTop||_c.documentElement.scrollTop;var _k=nexacro.__getWheelDeltaY(_a);if(nexacro._OS=="iOS"){_h=parseInt(_f.style.height);}else{_h=_g.innerHeight;}if((_j==0&&_k>0)||(_i-_h<=_j&&_k<0)){nexacro._syshandler_onmousewheel(window.nexacro_HTMLSysEvent,_e,_a);}}};var _iframe_eventhandler_onload=function(_a){var _b=_a.target;if(!_b){return;}try{var _c=_b.contentDocument||_b.contentWindow.document;_c._nexacro_iframe_contaniner=_b._contaniner.handle;_c._nexacro_iframe=_b._contaniner.dest_handle;if(nexacro._SupportTouch){nexacro._observeSysEvent(_c,"touchmove","ontouchmove",_iframe_eventhandler_ontouchmove);nexacro._observeSysEvent(_c,"touchstart","ontouchstart",_iframe_eventhandler_ontouchstart);nexacro._observeSysEvent(_c,"touchend","ontouchend",_iframe_eventhandler_ontouchend);}nexacro._observeSysEvent(_c,"mousewheel","onmousewheel",_iframe_eventhandler_onmousewheel);nexacro._observeSysEvent(_c,"DOMMouseScroll","onmousewheel",_iframe_eventhandler_onmousewheel);nexacro._observeSysEvent(_c,"mousemove","onmousemove",_iframe_eventhandler_onmousemove);}catch(e){nexacro._settracemsg(e);}finally{var _d=_b._linked_element;if(_d){_d._on_frame_load(_b.contentWindow);}}};__pWebBrowserPluginElement.create=function(_a){var _b=this.parent_elem.getContainerElement(this.position_step);if(_b&&_b.handle&&!this.handle){this.owner_elem=_b;var _c=_b._getRootWindowHandle();var _d=this._createInternalFrameElementHandle(_c,this.left,this.top,this.width,this.height,this._params);_d._contaniner=_b;nexacro.__setDOMNode_Selectable(_d,true);if(nexacro._OS=="iOS"){nexacro.__setMobileIframeDOMNodeStyleScroll(_b.dest_handle.style);}if(nexacro._OS=="Android"&&(nexacro._Browser=="Safari"||nexacro._Browser=="MobileSafari")&&this.visible){this._need_hide=true;}var _e=_d.style;if(!this.visible||this._need_hide){nexacro.__setDOMStyle_Visible(_e,false);}if(this.font){nexacro.__setDOMStyle_Font(_e,this.font);}if(this.color){nexacro.__setDOMStyle_Color(_e,this.color);}var _f=this._createInternalFocusElementHandle("preFocus",_a,_c,_b);if(_f){this._pre_tab_focus_elem=_f;nexacro._observeSysEvent(_f,"focus","onfocus",this._go_prev_focus);}this.handle=this.dest_handle=_d;nexacro.__appendDOMNode(_b.dest_handle,_d);nexacro._observeSysEvent(_d,"load","onload",_iframe_eventhandler_onload);_f=this._createInternalFocusElementHandle("nextFocus",_a,_c,_b);if(_f){nexacro._observeSysEvent(_f,"focus","onfocus",this._go_next_focus);this._next_outfocus_message_elem=this._createInternalAccessibilityElementHandle(_a,_b);}if(nexacro._isTouchInteraction&&nexacro._SupportTouch){nexacro._observeSysEvent(_d,"focusin","onfocusin",this._iframe_onfocusin_forward);nexacro._observeSysEvent(_d,"focusout","onfocusout",this._iframe_onfocusout_forward);}}};__pWebBrowserPluginElement.createCommand=function(){return "";};__pWebBrowserPluginElement.attachHandle=function(_a){return;};__pWebBrowserPluginElement._createInternalAccessibilityElementHandle=function(_a,_b){return null;};__pWebBrowserPluginElement._createInternalFocusElementHandle=function(_a,_b,_c,_d){var _e=_c.createElement("div");nexacro.__setDOMNode_TabIndex(_e,0);nexacro.__setDOMNode_Id(_e,_d.name,":"+_a);var _f=_e.style;nexacro.__setDOMStyle_Absolute(_f);nexacro.__setDOMStyle_Pos(_f,this.left,this.top);nexacro.__setDOMStyle_Size(_f,1,1);nexacro.__setDOMStyle_OpacityObject(_f,0);_e.parent_elem=this.parent;nexacro.__appendDOMNode(_d.dest_handle,_e);if(nexacro._enableaccessibility){nexacro.__setDOMAccessibility_StatHidden(_e,true);}return _e;};__pWebBrowserPluginElement._go_prev_focus=function(_a){var _b=_a.target?_a.target:_a.srcElement;var _c=_b.parent_elem.linkedcontrol._getForm();var _d=_c._searchPrevTabFocus(_c._last_focused);if(_d&&_d[0]){if(_d[0] instanceof nexacro.Form&&_d[0]._last_focused){var _e=_c._getWindow();_e._removeFromCurrentFocusPath(_d[0]._last_focused);}_d[0]._setFocus(true,1,true);}};__pWebBrowserPluginElement._go_next_focus=function(_a){var _b=_a.target?_a.target:_a.srcElement;var _c=_b.parent_elem.linkedcontrol._getForm();var _d=_c._searchNextTabFocus(_c._last_focused);if(_d&&_d[0]){if(_d[0] instanceof nexacro.Form&&_d[0]._last_focused){var _e=_c._getWindow();_e._removeFromCurrentFocusPath(_d[0]._last_focused);}_d[0]._setFocus(true,0,true);}};__pWebBrowserPluginElement._on_frame_load=function(_a){var _b;var _c="";try{_b=this.parent_elem.linkedcontrol;if(_a){if(this._need_hide){nexacro.__setDOMStyle_Visible(this.handle.style,true);this._need_hide=false;}this._window=_a;this._document=_a.document;if(_a.NEXACROWEBBROWSER==undefined){_a.NEXACROWEBBROWSER=_b;}}if(this._document){_c=this._document.location.href;}}catch(e){this._window=null;this._document=null;nexacro._settracemsg(e);}_a=_b._getWindow();var _d=_a.getCurrentFocusPaths();var _e=_b;while(_e&&_e._is_nc_control){_e=_e.parent;}if(!_e){return;}var _f=-1;if(_d){_f=nexacro._indexOf(_d,_e);}var _g=_d.length;if(_f<0){var _h=_d[_g -1];var _i=_h._input_element;if(!_i||(_i&&!_i._is_focused)){_h._apply_setfocus();}if(_i){_i._is_sys_focused=false;_i.setElementFocus();}}_b.on_load_handler(_c);};__pWebBrowserPluginElement.destroy=function(){if(this._prev_outfocus_message_elem){if(this._prev_outfocus_message_elem.handle){nexacro._stopSysObserving(this._prev_outfocus_message_elem.handle,"focus","onfocus",this._iframe_onfocus_forward);}this._prev_outfocus_message_elem.destroy();this._prev_outfocus_message_elem=null;}if(this._next_outfocus_message_elem){this._next_outfocus_message_elem.destroy();this._next_outfocus_message_elem=null;}var _a=this.handle;if(_a){nexacro._stopSysObserving(_a,"load","onload",_iframe_eventhandler_onload);_a._linked_element=null;var _b=null;if(this.owner_elem&&this.owner_elem.dest_handle){_b=this.owner_elem.dest_handle;}if(!this.owner_elem||_b){nexacro.__removeDOMNode(_b,_a);}var _c=this._overlay_elem;if(_c){_c.destroy();}this._overlay_elem=null;this._document=null;this.owner_elem=null;this.handle=this.dest_handle=null;}this._p_parent=null;this.parent_elem=null;var _d=this._params;if(_d){_d.destroy();this._params=null;}var _e=this._events;if(_e){_e.destroy();this.events=null;}};__pWebBrowserPluginElement._createInternalFrameElementHandle=function(_a,_b,_c,_d,_e,_f){var _g=_a.createElement("iframe");_g._linked_element=this;_g.frameBorder=0;this._object_id=this.parent_elem.handle.id+'_'+this.component._type_name;if(this._object_id){nexacro.__setHTMLAttr_Proeprty(_g,'id',this._object_id);}var _h=_g.style;_h.position="absolute";if(nexacro._enableaccessibility&&nexacro._accessibilitytype!=5){nexacro.__setDOMNode_ToolTip(_g,this.parent_elem.tooltiptext?this.parent_elem.tooltiptext:(this.parent_elem.accessibilitylabel?this.parent_elem.accessibilitylabel:this.parent_elem.linkedcontrol.id));}nexacro.__setDOMStyle_Pos(_h,_b,_c);nexacro.__setDOMStyle_Size(_h,_d,_e);var _i=(_f?_f.length:0);for(var _j=0;_j<_i;_j++ ){this._setInternalFrameDOMParam(_a,_g,_f.get_id(_j),_f.get_item(_j));}return _g;};__pWebBrowserPluginElement._setInternalFrameDOMParam=function(_a,_b,_c,_d){nexacro.__setHTMLAttr_Proeprty(_b,_c,_d);};__pWebBrowserPluginElement.setElementFocus=nexacro._emptyFn;__pWebBrowserPluginElement._setElementFocus=function(_a){var _b=this.handle;if(_b){nexacro.__setDOMNode_Focus(_b,true);nexacro.__setLastFocusedElement(this);if(nexacro._enableaccessibility){var _c=this._next_outfocus_message_elem;if(_c){_c._killfocus_flag=false;}var _d=this._prev_outfocus_message_elem;if(_d){_d._killfocus_flag=false;}}}};__pWebBrowserPluginElement.setElementCodebase=function(_a){if(this.codebase!=_a){this.codebase=_a;var _b=this.handle;if(_b){nexacro.__setHTMLAttr_Proeprty(_b,'codebase',_a);}}};__pWebBrowserPluginElement.getElementParam=function(_a){var _b=this.handle;if(_b){var _c=this._document;if(!_c){_c=this._document=_b.contentDocument||_b.contentWindow.document;}var _d=null;var _e;if(_a){if(_a==="document"){_e=new nexacro.PluginObject();_e.handle=_c;return _e;}else if(_a=="window"){var _f=this._window;if(!_f){_f=this._window=_b.contentWindow;}_e=new nexacro.PluginObject();_e.handle=_f;return _e;}_d=_b[_a];if(_d!=null&&typeof (_d)=="object"){_e=new nexacro.PluginObject();_e.handle=_d;return _e;}return _d;}}else{var _g=this._params;return _g.get_item(_a);}};__pWebBrowserPluginElement.setElementParam=function(_a,_b){if(this.handle){var _c=this._getRootWindowHandle();this._setInternalFrameDOMParam(_c,this.handle,_a,_b);}else{var _d=this._params;_d.add_item(_a,_b);}};__pWebBrowserPluginElement.setElementEnable=function(_a){if(this.enable!=_a){this.enable=_a;var _b=this.handle;if(_b){var _c=this._overlay_elem;if(_a){if(_c){_c.setElementVisible(false);}}else{if(!_c){var _d=this.parent;var _e=_d.linkedcontrol;var _f=_e._getWindow();if(!_f){_f=nexacro._getMainWindowHandle()?nexacro._getMainWindowHandle()._linked_window:null;}_c=this._overlay_elem=new nexacro._OverlayElement(_d);_c.setLinkedControl(_e);_c.create(_f);}_c.setElementVisible(true);}}}};__pWebBrowserPluginElement._getDoc=function(){return this._document;};__pWebBrowserPluginElement._setUrl=function(_a,_b){if(this.handle){if(_b){this.setElementParam("src",_a);}else{this._replaceURL(_a);}}};if(nexacro._Browser=="Gecko"){__pWebBrowserPluginElement._setGo=function(){if(this.handle&&this.handle.contentWindow){try{this.handle.contentWindow.location.reload(true);}catch(e){nexacro._settracemsg(e);}}};}else{__pWebBrowserPluginElement._setGo=function(){if(this.handle&&this.handle.contentWindow){try{this.handle.contentWindow.history.go(0);}catch(e){nexacro._settracemsg(e);}}};}__pWebBrowserPluginElement._setBack=function(){if(this.handle&&this.handle.contentWindow){try{this.handle.contentWindow.history.back();}catch(e){nexacro._settracemsg(e);}}};__pWebBrowserPluginElement._setForward=function(){if(this.handle&&this.handle.contentWindow){try{this.handle.contentWindow.history.forward();}catch(e){nexacro._settracemsg(e);}}};__pWebBrowserPluginElement._replaceURL=function(_a){var _b=this.handle.contentWindow;if(_b){_b.location.replace(_a);}};__pWebBrowserPluginElement.callMethod=function(){if(arguments.length<1){return;}var _a=Array.prototype.shift.call(arguments);return this._window[_a].apply(this._window,arguments);};if(nexacro._isTouchInteraction&&nexacro._SupportTouch){__pWebBrowserPluginElement._iframe_onfocusout_forward=function(_a){var _b=this._linked_element.parent_elem.linkedcontrol._getWindow();_b._is_iframe_focus=false;};__pWebBrowserPluginElement._iframe_onfocusin_forward=function(_a){var _b=this._linked_element.parent_elem.linkedcontrol._getWindow();_b._is_iframe_focus=true;};}__pWebBrowserPluginElement._iframe_onfocus_forward=function(_a){if(nexacro._com_waiting){nexacro._stopSysEvent(_a);}this._linked_element._killfocus_flag=true;};__pWebBrowserPluginElement._setElementInternalFocus=function(_a){var _b=nexacro.Event;if(_a==_b.KEY_UP){if(this._prev_outfocus_message_elem._killfocus_flag==true){this._prev_outfocus_message_elem._killfocus_flag=false;}else{try{this.handle.contentDocument.body.focus();}catch(e){nexacro._settracemsg(e);}}}else if(_a==_b.KEY_DOWN){if(this._next_outfocus_message_elem._killfocus_flag==true){this._next_outfocus_message_elem._killfocus_flag=false;}else{try{this.handle.contentDocument.body.focus();}catch(e){nexacro._settracemsg(e);}}}};__pWebBrowserPluginElement._setElementLeaveMessage=function(_a){var _b=this._next_outfocus_message_elem;if(_b){_b.setElementText(_a);}};__pWebBrowserPluginElement.getProperty=__pWebBrowserPluginElement.getElementParam;__pWebBrowserPluginElement.setProperty=__pWebBrowserPluginElement.setElementParam;nexacro._WebViewPluginElement=function(_a){this._p_parent=_a;this.parent_elem=_a;this.parent_elem.windowed=true;this._params=new nexacro.Collection();this._events=new nexacro.Collection();};var __pWebViewPluginElement=nexacro._createPrototype(nexacro.PluginElement,nexacro._WebViewPluginElement);nexacro._WebViewPluginElement.prototype=__pWebViewPluginElement;__pWebViewPluginElement._type_name="WebViewPluginElement";__pWebViewPluginElement.initEvent=nexacro._emptyFn;__pWebViewPluginElement._object_node=null;__pWebViewPluginElement._embed_node=null;__pWebViewPluginElement._params=null;__pWebViewPluginElement._events=null;__pWebViewPluginElement._window=null;__pWebViewPluginElement._document=null;__pWebViewPluginElement._block_node=null;__pWebViewPluginElement._prev_outfocus_message_elem=null;__pWebViewPluginElement._next_outfocus_message_elem=null;__pWebViewPluginElement.create=__pWebBrowserPluginElement.create;__pWebViewPluginElement._go_prev_focus=__pWebBrowserPluginElement._go_prev_focus;__pWebViewPluginElement._go_next_focus=__pWebBrowserPluginElement._go_next_focus;__pWebViewPluginElement._createInternalFocusElementHandle=__pWebBrowserPluginElement._createInternalFocusElementHandle;__pWebViewPluginElement._createInternalAccessibilityElementHandle=__pWebBrowserPluginElement._createInternalAccessibilityElementHandle;__pWebViewPluginElement.createCommand=function(){return "";};__pWebViewPluginElement.attachHandle=function(_a){return;};__pWebViewPluginElement._on_frame_load=function(_a){var _b;var _c="";try{_b=this.parent_elem.linkedcontrol;if(_a){if(this._need_hide){nexacro.__setDOMStyle_Visible(this.handle.style,true);this._need_hide=false;}this._window=_a;this._document=_a.document;if(_a.nexacro==undefined){_a.nexacro={firetargetfunc:undefined,target:undefined,fireUserNotify:function(_l){var _m={message:'fireUserNotify',target:this.target,data:_l};this.firetargetfunc(_m);}};_a.nexacro.firetargetfunc=_b.fireUserNotify;_a.nexacro.target=_b;}if(_a.NEXACROWEBBROWSER==undefined){_a.NEXACROWEBBROWSER=_b;}}if(this._document){var _d=this._document;var _e=_d.createElement('script');_e.id="_safeStringify";_e.crossorigin='anonymous';_e.async="async";_e.text="var _safeStringify = function (obj, indent)"+"{ if (indent === void 0) { indent = 2; } var cache = [];"+"if(obj === null || obj ==='' || obj === undefined) return undefined;"+"if (typeof obj === 'object') {"+"var retVal = JSON.stringify(obj, function (key, value)"+"{ if(typeof value === 'object' && (value == document || value == window)) return value.toString();"+"return typeof value === 'object' && value !== null ? cache.indexOf(value) !== -1 ? undefined : cache.push(value) && value : value;"+"}, indent); cache = null; return retVal;"+"} return obj.toString();} ";_d.body.appendChild(_e);_c=this._document.location.href;}}catch(e){this._window=null;this._document=null;nexacro._settracemsg(e);}_a=_b._getWindow();var _f=_a.getCurrentFocusPaths();var _g=_b;while(_g&&_g._is_nc_control){_g=_g.parent;}if(!_g){return;}var _h=-1;if(_f){_h=nexacro._indexOf(_f,_g);}var _i=_f.length;if(_h<0){var _j=_f[_i -1];_j._apply_setfocus();var _k=_j._input_element;if(_k){_k._is_sys_focused=false;_k.setElementFocus();}}_b.on_load_handler(_c);};__pWebViewPluginElement.destroy=function(){if(this._prev_outfocus_message_elem){nexacro._stopSysObserving(this._prev_outfocus_message_elem.handle,"focus","onfocus",this._iframe_onfocus_forward);this._prev_outfocus_message_elem.destroy();this._prev_outfocus_message_elem=null;}if(this._next_outfocus_message_elem){this._next_outfocus_message_elem.destroy();this._next_outfocus_message_elem=null;}var _a=this.handle;if(_a){nexacro._stopSysObserving(_a,"load","onload",_iframe_eventhandler_onload);_a._linked_element=null;var _b=null;if(this.owner_elem&&this.owner_elem.dest_handle){_b=this.owner_elem.dest_handle;}if(!this.owner_elem||_b){nexacro.__removeDOMNode(_b,_a);}var _c=this._overlay_elem;if(_c){_c.destroy();}this._overlay_elem=null;this._document=null;this.owner_elem=null;this.handle=this.dest_handle=null;}this._p_parent=null;this.parent_elem=null;var _d=this._params;if(_d){_d.destroy();this._params=null;}var _e=this._events;if(_e){_e.destroy();this.events=null;}};__pWebViewPluginElement._createInternalFrameElementHandle=function(_a,_b,_c,_d,_e,_f){var _g=_a.createElement("iframe");_g._linked_element=this;_g.frameBorder=0;this._object_id=this.parent_elem.handle.id+'_'+this.component._type_name;if(this._object_id){nexacro.__setHTMLAttr_Proeprty(_g,'id',this._object_id);}var _h=_g.style;_h.position="absolute";nexacro.__setDOMNode_ToolTip(_g,this.parent_elem.tooltiptext?this.parent_elem.tooltiptext:(this.parent_elem.accessibilitylabel?this.parent_elem.accessibilitylabel:this.parent_elem.linkedcontrol.id));nexacro.__setDOMStyle_Pos(_h,_b,_c);nexacro.__setDOMStyle_Size(_h,_d,_e);var _i=(_f?_f.length:0);for(var _j=0;_j<_i;_j++ ){this._setInternalFrameDOMParam(_a,_g,_f.get_id(_j),_f.get_item(_j));}return _g;};__pWebViewPluginElement._setInternalFrameDOMParam=function(_a,_b,_c,_d){nexacro.__setHTMLAttr_Proeprty(_b,_c,_d);};__pWebViewPluginElement.setElementFocus=nexacro._emptyFn;__pWebViewPluginElement._closeDefaultDownloadDialog=nexacro._emptyFn;__pWebViewPluginElement._setElementFocus=function(_a){var _b=this.handle;if(_b){nexacro.__setDOMNode_Focus(_b,true);nexacro.__setLastFocusedElement(this);if(nexacro._enableaccessibility){var _c=this._next_outfocus_message_elem;if(_c){_c._killfocus_flag=false;}var _d=this._prev_outfocus_message_elem;if(_d){_d._killfocus_flag=false;}}}};__pWebViewPluginElement.setElementCodebase=function(_a){if(this.codebase!=_a){this.codebase=_a;var _b=this.handle;if(_b){nexacro.__setHTMLAttr_Proeprty(_b,'codebase',_a);}}};__pWebViewPluginElement.getElementParam=function(_a){var _b=this.handle;if(_b){var _c=this._document;if(!_c){_c=this._document=_b.contentDocument||_b.contentWindow.document;}var _d=null;var _e;if(_a){if(_a==="document"){_e=new nexacro.PluginObject();_e.handle=_c;return _e;}else if(_a=="window"){var _f=this._window;if(!_f){_f=this._window=_b.contentWindow;}_e=new nexacro.PluginObject();_e.handle=_f;return _e;}_d=_b[_a];if(_d!=null&&typeof (_d)=="object"){_e=new nexacro.PluginObject();_e.handle=_d;return _e;}return _d;}}else{var _g=this._params;return _g.get_item(_a);}};__pWebViewPluginElement.setElementParam=function(_a,_b){if(this.handle){var _c=this._getRootWindowHandle();this._setInternalFrameDOMParam(_c,this.handle,_a,_b);}else{var _d=this._params;_d.add_item(_a,_b);}};__pWebViewPluginElement.setElementEnable=function(_a){if(this.enable!=_a){this.enable=_a;var _b=this.handle;if(_b){var _c=this._overlay_elem;if(_a){if(_c){_c.setElementVisible(false);}}else{if(!_c){var _d=this.parent;var _e=_d.linkedcontrol;var _f=_e._getWindow();if(!_f){_f=nexacro._getMainWindowHandle()?nexacro._getMainWindowHandle()._linked_window:null;}_c=this._overlay_elem=new nexacro._OverlayElement(_d);_c.setLinkedControl(_e);_c.create(_f);}_c.setElementVisible(true);}}}};__pWebViewPluginElement._getDoc=function(){return this._document;};__pWebViewPluginElement._setUrl=function(_a,_b){if(this.handle){if(_b){this.setElementParam("src",_a);}else{this._replaceURL(_a);}}};__pWebViewPluginElement._setInstallUrl=nexacro._emptyFn;if(nexacro._Browser=="Gecko"){__pWebViewPluginElement._setGo=function(){if(this.handle&&this.handle.contentWindow){try{this.handle.contentWindow.location.reload(true);}catch(e){nexacro._settracemsg(e);}}};}else{__pWebViewPluginElement._setGo=function(){if(this.handle&&this.handle.contentWindow){try{this.handle.contentWindow.history.go(0);}catch(e){nexacro._settracemsg(e);}}};}__pWebViewPluginElement._setBack=function(){if(this.handle&&this.handle.contentWindow){try{this.handle.contentWindow.history.back();}catch(e){nexacro._settracemsg(e);}}};__pWebViewPluginElement._setForward=function(){if(this.handle&&this.handle.contentWindow){try{this.handle.contentWindow.history.forward();}catch(e){nexacro._settracemsg(e);}}};__pWebViewPluginElement._replaceURL=function(_a){var _b=this.handle.contentWindow;if(_b){_b.location.replace(_a);}};__pWebViewPluginElement.injectScript=function(){if(arguments.length<1){return undefined;}if(!this._window){return undefined;}var _a=arguments[0];if(_a!=null&&typeof _a=='string'){_a=_a.replace(/\'/gi,"\\'");_a=_a.replace(/\r\n/gi,"\\n");_a=_a.replace(/\n/gi,"\\n");_a=_a.replace(/\r/gi,"\\n");var _b="this._safeStringify.call(this,new Function(\'return this."+_a+"\').call(this))";var _c=function(){return Function("return "+arguments[0]).call(this);};var _d=_c.call(this._window,_b);if(_d===null||_d===undefined||_d===""){return undefined;}else{_d=_d.toString();if(_d.charAt(0)=="\""){_d=_d.substr(1,_d.length-1);_d=_d.substr(0,_d.length-1);}}return _d;}return undefined;};__pWebViewPluginElement.injectScriptAndReturnPromise=function(){var _a=this;var _b=arguments;var _c=new Promise(function(_d,_e){if(arguments.length<1||!_a._window){throw new TypeError("Failed to execute 'injectScript': 1 argument required, but only 0 present.");}if(!_a._window){_e("Plugin not attached to window");return;}var _f=_b[0];if(_f==null||typeof _f!=='string'){_e("Unexpected script");return;}_d(_a.injectScript.apply(_a,_b));});return _c;};__pWebViewPluginElement.injectScriptAsync=function(){if(arguments.length<1){return undefined;}if(!this._window){return undefined;}var _a=arguments[0];var _b=arguments[1];var _c=arguments[2];if(_a!=null&&typeof _a=='string'){_a=_a.replace(/\'/gi,"\\'");_a=_a.replace(/\r\n/gi,"\\r\\n");_a=_a.replace(/\n/gi,"\\n");_a=_a.replace(/\r/gi,"\\r");var _d="this._safeStringify.call(this,new Function(\'return this."+_a+"\').call(this))";var _e=function(){return Function("return "+arguments[0]).call(this);};var _f=_e.call(this._window,_d);if(_f===null||_f===undefined||_f===""){_f=undefined;}else{_f=_f.toString();if(_f.charAt(0)=="\""){_f=_f.substr(1,_f.length-1);_f=_f.substr(0,_f.length-1);}}if(_b!=null&&typeof _b=="function"){if(_c&&_c._is_alive){return _b.call(_c,_f);}else{return _b.call(null,_f);}}}return undefined;};if(nexacro._isTouchInteraction&&nexacro._SupportTouch){__pWebViewPluginElement._iframe_onfocusout_forward=function(_a){var _b=this._linked_element.parent_elem.linkedcontrol._getWindow();_b._is_iframe_focus=false;};__pWebViewPluginElement._iframe_onfocusin_forward=function(_a){var _b=this._linked_element.parent_elem.linkedcontrol._getWindow();_b._is_iframe_focus=true;};}__pWebViewPluginElement._iframe_onfocus_forward=function(_a){if(nexacro._com_waiting){nexacro._stopSysEvent(_a);}this._linked_element._killfocus_flag=true;};__pWebViewPluginElement._setElementInternalFocus=function(_a){var _b=nexacro.Event;if(_a==_b.KEY_UP){if(this._prev_outfocus_message_elem._killfocus_flag==true){this._prev_outfocus_message_elem._killfocus_flag=false;}else{try{this.handle.contentDocument.body.focus();}catch(e){nexacro._settracemsg(e);}}}else if(_a==_b.KEY_DOWN){if(this._next_outfocus_message_elem._killfocus_flag==true){this._next_outfocus_message_elem._killfocus_flag=false;}else{try{this.handle.contentDocument.body.focus();}catch(e){nexacro._settracemsg(e);}}}};__pWebViewPluginElement._setElementLeaveMessage=function(_a){var _b=this._next_outfocus_message_elem;if(_b){_b.setElementText(_a);}};nexacro._VideoPlayerPluginElement=function(_a){this._p_parent=_a;this.parent_elem=_a;this.parent_elem.windowed=true;this._params=new nexacro.Collection();this._events=new nexacro.Collection();this._node_type=null;};var __pVideoPlayerPluginElement=nexacro._createPrototype(nexacro.PluginElement,nexacro._VideoPlayerPluginElement);nexacro._VideoPlayerPluginElement.prototype=__pVideoPlayerPluginElement;__pVideoPlayerPluginElement._type_name="VideoPlayerPluginElement";__pVideoPlayerPluginElement.classid="{6bf52a52-394a-11d3-b153-00c04f79faa6}";__pVideoPlayerPluginElement._is_input_element=true;__pVideoPlayerPluginElement._current_event="";__pVideoPlayerPluginElement._getNodeType=function(_a){var _b="video";switch(_a){case "mp3":case "wav":_b="audio";break;}return _b;};__pVideoPlayerPluginElement._getType=function(_a){var _b="video/"+_a;switch(_a){case "mp3":case "wav":_b="audio"+_a;break;}return _b;};__pVideoPlayerPluginElement._createObjectElementHandle=function(_a,_b,_c,_d,_e,_f){var _g=this.source;var _h="";if(_g){_h=(_g+"").substring(_g.lastIndexOf(".")+1).toLowerCase();}var _i=this._getNodeType(_h);var _j=_a.createElement(_i);this._node_type=_i;_j._linked_element=this;var _k=_j.style;nexacro.__setDOMStyle_Absolute(_k);nexacro.__setDOMStyle_Pos(_k,_b,_c);nexacro.__setDOMStyle_Size(_k,_d,_e);var _l=this.showcontrolbar;if(_l!=null){_j.controls=_l;}if(this.autoplay!=null){_j.autoplay=this.autoplay;}if(this.volume!=null){_j.volume=this.volume;}if(this.loop!=null){_j.loop=this.loop;}if(_g){var _m=this._source_node=_a.createElement("source");nexacro.__setHTMLAttr_Proeprty(_m,'src',this.source);nexacro.__setHTMLAttr_Proeprty(_m,'type',this._getType(_h));nexacro.__appendDOMNode(_j,_m);}nexacro._observeSysEvent(_j,"canplay","oncanplay",this._video_eventhandler_changedstatus);nexacro._observeSysEvent(_j,"canplaythrough","oncanplaythrough",this._video_eventhandler_canplaythrough);nexacro._observeSysEvent(_j,"durationchange","ondurationchange",this._video_eventhandler_durationchange);nexacro._observeSysEvent(_j,"ended","onended",this._video_eventhandler_changedstatus);nexacro._observeSysEvent(_j,"error","onerror",this._video_eventhandler_error);nexacro._observeSysEvent(_j,"pause","onpause",this._video_eventhandler_changedstatus);nexacro._observeSysEvent(_j,"play","onplay",this._video_eventhandler_changedstatus);nexacro._observeSysEvent(_j,"progress","onprogress",this._video_eventhandler_progress);nexacro._observeSysEvent(_j,"timeupdate","ontimeupdate",this._video_eventhandler_timeupdate);nexacro._observeSysEvent(_j,"volumechange","onvolumechange",this._video_eventhandler_volumechange);this._object_node=_j;return _j;};__pVideoPlayerPluginElement._video_eventhandler_changedstatus=function(_a){var _b=_a.target._linked_element.parent_elem.linkedcontrol;if(_b){if(_b._obj_elem){if(_a.type=="pause"&&_b._obj_elem._current_event=="stop"){_b._obj_elem._current_event="";_b._on_statuschanged("stop");return;}else if(_a.type=="canplay"){_b._obj_elem._current_event="";_b._on_statuschanged("ready");return;}else if(_a.type=="pause"){_b._obj_elem._current_event="pause";}else{_b._obj_elem._current_event="";}_b._on_statuschanged(_a.type);}}};__pVideoPlayerPluginElement._video_eventhandler_timeupdate=function(_a){var _b=_a.target;var _c=_b._linked_element.parent_elem.linkedcontrol;_c&&_c._on_currenttimechanged(_b.currentTime* 1000);};__pVideoPlayerPluginElement._video_eventhandler_volumechange=function(_a){var _b=_a.target;var _c=_b._linked_element.parent_elem.linkedcontrol;_c&&_c._on_volumechangechanged(parseInt(_b.volume* 100),_b.muted);};__pVideoPlayerPluginElement._video_eventhandler_error=function(_a){var _b=_a.target;var _c=_b._linked_element.parent_elem.linkedcontrol;if(_c){var _d="";var _e=_b.error.code;switch(_e){case 1:_d="fetching process aborted by user";break;case 2:_d="error occurred when downloading";break;case 3:_d="error occurred when decoding";break;case 4:_d="video not supported";break;}_c._on_error("NativeError",_d,_e);}};__pVideoPlayerPluginElement._video_eventhandler_canplaythrough=function(_a){var _b=_a.target;var _c=_b._linked_element.parent_elem.linkedcontrol;_c.size=_b.videoWidth+" "+_b.videoHeight;_c._p_duration=_b.duration* 1000;_c._on_statuschanged("buffer");};__pVideoPlayerPluginElement._video_eventhandler_durationchange=function(_a){var _b=_a.target;var _c=_b._linked_element.parent_elem.linkedcontrol;_c._on_statuschanged("transition");};__pVideoPlayerPluginElement.setElementSource=function(_a){this.source=_a;var _b=this._object_node;if(_b){var _c=this._source_node;if(_c){_b.removeChild(_c);}var _d=nexacro._managerFrameDoc;_c=this._source_node=_d.createElement("source");nexacro.__setHTMLAttr_Proeprty(_c,'src',_a);if(this.type){nexacro.__setHTMLAttr_Proeprty(_c,'type',_a);}nexacro.__appendDOMNode(_b,_c);}};__pVideoPlayerPluginElement.setElementAttribute=function(_a,_b){this[_a]=_b;var _c=this._object_node;if(_c){nexacro.__setHTMLAttr_Proeprty(_c,_a,_b);}};__pVideoPlayerPluginElement.setElementProperty=function(_a,_b){this[_a]=_b;if(this._object_node){this._object_node[_a]=_b;}};__pVideoPlayerPluginElement._play=function(){var _a=this._object_node;_a.play();};__pVideoPlayerPluginElement._pause=function(){var _a=this._object_node;_a.pause();};__pVideoPlayerPluginElement._stop=function(){var _a=this._object_node;if(_a.currentTime!=null){_a.pause();nexacro.__setHTMLElem_Proeprty(_a,"currentTime",0);if(this._current_event=="pause"){var _b=this.parent_elem.linkedcontrol;if(_b){_b._on_statuschanged("stop");}}else{this._current_event="stop";}}};__pVideoPlayerPluginElement._setVideoMute=function(_a,_b){var _c=this._object_node;if(_c){nexacro.__setHTMLElem_Proeprty(_c,"muted",!_c.muted);}return;};__pVideoPlayerPluginElement._setVideoShowControlBar=function(_a,_b){if(this.showcontrolbar!=_b){this.showcontrolbar=_b;var _c=this._object_node;if(_c){if(this.showcontrolbar){this._object_node.controls=true;}else{this._object_node.controls=false;}}}};__pVideoPlayerPluginElement._setVideoUrl=function(_a,_b){this.source=_b;var _c=this._object_node;if(_c){nexacro.__setHTMLElem_Proeprty(_c,"src",_b);}};__pVideoPlayerPluginElement._setVideoCurrentTime=function(_a,_b){if(_b>-1){var _c=this._object_node;if(_c){var _d=_b/1000;nexacro.__setHTMLElem_Proeprty(_c,"currentTime",_d);}}};__pVideoPlayerPluginElement._setVideoLoop=function(_a,_b){var _c=this._object_node;if(_c){nexacro.__setHTMLElem_Proeprty(_c,"loop",_b);}};__pVideoPlayerPluginElement._setVideoAutoPlay=function(_a,_b){var _c=this._object_node;if(_c){nexacro.__setHTMLElem_Proeprty(_c,"autoplay",_b);}};__pVideoPlayerPluginElement._setVideoVolume=function(_a,_b){var _c=_b/100;var _d=this._object_node;if(_d){nexacro.__setHTMLElem_Proeprty(_d,"volume",_c);}};__pVideoPlayerPluginElement._setVideoEnable=function(_a,_b){this.enable=_b;};__pVideoPlayerPluginElement._setVideo360VRMode=function(_a,_b){};__pVideoPlayerPluginElement.createCommand=function(){var _a=this.parent_elem.getContainerElement(this.position_step);if(_a&&!this.handle){var _b;var _c=this.source;if(_c){_b=(_c+"").substring(_c.lastIndexOf(".")+1).toLowerCase();}var _d=this._node_type=this._getNodeType(_b);this.owner_elem=_a;var _e="";_e+="<"+_d+" ";if(this.showcontrolbar==true){_e+="controls ";}if(this.source!=null){_e+="src = '"+this.source+"'";}var _f=this._getType(_b);if(_f!=null){_e+="type = '"+_f+"'";}if(this.autoplay!=null){_e+="autoplay ";}if(this.volume!=null){_e+="volume = '"+this.volume+"' ";}if(this.loop!=null){_e+="loop = '"+this.loop+"' ";}if(nexacro._OS=="iOS"){_e+="playsinline = '"+true+"' ";}var _g=this._getCommonStyleStr();if(_g){_e+="style = '"+_g+"' ";}_e+=">";_e+="</"+_d+">";return _e;}return "";};__pVideoPlayerPluginElement.attachHandle=function(_a){if(!this.handle){var _b=_a._doc.getElementById(this.parent.name);var _c=this._object_node=_b.firstChild;this.handle=_c;_c._linked_element=this;nexacro._observeSysEvent(_c,"canplaythrough","oncanplaythrough",this._video_eventhandler_canplaythrough);nexacro._observeSysEvent(_c,"durationchange","ondurationchange",this._video_eventhandler_durationchange);nexacro._observeSysEvent(_c,"ended","onended",this._video_eventhandler_changedstatus);nexacro._observeSysEvent(_c,"error","onerror",this._video_eventhandler_error);nexacro._observeSysEvent(_c,"pause","onpause",this._video_eventhandler_changedstatus);nexacro._observeSysEvent(_c,"play","onplay",this._video_eventhandler_changedstatus);nexacro._observeSysEvent(_c,"progress","onprogress",this._video_eventhandler_progress);nexacro._observeSysEvent(_c,"timeupdate","ontimeupdate",this._video_eventhandler_timeupdate);}};__pVideoPlayerPluginElement.destroy=function(){nexacro.PluginElement.prototype.destroy.call();};__pVideoPlayerPluginElement.set_volume=function(_a){};nexacro.CanvasElement=function(_a,_b){this._p_parent=_a;this.parent_elem=_a;if(_b){this.id=_b;}};var _pCanvasElement=nexacro._createPrototype(nexacro.Element,nexacro.CanvasElement);nexacro.CanvasElement.prototype=_pCanvasElement;_pCanvasElement._type_name="CanvasElement";_pCanvasElement.lineOffset=0.5;_pCanvasElement.scale=10;_pCanvasElement.scalex=0;_pCanvasElement.scaley=0;_pCanvasElement.fillStyle="#000000";_pCanvasElement.strokeStyle="#000000";_pCanvasElement.lineCap="butt";_pCanvasElement.lineJoin="miter";_pCanvasElement.lineWidth=1;_pCanvasElement.miterLimit=10;_pCanvasElement.shadowColor="#000000";_pCanvasElement._shadowColor="#000000";_pCanvasElement.shadowOffsetX=0;_pCanvasElement.shadowOffsetY=0;_pCanvasElement.shadowBlur=0;_pCanvasElement.font=null;_pCanvasElement._font=null;_pCanvasElement.textAlign="start";_pCanvasElement.textBaseline="top";_pCanvasElement.globalAlpha=1;_pCanvasElement.globalCompositeOperation=1;_pCanvasElement._status_stack=[];_pCanvasElement._matrix_stack=[];_pCanvasElement.lineType="solid";_pCanvasElement.createPattern=function(_a,_b,_c){var _d=this.handle;if(_d){var _e=new nexacro._CanvasFillPattern();_e.repeattype=_b;_e.basecanvas=this;if(_a&&_a instanceof nexacro.CanvasElement){var _f=_a.handle._draw_ctx.canvas;_e.value=nexacro.__createCanvasPattern(_d,_f,_b);_e.isloaded=true;var _g=_a.handle._draw_node.toDataURL();if(_g){var _h=new nexacro.Image();if(_c){_h.width=_c.width;_h.height=_c.height;}_h.src=_g;_h.handle=nexacro._getImageObject(_g,_e.onloadcallback,_e);_e.imageobject=_h;}}else if(_a&&_a instanceof nexacro.Image){_e.imageobject=_a;if(_a.handle){_e.value=nexacro.__createCanvasPattern(_d,_a.handle,_b);if(_e.value){_e.isloaded=true;return _e;}}if(_c){_e.imageobject.width=_c.width;_e.imageobject.height=_c.height;}if(_a.src){_a.handle=nexacro._getImageObject(_a.src,_e.onloadcallback,_e);}else{_e.isloaded=false;}}return _e;}return null;};_pCanvasElement.createLinearGradient=function(_a,_b,_c,_d){var _e=this.handle;if(_e){return nexacro.__createCanvasLinearGradient(_e,_a,_b,_c,_d);}return null;};_pCanvasElement.createRadialGradient=function(_a,_b,_c,_d,_e,_f){var _g=this.handle;if(_g){return nexacro.__createCanvasRadialGradient(_g,_a,_b,_c,_d,_e,_f);}return null;};_pCanvasElement.setElementFillStyle=function(_a){var _b=this.handle;if(_b&&_a){this.fillStyle=_a;if(_a instanceof nexacro._ColorObject){nexacro.__setCanvasFillColor(_b,_a);}else if(_a instanceof nexacro._CanvasFillPattern){nexacro.__setCanvasFillPattern(_b,_a);}else{nexacro.__setCanvasFillGradation(_b,_a);}}};_pCanvasElement.setElementFont=function(_a){var _b=this.handle;if(!_a||!_b){return;}var _c=_a.value;if(!this.font||this.font.value!=_c){this.font=_a;this._font=_c;nexacro.__setCanvasFont(_b,_a,_c);}else{nexacro.__setCanvasFont(_b,_a,_c);}};_pCanvasElement.clearRect=function(_a,_b,_c,_d){var _e=this.handle;if(_e){nexacro.__drawCanvasClearRect(_e,_a,_b,_c,_d);}};_pCanvasElement.setElementPosition=function(_a,_b){if(this.left!=_a||this.top!=_b){this.left=_a;this.top=_b;var _c=this.handle;if(_c){nexacro.__setCanvasNodeStylePos(_c._draw_node.style,_a,_b);}}};_pCanvasElement.setElementGlobalAlpha=function(_a){var _b=this.handle;if(_b&&_a>=0){this.globalAlpha=_a;nexacro.__setCanvasGlobalAlpha(_b,_a);}};_pCanvasElement.setElementGlobalCompositeOperation=function(_a){var _b=this.handle;if(_b&&_a){this.globalCompositeOperation=_a;nexacro.__setCanvasGlobalCompositeOperation(_b,_a);}};_pCanvasElement.setElementLineCap=function(_a){var _b=this.handle;if(_b){this.lineCap=_a;nexacro.__setCanvasLineCap(_b,_a);}};_pCanvasElement.setElementLineJoin=function(_a){var _b=this.handle;if(_b){this.lineJoin=_a;nexacro.__setCanvasLineJoin(_b,_a);}};_pCanvasElement.setElementLineWidth=function(_a){var _b=this.handle;if(_b&&isFinite(_a)){this.lineWidth=_a;this.lineOffset=_a/2;nexacro.__setCanvasLineWidth(_b,_a);}};_pCanvasElement.setElementLineStyle=function(_a){var _b=this.handle;if(_b){this.lineType=_a;nexacro.__setCanvasLineStyle(_b,_a);}};_pCanvasElement.setElementStrokeStyle=function(_a){var _b=this.handle;if(_b&&_a){this.strokeStyle=_a;nexacro.__setCanvasStrokeStyle(_b,_a);}};_pCanvasElement.setElementMiterLimit=function(_a){var _b=this.handle;if(_b&&_a){this.miterLimit=_a;nexacro.__setCanvasMiterLimit(_b,_a);}};_pCanvasElement.setElementShadowBlur=function(_a){var _b=this.handle;if(_b){this.shadowBlur=_a;nexacro.__setCanvasShadowBlur(_b,_a);}};_pCanvasElement.setElementShadowColor=function(_a){var _b=this.handle;if(_a&&_b){this.shadowColor=_a;_b._shadowColor=nexacro._getWebColorFromXreColor(_a.value);nexacro.__setCanvasShadowColor(_b,_b._shadowColor);}};_pCanvasElement.setElementShadowOffsetX=function(_a){var _b=this.handle;if(_b){this.shadowOffsetX=_a;nexacro.__setCanvasShadowOffsetX(_b,_a);}};_pCanvasElement.setElementShadowOffsetY=function(_a){var _b=this.handle;if(_b){this.shadowOffsetY=_a;nexacro.__setCanvasShadowOffsetY(_b,_a);}};_pCanvasElement.setElementTextAlign=function(_a){var _b=this.handle;if(_b){this.textAlign=_a;nexacro.__setCanvasTextAlign(_b,_a);}};_pCanvasElement.setElementTextBaseline=function(_a){var _b=this.handle;if(_b){this.textBaseline=_a;nexacro.__setCanvasTextBaseline(_b,_a);}};_pCanvasElement.arc=function(_a,_b,_c,_d,_e,_f){var _g=this.handle;if(_g){nexacro.__darwCanvasArc(_g,_a,_b,_c,_d,_e,_f);}};_pCanvasElement.arc2=function(_a,_b,_c,_d,_e,_f){var _g=nexacro._degreesToRadians(_d);var _h=nexacro._degreesToRadians(_e);var _i=this.handle;if(_i){nexacro.__darwCanvasArc(_i,_a,_b,_c,_g,_h,_f);}};_pCanvasElement.arcTo=function(_a,_b,_c,_d,_e){var _f=this.handle;if(_f){nexacro.__drawCanvasArcTo(_f,_a,_b,_c,_d,_e);}};_pCanvasElement.beginPath=function(){var _a=this.handle;if(_a){nexacro.__drawCanvasBeginPath(_a);}};_pCanvasElement.bezierCurveTo=function(_a,_b,_c,_d,_e,_f){var _g=this.handle;if(_g){nexacro.__drawCanvasBezierCurveTo(_g,_a,_b,_c,_d,_e,_f);}};_pCanvasElement.clip=function(){var _a=this.handle;if(_a){nexacro.__clipCanvas(_a);}};_pCanvasElement.closePath=function(){var _a=this.handle;if(_a){nexacro.__drawCanvasClosePath(_a);}};_pCanvasElement.drawImage=function(_a,_b,_c,_d,_e){var _f=this.handle;var _g=_a.handle;if(_g&&_f){nexacro.__drawCanvasImage(_f,_g,_b,_c,_d,_e);}};_pCanvasElement.fill=function(){var _a=this.handle;if(_a){nexacro.__fillCanvas(_a);}};_pCanvasElement.fillRect=function(_a,_b,_c,_d){var _e=this.handle;if(_e){nexacro.__fillCanvasRect(_e,_a,_b,_c,_d);}};_pCanvasElement.fillText=function(_a,_b,_c,_d){var _e=this.handle;if(_e){nexacro.__setCanvasTextBaseline(_e,this.textBaseline);nexacro.__drawCanvasFillText(_e,_a,_b,_c,_d);}};_pCanvasElement.isPointInPath=function(_a,_b){var _c=this.handle;if(_c){return nexacro.__isPointInCanvasPath(_c,_a,_b);}return false;};_pCanvasElement.lineTo=function(_a,_b){var _c=this.handle;if(_c){nexacro.__drawCanvaslineTo(_c,_a,_b);}};_pCanvasElement.moveTo=function(_a,_b){var _c=this.handle;if(_c){nexacro.__drawCanvasmoveTo(_c,_a,_b);}};_pCanvasElement.quadraticCurveTo=function(_a,_b,_c,_d){var _e=this.handle;if(_e){nexacro.__drawCanvasQuadraticCurveTo(_e,_a,_b,_c,_d);}};_pCanvasElement.rect=function(_a,_b,_c,_d){var _e=this.handle;if(_e){nexacro.__rectCanvas(_e,_a,_b,_c,_d);}};_pCanvasElement.rotate=function(_a){var _b=this.handle;if(_b){nexacro.__rotateCanvas(_b,_a);}};_pCanvasElement.rotate2=function(_a){var _b=nexacro._degreesToRadians(_a);this.rotate(_b);};_pCanvasElement.scale=function(_a,_b){var _c=this.handle;this.scalex=_a;this.scaley=_b;if(_c){nexacro.__scaleCanvas(_c,_a,_b);}};_pCanvasElement.setTransform=function(_a,_b,_c,_d,_e,_f){var _g=this.handle;if(_g){nexacro.__setCanvasTransform(_g,_a,_b,_c,_d,_e,_f);}};_pCanvasElement.stroke=function(){var _a=this.handle;if(_a){nexacro.__strokeCanvas(_a);}};_pCanvasElement.strokeRect=function(_a,_b,_c,_d){var _e=this.handle;if(_e){nexacro.__drawCanvasStrokeRect(_e,_a,_b,_c,_d);}};_pCanvasElement.strokeText=function(_a,_b,_c,_d){var _e=this.handle;if(_e){nexacro.__drawCanvasStrokeText(_e,_a,_b,_c,_d);}};_pCanvasElement.transform=function(_a,_b,_c,_d,_e,_f){var _g=this.handle;if(_g){nexacro.__transformCanvas(_g,_a,_b,_c,_d,_e,_f);}};_pCanvasElement.translate=function(_a,_b){var _c=this.handle;if(_c){nexacro.__translateCanvas(_c,_a,_b);}};_pCanvasElement.save=function(){var _a=this.handle;if(_a){nexacro.__saveCanvas(_a);}};_pCanvasElement.toDataURL=function(_a,_b){var _c=this.handle;try{if(_c){return nexacro.__toDataURLCanvas(_c,_a,_b);}}catch(e){try{if(_c){return nexacro.__toDataURLCanvas(_c,_a,_b);}}catch(e){return "";}}};_pCanvasElement.restore=function(){var _a=this.handle;if(_a){nexacro.__restoreCanvas(_a);}};_pCanvasElement.drawFill=function(){this.fill();this.beginPath();};_pCanvasElement._setPenStyle=function(_a){if(_a){this.setElementStrokeStyle(_a.color);this.setElementLineWidth(parseInt(_a.width));}};_pCanvasElement.drawStrokeLine=function(_a,_b,_c,_d){this.moveTo(_a,_b);this.lineTo(_c,_d);this.drawStroke();};_pCanvasElement.drawStrokeVLine=function(_a,_b,_c){this.moveTo(_a,_b);this.lineTo(_a,_c);this.drawStroke();};_pCanvasElement.drawStrokeHLine=function(_a,_b,_c){this.moveTo(_b,_a);this.lineTo(_c,_a);this.drawStroke();};_pCanvasElement.drawFillArc=function(_a,_b,_c,_d,_e,_f){this.drawArc(_a,_b,_c,_d,_e,_f,true);this.closePath();this.fill();this.beginPath();};_pCanvasElement.drawFillArc2=function(_a,_b,_c,_d,_e,_f){var _g=nexacro._degreesToRadians(_d);var _h=nexacro._degreesToRadians(_e);this.arc(_a,_b,_c,_g,_h,_f);this.closePath();this.fill();this.beginPath();};_pCanvasElement.drawStrokeRect=function(_a,_b,_c,_d){this.rect(_a,_b,_c,_d,true);this.drawStroke();};_pCanvasElement.drawStrokeArc=function(_a,_b,_c,_d,_e,_f){this.arc(_a,_b,_c,_d,_e,_f);this.drawStroke();};_pCanvasElement.drawStrokeArc2=function(_a,_b,_c,_d,_e,_f){this.arc2(_a,_b,_c,_d,_e,_f);this.drawStroke();};_pCanvasElement.drawStrokeInsetRect=function(_a,_b,_c,_d){this.insetRect(_a,_b,_c,_d);this.drawStroke();};_pCanvasElement.hline=function(_a,_b,_c){this.moveTo(_b,_a);this.lineTo(_c,_a);};_pCanvasElement.vline=function(_a,_b,_c){this.moveTo(_a,_b);this.lineTo(_a,_c);};_pCanvasElement._getElementScreenXY=function(){var _a=this.handle;var _b=_a.ownerDocument||_a.document;return nexacro.__getHTMLNodePositionInFrame(_b,_a);};_pCanvasElement.create=function(){var _a=this.parent_elem.getContainerElement(this.position_step);if(_a&&_a.handle){var _b=this.handle;if(!_b){this.owner_elem=_a;var _c=_a._getRootWindowHandle();_b=_c.createElement("div");_b._linked_element=this;nexacro.__setDOMNode_ClassName(_b,this._getElementNexaClassName("nexacontainer"));_b.id=_a.name+":container";this.handle=this.dest_handle=_b;var _d=_c.createElement("canvas");_b._draw_node=_d;_b._draw_ctx=_d.getContext("2d");var _e=_d.style;_e.border="none";nexacro.__setDOMStyle_AbsoluteTransparent(_e);nexacro.__setDOMStyle_Pos(_e,this.left,this.top);nexacro.__setCanvasNodeSize(_d,this.width,this.height);nexacro.__setCanvasTextAlign(_b,this.textAlign);nexacro.__setCanvasTextBaseline(_b,this.textBaseline);nexacro.__appendDOMNode(_b,_d);nexacro.__appendDOMNode(_a.dest_handle,_b);}}};_pCanvasElement.createCommand=function(){return "";};_pCanvasElement.destroy=function(){var _a=this.handle;if(_a){_a._linked_element=null;var _b=null;if(this.owner_elem&&this.owner_elem.dest_handle){_b=this.owner_elem.dest_handle;}if(!this.owner_elem||_b){nexacro.__removeDOMNode(_b,_a);}this.owner_elem=null;this.handle=this.dest_handle=null;_a._draw_node=null;_a._draw_ctx=null;}this._p_parent=null;this.parent_elem=null;};_pCanvasElement._drawRotate=function(_a){var _b=this.handle;if(!_b){return;}var _c=_a* Math.PI/180;this.handle._draw_ctx.rotate(_c);};_pCanvasElement.circle=function(_a,_b,_c){this.arc(_a,_b,_c,0,2* Math.PI,true);};_pCanvasElement.drawStrokeCircle=function(_a,_b,_c){this.arc(_a,_b,_c,0,2* Math.PI,true);this.drawStroke();};_pCanvasElement.drawStrokeInsetArc=function(_a,_b,_c,_d,_e){var _f=this.lineWidth/2;this.drawArc(_a,_b,_c-_f,_d,_e);this.drawStroke();};_pCanvasElement.drawStrokeInsetCircle=function(_a,_b,_c){var _d=this.lineOffset;this.arc(_a,_b,_c-_d,0,2* Math.PI,true);this.drawStroke();};_pCanvasElement.drawFillRect=function(_a,_b,_c,_d){this.rect(_a,_b,_c,_d);this.fill();this.beginPath();};_pCanvasElement.endDraw=function(){this.beginPath();this.closePath();};_pCanvasElement.drawStroke=function(){this.stroke();this.beginPath();};_pCanvasElement.drawFillCircle=function(_a,_b,_c){this.arc(_a,_b,_c,0,2* Math.PI,true);this.fill();this.beginPath();};_pCanvasElement.insetRect=function(_a,_b,_c,_d){if(_c==0||_d==0){return;}var _e=this.lineOffset;var _f=(_c>0)?_e: -_e;var _g=(_d>0)?_e: -_e;this.moveTo(_a+_f,_b+_g);this.lineTo(_a+_f,_b+_d-_g);this.lineTo(_a+_c-_f,_b+_d-_g);this.lineTo(_a+_c-_f,_b+_g);this.closePath();};_pCanvasElement._setLineStyle=function(_a){if(_a){this.setElementStrokeStyle(_a.color);this.setElementLineWidth(parseInt(_a.width));}};_pCanvasElement._moveCanvas=function(_a,_b,_c,_d){this.left=_a||0;this.top=_b||0;this.width=_c||0;this.height=_d||0;if(this.handle){var _e=this.handle._draw_node;if(_e){_e.width=this.width;_e.height=this.height;var _f=_e.style;_f.left=this.left+"px";_f.top=this.top+"px";_f.width=this.width+"px";_f.height=this.height+"px";}}};_pCanvasElement.measureText=function(_a,_b){var _c=this.handle;if(_c){if(!_b){_b=nexacro.FontObject(_c._draw_ctx.font);}var _d=nexacro._getTextSize(_a,_b);return {width:_d[0],height:_d[1]};}};_pCanvasElement.setElementSize=function(_a,_b){if(this.width!=_a||this.height!=_b){this.width=_a;this.height=_b;var _c=this.handle;if(_c){nexacro.__setCanvasNodeSize(_c._draw_node,_a,_b);}}};_pCanvasElement.drawFillText=function(_a,_b,_c,_d){this.setElementTextBaseline(this.textBaseline);this.fillText(_a,_b,_c,_d);this.beginPath();};nexacro._CanvasFillPattern=function(){this.imageobject=null;this.repeattype=null;this.value=null;this.isloaded=false;this.control=null;this.basecanvas=null;this.controlonloadcallback=null;};var __pCanvasFillPattern=nexacro._CanvasFillPattern.prototype;__pCanvasFillPattern.onloadcallback=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){this.imageobject.width=_b;this.imageobject.height=_c;this.isloaded=true;if(_e<0){this.isloaded=false;}else{if(_d){this.imageobject.handle=_d;}if(!this.value){this.value=nexacro.__createCanvasPattern(this.basecanvas.handle,this.imageobject.handle,this.repeattype);}}if(this.control&&this.controlonloadcallback){this.control.call(this.controlonloadcallback,this);}};__pCanvasFillPattern.clear=function(){if(this.imageobject){delete this.imageobject;}this.imageobject=null;this.repeattype=null;this.value=null;this.isloaded=null;this.control=null;this.controlonloadcallback=null;};nexacro._CanvasGradient=function(_a){this.type=_a;this.x0=0;this.y0=0;this.r0=0;this.x1=0;this.y1=0;this.r1=0;this.colors=[];};var __pCanvasGradient=nexacro._CanvasGradient.prototype;__pCanvasGradient.addColorStop=function(_a,_b){var _c=nexacro._getWebColorFromXreColor(_b);var _d=nexacro._getXreColorAlpha(_b)/255;this.colors.push({offset:_a,color:_c,alpha:_d});};nexacro.GridScrollableControlElement=function(_a){this._p_parent=_a;this.parent_elem=_a;this._target_vscroll_elements=null;this._target_hscroll_elements=null;var _b=new nexacro._ContainerElement(this,false);this._client_elem=_b;};var _pGridScrollableControlElement=nexacro._createPrototype(nexacro.ScrollableControlElement,nexacro.GridScrollableControlElement);nexacro.GridScrollableControlElement.prototype=_pGridScrollableControlElement;_pGridScrollableControlElement._type_name="GridScrollableControlElement";_pGridScrollableControlElement._on_attachHandle=function(_a){if(this._hscroll_control){this._hscroll_control.attachHandle(_a);}if(this._vscroll_control){this._vscroll_control.attachHandle(_a);}nexacro._observeSysEvent(this._client_elem.handle,"scroll","onscroll",this._syshandler_onscroll_forward);nexacro._observeSysEvent(this.handle,"scroll","onscroll",this._syshandler_onscroll_forward);};_pGridScrollableControlElement.destroy=function(){var _a=this.handle;if(_a){this._removeElementHandle();this.dest_handle=null;if(this._edge_elem){this._edge_elem.destroy();this._edge_elem=null;}if(this._client_elem){nexacro._stopSysObserving(this._client_elem.handle,"scroll","onscroll",this._syshandler_onscroll_forward);this._client_elem.destroy();this._client_elem=null;}this._on_destroy();}this.owner_elem=null;this.handle=null;this._p_parent=null;this.parent_elem=null;this.linkedcontrol=null;};_pGridScrollableControlElement._on_destroy=function(){var _a=this.handle;if(_a){nexacro._stopSysObserving(_a,"scroll","onscroll",this._syshandler_onscroll_forward);var _b,_c;if(this._target_vscroll_elements){if(nexacro._isArray(this._target_vscroll_elements)){for(_b=0,_c=this._target_vscroll_elements.length;_b<_c;_b++ ){this._target_vscroll_elements[_b]=null;}}this._target_vscroll_elements=null;}if(this._target_hscroll_elements){if(nexacro._isArray(this._target_hscroll_elements)){for(_b=0,_c=this._target_hscroll_elements.length;_b<_c;_b++ ){this._target_hscroll_elements[_b]=null;}}this._target_hscroll_elements=null;}this._hscroll_control=null;this._vscroll_control=null;}};_pGridScrollableControlElement.clearContents=function(){if(this.handle){nexacro._stopSysObserving(this._client_elem.handle,"scroll","onscroll",this._syshandler_onscroll_forward);nexacro._stopSysObserving(this.handle,"scroll","onscroll",this._syshandler_onscroll_forward);this._client_elem.clearContents();}};_pGridScrollableControlElement._syshandler_onscroll_forward=function(_a){if(window.event){_a=window.event;}var _b=_a.srcElement||_a.target;_b.scrollLeft=0;_b.scrollTop=0;};_pGridScrollableControlElement.getContainerElement=function(_a){return this._client_elem;};_pGridScrollableControlElement.setVertScrollElements=function(_a){this._target_vscroll_elements=_a;};_pGridScrollableControlElement.setHorzScrollElements=function(_a){this._target_hscroll_elements=_a;};_pGridScrollableControlElement._setContainerVScrollPos=function(_a){var _b=this._target_vscroll_elements;if(_b){_b.setElementVScrollPos(_a);}};_pGridScrollableControlElement._setContainerHScrollPos=function(_a){var _b=this._target_hscroll_elements;if(_b){if(nexacro._isArray(_b)){var _c;for(var _d=0,_e=_b.length;_d<_e;_d++ ){_c=_b[_d];_c.setElementHScrollPos(_a);}}else{_b.setElementHScrollPos(_a);}}};_pGridScrollableControlElement._setContainerMaxHeight=function(_a){var _b=this._target_vscroll_elements;if(_b){this.container_maxheight=_a;if(nexacro._isArray(_b)){var _c;for(var _d=0,_e=_b.length;_d<_e;_d++ ){_c=_b[_d];_c._setContainerMaxHeight(_a);}}else{_b._setContainerMaxHeight(_a);}}};_pGridScrollableControlElement._setContainerMaxWidth=function(_a){var _b=this._target_hscroll_elements;if(_b){this.container_maxwidth=_a;if(nexacro._isArray(_b)){var _c;for(var _d=0,_e=_b.length;_d<_e;_d++ ){_c=_b[_d];_c._setContainerMaxWidth(_a);}}else{_b._setContainerMaxWidth(_a);}}};_pGridScrollableControlElement._on_updateClientRect=function(){var _a=0;var _b=0;var _c=this.inner_width;var _d=this.inner_height;var _e=this._step_containers;if(this._apply_client_padding){var _f=this.padding?this.padding:this._padding_info;if(_f){_a=_f.left;_b=_f.top;_c-=_f.left+_f.right;_d-=_f.top+_f.bottom;}}var _g=this._client_elem;if(!_g||(_c==0&&this.client_width==0)||(_d==0&&this.client_height==0)){return 0;}var _h=this._target_vscroll_elements,_i=_h,_j=this._target_hscroll_elements,_k=_j;if(nexacro._isArray(_h)){_i=_h[0];}if(nexacro._isArray(_j)){_k=_j[0];}var _l=this.zoom/100;var _m=this._zclient_width=_c/_l;var _n=this._zclient_height=_d/_l;var _o=((_k)?_k._calculateClientWidth(_c):_c)/_l;var _p=((_i)?_i._calculateClientHeight(_d-this.client_height):_d)/_l;var _q=(_k)?_k._getContainerMaxWidth():0;var _r=(_i)?_i._getContainerMaxHeight():0;var _s=this.scroll_left;var _t=this.scroll_top;var _u=this._step_count;var _v=this._pre_step_count;var _w=false;_w=_u!=_v;if((_u>0&&_e)||_w){_q=_u* _o;}var _x=0;var _y=0;var _z=this._hscrollbartype;var _aa=this._vscrollbartype;if((_u>0&&_e)||_w){_z="none";}if(_o>=0&&_q>_o){_x=_q-_o;if(_z!="none"&&_z!="autoindicator"){_d-=this._hscroll_size;_n=_d/_l;_p-=this._hscroll_size/_l;}}else{if(_z=="fixed"){_d-=this._hscroll_size;_n=_d/_l;_p-=this._hscroll_size/_l;}}if(_p<0){_p=0;}if(_p>=0&&_r>_p){_y=_r-_p;if(_aa!="none"&&_aa!="autoindicator"){_c-=this._vscroll_size;_m=_c/_l;_o-=this._vscroll_size/_l;}if(_o>=0&&_q>_o){if(_z!="none"&&_z!="autoindicator"&&_x==0){_d-=this._hscroll_size;_n=_d/_l;_y+=this._hscroll_size;}_x=_q-_o;}}else{if(_aa=="fixed"){_c-=this._vscroll_size;_m=_c/_l;_o-=this._vscroll_size/_l;if(_o>=0&&_q>_o){_x=_q-_o;}}}if((_u>0&&_e)||_w){_q=_u* _o;if(_o>=0&&_q>_o){_x=_q-_o;}}if(this.hscroll_limit!=_x){this.hscroll_limit=_x;if(_s>_x){this.setElementHScrollPos(_x);}}if(this.vscroll_limit!=_y){this.vscroll_limit=_y;if(_t>_y){this.setElementVScrollPos(_y);}}this._zclient_width=_m;this._zclient_height=_n;var _ab=0;if(this.client_left!=_a||this.client_top!=_b){this.client_left=_a;this.client_top=_b;_ab=1;}else if(_u>0){_ab=1;}if(this.client_width!=_c||this.client_height!=_d){this.client_width=_c;this.client_height=_d;_ab+=2;}else if(this.client_width!=_m||this.client_height!=_n){_ab+=2;}return _ab;};_pGridScrollableControlElement.setElementHScrollPos=function(_a){if(this.parent._p_enableredraw==false){this.parent._enable_redraw_history.scroll=true;return;}var _b=this._target_hscroll_elements;if(_b){if(nexacro._isArray(_b)){_b=_b[0];}if(_a<0){_a=0;}if(_a>this.hscroll_limit){_a=this.hscroll_limit;}var _c=_b.scroll_left;if(_c!=_a||this._reset_scrollpos){this.scroll_left=_a;this.linkedcontrol._scroll_left=_a;this._setContainerHScrollPos(_a);}if(!this._use_translate_scroll&&this.parent._procRefreshDOM==true){var _d;if(nexacro._isArray(_b)){_d=_b[0]._client_body_element;}else{_d=_b._client_body_element;}if(_d){}}}};_pGridScrollableControlElement.setElementVScrollPos=function(_a){if(this.parent._p_enableredraw==false){this.parent._enable_redraw_history.scroll=true;return;}var _b=this._target_vscroll_elements;if(_b){if(nexacro._isArray(_b)){_b=_b[0];}if(_a<0){_a=0;}if(_a>this.vscroll_limit){_a=this.vscroll_limit;}var _c=_b._getScrollTop();this.scroll_top=_a;if(_c!=_a||this._reset_scrollpos){this.linkedcontrol._scroll_top=_a;this._setContainerVScrollPos(_a);}if(!this._use_translate_scroll&&this.parent._procRefreshDOM==true){var _d;if(nexacro._isArray(_b)){_d=_b[0]._client_elem;}else{_d=_b._client_elem;}if(_d){_d._refreshDOM();}}}};_pGridScrollableControlElement.setElementScrollPos=function(_a,_b){if(this.parent._p_enableredraw==false){this.parent._enable_redraw_history.scroll=true;return;}var _c=this._target_vscroll_elements;var _d=this._target_hscroll_elements;if(_c){if(nexacro._isArray(_c)){_c=_c[0];}if(_b<0){_b=0;}if(_b>this.vscroll_limit){_b=this.vscroll_limit;}var _e=_c._getScrollTop();if(_e!=_b){this.scroll_top=_b;this.linkedcontrol._scroll_top=_b;this._setContainerVScrollPos(_b);}}if(_d){if(nexacro._isArray(_d)){_d=_d[0];}if(_a<0){_a=0;}if(_a>this.hscroll_limit){_a=this.hscroll_limit;}var _f=_d.scroll_left;if(_f!=_a){this.scroll_left=_a;this.linkedcontrol._scroll_left=_a;this._setContainerHScrollPos(_a);}}};_pGridScrollableControlElement._setInnerElementScrollMaxTops=function(_a){var _b=this._target_vscroll_elements;if(_b&&_a){_b._client_elem._scroll_max_arr=_a;}};_pGridScrollableControlElement.setElementScrollMaxSize=function(_a,_b){if(this._client_elem){this._client_elem.setElementScrollMaxSize(_a,_b);}var _c=this._target_vscroll_elements;if(nexacro._isArray(_c)){_c=_c[0];}this._setContainerMaxHeight(_b);this._setContainerMaxWidth(_a);if(_c){this._updateClientRect();}};nexacro.GridBandControlElement=function(_a,_b){this._p_parent=_a;this.parent_elem=_a;this._type=_b;this._client_elem=new nexacro._GridBandContainerElement(this,(_b=="body"));this._client_elem_fix=null;this._fix_height=0;this.container_maxwidth=0;this.container_maxheight=0;this._cur_border=null;};var _pGridBandControlElement=nexacro._createPrototype(nexacro.ControlElement,nexacro.GridBandControlElement);nexacro.GridBandControlElement.prototype=_pGridBandControlElement;_pGridBandControlElement._type_name="GridBandControlElement";_pGridBandControlElement.scroll_left=0;_pGridBandControlElement.scroll_top=0;_pGridBandControlElement.create=function(_a){var _b=(this._is_nc_element)?this.parent_elem:this.parent_elem.getContainerElement(this.position_step);if(_b&&_b.handle){if(!this.handle){this.owner_elem=_b;var _c=_a._doc||_b._getRootWindowHandle();var _d=_c.createElement("div");_d.id=this.name;_d._linked_element=this;var _e=this._isParentRtl();this.handle=this.dest_handle=_d;nexacro.__setDOMNode_ClassName(_d,this._getElementClassName());var _f=_d.style;nexacro.__setDOMStyle_Pos(_f,this.left,this.top,_e);nexacro.__setDOMStyle_Size(_f,this.width,this.height);if(nexacro._enableaccessibility&&nexacro._accessibilitytype==5){if(this.linkedcontrol&&this.linkedcontrol._skip_mobile_tabfocus){this.tabindex=-99;}}this._refreshControl(_d,_f,_c);nexacro.__appendDOMNode((this._is_nc_element)?_b.handle:_b.dest_handle,_d);if(!this._client_elem.handle){this._client_elem.create(_a);}if(this._client_elem_fix&&!this._client_elem_fix.handle){this._client_elem_fix.create(_a);}}}};_pGridBandControlElement.destroy=function(){if(this._client_elem_fix){this._client_elem_fix.destroy();this._client_elem_fix=null;}return nexacro.ControlElement.prototype.destroy.call(this);};_pGridBandControlElement._setFixArea=function(_a){this._fix_height=_a;if(_a){if(!this._client_elem_fix){this._client_elem_fix=new nexacro._GridBandContainerElement(this,true,"fixed");}}else{if(this._client_elem_fix){this._client_elem_fix.destroy();this._client_elem_fix=null;}}if(this.handle&&this._client_elem_fix&&!this._client_elem_fix.handle){this._client_elem_fix.create();}this._updateClientSize();};_pGridBandControlElement.getContainerElement=function(_a){if(_a){return this._client_elem_fix;}return this._client_elem;};_pGridBandControlElement._setContainerMaxHeight=function(_a){if(this._type=="body"){if(this.container_maxheight!=_a){this.container_maxheight=_a;this._client_elem._setScrollHeight(_a);}}};_pGridBandControlElement._resetExtendContainer=function(_a){if(!_a){_a=this.container_maxheight;}this._client_elem._setScrollHeight(this.container_maxheight);};_pGridBandControlElement._calculateClientHeight=function(_a){var _b=this.border||this.linkedcontrol._getCSSStyleValue("border","enabled");var _c=this.client_height+_a+((_b)?_b._getBorderHeight():0);return _c;};_pGridBandControlElement._getContainerMaxHeight=function(){if(this._type=="body"){return this.container_maxheight;}else{return this.client_height;}};_pGridBandControlElement._getScrollTop=function(){if(this._type=="body"){return this.scroll_top;}else{return 0;}};_pGridBandControlElement.setElementScrollMaxSize=function(_a,_b){if(this._client_elem){this._client_elem.setElementScrollMaxSize(_a,_b);}};_pGridBandControlElement._on_change_clientSize=function(_a,_b){nexacro.ControlElement.prototype._on_change_clientSize.call(this,_a,_b);var _c=this._client_elem_fix;if(_c){_c.setElementSize(_a,this._fix_height);}};_pGridBandControlElement._on_updateClientRect=function(){var _a=0;var _b=0;var _c=0;var _d=this.inner_width;var _e=this.inner_height;if(!this._cur_border){this._cur_border=this.border||this.linkedcontrol._getCSSStyleValue("border","normal");}var _f=this._cur_border;if(_f){_d+=_f._getBorderWidth();_e+=_f._getBorderHeight();}var _g=this._fix_height;_c+=_g;_e-=_g;if(this.client_left!=_b||this.client_top!=_c){this.client_left=_b;this.client_top=_c;_a=1;}if(this.client_width!=_d||this.client_height!=_e){this.client_width=_d;this.client_height=_e;_a+=2;}return _a;};_pGridBandControlElement._updateClientSize=function(){var _a=0;var _b=0;var _c=this.inner_width;var _d=this.inner_height;if(!this._cur_border){this._cur_border=this.border||this.linkedcontrol._getCSSStyleValue("border","normal");}var _e=this._cur_border;if(_e){_c+=_e._getBorderWidth();_d+=_e._getBorderHeight();}var _f=this._fix_height;_b+=_f;_d-=_f;var _g=this._client_elem_fix;if(_g){_g.setElementPosition(_a,0);_g.setElementSize(_c,_f);}var _h=this._client_elem;if(_h){if(this.client_left!=_a||this.client_top!=_b){this.client_left=_a;this.client_top=_b;_h.setElementPosition(_a,_b);}if(this.client_width!=_c||this.client_height!=_d){this.client_width=_c;this.client_height=_d;_h.setElementSize(_c,_d);}}else{this.client_left=_a;this.client_top=_b;this.client_width=_c;this.client_height=_d;}};_pGridBandControlElement.setElementVScrollPos=function(_a){if(this._type=="body"){this._client_elem._try_user_setvpos=true;this._client_elem.setElementVScrollPos(_a);this._client_elem._try_user_setvpos=null;this.scroll_top=_a;}};_pGridBandControlElement._setOnScrollCallbackTarget=function(_a){if(this._type=="body"){this._client_elem._grid=_a;}};_pGridBandControlElement._getExtendContainerCount=function(){if(this._client_elem){return this._client_elem._ext_inners.length;}return 0;};_pGridBandControlElement.setElementBorder=function(_a){var _b=nexacro.ControlElement.prototype.setElementBorder.call(this,_a);this._cur_border=_a;this._updateClientSize();this._client_elem._adjustPos();return _b;};_pGridBandControlElement.setElementShadow=nexacro._emptyFn;nexacro._GridBandContainerElement=function(_a,_b,_c){_b=_b&&this._use_inner_move;nexacro._ContainerElement.call(this,_a,_b,_c,true);this._scroll_max_arr=[];this._ext_inners=[];this._grid=null;};var __pGridBandContainerElement=nexacro._createPrototype(nexacro._ContainerElement,nexacro._GridBandContainerElement);nexacro._GridBandContainerElement.prototype=__pGridBandContainerElement;__pGridBandContainerElement._type_name="GridBandContainerElement";__pGridBandContainerElement._use_inner_move=(nexacro._Browser=="Safari"||nexacro._Browser=="MobileSafari");__pGridBandContainerElement._adjustPos=function(){this.setElementPosition(this.left,this.top);};__pGridBandContainerElement.destroy=function(){nexacro._ContainerElement.prototype.destroy.call(this);this._grid=null;};__pGridBandContainerElement.setElementPosition=function(_a,_b){var _c=this.parent._cur_border;this.left=_a;this.top=_b;var _d=this.handle;if(_d){if(_c){_a=_a-_c.left._width;_b=_b-_c.top._width;}nexacro.__setDOMStyle_Pos(_d.style,_a,_b);}};__pGridBandContainerElement.setElementSize=function(_a,_b){var _c=this.parent._cur_border;this.width=_a;this.height=_b;if(_a<0){_a=0;}if(_b<0){_b=0;}var _d=this.handle;if(_d){if(_c){_a=_a+_c.left._width+_c.right._width;_b=_b+_c.top._width+_c.bottom._width;}if(_a&&_b){nexacro.__setDOMStyle_Size(_d.style,_a,_b);}else{nexacro.__clearDOMStyle_Size(_d.style);}if(this.type=="fixed"){if(this.dest_handle){nexacro.__setDOMStyle_Size(this.dest_handle.style,_a,_b);}}else{if(this.dest_handle){var _e=this.owner_elem;var _f=_e?Math.max(_e.container_maxheight,this.height):this.height;this._setScrollHeight(_f,true);}}}};__pGridBandContainerElement._setInnerElementExtend=function(){var _a=this.handle;var _b=this.dest_handle;var _c=this._scroll_max_arr;var _d=this.owner_elem._getRootWindowHandle();this._deleteExtinners(_c.length-1);var _e=this._ext_inners;var _f=_e.length;var _g;var _h=0;if(_c.length>0){var _i=["red","orange","yellow","green","blue","navy","pupple"];for(var _k=1;_k<_c.length;_k++ ){if(_k<=_f){_g=_e[_h++ ];nexacro.__setDOMStyle_Size(_g.style,this.width,_c[_k]-_c[_k -1]);continue;}else{_g=_d.createElement("div");nexacro.__setDOMNode_ClassName(_g,"nexainnercontainer");nexacro.__setDOMNode_Id(_g,"",_b.id+"_ext_"+(_k -1));nexacro.__setDOMNode_Selectable(_g,false);var _j=_g.style;nexacro.__setDOMStyle_Absolute(_j);nexacro.__setDOMStyle_Pos(_j,0,this.height);nexacro.__setDOMStyle_Size(_g.style,this.width,_c[_k]-_c[_k -1]);if(nexacro._bigdata_innertest){_g.style.border="2px solid "+_i[_k -1];}nexacro.__appendDOMNode(_a,_g);_e.push(_g);}}}};__pGridBandContainerElement._changeInnerElement=function(_a,_b){var _c=this._getExtInnerIdx(_a);var _d=this._getDestHandle(_a,_c);var _e=_b.parentElement;if(_c!=null&&_c>-1){_a=_a-this._scroll_max_arr[_c];}if(_e&&(_e!=_d)){nexacro.__removeDOMNode(_e,_b);nexacro.__appendDOMNode(_d,_b);}return _a;};__pGridBandContainerElement._getDestHandle=function(_a,_b){if(_b==undefined){_b=this._getExtInnerIdx(_a);}return (_b<0)?this.dest_handle:this._ext_inners[_b];};__pGridBandContainerElement._getExtInnerIdx=function(_a){var _b=this._scroll_max_arr;var _c=-1;if(_b){for(var _d=0,_e=_b.length;_d<_e;_d++ ){if(_a<_b[_d]){_c=_d -1;break;}}}return _c;};__pGridBandContainerElement._removeExtinners=function(){var _a=this.handle;var _b=this._ext_inners;for(var _c=0;_c<_b.length;_c++ ){nexacro.__removeDOMNode(_a,_b[_c]);}this._ext_inners=null;};__pGridBandContainerElement._deleteExtinners=function(_a){var _b=this.handle;var _c=this._ext_inners;if(!_a){_a=0;}for(var _d=_c.length-1;_d>=_a;_d-- ){nexacro.__removeDOMNode(_b,_c[_d]);_c.splice(_d,1);}};__pGridBandContainerElement._findScrollbarControl=function(_a,_b){while(_a){var _c=_a.linkedcontrol;if(_c){if(_b){if(_c._grid&&_c._grid.vscrollbar){return _c._grid.vscrollbar;}}else{if(_c._grid&&_c._grid.hscrollbar){return _c._grid.hscrollbar;}}}_a=_a.parent;}return null;};if(__pGridBandContainerElement._use_inner_move){__pGridBandContainerElement.create=function(_a){var _b=this.owner_elem=this.parent_elem;nexacro._ContainerElement.prototype.create.call(this,_a);this._setScrollHeight(_b.container_maxheight);nexacro._observeSysEvent(this.handle,"scroll","onscroll",this._syshandler_onscroll_forward);this._adjustPos();};__pGridBandContainerElement.attachHandle=function(_a){nexacro._ContainerElement.prototype.attachHandle.call(this,_a);nexacro.__setDOMStyle_Size(this.dest_handle.style,this.width,this.height);if(this.parent._type=="body"){this._setScrollHeight(this.owner_elem.container_maxheight);}nexacro._observeSysEvent(this.handle,"scroll","onscroll",this._syshandler_onscroll_forward);this.setElementPosition(this.left,this.top);};__pGridBandContainerElement._syshandler_onscroll_forward=function(_a){var _b=_a.target;if(!_b){return;}var _c=_b._linked_element;if(_c){if(_c._noEventScroll==true){_c._noEventScroll=false;return;}if(_b.scrollLeft>0){_c._noEventScroll=true;_b.scrollLeft=0;}if(_b.scrollTop>0){_c._noEventScroll=true;_b.scrollTop=0;}}};__pGridBandContainerElement._setScrollHeight=function(_a,_b){var _c=this.dest_handle;if(_c){if(this._scroll_max_arr&&this._scroll_max_arr.length>0){_a=this._scroll_max_arr[0];if(_a<this.height){_a=this.height;}nexacro.__setDOMStyle_Size(_c.style,this.width,_a);if(!_b){this._setInnerElementExtend();}}else{if(_a<this.height){_a=this.height;}nexacro.__setDOMStyle_Size(_c.style,this.width,_a);}}};__pGridBandContainerElement.setElementVScrollPos=function(_a){if(this._scroll_top!=_a||this.parent._reset_scrollpos){this._scroll_top=_a;var _b=this.dest_handle;if(_b){nexacro.__setDOMStyle_Translate(_b.style,0, -_a);var _c;var _d=this._ext_inners;var _e=this._scroll_max_arr;for(var _f=0;_f<_d.length;_f++ ){if(_a+this.height>_e[_f]&&_a<_e[_f+1]){if(nexacro._Browser_Transform3d>0){_c=_a-(_e[_f]-this.height);}else{_c=_a-_e[_f];}}else{_c= -this.height;}nexacro.__setDOMStyle_Translate(_d[_f].style,0, -_c);}if(this._grid){this._grid._callback_onvscroll(_a);}}}};__pGridBandContainerElement._refreshDOM=nexacro._emptyFn;__pGridBandContainerElement.destroy=function(){this._destroyElementHandle();this._removeExtinners();this.owner_elem=null;this.dest_handle=null;this._p_parent=null;this.parent_elem=null;this._scroll_max_arr=null;};}else{__pGridBandContainerElement.create=function(_a){nexacro._ContainerElement.prototype.create.call(this,_a);var _b=this.owner_elem=this.parent_elem;var _c=_a?_a._doc:_b._getRootWindowHandle();var _d=this._tempdiv=_c.createElement("div");nexacro.__setDOMStyle_AbsoluteTransparent(_d.style);nexacro.__setDOMStyle_Pos(_d.style,0,0);nexacro.__setDOMStyle_Size(_d.style,1,1);nexacro.__setDOMStyle_Display(_d.style,"none");nexacro.__appendDOMNode(this.handle,_d);this._setScrollHeight(_b.container_maxheight);nexacro._stopSysObserving(this.handle,"scroll","onscroll",this._syshandler_onscroll_forward);nexacro._observeSysEvent(this.handle,"scroll","onscroll",this._org_syshandler_onscroll_forward);this._adjustPos();};__pGridBandContainerElement.attachHandle=function(_a){nexacro._ContainerElement.prototype.attachHandle.call(this,_a);if(this.name&&!this.handle){var _b=_a._doc.getElementById(this.name);if(_b){this.handle=this.dest_handle=_b;this._tempdiv=_b.nextSibling;}}this.handle._linked_element=this;nexacro.__setDOMStyle_Size(this.dest_handle.style,this.width,this.height);if(this.parent._type=="body"){this._setScrollHeight(this.owner_elem.container_maxheight);}nexacro._stopSysObserving(this.handle,"scroll","onscroll",this._syshandler_onscroll_forward);nexacro._observeSysEvent(this.handle,"scroll","onscroll",this._org_syshandler_onscroll_forward);this._adjustPos();};__pGridBandContainerElement.destroy=function(){var _a=this.handle;if(_a){nexacro._stopSysObserving(_a,"scroll","onscroll",this._org_syshandler_onscroll_forward);}this._removeExtinners();this.handle._linked_element=null;this._destroyElementHandle();nexacro.__removeDOMNode(_a,this._tempdiv);this._tempdiv=null;this.owner_elem=null;this.dest_handle=null;this._p_parent=null;this.parent_elem=null;this._scroll_max_arr=null;this._ext_inners=null;};__pGridBandContainerElement._syshandler_onscroll_forward=function(_a){var _b=_a.target;if(!_b){return;}var _c=_b._linked_element;if(_c){if(_c._noEventScroll==true){_c._noEventScroll=false;if(_c._grid){_c._grid._callback_onvscroll(true);}return;}var _d=_c._scroll_top|0;var _e=(_b._org_scrollTop!=undefined)?_b._org_scrollTop:_b.scrollTop;_b._org_scrollTop=undefined;if(_d!=_e){var _f=_c._findScrollbarControl(_c,true);if(_f){_f.set_pos(_e);}else{_c.setElementVScrollPos(_d);}}}};__pGridBandContainerElement._org_syshandler_onscroll_forward=__pGridBandContainerElement._syshandler_onscroll_forward;__pGridBandContainerElement._setScrollHeight=function(_a){var _b=this.dest_handle;if(_b){var _c=this._tempdiv;if(!_c){var _d=this.owner_elem=this.parent_elem;var _e=_d._getRootWindowHandle();if(_e){_c=this._tempdiv=_e.createElement("div");nexacro.__setDOMStyle_AbsoluteTransparent(_c.style);nexacro.__setDOMStyle_Size(_c.style,1,1);nexacro.__setDOMStyle_Display(_c.style,"none");nexacro.__appendDOMNode(this.handle,_c);}}if(_c){nexacro.__setDOMStyle_Pos(this._tempdiv.style,0,_a -1);}if(this._scroll_max_arr&&this._scroll_max_arr.length>0){_a=this._scroll_max_arr[0];if(_a<this.height){_a=this.height;}nexacro.__setDOMStyle_Size(_b.style,this.width,_a);this._setInnerElementExtend();}else{if(_a<this.height){_a=this.height;}nexacro.__setDOMStyle_Size(_b.style,this.width,_a);}}};__pGridBandContainerElement.setElementVScrollPos=function(_a){if(this._scroll_top!=_a||this.parent._reset_scrollpos){var _b=_a-this._scroll_top;this._scroll_top=_a;var _c=this.handle;if(_c){var _d=this.dest_handle;var _e=this._ext_inners;var _f=_e.length;if(_d&&_f>0){var _g=this._scroll_max_arr;if(_a<=_g[0]){nexacro.__setDOMStyle_Display(_d.style,"");}else{nexacro.__setDOMStyle_Display(_d.style,"none");}var _h,_i;var _j,_k;var _l,_m;if(_b>0){for(_j=0,_k=_g.length-1;_j<_k;_j++ ){if(_a<_g[0]){break;}if(_a>=_g[_j]){if(_i){nexacro.__setDOMStyle_Display(_i.style,"none");}_h=_g[_j];_i=_e[_j];_m=_e[_j+1];_l=_g[_j+1]-_h;}else if(_i){break;}}if(_i){nexacro.__setDOMStyle_Translate(_i.style,0,0);nexacro.__setDOMStyle_Display(_i.style,"");if(_m){nexacro.__setDOMStyle_Translate(_m.style,0,_l);nexacro.__setDOMStyle_Display(_m.style,"");_j++ ;}for(;_j<_f;_j++ ){nexacro.__setDOMStyle_Display(_e[_j].style,"none");}this._noEventScroll=true;_c._org_scrollTop=_a;nexacro.__setDOMNode_VScrollPos(_c,_a-_h);}else{for(_j=0;_j<_f;_j++ ){if(_j==0){nexacro.__setDOMStyle_Translate(_e[_j].style,0,_g[_j]);nexacro.__setDOMStyle_Display(_e[_j].style,"");}else{nexacro.__setDOMStyle_Display(_e[_j].style,"none");}}this._noEventScroll=true;nexacro.__setDOMNode_VScrollPos(_c,_a);}}else if(_b<0){for(_j=0,_k=_g.length;_j<_k;_j++ ){if(_a<=_g[_j]){if(_j==0){break;}_i=_e[_j -1];_h=_g[_j -1];_l=_g[_j]-_h;_m=_e[_j];_j++ ;break;}}if(_i){nexacro.__setDOMStyle_Translate(_i.style,0,0);nexacro.__setDOMStyle_Display(_i.style,"");if(_m){nexacro.__setDOMStyle_Translate(_m.style,0,_l);nexacro.__setDOMStyle_Display(_m.style,"");}for(;_j<_f;_j++ ){nexacro.__setDOMStyle_Display(_e[_j].style,"none");}this._noEventScroll=true;_c._org_scrollTop=_a;nexacro.__setDOMNode_VScrollPos(_c,_a-_h);}else{for(_j=0;_j<_f;_j++ ){if(_j==0){nexacro.__setDOMStyle_Translate(_e[_j].style,0,_g[_j]);nexacro.__setDOMStyle_Display(_e[_j].style,"");}else{nexacro.__setDOMStyle_Display(_e[_j].style,"none");}}this._noEventScroll=true;nexacro.__setDOMNode_VScrollPos(_c,_a);}}}else{this._noEventScroll=true;nexacro.__setDOMNode_VScrollPos(_c,_a);}}}};__pGridBandContainerElement._refreshDOM=nexacro._emptyFn;}nexacro.GridRowControlElement=function(_a,_b){this._p_parent=_a;this.parent_elem=_a;var _c=(nexacro._Browser=="Safari"||nexacro._Browser=="MobileSafari");this._client_body_element=new nexacro._ContainerElement(this,_c,"body");this._client_body_element._no_focus_scroll=(nexacro._enableaccessibility&&nexacro._accessibilitytype>3)?false:true;this._client_right_element=null;this._left_width=0;this._right_width=0;this._body_width=0;this.scroll_left=0;this._left_gap=_b;};var _pGridRowControlElement=nexacro._createPrototype(nexacro.ControlElement,nexacro.GridRowControlElement);nexacro.GridRowControlElement.prototype=_pGridRowControlElement;_pGridRowControlElement._type_name="GridRowControlElement";_pGridRowControlElement.create=function(_a){var _b=(this._is_nc_element)?this.parent_elem:this.parent_elem.getContainerElement(this.linkedcontrol._fixed);if(_b&&_b.handle){if(!this.handle){this.owner_elem=_b;var _c=_a._doc||_b._getRootWindowHandle();var _d=_c.createElement("div");var _e=this.linkedcontrol;if(_e&&_e._is_temp){this.name+="_temp";}_d.id=this.name;_d._linked_element=this;this.handle=this.dest_handle=_d;nexacro.__setDOMNode_ClassName(_d,this._getElementClassName());var _f=_d.style;var _g=(this._is_nc_element)?_b.handle:_b._getDestHandle(this.top);if(this._use_translate_move){nexacro.__setDOMStyle_Pos(_f,this.left,0);}this.setElementPosition(this.left,this.top,true);nexacro.__setDOMStyle_Size(_f,this.width,this.height);_f.clip="rect(0px, "+(this.width|0)+"px, "+(this.height|0)+"px, 0px)";this._refreshControl(_d,_f,_c);nexacro.__appendDOMNode(_g,_d);}if(this.handle){if(this._client_left_element&&!this._client_left_element.handle){this._client_left_element.create(_a);}if(!this._client_body_element.handle){this._client_body_element.create(_a);}if(this._client_right_element&&!this._client_right_element.handle){this._client_right_element.create(_a);}this._client_elem=this._client_body_element;}}};_pGridRowControlElement._removeElementHandle=function(){var _a=this.handle;if(_a){var _b;_a._linked_element=null;if(this._is_nc_element){_b=(this.owner_elem?this.owner_elem.handle:null);}else{_b=(this.owner_elem?this.owner_elem._getDestHandle(this.top):null);}nexacro.__removeDOMNode(_b,_a);}};_pGridRowControlElement._on_destroy=function(){var _a=this.handle;if(_a){this._client_body_element.destroy();if(this._client_left_element){this._client_left_element.destroy();}if(this._client_right_element){this._client_right_element.destroy();}this._client_body_element=null;this._client_left_element=null;this._client_right_element=null;this._client_elem=null;}};_pGridRowControlElement.createCommandStart=function(){var _a=(this._is_nc_element)?this.parent_elem:this.parent_elem.getContainerElement(this.position_step);if(_a&&!this.handle){this.owner_elem=_a;var _b="<div id='"+this.name+"' class='"+this._getElementClassName()+"'";if(!nexacro._isNull(this.tooltiptext)){_b+=" title = '"+this.tooltiptext+"' ";}var _c=this._getAccessibilityInfoStr();var _d=this._getControlStyleStr();var _e=this._getControlStatusStr();_b+=_e?(" "+_e):"";_b+=_d?(" style='"+_d):"";_b+="clip:rect(0px, "+(this.width|0)+"px, "+(this.height|0)+"px, 0px);'";_b+=_c?(" "+_c+">"):">";var _f=this._edge_elem;if(_f){_b+=_f.createCommand();}return _b;}};_pGridRowControlElement.createCommandAreaStart=function(_a){var _b="";if(_a=="body"){if(this._client_body_element){_b+=this._client_body_element.createCommandStart();}}else if(_a=="left"){if(this._client_left_element){_b+=this._client_left_element.createCommandStart();}}else{if(this._client_right_element){_b+=this._client_right_element.createCommandStart();}}return _b;};_pGridRowControlElement.createCommandAreaEnd=function(_a){var _b="";if(_a=="body"){if(this._client_body_element){_b+=this._client_body_element.createCommandEnd();}}else if(_a=="left"){if(this._client_left_element){_b+=this._client_left_element.createCommandEnd();}}else{if(this._client_right_element){_b+=this._client_right_element.createCommandEnd();}}return _b;};_pGridRowControlElement.createCommandEnd=function(_a){return "</div>";};_pGridRowControlElement.attachHandle=function(_a){if(this.name){var _b=this.handle||_a._doc.getElementById(this.name);if(_b){_b._linked_element=this;if(this._client_body_element){this.handle=this.dest_handle=_b;this._client_body_element.attachHandle(_a);}var _c=this._edge_elem;if(_c){_c.attach_handle_fromparent(_b);}this._setAccessibility_notify();if(this._client_left_element){this._client_left_element.attachHandle(_a);}if(this._client_right_element){this._client_right_element.attachHandle(_a);}}this.owner_elem=(this._is_nc_element)?this.parent_elem:this.parent_elem.getContainerElement(this.linkedcontrol._fixed);}};_pGridRowControlElement.setInnerHTML=function(_a){if(this.dest_handle){if(this._client_left_element){var _b=this._client_left_element._tempdiv;if(_b){var _c=this._client_left_element.handle;nexacro.__removeDOMNode(_c,_b);this._client_left_element._tempdiv=null;}}if(this._client_right_element){var _b=this._client_right_element._tempdiv;if(_b){var _c=this._client_right_element.handle;nexacro.__removeDOMNode(_c,_b);this._client_right_element._tempdiv=null;}}if(this._client_body_element){var _b=this._client_body_element._tempdiv;if(_b){var _c=this._client_body_element.handle;nexacro.__removeDOMNode(_c,_b);this._client_body_element._tempdiv=null;}}this.dest_handle.innerHTML=_a;}};_pGridRowControlElement.clearContents=function(){if(this.handle){this._client_body_element.clearContents();if(this._client_left_element){this._client_left_element.clearContents();}if(this._client_right_element){this._client_right_element.clearContents();}}};_pGridRowControlElement.getContainerElement=function(_a){if(_a==1){return this._client_left_element;}else if(_a==2){return this._client_right_element;}return this._client_body_element;};_pGridRowControlElement._refreshCommonStyleProps=function(_a){if(!this.visible){nexacro.__setDOMStyle_Visible(_a,false);}if(this.width&&this.height){nexacro.__setDOMStyle_Size(_a,this.width,this.height);}if(this.color){nexacro.__setDOMStyle_ColorObject(_a,this.color);}if(this.font){nexacro.__setDOMStyle_FontObject(_a,this.font);}if(this.wordSpacing){nexacro.__setDOMStyle_WordSpacingObject(_a,this.wordSpacing);}if(this.letterSpacing){nexacro.__setDOMStyle_LetterSpacingObject(_a,this.letterSpacing);}if(this.textDecoration){nexacro.__setDOMStyle_TextDecorationObject(_a,this.textDecoration);}if(this.rtl!=undefined){nexacro.__setDOMStyle_Direction(_a,this.rtl);}if(this.wordWrap){nexacro.__setDOMStyle_WordWrap(_a,this.wordWrap);}};_pGridRowControlElement.setArea=function(_a,_b){if(_a>0&&!this._client_left_element){this._client_left_element=new nexacro._ContainerElement(this,false,"left");}if(_b>0&&!this._client_right_element){this._client_right_element=new nexacro._ContainerElement(this,false,"right");}this._left_width=_a;var _c=this._left_gap;if(this._client_left_element){this._client_left_element.setElementPosition(this.client_left-_c,this.client_top);this._client_left_element.setElementSize(_a,this.client_height);}this._right_width=_b;if(this._client_right_element){this._client_right_element.setElementPosition(this.client_width-_b+_c,this.client_top);this._client_right_element.setElementSize(_b-_c,this.client_height);}this._body_width=this.client_width-_a-_b+(_c* 2);this._client_body_element.setElementPosition(_a-_c,this.client_top);this._client_body_element.setElementSize(this._body_width,this.height);};_pGridRowControlElement._updateClientRect=function(){var _a=this._on_updateClientRect();if(_a&1){this._on_change_clientPos(this.client_left,this.client_top);}if(_a&2){this._on_change_clientSize(this.client_width,this.client_height);}if(_a){this.setArea(this._left_width,this._right_width);}this._setContainerMaxWidth(this._client_body_element._scroll_maxwidth,this.height);};_pGridRowControlElement._setContainerMaxWidth=function(_a){this._client_body_element.setElementScrollMaxSize(_a,this.height);};_pGridRowControlElement._calculateClientWidth=function(_a){return _a-this._left_width-this._right_width;};_pGridRowControlElement._getContainerMaxWidth=function(){return this._client_body_element._scroll_maxwidth;};_pGridRowControlElement.setElementHScrollPos=function(_a){if(this.parent._grid._p_enableredraw==false){this.parent._grid._enable_redraw_history.scroll=true;return;}this._client_body_element._setElementHScrollPos(_a);this.scroll_left=_a;};_pGridRowControlElement.setElementPosition=function(_a,_b,_c){if(this.parent_elem._use_container_move){var _d=this.owner_elem;if(this.left!=_a||this.top!=_b||_c){var _e=_b;if(!this._is_nc_element&&_d&&(this.top!=_b||_c)){_e=_d._changeInnerElement(_b,this.handle);}nexacro.Element.prototype.setElementPosition.call(this,_a,_e,_c);this.top=_b;}}else{nexacro.Element.prototype.setElementPosition.call(this,_a,_b,_c);}};_pGridRowControlElement.setElementSize=function(_a,_b){nexacro.ControlElement.prototype.setElementSize.call(this,_a,_b);var _c=this.handle;if(_c){_c.style.clip="rect(0px, "+(this.width)+"px, "+(this.height)+"px, 0px)";}};_pGridRowControlElement._setScrollableElementHScrollPos=nexacro._emptyFn;nexacro.CellControlElement=function(_a,_b){nexacro.ControlElement.call(this,_a);};var _pCellControlElement=nexacro._createPrototype(nexacro.ControlElement,nexacro.CellControlElement);nexacro.CellControlElement.prototype=_pCellControlElement;_pCellControlElement._type_name="CellControlElement";_pCellControlElement.setInnerHTML=function(_a){if(this.handle){this.handle.innerHTML=_a;}};_pCellControlElement._refreshBorderNone=function(){if(this.handle){var _a=this._get_rtl();var _b=this.border;if(_a){_b=this._border_info;}nexacro.__setDOMStyle_BorderNone(this.handle.style,this.borderLeftNone,this.borderTopNone,this.borderRightNone,this.borderBottomNone,_b,_a);}if(this._updateInnerSize()){this._updateClientRect();if(this._edge_elem){this._edge_elem.setElementSize(this.inner_width,this.inner_height);}}};}if(_process){delete _process;delete _pElement;delete __pEdgeImageElement;delete _pTextBoxElement;delete _pTextBoxVirtualFlexElement;delete _pImageElement;delete _pIconElement;delete _pIconTextElement;delete _pTextAreaElement;delete __pFrameResizeBorderElement;delete _pModalOverlayElement;delete _pControlElement;delete _pInputElement;delete _pFrameControlElement;delete _pScrollableControlElement;delete __pContainerElement;delete _pPluginElement;delete __pPluginObject;delete __pWebBrowserPluginElement;delete __pVideoPlayerPluginElement;delete _pCanvasElement;delete __pCanvasGradient;delete _pGridScrollableControlElement;delete _pGridBandControlElement;delete __pGridBandContainerElement;delete _pGridRowControlElement;delete _pCellControlElement;}if(nexacro._Browser=="Runtime"){"use strict";var _process=true;if(!nexacro.Element){nexacro.__setLastFocusedElement=function(_a){if(_a){var _b=_a.linkedcontrol?_a.linkedcontrol._getWindow():(_a.parent_elem?_a.parent_elem.linkedcontrol._getWindow():null);if(_b){var _c=_b;while(true){if(_c instanceof nexacro._PopupWindow){if(_c==_c.parent){break;}_c=_c.parent;}else{break;}}if(!_c){_c=_b;}_c._last_focused_elem=_a;}}};nexacro.Element=function(_a,_b){this._p_parent=_a;this.parent_elem=_a;this.id=_b;this._p_name=this.parent_elem.name+":"+(_b||"elem");};var _pElement=nexacro._createPrototype(nexacro.Object,nexacro.Element);nexacro.Element.prototype=_pElement;_pElement._type_name="Element";_pElement._p_parent=null;_pElement.parent_elem=null;_pElement.id="";_pElement.status="";_pElement.userstatus="";_pElement.left=0;_pElement.top=0;_pElement.width=0;_pElement.height=0;_pElement.visible=true;_pElement.rtl=undefined;_pElement.color=null;_pElement.font=null;_pElement.textDecoration=null;_pElement.wordSpacing=null;_pElement.letterSpacing=null;_pElement.pointerEvent="";_pElement.handle=null;_pElement.owner_elem=null;_pElement._is_nc_element=false;_pElement._is_input_element=false;_pElement.typeselector="";_pElement.classselector="";_pElement.idselector="";_pElement.clearContents=nexacro._emptyFn;_pElement.create=function(_a){var _b=(this._is_nc_element)?this.parent_elem:this.parent_elem.getContainerElement(this.position_step);if(_b&&_b.handle&&!this.handle){this.owner_elem=_b;var _c=_a.handle||_b._getRootWindowHandle();var _d=this._isParentRtl();var _e=this.left;if(_d){this.rtl=_d;_e=this._getRTLPositionLeft(_e,this.width);}var _f=nexacro.__createElementHandle(this,_c,_e,this.top,this.width,this.height,this._getElementClassName(),this.name);this._refreshCommonStyleProps(_f);this.handle=_f;nexacro.__appendElementHandle(this._is_nc_element?_b.handle:_b.dest_handle,_f);}};_pElement._refreshCommonStyleProps=function(_a){if(!this.visible){nexacro.__setElementHandleVisible(_a,false);}if(this.display=="none"){nexacro.__setElementHandleVisible(_a,false);}if(this.color){nexacro.__setElementHandleColorObject(_a,this.color);}if(this.font){nexacro.__setElementHandleFontObject(_a,this.font);}if(this.wordSpacing){nexacro.__setElementHandleWordSpacingObject(_a,this.wordSpacing);}if(this.letterSpacing){nexacro.__setElementHandleLetterSpacingObject(_a,this.letterSpacing);}if(this.textDecoration){nexacro.__setElementHandleTextDecorationObject(_a,this.textDecoration);}if(this.wordWrap){nexacro.__setElementHandleWordwrapObject(_a,this.wordWrap);}if(this.pointerEvent){nexacro.__setElementHandlePointerEvents(_a,this.pointerEvent);}if(this.rtl!==undefined){nexacro.__setElementHandleRtlDirection(_a,this.rtl);}};_pElement.destroy=function(){var _a=this.handle;if(_a){var _b=(this.owner_elem?this.owner_elem.dest_handle:null);if(_b){nexacro.__destroyElementHandle(_b,_a);}this.owner_elem=null;this.handle=null;}this._p_parent=null;this.parent_elem=null;};_pElement.isInputElement=function(){return this._is_input_element;};_pElement.stopSysEvent=function(){this._event_stop=true;};_pElement._destroyElementHandle=function(_a){var _b=this.handle;var _c=this.owner_elem;if(_b){var _d=null;if(_c&&_c.handle){_d=_c.handle;nexacro.__destroyElementHandle(_d,_b,_a);}}this.owner_elem=null;this.handle=null;};_pElement._appendToContainer=function(_a){var _b=this.handle;if(_b&&_a.handle&&this.owner_elem==null){this.owner_elem=_a;nexacro.__appendElementHandle(_a.dest_handle,_b);}};_pElement._insertToContainer=function(_a,_b){var _c=this.handle;if(_c&&_a.handle&&this.owner_elem==null){nexacro.__insertElementHandle(_a.dest_handle,_c,_b.handle);}};_pElement._removeFromContainer=function(){var _a=this.owner_elem;if(_a){this.owner_elem=null;var _b=this.handle;if(_b&&_a.handle){nexacro.__unlinkElementHandle(_a.dest_handle,_b);}}};_pElement.getContainerElement=function(){return this;};_pElement._getRootWindowHandle=function(){if(this.owner_elem){return this.owner_elem._getRootWindowHandle();}return null;};_pElement._getWindowHandle=function(){return this._getRootWindowHandle();};_pElement._isRtl=function(_a){var _b=_a?(this.parent_elem?this.parent_elem:this.linkedcontrol.getElement()):this;while(_b){if(_b.rtl!==undefined){return _b.rtl;}if(_b.parent_elem){_b=_b.parent_elem;}else{_b=_b.parent;}}return nexacro._rtl;};_pElement._isParentRtl=function(){var _a=this.parent_elem?this.parent_elem:(this.parent?this.parent.getElement():null);while(_a){if(_a.rtl!==undefined){return _a.rtl;}if(_a.parent_elem){_a=_a.parent_elem;}else{_a=_a.parent;}}return nexacro._rtl;};_pElement._checkUpdateElementByRTL=function(_a,_b){var _c=false;var _d=this._isRtl(true);if(_a){if(typeof _b=="number"){var _e=nexacro.__getElementHandlePositionLeft(_a);if(!((_e==_b)^_d)){_c=true;}}}return _c;};_pElement._getRTLPositionLeft=function(_a,_b){var _c=this._isParentRtl();var _d=_a;var _e=this.owner_elem;var _f=0;if(_c){if(_e){_f=_e.width;if(nexacro._OS=="Android"&&nexacro._Browser=="Runtime"){if(_e instanceof nexacro._Window){var _g=this._getWindow();var _h=nexacro._getWindowHandleClientWidth(_g.handle);_f=(_f==_h)?_f:_h;}}if(_e instanceof nexacro.ControlElement){if(this._is_nc_element||_e._is_simple_control){_f=_e.inner_width;}else{if(this instanceof nexacro.FrameControlElement){var _g=this._getWindow();_f=_g.getClientWidth();if(nexacro._OS=="Android"&&nexacro._Browser=="Runtime"){if(this.parent_elem.linkedcontrol instanceof nexacro.MainFrame){var _h=nexacro._getWindowHandleClientWidth(_g.handle);_f=(_f==_h)?_f:_h;}}}else{_f=_e.client_width;}}}}else{var _i=this._getWindow();_f=_i.getClientWidth();}{_d=_f-_b-_a;}}return _d;};_pElement._getRTLContainerPositionLeft=function(_a,_b){var _c=this.inner_width;var _d=_c-_b-_a;return _d;};_pElement._getRtlScrollLeft=function(_a,_b){_a=this.getElementScrollWidth()-_b-_a;return _a;};_pElement._setElementFittocontents=function(_a){if(this.fittocontents!=_a){this.fittocontents=_a;}};_pElement._clearLayoutBasis=nexacro._emptyFn;_pElement.setElementLayoutType=nexacro._emptyFn;_pElement.setElementLayoutFluidPos=nexacro._emptyFn;_pElement.setElementLayoutHorizontalGap=nexacro._emptyFn;_pElement.setElementLayoutVerticalGap=nexacro._emptyFn;_pElement.setElementFlexMainAxisAlign=nexacro._emptyFn;_pElement.setElementFlexCrossAxisAlign=nexacro._emptyFn;_pElement.setElementFlexCrossAxisWrapAlign=nexacro._emptyFn;_pElement.setElementTableCellAlign=nexacro._emptyFn;_pElement.setElementTableCellinCompAlign=nexacro._emptyFn;_pElement.setElementFlexWrap=nexacro._emptyFn;_pElement.setElementTableTemplate=nexacro._emptyFn;_pElement.setElementTableTemplateArea=nexacro._emptyFn;_pElement.setElementTableDirection=nexacro._emptyFn;_pElement.setElementLayoutSpacing=nexacro._emptyFn;_pElement._setElementLayoutType=nexacro._emptyFn;_pElement._setElementLayoutPosition=nexacro._emptyFn;_pElement._setElementLayoutHorizontalGap=nexacro._emptyFn;_pElement._setElementLayoutVerticalGap=nexacro._emptyFn;_pElement._setElementFlexMainAxisAlign=nexacro._emptyFn;_pElement._setElementFlexCrossAxisAlign=nexacro._emptyFn;_pElement._setElementFlexCrossAxisWrapAlign=nexacro._emptyFn;_pElement._setElementFlexWrap=nexacro._emptyFn;_pElement._setElementLayoutSpacing=nexacro._emptyFn;_pElement._setElementTableCellAlign=nexacro._emptyFn;_pElement._setElementTableCellinCompAlign=nexacro._emptyFn;_pElement._setElementTableDirection=nexacro._emptyFn;_pElement._setElementTableTemplate=nexacro._emptyFn;_pElement._setElementTableTemplateArea=nexacro._emptyFn;_pElement.setElementPosition=function(_a,_b){if(this.left!=_a||this.top!=_b){this.left=_a;this.top=_b;var _c=this.handle;if(_c){var _d=this._getRTLPositionLeft(_a,this.width);if(_d||_b){nexacro.__setElementHandlePosition(_c,_d,_b);}else{nexacro.__clearElementHandlePosition(_c);}}}};_pElement.clearElementPosition=function(){var _a=this.handle;if(_a){nexacro.__clearElementHandlePosition(_a);}};_pElement.setElementSize=function(_a,_b,_c){if(this.width!=_a||this.height!=_b||_c){this.width=_a;this.height=_b;if(_a<0){_a=0;}if(_b<0){_b=0;}var _d=this.handle;if(_d){var _e=this._isParentRtl();if(_e){var _f=this._getRTLPositionLeft(this.left,_a);if(_f||this.top){nexacro.__setElementHandlePosition(_d,_f,this.top);}else{nexacro.__clearElementHandlePosition(_d);}}if(_a&&_b){nexacro.__setElementHandleSize(_d,_a,_b);}else{nexacro.__clearElementHandleSize(_d);}}}};_pElement.setElementVisible=function(_a){if(this.visible!=_a){this.visible=_a;var _b=this.handle;if(_b){nexacro.__setElementHandleVisible(_b,_a);}}};_pElement.setElementRtl=function(_a){if(this.rtl!=_a){this.rtl=_a;var _b=this.handle;if(_b){nexacro.__setElementHandleRtlDirection(_b,_a);}}};_pElement.setElementTypeCSSSelector=function(_a){if(this.typeselector!=_a){this.typeselector=_a;var _b=this.handle;if(_b){var _c=this._getElementClassName();if(this._classname!=_c){this._classname=_c;nexacro.__setElementHandleCSSClassName(_b,_c);}}}};_pElement.setElementClassCSSSelector=function(_a){if(this.classselector!=_a){this.classselector=_a;if(_a){var _b=this._getElementClassName();if(this._classname!=_b){this._classname=_b;var _c=this.handle;if(_c){nexacro.__setElementHandleCSSClassName(_c,_b);}}}}};_pElement.setElementTextAlignByClassCSSSelector=function(_a){var _b="nexacenteralign";if(this._isRtl()){if(_a=="left"){_b="nexarightalign";}else if(_a=="right"){_b="nexaleftalign";}}else{if(_a=="left"){_b="nexaleftalign";}else if(_a=="right"){_b="nexarightalign";}}this.setElementClassCSSSelector(_b);};_pElement._setElementHandleTextAlign=function(_a,_b,_c){if(_a){if(_c){_b=((_b=="left")?"right":(_b=="right"?"left":_b));}nexacro.__setElementHandleTextAlign(_a,_b);}};_pElement._getElementClassName=function(){var _a=this.typeselector;if(this.idselector){_a+=" "+this.idselector;}if(this.rtl){_a+=" nexartl";}if(this.classselector){_a+=" "+this.classselector;}return _a;};_pElement.setElementStatus=function(_a){if(this.status!=_a){this.status=_a;var _b=this.handle;if(_b){nexacro.__setElementHandleStatus(_b,_a);}}};_pElement.setElementUserStatus=function(_a){if(this.userstatus!=_a){this.userstatus=_a;var _b=this.handle;if(_b){nexacro.__setElementHandleUserStatus(_b,_a);}}};_pElement.setElementColor=function(_a){this.color=_a;if(this.handle){nexacro.__setElementHandleColorObject(this.handle,_a);}};_pElement.setElementFont=function(_a){this.font=_a;if(this.handle){nexacro.__setElementHandleFontObject(this.handle,_a);}};_pElement.setElementTextDecoration=function(_a){this.textDecoration=_a;if(this.handle){nexacro.__setElementHandleTextDecorationObject(this.handle,_a);}};_pElement.setElementWordSpacing=function(_a){this.wordSpacing=_a;if(this.handle){nexacro.__setElementHandleWordSpacingObject(this.handle,_a);}};_pElement.setElementLetterSpacing=function(_a){this.letterSpacing=_a;if(this.handle){nexacro.__setElementHandleLetterSpacingObject(this.handle,_a);}};_pElement.setElementPointerEvents=function(_a){if(this.pointerEvent!=_a){this.pointerEvent=_a;var _b=this.handle;if(_b){nexacro.__setElementHandlePointerEvents(_b,_a);}}};_pElement._getWindow=function(){return this.linkedcontrol._getWindow();};_pElement._getComputedStyle=function(){};_pElement._getComputedStyleValue=function(_a){if(this.handle&&_a){return nexacro.__getElementHandleStyleValue(this.handle,_a);}};_pElement._getComputedStyleSubValue=function(_a,_b){if(this.handle&&_a&&_b){return nexacro.__getElementHandleStyleSubValue(this.handle,_a,_b);}};_pElement._getComputedStyleWithCallback=function(_a,_b,_c){if(this.handle&&_a){return nexacro.__getElementHandleStyleValueWithCallback(this.handle,_a,_b,_c);}};_pElement._getComputedStyleBackgroundColor=nexacro._emptyFn;_pElement.setElementAccessibilityRole=nexacro._emptyFn;_pElement.setElementAccessibilityLabel=nexacro._emptyFn;_pElement.setElementAccessibilityDescription=nexacro._emptyFn;_pElement.setElementAccessibilityAction=nexacro._emptyFn;_pElement.setElementAccessibilityFlagReadOnly=nexacro._emptyFn;_pElement.setElementAccessibilityStatHidden=nexacro._emptyFn;_pElement._on_createAccessibilityCommand=nexacro._emptyFn;_pElement._getAccessibilityStyleStr=nexacro._emptyFn;_pElement._on_createAccessibilityHandle=nexacro._emptyFn;_pElement.setElementPreventedEvent=nexacro._emptyFn;_pElement.getElementCaretPos=nexacro._emptyFn;_pElement._change_to_keypad_type=nexacro._emptyFn;_pElement._getPositionInWindow=function(){return nexacro._getElementXYInWindow(this.handle);};_pElement._getOverflowScrollSize=function(){return 0;};nexacro.TextBoxElement=function(_a,_b){this._p_parent=_a;this.parent_elem=_a;this.id=_b;this._p_name=this.parent_elem.name+":"+(_b||"text");};var _pTextBoxElement=nexacro._createPrototype(nexacro.Element,nexacro.TextBoxElement);nexacro.TextBoxElement.prototype=_pTextBoxElement;_pTextBoxElement._type_name="TextBoxElement";_pTextBoxElement.text="";_pTextBoxElement._use_decoration=false;_pTextBoxElement.padding=null;_pTextBoxElement.textAlign=null;_pTextBoxElement.verticalAlign=null;_pTextBoxElement.wordWrap=null;_pTextBoxElement._wordwrap_info=null;_pTextBoxElement.typeselector="nexacontentsbox";_pTextBoxElement._use_newline=true;_pTextBoxElement.create=function(_a){var _b=this.parent_elem.getContainerElement(this.position_step);if(_b&&_b.handle&&!this.handle){this.owner_elem=_b;var _c=_a.handle||_b._getRootWindowHandle();var _d=this._isParentRtl();var _e=this.left;if(_d){this.rtl=_d;_e=this._getRTLPositionLeft(_e,this.width);}var _f=this.width;var _g=this.height;if(_f<0){_f=0;}if(_g<0){_g=0;}var _h=nexacro.__createTextElementHandle(this,_c,_e,this.top,_f,_g,this._getElementClassName(),this.name);nexacro.__initTextElementText(_h,this.text,this._use_newline,this._use_decoration,this.wordWrap||this._wordwrap_info);this._refreshCommonStyleProps(_h);if(this.textAlign){this._setElementHandleTextAlign(_h,this.textAlign,this.rtl);}if(this.verticalAlign){nexacro.__setElementHandleVerticalAlign(_h,this.verticalAlign);}this.handle=_h;nexacro.__appendElementHandle(_b.dest_handle,_h);}};_pTextBoxElement.setElementTextAlign=function(_a){this.textAlign=_a;var _b=this.handle;if(_b){this._setElementHandleTextAlign(_b,_a,this.rtl);}};_pTextBoxElement.setElementVerticalAlign=function(_a){this.verticalAlign=_a;var _b=this.handle;if(_b){nexacro.__setElementHandleVerticalAlign(_b,_a);}};_pTextBoxElement.setElementPadding=function(){};_pTextBoxElement.setElementSize=function(_a,_b,_c){if(this.width!=_a||this.height!=_b||_c){this.width=_a;this.height=_b;if(_a<0){_a=0;}if(_b<0){_b=0;}var _d=this.handle;if(_d){var _e=this._isParentRtl();if(_e){var _f=this._getRTLPositionLeft(this.left,_a);if(_f||this.top){nexacro.__setElementHandlePosition(_d,_f,this.top);}else{nexacro.__clearElementHandlePosition(_d);}}if(_a>=0&&_b>=0){nexacro.__setElementHandleSize(_d,_a,_b);}else{nexacro.__clearElementHandleSize(_d);}}}};_pTextBoxElement.setElementText=function(_a){if(this.text!=_a||this._use_decoration==true){if(_a==null){this.text="";}else{this.text=_a;}this._use_decoration=false;var _b=this.handle;if(_b){nexacro.__setElementHandleText(_b,this.text,this._use_newline,this.wordWrap||this._wordwrap_info);}}};_pTextBoxElement.setElementDecorateText=function(_a){if(this.text!=_a||this._use_decoration==false){if(_a==null){this.text="";}else{this.text=_a;}this._use_decoration=true;var _b=this.handle;if(_b){nexacro.__setElementHandleDecorateText(_b,_a);}}};_pTextBoxElement.setElementWordWrap=function(_a){if(this.wordWrap!=_a){var _b=this.wordWrap||this._wordwrap_info;this.wordWrap=_a;var _c=this.handle;if(_c){nexacro.__setElementHandleWordwrapObject(_c,_a);if(this.text&&this._use_decoration==false&&_b!=_a){nexacro.__setElementHandleText(_c,this.text,this._use_newline,this.wordWrap||this._wordwrap_info);}}}};_pTextBoxElement.setElementCSSMapInfo=function(_a){if(this._wordwrap_info!=_a){var _b=this.wordWrap||this._wordwrap_info;this._wordwrap_info=_a;var _c=this.handle;if(_c){if(!this.wordWrap&&this.text&&this._use_decoration==false&&_b!=_a){nexacro.__setElementHandleText(_c,this.text,this._use_newline,this.wordWrap||this._wordwrap_info);}}}};_pTextBoxElement._getComputedStyle=function(_a,_b){if(this.handle&&_a){if(!_b){if(nexacro._Browser=="Runtime"){var _c=this;while(_c){if(_c.linkedcontrol){nexacro._flushCommand(_c._getWindow());break;}_c=_c.parent;}}}var _d=nexacro.__getElementHandleStyleValue(this.handle,_a);return _d;}};_pTextBoxElement._getComputedStyleAlign=function(_a){var _b={textAlign:"",verticalAlign:""};_b.textAlign=this._getComputedStyle("text-align",_a);_b.verticalAlign=this._getComputedStyle("vertical-align",_a);return _b;};_pTextBoxElement.setElementMove=function(_a,_b,_c,_d,_e){this.setElementPosition(_a,_b,_e);this.setElementSize(_c,_d);};nexacro.TextBoxFlexElement=nexacro.TextBoxElement;nexacro.TextBoxVirtualFlexElement=nexacro.TextBoxFlexElement;nexacro.IconElement=function(_a,_b,_c){this._p_parent=_a;this.parent_elem=_a;this.id=_b;this._p_name=this.parent_elem.name+":"+(_b||"icon");this._fiticonsize=_c;};var _pIconElement=nexacro._createPrototype(nexacro.Element,nexacro.IconElement);nexacro.IconElement.prototype=_pIconElement;_pIconElement._type_name="IconElement";_pIconElement.typeselector="nexacontentsbox";_pIconElement.padding=null;_pIconElement.textAlign=null;_pIconElement.verticalAlign=null;_pIconElement.icon="";_pIconElement.create=function(_a){var _b=this.parent_elem.getContainerElement(this.position_step);if(_b&&_b.handle&&!this.handle){this.owner_elem=_b;var _c=_a.handle||_b._getRootWindowHandle();var _d=this._isParentRtl();var _e=this.left;if(_d){this.rtl=_d;_e=this._getRTLPositionLeft(_e,this.width);}var _f=nexacro.__createIconTextElementHandle(this,_c,_e,this.top,this.width,this.height,this._getElementClassName(),this.name);var _g=this.icon;if(_g&&_g.value!="none"){if(this._fiticonsize){nexacro.__initElementIcon(_f,_g.value,_g._sysurl,Math.min(this.height,this.width));}else{nexacro.__initElementIcon(_f,_g.value,_g._sysurl);}}this._refreshCommonStyleProps(_f);if(this.textAlign){this._setElementHandleTextAlign(_f,this.textAlign,this.rtl);}if(this.verticalAlign){nexacro.__setElementHandleVerticalAlign(_f,this.verticalAlign);}this.handle=_f;nexacro.__appendElementHandle(_b.dest_handle,_f);}};_pIconElement.setElementTextAlign=function(_a){if(this.textAlign!=_a){this.textAlign=_a;var _b=this.handle;if(_b){this._setElementHandleTextAlign(_b,_a||"center",this.rtl);}}};_pIconElement.setElementVerticalAlign=function(_a){if(this.verticalAlign!=_a){this.verticalAlign=_a;var _b=this.handle;if(_b){nexacro.__setElementHandleVerticalAlign(_b,_a||"middle");}}};_pIconElement.setElementIcon=function(_a){if(this.icon!=_a){this.icon=_a;var _b=this.handle;if(_b){if(_a&&_a.value!="none"){if(this._fiticonsize){nexacro.__setElementHandleIconObject(_b,_a,(Math.min(this.height,this.width)||16));}else{nexacro.__setElementHandleIconObject(_b,_a);}}else{nexacro.__setElementHandleIconObject(_b,"");}}}};nexacro.IconTextElement=function(_a,_b,_c){this._p_parent=_a;this.parent_elem=_a;this.id=_b;this._p_name=this.parent_elem.name+":"+(_b||"contents");this._fiticonsize=_c;};var _pIconTextElement=nexacro._createPrototype(nexacro.Element,nexacro.IconTextElement);nexacro.IconTextElement.prototype=_pIconTextElement;_pIconTextElement._type_name="IconTextElement";_pIconTextElement.typeselector="nexacontentsbox";_pIconTextElement.text="";_pIconTextElement.icon=null;_pIconTextElement.iconPos="left";_pIconTextElement.padding=null;_pIconTextElement.textAlign=null;_pIconTextElement.verticalAlign=null;_pIconTextElement.textwidth=0;_pIconTextElement.wordWrap=null;_pIconTextElement._wordwrap_info=null;_pIconTextElement._use_decoration=false;_pIconTextElement._use_newline=true;_pIconTextElement.create=function(_a){var _b=this.parent_elem.getContainerElement(this.position_step);if(_b&&_b.handle&&!this.handle){this.owner_elem=_b;var _c=_a.handle||_b._getRootWindowHandle();var _d=this._isParentRtl();var _e=this.left;if(_d){this.rtl=_d;_e=this._getRTLPositionLeft(_e,this.width);}var _f=nexacro.__createIconTextElementHandle(this,_c,_e,this.top,this.width,this.height,this._getElementClassName());var _g=this.textPadding;if(_g){if(this.rtl){nexacro.__initIconTextElementTextPadding(_f,_g.top,_g.left,_g.bottom,_g.right);}else{nexacro.__initIconTextElementTextPadding(_f,_g.top,_g.right,_g.bottom,_g.left);}}nexacro.__initIconTextElementText(_f,this.text,this._use_newline,this._use_decoration,this.wordWrap||this._wordwrap_info);var _h=this.icon;if(_h){if(this._fiticonsize){nexacro.__initElementIcon(_f,_h.value,_h._sysurl,Math.min(this.height,this.width));}else{nexacro.__initElementIcon(_f,_h.value,_h._sysurl);}}this._refreshCommonStyleProps(_f);{if(this.rtl){var _i=((this.iconPos=="left")?"right":(this.iconPos=="right"?"left":this.iconPos));nexacro.__initIconTextElementIconPos(_f,_i);}else{nexacro.__initIconTextElementIconPos(_f,this.iconPos);}}if(this.textAlign){this._setElementHandleTextAlign(_f,this.textAlign,this.rtl);}if(this.verticalAlign){nexacro.__setElementHandleVerticalAlign(_f,this.verticalAlign);}if(this.textwidth){nexacro.__setElementHandleTextWidth(_f,this.textwidth);}this.handle=_f;nexacro.__appendElementHandle(_b.dest_handle,_f);}};_pIconTextElement.setElementTextAlign=function(_a){if(this.textAlign!=_a){this.textAlign=_a;var _b=this.handle;if(_b){this._setElementHandleTextAlign(_b,_a,this.rtl);}}};_pIconTextElement.setElementVerticalAlign=function(_a){if(this.verticalAlign!=_a){this.verticalAlign=_a;var _b=this.handle;if(_b){nexacro.__setElementHandleVerticalAlign(_b,_a);}}};_pIconTextElement.setElementTextPadding=function(_a){if(this.textPadding!=_a){this.textPadding=_a;var _b=this.handle;if(_b){nexacro.__setElementHandleTextPaddingObject(_b,_a);}}};_pIconTextElement.setElementTextWidth=function(_a){if(this.textwidth!=_a){this.textwidth=_a;var _b=this.handle;if(_b){if(_a){nexacro.__setElementHandleTextWidth(_b,_a);}}}};_pIconTextElement.setElementText=function(_a){if(this.text!==_a||this._use_decoration==true){this.text=_a;this._use_decoration=false;var _b=this.handle;if(_b){nexacro.__setElementHandleText(_b,_a,this._use_newline,this.wordWrap||this._wordwrap_info);}}};_pIconTextElement.setElementDecorateText=function(_a){if(this.text!=_a||this._use_decoration==false){this.text=_a;this._use_decoration=true;var _b=this.handle;if(_b){nexacro.__setElementHandleDecorateText(_b,_a);}}};_pIconTextElement.setElementIcon=function(_a){if(this.icon!=_a){if(_a&&_a.value=="none"){_a=undefined;}this.icon=_a;var _b=this.handle;if(_b){if(this._fiticonsize){nexacro.__setElementHandleIconObject(_b,_a,(Math.min(this.height,this.width)||16));}else{nexacro.__setElementHandleIconObject(_b,_a);}}}};_pIconTextElement.setElementIconPos=function(_a){if(this.iconPos!=_a){this.iconPos=_a;var _b=this.handle;if(_b){if(this.rtl){_a=((_a=="left")?"right":(_a=="right"?"left":_a));}nexacro.__setElementHandleIconPos(_b,_a);}}};_pIconTextElement.setElementWordWrap=function(_a){if(this.wordWrap!=_a){var _b=this.wordWrap||this._wordwrap_info;this.wordWrap=_a;var _c=this.handle;if(_c){nexacro.__setElementHandleWordwrapObject(_c,_a);if(this.text&&this._use_decoration==false&&_b!=_a){nexacro.__setElementHandleText(_c,this.text,this._use_newline,this.wordWrap||this._wordwrap_info);}}}};_pIconTextElement.setElementCSSMapInfo=function(_a){if(this._wordwrap_info!=_a){var _b=this.wordWrap||this._wordwrap_info;this._wordwrap_info=_a;var _c=this.handle;if(_c){if(!this.wordWrap&&this.text&&this._use_decoration==false&&_b!=_a){nexacro.__setElementHandleText(_c,this.text,this._use_newline,this.wordWrap||this._wordwrap_info);}}}};nexacro.ImageElement=function(_a,_b){this._p_parent=_a;this.parent_elem=_a;this.id=_b;this._p_name=this.parent_elem.name+":"+(_b||"image");};var _pImageElement=nexacro._createPrototype(nexacro.Element,nexacro.ImageElement);nexacro.ImageElement.prototype=_pImageElement;_pImageElement._type_name="ImageElement";_pImageElement.typeselector="nexaimagebox";_pImageElement.image=null;_pImageElement.create=function(_a){var _b=this.parent_elem.getContainerElement(this.position_step);if(_b&&_b.handle&&!this.handle){this.owner_elem=_b;var _c=_a.handle||_b._getRootWindowHandle();var _d=this._isParentRtl();var _e=this.left;if(_d){this.rtl=_d;_e=this._getRTLPositionLeft(_e,this.width);}var _f=nexacro.__createImageElementHandle(this,_c,_e,this.top,this.width,this.height,"","",false,true);if(!this.visible){nexacro.__setElementHandleVisible(_f,false);}if(this.image){nexacro.__setElementHandleImageUrlObject(_f,this.image);}this.handle=_f;nexacro.__appendElementHandle(_b.dest_handle,_f);}};_pImageElement.setElementImage=function(_a,_b,_c,_d,_e){if((this.image!=_a)||(this.width!=_b||this.height!=_c||this.stretch!=_d)){this.image=_a;var _f=this.handle;if(_f&&_a){if(_e&&_e.parent instanceof nexacro.ImageViewer){var _g;var _h=_e._p_image.toString();_h=nexacro._getURIValue(_h);if(_h.indexOf("theme://")>=0){_g=nexacro._getServiceObject("theme::");}else{_g=nexacro._getServiceObject(_h);}if(_g){nexacro.__setElementHandleImageUrlObject(_f,_a,_e.width,_e.height,_d,true,_g.cachelevel);}else{nexacro.__setElementHandleImageUrlObject(_f,_a,_e.width,_e.height,_d,true);}}else{nexacro.__setElementHandleImageUrlObject(_f,_a,_b,_c,_d,false);}}else{nexacro.__setElementHandleImageUrlObject(_f,null);}}};_pImageElement.getImageCount=function(){var _a=this.handle;if(_a){return nexacro.__getImageElementHandleImageCount(_a);}};_pImageElement.setImageIndex=function(_a){var _b=this.handle;if(_b){nexacro.__setImageElementHandleImageIndex(_b,_a);}};nexacro.InputElement=function(_a,_b){this._p_parent=_a;this.parent_elem=_a;this.id=_b;this._p_name=this.parent_elem.name+":"+(_b||"input");this._composer=new nexacro._CompositionState();this._imelocale=new nexacro._ImeLocale();};var _pInputElement=nexacro._createPrototype(nexacro.Element,nexacro.InputElement);nexacro.InputElement.prototype=_pInputElement;_pInputElement._type_name="InputElement";_pInputElement.typeselector="nexainput";_pInputElement.textAlign=null;_pInputElement.padding=null;_pInputElement.caretcolor=null;_pInputElement.selectcolor=null;_pInputElement.selectbackground=null;_pInputElement.compositecolor=null;_pInputElement.enable=true;_pInputElement.useime="global";_pInputElement.imemode="auto";_pInputElement.readonly=false;_pInputElement.maxlength=0;_pInputElement.autoskip=false;_pInputElement.autoselect=false;_pInputElement.value=null;_pInputElement.defaultvalue="";_pInputElement.displaynulltext="";_pInputElement.displayinvalidtext=undefined;_pInputElement.tabindentsize=4;_pInputElement.usesoftkeyboard=true;_pInputElement.inputtype="text";_pInputElement.imeaction="none";_pInputElement.usemultiline=false;_pInputElement._is_focused=false;_pInputElement._is_sys_focused=false;_pInputElement._is_input_element=true;_pInputElement._is_invalid_value=false;_pInputElement._is_insert_mode=false;_pInputElement._zerolength_value=undefined;_pInputElement._input_text="";_pInputElement._checkmax_editing_only=true;_pInputElement._last_selection_range=null;_pInputElement._skip_check_imelocale=false;_pInputElement.create=function(_a){var _b=this.parent_elem.getContainerElement(this.position_step);if(_b&&_b.handle&&!this.handle){this.owner_elem=_b;var _c=_a.handle||_b._getRootWindowHandle();var _d=this._isParentRtl();var _e=this.left;if(_d){this.rtl=_d;_e=this._getRTLPositionLeft(_e,this.width);}var _f=this.handle=nexacro.__createInputElementHandle(this,_c,_e,this.top,this.width,this.height,this._getElementClassName(),this.name,true,false);if(this.rtl!==undefined){nexacro.__setElementHandleRtlDirection(_f,this.rtl);}if(!this.visible){nexacro.__setElementHandleVisible(_f,false);}if(!this.enable){nexacro.__setElementHandleEnable(_f,false);}if(this.readonly){nexacro.__setElementHandleReadOnly(_f,true);}if(this.padding){nexacro.__setElementHandlePaddingObject(_f,this.padding);}if(this.textAlign){this._setElementHandleTextAlign(_f,this.textAlign,this.rtl);}if(this.caretcolor){nexacro.__setInputElementHandleCaretColor(_f,this.caretcolor);}if(this.selectcolor){nexacro.__setInputElementHandleSelectColor(_f,this.selectcolor);}if(this.selectbackground){nexacro.__setInputElementHandleSelectBackgroundColor(_f,this.selectbackground);}if(this.compositecolor){nexacro.__setInputElementHandleCompositeColor(_f,this.compositecolor);}if(this.textDecoration){nexacro.__setElementHandleTextDecorationObject(_f,this.textDecoration);}if(this.inputtype=="password"){nexacro.__setInputElementHandleUsePassword(_f,true);nexacro.__setInputElementHandleSetIme(_f,"none","none");}else{nexacro.__setInputElementHandleUsePassword(_f,false);nexacro.__setInputElementHandleSetIme(_f,this.useime,this.imemode);}if(this.inputtype){nexacro.__setInputElementHandleInputType(_f,this.inputtype);}if(this.imeaction){nexacro.__setInputElementHandleImeAction(_f,this.imeaction);}if(this.maxlength){nexacro.__setInputElementHandleMaxLength(_f,0);}if(this.value||this.value===""){if(this._is_invalid_value&&!nexacro._isNull(this.displayinvalidtext)){nexacro.__setElementHandleValue(_f,this.displayinvalidtext);nexacro.__setInputElementHandleInputType(_f,"text");}else{nexacro.__setElementHandleValue(_f,this.value);}}else if(this.displaynulltext){nexacro.__setElementHandleValue(_f,this.displaynulltext,true);}else if(this.defaultvalue){this.setElementValue(this.value);}nexacro.__appendElementHandle(_b.handle,_f);this._bindSysEvent();}};_pInputElement.destroy=function(){this._unbindSysEvent();return nexacro.Element.prototype.destroy.call(this);};_pInputElement.setElementTextAlign=function(_a){this.textAlign=_a;var _b=this.handle;if(_b){this._setElementHandleTextAlign(_b,_a,this.rtl);}};_pInputElement.setElementPadding=function(_a){this.padding=_a;var _b=this.handle;if(_b){nexacro.__setElementHandlePaddingObject(_b,_a);}};_pInputElement.setElementCaretColor=function(_a){this.caretcolor=_a;var _b=this.handle;if(_b){nexacro.__setInputElementHandleCaretColor(_b,_a);}};_pInputElement.setElementSelectColor=function(_a){this.selectcolor=_a;var _b=this.handle;if(_b){nexacro.__setInputElementHandleSelectColor(_b,_a);}};_pInputElement.setElementSelectBackgroundColor=function(_a){this.selectbackground=_a;var _b=this.handle;if(_b){nexacro.__setInputElementHandleSelectBackgroundColor(_b,_a);}};_pInputElement.setElementCompositeColor=function(_a){this.compositecolor=_a;var _b=this.handle;if(_b){nexacro.__setInputElementHandleCompositeColor(_b,_a);}};_pInputElement.setElementTabindentSize=function(_a){this.tabindentsize=_a;var _b=this.handle;if(_b){nexacro.__setElementHandleTabIndentSize(_b,_a);}};_pInputElement.setElementEnable=function(_a){if(this.enable!=_a){this.enable=_a;var _b=this.handle;if(_b){nexacro.__setElementHandleEnable(_b,_a);}}};_pInputElement.setElementReadonly=function(_a){if(this.readonly!=_a){this.readonly=_a;var _b=this.handle;if(_b){nexacro.__setElementHandleReadOnly(_b,_a);}}};_pInputElement.setElementAutoSkip=function(_a){if(this.autoskip!=_a){this.autoskip=_a;}};_pInputElement.setElementAutoSelect=function(_a){if(this.autoselect!=_a){this.autoselect=_a;}};_pInputElement.setElementMaxLength=function(_a){if(this.maxlength!=_a){this.maxlength=_a;var _b=this.handle;if(_b){nexacro.__setInputElementHandleMaxLength(_b,0);var _c=this.getElementText();if(this._is_focused||!this._checkmax_editing_only){if(this.maxlength>0&&_c.length>this.maxlength){_c=_c.substring(0,this.maxlength);this._updateInputValue(_c);}}}}};_pInputElement.setElementUseSoftKeyboard=function(_a){if(this.usesoftkeyboard!=_a){this.usesoftkeyboard=_a;var _b=this.handle;if(_b){nexacro.__setInputElementHandleUseSoftKeyboard(_b,_a);}}};_pInputElement.setElementUseIme=function(_a){if(this.useime!=_a){this.useime=_a;var _b=this.handle;if(_b){nexacro.__setInputElementHandleUseIme(_b,_a);}}};_pInputElement.setElementImeMode=function(_a){if(this.imemode!=_a){this.imemode=_a;var _b=this.handle;if(_b){nexacro.__setInputElementHandleImeMode(_b,_a);}}};_pInputElement.setElementDisplayNullText=function(_a,_b){if(this.displaynulltext!=_a){this.displaynulltext=_a;var _c=this.handle;var _d=this.parent_elem.getContainerElement(this.position_step);if(_c&&_d&&_d.handle){if(nexacro._isNull(this.value)&&!this._is_focused){if(_b!=""&&_b!=undefined){nexacro.__setElementHandleValue(_c,_b,true);this._input_text=_b;}else{nexacro.__setElementHandleValue(_c,this.displaynulltext,true);this._input_text=this.displaynulltext;}}}}};_pInputElement.setElementDisplayInvalidText=function(_a){if(this.displayinvalidtext==_a){return;}this.displayinvalidtext=_a;var _b=this.handle;if(_b){if(this._is_invalid_value){this._updateInputValue(this.displayinvalidtext);}}};_pInputElement.setElementDefaultValue=function(_a){if(_a!=this.defaultvalue){this.defaultvalue=_a;}};_pInputElement.setElementValue=function(_a,_b){var _c=(nexacro._isNull(_a)?this.defaultvalue:(_a+""));if(!nexacro._isNull(_b)){this._is_invalid_value=(_b===true)?true:false;}if(!_b&&(this.value==_a)&&(this._getInputValue()==_c)){return;}this.value=_a;this._input_text=_c;var _d=this.handle;var _e=this.parent_elem.linkedcontrol;if(_d){if(_b){if(!nexacro._isNull(this.displayinvalidtext)&&!this._is_focused){this._updateInputValue(this.displayinvalidtext);}else{this._updateInputValue(_c);}}else{if(this.value||this.value===""){if(!_e._is_killfocusing&&(this._is_focused||!this._checkmax_editing_only)){if(this.maxlength>0&&_c.length>this.maxlength){_c=_c.substring(0,this.maxlength);}}if(this._is_focused&&this.value===""){this._updateInputValue(_c,false,_c.length);}else{this._setElementLastSelectionRange([_c.length,_c.length]);this._updateInputValue(_c);}}else if(!this._is_focused&&this.displaynulltext!=""){nexacro.__setElementHandleValue(_d,this.displaynulltext,true);this._input_text=this.displaynulltext;}else{this._updateInputValue(_c);}}}};_pInputElement.replaceElementText=function(_a,_b,_c,_d){var _e=this._getInputValue();if(_b<0){return;}if(_c<0){_c=_e.length;}if(_b>_c){_c=_b;}_a=(_a?_a:"");var _f=_b+_a.length;var _g=_e.substring(0,_b)+_a+_e.substring(_c);if(_d){this._updateInputValue(_g,!this._processing_oninput,_b,_f);}else{this._updateInputValue(_g,!this._processing_oninput,_f);}};_pInputElement.updateElementText=function(_a,_b,_c){_a=(_a?_a:"");if(this.autoselect&&(_c!=null||_c!=undefined)){this._updateInputValue(_a,!this._processing_oninput,_b,_c);}else{this._updateInputValue(_a,!this._processing_oninput,_b);}};_pInputElement._updateElementValue=function(_a){if(this.value==_a){return;}if(!_a){_a=this._zerolength_value;}this.value=_a;};_pInputElement._updateInputValue=function(_a,_b,_c,_d){var _e=this.handle;var _f=false;if(_e){if(this._input_text==_a){nexacro.__setElementHandleValue(_e,"");_f=true;}this._input_text=_a;nexacro.__setElementHandleValue(_e,_a);if(_c!=null&&_c>-1){if(_d==-1){_d=_a.length;}if((_d!=0)&&(_d==null||_d<_c)){_d=_c;}if(this.autoselect&&(_d==0&&_c==this._input_text.length)){nexacro.__setInputElementHandleSetSelect(_e,0,-1,this.autoselect);this._setElementLastSelectionRange([0,_d]);}else{nexacro.__setInputElementHandleSetSelect(_e,_c,_c,false);this._setElementLastSelectionRange([_c,_d]);}}else{if(this._is_focused){if(this.autoselect&&_f&&(_d!=-99)){this.setElementSetSelect(0,(this._input_text?this._input_text.length:0));}else{this.setElementSetSelect(this._input_text?this._input_text.length:0);}}}if(_b){this._on_sys_keyinput_forward();}}};_pInputElement.setElementInputType=function(_a){if(_a=="number"||_a=="tel"){_a="number";}else if(_a=="date"){_a="date";}else if(_a!="password"){_a="text";}if(this.inputtype!=_a){this.inputtype=_a;var _b=this.handle;if(_b){nexacro.__setInputElementHandleInputType(_b,this.inputtype);if(_a=="password"){nexacro.__setInputElementHandleSetIme(_b,"none","none");}else{nexacro.__setInputElementHandleSetIme(_b,this.useime,this.imemode);}nexacro.__setInputElementHandleUsePassword(_b,_a=="password");}}};_pInputElement.setElementImeAction=function(_a){if(this.imeaction!=_a){this.imeaction=_a;var _b=this.handle;if(_b){nexacro.__setInputElementHandleImeAction(_b,_a);}}};_pInputElement._applyMaxlength=function(){if(this._checkmax_editing_only&&this.maxlength>0){var _a=(nexacro._isNull(this.value)?this.defaultvalue:(this.value+""));if(_a.length>this.maxlength){_a=_a.substring(0,this.maxlength);this._updateInputValue(_a);}}};_pInputElement.setElementFocus=function(_a){var _b=this.handle;if(_b){if(!this._is_focused){this._is_focused=true;if(!this.readonly){this._applyMaxlength();}}if(nexacro._isNull(this.value)||this._is_invalid_value){var _c=this._getInputValue();if(_c!=this.defaultvalue){nexacro.__setElementHandleValue(_b,this.defaultvalue);}}var _d=this.parent_elem.linkedcontrol;if(_a!="lbutton"){var _e=(_a=="tap"||_a=="touch")?true:false;if(!this._is_sys_focused||_d._use_softkeyboard>1){nexacro.__setElementHandleFocus(_b,_d._use_softkeyboard,_e);}}this._setElementLastSelectionRange();nexacro.__setLastFocusedElement(this);}};_pInputElement.setElementBlur=function(){var _a=this.handle;if(_a){if(this._is_focused){if(this._checkmax_editing_only&&this.maxlength>0){var _b=(nexacro._isNull(this.value)?this.defaultvalue:(this.value+""));var _c=this._getInputValue();if(_b!=_c){this._updateInputValue(_b);}}var _d=this.getElementSelectionRange();if(_d){nexacro.__setInputElementHandleSetSelect(_a,_d[0],_d[1],false);}else{nexacro.__setInputElementHandleSetSelect(_a,0,0,false);}this._is_focused=false;if(this._is_sys_focused){nexacro.__setInputElementHandleBlur(_a);}}if(this.value==null&&this.displaynulltext!=""){nexacro.__setElementHandleValue(_a,this.displaynulltext,true);}else{if(this._is_invalid_value&&!nexacro._isNull(this.displayinvalidtext)){nexacro.__setElementHandleValue(_a,this.displayinvalidtext);}}}};_pInputElement.setElementSetSelect=function(_a,_b){if(this.isComposing()){return;}var _c=this.handle;if(_c){if(!this._is_focused){this._setElementLastSelectionRange([_a,_b]);return;}nexacro.__setInputElementHandleSetSelect(_c,_a,_b,false);}};_pInputElement._setElementLastSelectionRange=function(_a){if(_a){this._last_selection_range=_a;}else{this._last_selection_range=null;}};_pInputElement.getElementCaretPos=function(){var _a=this.handle;if(_a){var _b=null;if(!this._is_focused){if(this._last_selection_range){_b=this._last_selection_range;}}else{_b=nexacro.__getInputElementHandleCaretPos(_a);}if(_b){return {begin:_b[0],end:_b[1]};}}return -1;};_pInputElement.getElementSelectionRange=function(){var _a=this.handle;if(_a){if(!this._is_focused&&this._last_selection_range){return this._last_selection_range;}if(this._is_focused){return nexacro.__getInputElementHandleSelectionRange(_a);}}return [0,0];};_pInputElement.getElementText=function(){var _a=this.handle;if(_a){return this._getInputValue();}return this._input_text;};_pInputElement._getInputValue=function(){var _a=this.handle;if(_a){if(this._is_focused||(!this.displaynulltext&&!this._is_invalid_value)){return nexacro.__getElementHandleValue(_a);}else{return this._input_text;}}return "";};_pInputElement.getElementValue=function(){return this.value;};_pInputElement.getCompositionStatus=function(){return (this._composer?this._composer.status:nexacro._CompositionState.NONE);};_pInputElement.isComposing=function(){return (this._composer?this._composer.isComposing():false);};_pInputElement.isCompositEnd=function(){return (this._composer?(this._composer.status==nexacro._CompositionState.END):false);};_pInputElement.setCompositionComplete_process=function(_a,_b){var _c=this.getElementCaretPos();var _d=this._getInputValue();var _e=this._composer.isComposing();if(_e){this._composer.setStatus(nexacro._CompositionState.END,_c.end);this._updateInputValue(_d,!this._processing_oninput);}return true;};_pInputElement.setCompositionComplete=function(_a,_b){var _c=this.handle;if(_c){this.setCompositionComplete_process.call(this,_a,_b);var _d=this.getElementCaretPos();this._composer.setStatus(nexacro._CompositionState.NONE,_d.end);}};_pInputElement.setCompositionCancel_process=function(_a,_b){var _c=this._getInputValue();var _d=this._composer.isComposing();if(_d){var _e=this._composer.getOffset();this._composer.setStatus(nexacro._CompositionState.END,_e.begin);this._updateInputValue(_c.substring(0,_e.begin),!this._processing_oninput);}return true;};_pInputElement.setCompositionCancel=function(_a,_b){var _c=this.handle;if(_c){this.setCompositionCancel_process.call(this,_a,_b);var _d=this.getElementCaretPos();this._composer.setStatus(nexacro._CompositionState.NONE,_d.end);}};_pInputElement.clearComposition=function(){var _a=this.handle;if(_a){var _b=this._composer.isComposing();if(_b){this.setCompositionCancel();}else{nexacro.__clearInputElementHandleCompositeChar(_a);}}};_pInputElement.setInputProcess=function(_a){this._processing_oninput=_a;};_pInputElement.getInputProcess=function(){return this._processing_oninput;};_pInputElement._checkMaxLength=function(_a,_b,_c){var _d=this.maxlength;if(_d<=0&&_b<=0){return;}var _e=_a.length;var _f=this._composer.isComposing();if(_d<_e){var _g;if(_f&&!_c){_g=this._composer.isHasCandiateWindow(_a.charAt(_b -1));}if(_c||!_f||!_g){return {"ismax":true,"pos":(_b-(_e-_d))};}else{var _h=this._composer.getOffset();if(_d==(_e-(_h.end-_h.begin))){return {"ismax":true,"pos":(_b-(_e-_d))};}}}else{return {"ismax":(!_f&&_d==_e),"pos":_b};}return;};_pInputElement._go_next_focus=function(){var _a=this.handle;var _b=this.parent_elem.linkedcontrol;if(_a&&_b){var _c=_b._getForm();var _d=_c._searchNextTabFocus(_c._last_focused,undefined,undefined,0);_b=_d[0];if(_d&&_b){if(_b._hasContainer()&&_b._last_focused){var _e=_c._getWindow();_e._removeFromCurrentFocusPath(_b._last_focused);}if(_b._has_inputElement){_b._processing_autoskip=true;}_b._setFocus(true,0,true);var _f=(_b instanceof nexacro.Edit||_b instanceof nexacro.MaskEdit||_b instanceof nexacro.TextArea);if(_f&&!_b._p_autoselect){_b._setDefaultCaret();}}}};_pInputElement._bindSysEvent=function(){var _a=this.handle;nexacro._observeInputEvent(_a,"keydown","onkeydown",this._on_sys_keydown_forward);nexacro._observeInputEvent(_a,"keyup","onkeyup",this._on_sys_keyup_forward);nexacro._observeInputEvent(_a,"keypress","onkeypress",this._on_sys_keypress_forward);nexacro._observeInputEvent(_a,"input","oninput",this._on_sys_keyinput_forward);nexacro._observeInputEvent(_a,"compositionstart","oncompositionstart",this._on_sys_compositionstart);nexacro._observeInputEvent(_a,"compositionupdate","oncompositionupdate",this._on_sys_compositionupdate);nexacro._observeInputEvent(_a,"compositionend","oncompositionend",this._on_sys_compositionend);nexacro._observeInputEvent(_a,"cut","oncut",this._on_sys_cut);nexacro._observeInputEvent(_a,"paste","onpaste",this._on_sys_paste);nexacro._observeInputEvent(_a,"contextmenu","oncontextmenu",this._on_sys_contextmenu);nexacro._observeInputEvent(_a,"select","onselect",this._on_sys_select);nexacro._observeInputEvent(_a,"lbuttondown","onlbuttondown",this._on_sys_lbuttondown_forward);nexacro._observeInputEvent(_a,"lbuttonup","onlbuttonup",this._on_sys_lbuttonup_forward);nexacro._observeInputEvent(_a,"rbuttondown","onrbuttondown",this._on_sys_rbuttondown_forward);nexacro._observeInputEvent(_a,"rbuttonup","onrbuttonup",this._on_sys_rbuttonup_forward);nexacro._observeInputEvent(_a,"mousemove","onmousemove",this._on_sys_mousemove_forward);if(nexacro._SupportTouchEvent){nexacro._observeInputEvent(_a,"touchstart","ontouchstart",this._on_sys_lbuttondown_forward);nexacro._observeInputEvent(_a,"touchend","ontouchend",this._on_sys_lbuttonup_forward);nexacro._observeInputEvent(_a,"touchmove","ontouchmove",this._on_sys_mousemove_forward);}nexacro._observeInputEvent(_a,"focus","onfocus",this._on_sys_focus);nexacro._observeInputEvent(_a,"blur","onblur",this._on_sys_blur);};_pInputElement._unbindSysEvent=function(){var _a=this.handle;if(_a){nexacro._stopInputObserving(_a,"keydown","onkeydown",this._on_sys_keydown_forward);nexacro._stopInputObserving(_a,"keyup","onkeyup",this._on_sys_keyup_forward);nexacro._stopInputObserving(_a,"keypress","onkeypress",this._on_sys_keypress_forward);nexacro._stopInputObserving(_a,"input","oninput",this._on_sys_keyinput_forward);nexacro._stopInputObserving(_a,"compositionstart","oncompositionstart",this._on_sys_compositionstart);nexacro._stopInputObserving(_a,"compositionupdate","oncompositionupdate",this._on_sys_compositionupdate);nexacro._stopInputObserving(_a,"compositionend","oncompositionend",this._on_sys_compositionend);nexacro._stopInputObserving(_a,"cut","oncut",this._on_sys_cut);nexacro._stopInputObserving(_a,"paste","onpaste",this._on_sys_paste);nexacro._stopInputObserving(_a,"contextmenu","oncontextmenu",this._on_sys_contextmenu);nexacro._stopInputObserving(_a,"select","onselect",this._on_sys_select);nexacro._stopInputObserving(_a,"lbuttondown","onlbuttondown",this._on_sys_lbuttondown_forward);nexacro._stopInputObserving(_a,"lbuttonup","onlbuttonup",this._on_sys_lbuttonup_forward);nexacro._stopInputObserving(_a,"rbuttondown","onrbuttondown",this._on_sys_rbuttondown_forward);nexacro._stopInputObserving(_a,"rbuttonup","onrbuttonup",this._on_sys_rbuttonup_forward);nexacro._stopInputObserving(_a,"mousemove","onmousemove",this._on_sys_mousemove_forward);if(nexacro._SupportTouchEvent){nexacro._stopInputObserving(_a,"touchstart","ontouchstart",this._on_sys_lbuttondown_forward);nexacro._stopInputObserving(_a,"touchend","ontouchend",this._on_sys_lbuttonup_forward);nexacro._stopInputObserving(_a,"touchmove","ontouchmove",this._on_sys_mousemove_forward);}nexacro._stopInputObserving(_a,"focus","onfocus",this._on_sys_focus);nexacro._stopInputObserving(_a,"blur","onblur",this._on_sys_blur);}};_pInputElement._on_sys_keydown_forward=function(_a,_b,_c,_d,_e){var _f,_g=(this.parent_elem?this.parent_elem.linkedcontrol:null);if(_g){var _h=_g._getWindow();nexacro._syshandler_onkeydown_forward(_h,this,_a,_b,_c,_d,_e);if(this._event_stop){if(nexacro._OS=="OSX"){this._event_stop=false;}var _i=this._imelocale.getLocale();if(_i!="ja"||!_c||_a!=86||!this.isComposing()){this.clearComposition();}return false;}}_f=this._on_sys_keydown(_a,_b,_c,_d,_e);if(_f===false||this._event_stop||!this._is_focused){this._event_stop=false;return false;}return true;};_pInputElement.on_sys_keydown_before_process=function(_a){var _b=this.parent_elem.linkedcontrol;var _c=_b._getWindow();var _d;if(_b){_d=_c._getCaptureComp(false,true,_b);}if(_d&&_d!=_b){this.stopSysEvent();return false;}var _e=this.getElementCaretPos();this._composer.setDelayStatus(undefined);if(_a!=nexacro.KeyCode_ImeInput){if(!this._composer.isComposing()){this._composer.setStatus(nexacro._CompositionState.NONE,_e.begin);}}return true;};_pInputElement.on_sys_keydown_specialkey_process=function(_a){if(_a==nexacro.Event.KEY_INSERT){var _b=(this.parent_elem?this.parent_elem.linkedcontrol:null);if(_b&&_b instanceof nexacro.MaskEdit){this._is_insert_mode=false;this._event_stop=true;return false;}this._is_insert_mode=!this._is_insert_mode;}return true;};_pInputElement.on_sys_keydown_process=function(_a){return true;};_pInputElement._on_sys_keydown=function(_a){var _b=this.handle;if(_b){if(!this.readonly){if(!this.on_sys_keydown_before_process.call(this,_a)){return;}if(!this.on_sys_keydown_specialkey_process.call(this,_a)){return;}this.on_sys_keydown_process.call(this,_a);}}};_pInputElement._on_sys_keyup_forward=function(_a,_b,_c,_d,_e){this._on_sys_keyup(_a,_b,_c,_d,_e);var _f=(this.parent_elem?this.parent_elem.linkedcontrol:null);if(_f){var _g=_f._getWindow();nexacro._syshandler_onkeyup_forward(_g,this,_a,_b,_c,_d,_e);if(this._event_stop){this._event_stop=false;return false;}}return true;};_pInputElement.on_sys_keyup_before_process=function(_a,_b,_c){return true;};_pInputElement.on_sys_keyup_specialkey_process=function(_a,_b,_c){var _d=this.getElementCaretPos();var _e=this._composer.isComposing();if(_e){if(_a==nexacro.Event.KEY_RETURN||_a==nexacro.Event.KEY_ESC||(_c&&_a==77)||(_c&&_a==90)){this._composer.setStatus(nexacro._CompositionState.END,_d.end);var _f=this._getInputValue();this._updateInputValue(_f,true);}}return true;};_pInputElement.on_sys_keyup_process=function(_a,_b,_c){return true;};_pInputElement._on_sys_keyup=function(_a,_b,_c){var _d=this.handle;if(_d){if(!this.readonly){if(this.on_sys_keyup_before_process.call(this,_a,_b,_c)){return;}if(this.on_sys_keyup_specialkey_process.call(this,_a,_b,_c)){return;}this.on_sys_keyup_process.call(this,_a,_b,_c);}}};_pInputElement._on_sys_keypress_forward=function(_a,_b,_c,_d,_e,_f){var _g=this._on_sys_keypress(_a,_b,_c,_d,_e,_f);if(_g===false||this._event_stop){this._event_stop=false;return false;}var _h=(this.parent_elem?this.parent_elem.linkedcontrol:null);if(_h){var _i=_h._getWindow();if(_i&&(_i._keydown_element==null||_i._keydown_element.handle==null)){return false;}_g=nexacro._syshandler_onkeypress_forward(_i,this,_a,_b,_c,_d,_e,_f);if(this._event_stop){this._event_stop=false;return false;}}return _g;};_pInputElement.on_sys_keypress_before_process=function(_a,_b,_c,_d,_e,_f){if(nexacro._OS=="iOS"){return false;}var _g=this;var _h=_g.parent_elem.linkedcontrol;var _i=_h._getWindow();var _j;if(_h){_j=_i._getCaptureComp(false,true,_h);}if(_j&&_j!=_h){this.stopSysEvent();return false;}return true;};_pInputElement.on_sys_keypress_specialkey_process=function(_a,_b,_c,_d,_e,_f){return true;};_pInputElement.on_sys_keypress_process=function(_a,_b,_c,_d,_e,_f){var _g=this;{var _h=this._getInputValue();var _i=this.getElementSelectionRange();var _j=_g.parent_elem.linkedcontrol;var _k=_j._getWindow();if(_k&&_k._keydown_element){if(_k._keydown_element.name!==_g.name&&_j._processing_autoskip){_j._processing_autoskip=false;return false;}}if(!_d&&!_c&&_b){var _l=String.fromCharCode(_b);if(_l.length>0){if(_g.autoskip&&_g.maxlength>0&&_h.length>=_g.maxlength&&_i[0]==_i[1]){if(_b!=nexacro.Event.KEY_RETURN){_g._go_next_focus();}}}}if(this.maxlength>0){_h=this._getInputValue();if(_h.length>=this.maxlength&&_i[0]==_i[1]){this._event_stop=false;return false;}}}return true;};_pInputElement._on_sys_keypress=function(_a,_b,_c,_d,_e,_f){var _g=this.handle;if(_g){if(nexacro._OS=="iOS"){this._updateImeLocale();return false;}if(!this.on_sys_keypress_before_process.call(this,_a,_c,_d)){return;}if(!this.on_sys_keypress_specialkey_process.call(this,_a,_c,_d)){return;}return this.on_sys_keypress_process.call(this,_a,_b,_c,_d);}};_pInputElement._on_sys_keyinput_forward=function(){var _a=this.handle;if(_a){var _b;if(!this._processing_oninput){var _c=this._getInputValue();var _d=this._composer._prev_status;var _e=this._composer.status;var _f=this.parent_elem.linkedcontrol;var _g=_f._getRootWindow();if(_g&&_g._keydown_element){if(_g._keydown_element!==this&&_f._processing_autoskip){var _h=this.value;this._updateInputValue(_h);_f._processing_autoskip=false;return false;}}if(_d==_e){if(!this.value&&this.defaultvalue==_c){this._paste_caret_pos=null;}}this._processing_oninput=true;_b=this._on_sys_keyinput();this._processing_oninput=false;this._paste_caret_pos=null;}return _b;}};_pInputElement.on_complete_composition_value_process=function(){return true;};_pInputElement.on_complete_composition_value=function(){return this.on_complete_composition_value_process.call(this);};_pInputElement.on_apply_imeSet=function(){var _a,_b;var _c=this;var _d=_c._imelocale.getLocale();if(_d&&nexacro._cache_inputelement_set[_d]){for(var _f in nexacro._cache_inputelement_set[_d]){_c[_f]=nexacro._cache_inputelement_set[_d][_f];}for(_a=0,_b=nexacro._inputelement_user_override_func.length;_a<_b;_a++ ){if(!nexacro._cache_inputelement_set[_d][nexacro._inputelement_user_override_func[_a]]){_c[nexacro._inputelement_user_override_func[_a]]=nexacro.InputElement.prototype[nexacro._inputelement_user_override_func[_a]];}}}else{for(_a=0,_b=nexacro._inputelement_user_override_func.length;_a<_b;_a++ ){_c[nexacro._inputelement_user_override_func[_a]]=nexacro.InputElement.prototype[nexacro._inputelement_user_override_func[_a]];}}var _e=_c.parent_elem.linkedcontrol;if(_e.on_apply_imeSet){_e.on_apply_imeSet();}_c.on_apply_ime_environment();};_pInputElement.on_apply_ime_environment_process=function(){return true;};_pInputElement.on_apply_ime_environment=function(){this.on_apply_ime_environment_process.call(this);};_pInputElement.on_apply_force_imeSet=function(){return true;};_pInputElement._updateLocale=function(){var _a=this;var _b=_a.parent_elem.linkedcontrol;if(_b instanceof nexacro.MaskEdit){_a._skip_check_imelocale=true;_a._imelocale.setLocale("");_a.on_apply_imeSet();return;}var _c=_a.getElementCaretPos();var _d=_a._getInputValue();var _e=this._is_insert_mode?_d.substr(_c.end,1):_d.substr(_c.end-1,1);_a._imelocale.updateLocale(_e);if(_a._imelocale.IsChangeLocale()){_a.on_apply_imeSet();}_a.on_apply_force_imeSet.call(_a);};_pInputElement._updateImeLocale=function(){var _a=this._composer.status;if(this._skip_check_imelocale){return true;}var _b=this._getInputValue();var _c=this._composer._prev_status;{if(!this.isComposing()){}else{if(_c==nexacro._CompositionState.START&&_a==nexacro._CompositionState.COMPOSING){if(_b){this._updateLocale();}}}}return true;};_pInputElement.on_sys_keyinput_before_process=function(){var _a=this.parent_elem.linkedcontrol;var _b=_a._getWindow();var _c;if(_a){_c=_b._getCaptureComp(false,true,_a);}if(_c&&_c!=_a){this.stopSysEvent();return false;}return true;};_pInputElement.on_sys_keyinput_process=function(){var _a=this._composer.status;var _b,_c;var _d=this._getInputValue();var _e=this.getElementCaretPos();var _f=this._paste_caret_pos;var _g=this._composer.getOffset();if(_a==nexacro._CompositionState.NONE){_b=_f?_f.begin:_g.begin;_c=_f?_f.end:_e.end;if(_b>_c){_b=_c;}}else{_b=_g.begin;_c=_g.end;}var _h="";var _i=this.parent_elem.linkedcontrol;if(_i._on_beforekeyinput){_i._on_beforekeyinput(this,_d,_a,_b,_c);_h=this._getInputValue();_e=this.getElementCaretPos();}var _j=false;if(this.maxlength>0){var _k=this._paste_caret_pos?this._paste_caret_pos.end-(_d.length-_h.length):_e.end;_d=_h;var _l=this._checkMaxLength(_d,_k);if(_l){_j=_l.ismax;var _m=_l.pos;if(_j){if(_k!=_m){_d=_d.substring(0,_m)+_d.substring(_k);this.setCompositionCancel();if(!this._is_simple_input){this._updateInputValue(_d);}this.setElementSetSelect(_m,_m);_d=this._getInputValue();_e=this.getElementCaretPos();}this.setCompositionComplete();}}}else{_d=_h;}if(this._composer.isComposing()){this._composer.setStatus(nexacro._CompositionState.COMPOSING,_e.end);}var _n=this.value;this._updateElementValue(_d);var _o=this._composer._prev_status;var _p=this._composer.status;if(_o==_p&&this.value==_n){if(_i._on_input_autoskip){_i._on_input_autoskip();}}this._composer._prev_status=_p;if(_i._on_keyinput){_i._on_keyinput(this);}if(this._event_stop){this._event_stop=false;return false;}if(_j&&this.autoskip){if(this.value&&_d.length>this.value.length){_j=false;}if(_j){this._go_next_focus();}}return true;};_pInputElement._on_sys_keyinput=function(){var _a=this.handle;if(_a){if(!this._updateImeLocale()){return;}if(!this.on_sys_keyinput_before_process.call(this)){return;}return this.on_sys_keyinput_process.call(this);}};_pInputElement.on_sys_select_before_process=function(){return true;};_pInputElement.on_sys_select_process=function(){var _a=this.handle;if(this._is_focused){var _b=this.getElementSelectionRange();if(_b&&_b[0]!=_b[1]){this._setElementLastSelectionRange(_b);}}return true;};_pInputElement._on_sys_select=function(){var _a=this.handle;if(_a){if(!this.on_sys_select_before_process()){return;}if(!this.on_sys_select_process()){return;}}};_pInputElement._on_sys_cut=function(){};_pInputElement._on_sys_paste=function(){var _a=this.handle;if(_a){var _b=this.getElementCaretPos();var _c=_b.begin;var _d=nexacro.__getClipboard("CF_UNICODETEXT");if(_d){if(nexacro._OS=="Windows"){var _e=(this.parent_elem?this.parent_elem.linkedcontrol:null);if(_e instanceof nexacro.Edit||_e instanceof nexacro.MaskEdit){_d=_d.replace(/\r\n|\r|\n/g,"");}else{_d=_d.replace(/\r\n/g,"\n");_d=_d.replace(/\r/g,"\n");}}_b.end=_c+_d.length;}this._paste_caret_pos=_b;}};_pInputElement._on_sys_contextmenu=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){var _j=(this.parent_elem?this.parent_elem.linkedcontrol:null);if(_j){var _k=_j._getWindow();return nexacro._syshandler_oncontextmenu_forward(_k,this,_a,_b,_c,_d,_e,_f,_g,_h,_i);}};_pInputElement.on_sys_compositionstart_process=function(){var _a=this.getElementCaretPos();this._composer.setStatus(nexacro._CompositionState.START,_a.begin);return false;};_pInputElement._on_sys_compositionstart=function(){if(this.readonly==true){return true;}var _a=this.handle;if(_a){return this.on_sys_compositionstart_process.call(this);}else{return true;}};_pInputElement.on_sys_compositionupdate_process=function(){var _a=this.getElementCaretPos();this._composer.setStatus(nexacro._CompositionState.COMPOSING,_a.end);return;};_pInputElement._on_sys_compositionupdate=function(){if(this.readonly==true){return true;}var _a=this.handle;if(_a){nexacro.InputElement.prototype.on_sys_compositionupdate_process.call(this);this._updateLocale();return this.on_sys_compositionupdate_process.call(this);}else{return true;}};_pInputElement.on_sys_compositionend_process=function(_a){var _b=this.getElementCaretPos();this._composer.setStatus(nexacro._CompositionState.END,_b.end);var _c=this._getInputValue();var _d=this.parent.linkedcontrol;if(_d){_d._on_input_compositionend(_c);}return;};_pInputElement._on_sys_compositionend=function(){var _a=this.handle;if(_a){return this.on_sys_compositionend_process.call(this);}else{return true;}};_pInputElement._on_sys_lbuttondown_forward=function(){return false;};_pInputElement._on_sys_lbuttonup_forward=function(){return false;};_pInputElement._on_sys_rbuttondown_forward=function(){return false;};_pInputElement._on_sys_rbuttonup_forward=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){var _j=(this.parent_elem?this.parent_elem.linkedcontrol:null);if(_j){var _k=_j._getWindow();nexacro._syshandler_onrbuttonup_forward(_k,this,_a,_b,_c,_d,_e,_f,_g,_h,_i);return true;}return false;};_pInputElement._on_sys_mousemove_forward=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){var _j=(this.parent_elem?this.parent_elem.linkedcontrol:null);if(_j){var _k=_j._getWindow();return nexacro._syshandler_onmousemove_forward(_k,this,_a,_b,_c,_d,_e,_f,_g,_h,_i);}};_pInputElement._on_sys_focus=function(){var _a=this.handle;if(_a){var _b;this._is_sys_focused=true;this._event_stop=undefined;if(this.autoselect){nexacro.__setInputElementHandleSetSelect(_a,0,-1,this.autoselect);}else if(this._last_selection_range){_b=this._last_selection_range;nexacro.__setInputElementHandleSetSelect(_a,_b[0],_b[1],false);}if(this.value==null){this._zerolength_value=undefined;}else{this._zerolength_value="";}var _c=this.getElementCaretPos();this._composer.setStatus(nexacro._CompositionState.NONE,_c.begin);}};_pInputElement._on_sys_blur=function(){var _a=this.handle;if(_a){this._is_sys_focused=false;}};_pInputElement._applyElementFocus=nexacro._emptyFn;_pInputElement.setElementAccessibilityStatAutoComplete=nexacro._emptyFn;_pInputElement.setElementAccessibilityStatExpanded=nexacro._emptyFn;_pInputElement.setElementAccessibilityFlagHasPopup=nexacro._emptyFn;_pInputElement.setElementAccessibilityInfoValueMax=nexacro._emptyFn;_pInputElement.setElementAccessibilityInfoValueMin=nexacro._emptyFn;_pInputElement.setElementAccessibilityInfoValueCur=nexacro._emptyFn;_pInputElement._setElementInputRole=nexacro._emptyFn;_pInputElement._wantAccessibilityAdditionalLabel=nexacro._emptyFn;_pInputElement._updateElementAccessibilityLabel=nexacro._emptyFn;_pInputElement.setElementInputMode=nexacro._emptyFn;_pInputElement=null;nexacro.TextAreaElement=function(_a,_b){this._p_parent=_a;this.parent_elem=_a;this.id=_b;this._p_name=this.parent_elem.name+":"+(_b||"input");this._composer=new nexacro._CompositionState();this._imelocale=new nexacro._ImeLocale();};var _pTextAreaElement=new nexacro._createPrototype(nexacro.InputElement,nexacro.TextAreaElement);nexacro.TextAreaElement.prototype=_pTextAreaElement;_pTextAreaElement._type_name="TextAreaElement";_pTextAreaElement.typeselector="nexatextarea";_pTextAreaElement.usemultiline=true;_pTextAreaElement.create=function(_a){var _b=this.parent_elem.getContainerElement(this.position_step);if(_b&&_b.handle&&!this.handle){this.owner_elem=_b;var _c=_a.handle||_b._getRootWindowHandle();var _d=this._isParentRtl();var _e=this.left;if(_d){this.rtl=_d;_e=this._getRTLPositionLeft(_e,this.width);}var _f=this.handle=nexacro.__createInputElementHandle(this,_c,_e,this.top,this.width,this.height,this._getElementClassName(),this.name,true,this.usemultiline);if(this.rtl!==undefined){nexacro.__setElementHandleRtlDirection(_f,this.rtl);}if(!this.visible){nexacro.__setElementHandleVisible(_f,false);}if(!this.enable){nexacro.__setElementHandleEnable(_f,false);}if(this.readonly){nexacro.__setElementHandleReadOnly(_f,true);}if(this.font){nexacro.__setElementHandleFontObject(_f,this.font);}if(this.color){nexacro.__setElementHandleColorObject(_b.handle,this.color);}if(this.cursor){nexacro.__setElementHandleCursorObject(_f,this.cursor);}if(this.caretcolor){nexacro.__setInputElementHandleCaretColor(_f,this.caretcolor);}if(this.selectcolor){nexacro.__setInputElementHandleSelectColor(_f,this.selectcolor);}if(this.selectbackground){nexacro.__setInputElementHandleSelectBackgroundColor(_f,this.selectbackground);}if(this.compositecolor){nexacro.__setInputElementHandleCompositeColor(_f,this.compositecolor);}if(this.padding){nexacro.__setElementHandlePaddingObject(_f,this.padding);}if(this.textAlign){this._setElementHandleTextAlign(_f,this.textAlign,this.rtl);}if(this.textDecoration){nexacro.__setElementHandleTextDecorationObject(_f,this.textDecoration);}if(this.wordWrap){nexacro.__setElementHandleWordwrapObject(_f,this.wordWrap);}if(this.tabindentsize>4){nexacro.__setElementHandleTabIndentSize(_f,this.tabindentsize);}if(this.imemode){nexacro.__setInputElementHandleImeMode(_f,this.imemode);}if(this.maxlength){nexacro.__setInputElementHandleMaxLength(_f,0);}if(this.value){if(this._is_invalid_value&&!nexacro._isNull(this.displayinvalidtext)){nexacro.__setElementHandleValue(_f,this.displayinvalidtext);}else{nexacro.__setElementHandleValue(_f,this.value);}}else if(this.displaynulltext){nexacro.__setElementHandleValue(_f,this.displaynulltext,true);}nexacro.__setElementHandleVerticalAlign(_f,"top");nexacro.__appendElementHandle(_b.dest_handle,_f);this._bindSysEvent();}};_pTextAreaElement.setElementCSSMapInfo=function(_a){if(this._wordwrap_info!=_a){this._wordwrap_info=_a;}};_pTextAreaElement.setElementWordWrap=function(_a){if(this.wordWrap!=_a){var _b=this.wordWrap||this._wordwrap_info;this.wordWrap=_a;var _c=this.handle;if(_c){nexacro.__setElementHandleWordwrapObject(_c,_a);if(this.text&&this._use_decoration==false&&_b!=_a){nexacro.__setElementHandleText(_c,this.text,this._use_newline,this.wordWrap||this._wordwrap_info);}}}};_pTextAreaElement.setElementValue=function(_a){if(_a){_a=_a.replace(/\r\n/g,"\n");}nexacro.InputElement.prototype.setElementValue.call(this,_a);};_pTextAreaElement.updateElementText=function(_a,_b){if(_a){_a=_a.replace(/\r\n/g,"\n");}nexacro.InputElement.prototype.updateElementText.call(this,_a,_b);};_pTextAreaElement._updateElementValue=function(_a){if(_a){_a=_a.replace(/\r\n/g,"\n");}nexacro.InputElement.prototype._updateElementValue.call(this,_a);};_pTextAreaElement._getInputValue=function(){return nexacro.InputElement.prototype._getInputValue.call(this);};_pTextAreaElement.setElementInputType=function(){};_pTextAreaElement.getElementCaretLine=function(){var _a=this.handle;if(_a){return nexacro.__getInputElementHandleCaretLine(_a);}return 0;};_pTextAreaElement.getElementTextLineCount=function(_a){var _b=this.handle;if(_b){var _c=this._getInputValue();if(_a){if(nexacro.__getInputElementHandleLineCount){return nexacro.__getInputElementHandleLineCount(_b);}var _d=nexacro.__getInputElementHandleSelectionRange(_b);nexacro.__setInputElementHandleCaretPos(_b,_c.length);var _e=nexacro.__getInputElementHandleCaretLine(_b);nexacro.__setInputElementHandleSetSelect(_b,_d[0],_d[1],false);return _e;}else{var _f=_c.split("\n");return _f.length;}}return 0;};_pTextAreaElement.isFirstCaretLine=function(){var _a=this.handle;if(_a){var _b=nexacro.__getInputElementHandleCaretLine(_a);if(_b<=1){return true;}}return false;};_pTextAreaElement.isLastCaretLine=function(){var _a=this.handle;if(_a){var _b=nexacro.__getInputElementHandleCaretLine(_a);var _c=this.getElementTextLineCount();if(_c==_b){return true;}}return false;};_pTextAreaElement.setElementScrollPos=function(_a,_b){if(_a<0){_a=0;}if(_b<0){_b=0;}this.setElementHScrollPos(_a);this.setElementVScrollPos(_b);};_pTextAreaElement.getElementHScrollPos=function(){var _a=this.handle;if(_a){if(!this._is_focused&&this.value==null&&this.displaynulltext){return 0;}return nexacro.__getInputElementHandleScrollLeft(_a);}return 0;};_pTextAreaElement.setElementHScrollPos=function(_a){var _b=this.handle;if(_b){if(!this._is_focused&&this.value==null&&this.displaynulltext){return;}if(this._isRtl()){_a=this._getRtlScrollLeft(_a,this.parent_elem.inner_width);}nexacro.__setInputElementHandleScrollLeft(_b,_a);}};_pTextAreaElement.getElementVScrollPos=function(){var _a=this.handle;if(_a){if(!this._is_focused&&this.value==null&&this.displaynulltext){return 0;}return nexacro.__getInputElementHandleScrollTop(_a);}return 0;};_pTextAreaElement.setElementVScrollPos=function(_a){var _b=this.handle;if(_b){if(!this._is_focused&&this.value==null&&this.displaynulltext){return;}nexacro.__setInputElementHandleScrollTop(_b,_a);}};_pTextAreaElement.getElementScrollSize=function(){var _a=this.handle;if(_a){if(!this._is_focused&&this.value==null&&this.displaynulltext){return {width:this.width,height:this.height};}if(nexacro.__getInputElementHandleScrollSize){return nexacro.__getInputElementHandleScrollSize(_a);}else{var _b=nexacro.__getInputElementHandleScrollWidth(_a);var _c=nexacro.__getInputElementHandleScrollHeight(_a);return {width:_b,height:_c};}}return 0;};_pTextAreaElement.getElementContentSize=_pTextAreaElement.getElementScrollSize;_pTextAreaElement._setElementScrollSize=nexacro._emptyFn;_pTextAreaElement.getElementScrollWidth=function(){var _a=this.handle;if(_a){if(!this._is_focused&&this.value==null&&this.displaynulltext){return this.width;}return nexacro.__getInputElementHandleScrollWidth(_a);}return 0;};_pTextAreaElement.getElementScrollHeight=function(){var _a=this.handle;if(_a){if(!this._is_focused&&this.value==null&&this.displaynulltext){return this.height;}return nexacro.__getInputElementHandleScrollHeight(_a);}return 0;};_pTextAreaElement._bindSysEvent=function(){var _a=this.handle;if(_a){nexacro.InputElement.prototype._bindSysEvent.call(this);nexacro._observeInputEvent(_a,"scroll","onscroll",this._on_sys_scroll);}};_pTextAreaElement._unbindSysEvent=function(){var _a=this.handle;if(_a){nexacro.InputElement.prototype._unbindSysEvent.call(this);nexacro._stopInputObserving(_a,"scroll","onscroll",this._on_sys_scroll);}};_pTextAreaElement._on_sys_scroll=function(_a,_b){var _c=this.parent_elem.getContainerElement(this.position_step);if(_c){var _d=_c.parent.scroll_top;var _e=_c.parent.scroll_left;var _f=_e;var _g=_d;var _h=this.parent._scrolltype;var _i=this.parent.linkedcontrol;var _j=false;if(_e!=_b){if(_h!="none"&&_h!="vertical"&&!_i._is_tracking){_f=_b;_j=true;}}if(_d!=_a){if(_h!="none"&&_h!="horizontal"&&!_i._is_tracking){_g=_a;_j=true;}}if(_j){_i._scrollTo(_f,_g,true,true);}}};_pTextAreaElement=null;nexacro.ControlElement=function(_a){this._p_parent=_a;this.parent_elem=_a;};var _pControlElement=nexacro._createPrototype(nexacro.Element,nexacro.ControlElement);nexacro.ControlElement.prototype=_pControlElement;_pControlElement._type_name="ControlElement";_pControlElement.enable=true;_pControlElement.tabindex=-1;_pControlElement.zindex=-1;_pControlElement.color=null;_pControlElement.font=null;_pControlElement.textDecoration=null;_pControlElement.borderRadius=null;_pControlElement.border=null;_pControlElement.background=null;_pControlElement.edgeImage=null;_pControlElement.padding=null;_pControlElement.cursor=null;_pControlElement.opacity=null;_pControlElement.boxShadow=null;_pControlElement.position_step=undefined;_pControlElement.linkedcontrol=null;_pControlElement.inner_width=0;_pControlElement.inner_height=0;_pControlElement.client_left=0;_pControlElement.client_top=0;_pControlElement.client_width=0;_pControlElement.client_height=0;_pControlElement._classname="";_pControlElement._is_popup=false;_pControlElement._is_control=false;_pControlElement.zoom=100;_pControlElement._edge_elem=null;_pControlElement._apply_client_padding=true;_pControlElement._contents_maxheight=0;_pControlElement._contents_maxwidth=0;_pControlElement._has_contents_size=false;_pControlElement._border_info=null;_pControlElement._padding_info=null;_pControlElement._edge_info=null;_pControlElement.accessibilityrole="";_pControlElement.accessibilityenable=true;_pControlElement.accessibilitylabel="";_pControlElement.accessibilitydesclevel="";_pControlElement.accessibilitydescription="";_pControlElement.accessibilityaction="";_pControlElement.accessibility_value=undefined;_pControlElement.accessibility_stat_disabled=undefined;_pControlElement.accessibility_stat_hidden=undefined;_pControlElement.accessibility_stat_checked=undefined;_pControlElement.accessibility_stat_pressed=undefined;_pControlElement.accessibility_stat_selected=undefined;_pControlElement.accessibility_stat_expanded=undefined;_pControlElement.accessibility_stat_autocomplete=undefined;_pControlElement.accessibility_flag_haspopup=undefined;_pControlElement.accessibility_flag_focusable=undefined;_pControlElement.accessibility_flag_readonly=undefined;_pControlElement.accessibility_flag_password=undefined;_pControlElement.accessibility_flag_multiselectable=undefined;_pControlElement.accessibility_flag_defaultbutton=undefined;_pControlElement.accessibility_prop_itemcount=undefined;_pControlElement.accessibility_prop_itemindex=undefined;_pControlElement.accessibility_prop_valuemax=undefined;_pControlElement.accessibility_prop_valuemin=undefined;_pControlElement.create=nexacro._emptyFn;_pControlElement.destroy=nexacro._emptyFn;_pControlElement.clearContents=nexacro._emptyFn;_pControlElement.setElementStepCount=nexacro._emptyFn;_pControlElement.setElementStepIndex=nexacro._emptyFn;_pControlElement._setElementContentsMaxSize=nexacro._emptyFn;_pControlElement.borderLeftNone=false;_pControlElement.borderTopNone=false;_pControlElement.borderRightNone=false;_pControlElement.borderBottomNone=false;_pControlElement._step_container_elements=null;_pControlElement.create=function(_a){var _b;var _c;var _d;var _e;var _f;if(!this._is_popup){_c=(this._is_nc_element)?this.parent_elem:this.parent_elem.getContainerElement(this.position_step);if(_c&&_c.handle&&!this.handle){this.owner_elem=_c;_b=_a.handle||_c._getRootWindowHandle();var _g=this._classname?this._classname:this._getElementClassName();_d=this._isParentRtl();_e=this.left;if(_d){_e=this._getRTLPositionLeft(_e,this.width);}_f=nexacro.__createControlElementHandle(this,_b,_e,this.top,this.width,this.height,_g,this.name,this._is_control);this.handle=this.dest_handle=_f;this._refreshControl(_f);if(this.linkedcontrol&&this.linkedcontrol._real_enable==false){if(!this.status){this.status="disabled";nexacro.__setElementHandleStatus(_f,"disabled");}}if(!this._is_nc_element){nexacro.__setElementHandleStatus(_c.dest_handle,_c.status);}nexacro.__appendElementHandle((this._is_nc_element)?_c.handle:_c.dest_handle,_f);if(!this._is_simple_control){_e=this.client_left;if(_d){_e=this._getRTLContainerPositionLeft(this.client_left,this.client_width);}var _h=nexacro.__createContainerElementHandle(this,_b,_e,this.client_top,this.client_width,this.client_height,"nexasimplecontainer");this.dest_handle=_h;nexacro.__appendElementHandle(_f,_h);}}}else{if(!this.handle){var _i=this.linkedcontrol;_b=_a.handle;_c=_a;_d=this._isParentRtl();_e=this.left;if(_d){_e=this._getRTLPositionLeft(_e,this.width);}_f=nexacro.__createControlElementHandle(this,_b,_e,this.top,this.width,this.height,this._getElementClassName(),this.name,this._is_control);this._refreshControl(_f);this.handle=this.dest_handle=_f;if(_i._findOwnerElementHandle){var _j=_i._findOwnerElementHandle();if(_j.is_append){nexacro.__appendElementHandle(_j.owner_handle,_f);}else{nexacro.__insertElementHandle(_j.owner_handle,_f,_j.ref_handle);}this.owner_elem=_j.owner_handle._linked_element;}else{nexacro.__appendElementHandle(_b,_f);this.owner_elem=_c;}}}};_pControlElement.createCommandStart=function(){return "";};_pControlElement._on_destroy=nexacro._emptyFn;_pControlElement.destroy=function(){var _a=this.handle;if(_a){var _b=null;if(this.owner_elem){_b=this.owner_elem.dest_handle;}_b=(this._is_nc_element)?this.parent_elem.handle:_b;if(!this.owner_elem||_b){nexacro._AccessibilityUtil.unsupportMobileApplicationAccessibility(this);nexacro.__destroyElementHandle(_b,_a);}if(!this._is_simple_control){nexacro.__destroyElementHandle(_a,this.dest_handle);this.dest_handle=null;}this.owner_elem=null;if(this._client_elem){this._client_elem.destroy();this._client_elem=null;}this._on_destroy();}this.handle=null;this._p_parent=null;this.parent_elem=null;this.linkedcontrol=null;};_pControlElement._on_clearContents=nexacro._emptyFn;_pControlElement.clearContents=function(){if(this.handle&&this._client_elem){this._client_elem.clearContents();this._on_clearContents();}};_pControlElement.initElementInfo=function(){var _a=this.linkedcontrol;this.width=0;this.height=0;this.client_width=0;this.client_height=0;this.inner_width=0;this.inner_height=0;this._is_simple_control=_a._is_simple_control;this._is_popup=_a._is_popup_control;this._is_control=_a._is_subcontrol;};_pControlElement.setLinkedControl=function(_a){if(!this.linkedcontrol&&_a){this._p_parent=_a;this.linkedcontrol=_a;this.id=_a.id;this._p_name=_a._unique_id;}};_pControlElement.setElementPositionStep=function(_a){if(this.position_step!=_a||_a==-1){this.position_step=_a;var _b=this.handle;if(_b&&this.parent_elem){var _c=this.owner_elem;var _d=this.parent_elem.getContainerElement(_a);if(_c&&_c.dest_handle&&_d&&_d.dest_handle){nexacro.__unlinkElementHandle(_c.dest_handle,_b);nexacro.__appendElementHandle(_d.dest_handle,_b);this.owner_elem=_d;}}}};_pControlElement.setElementFlexGrow=nexacro._emptyFn;_pControlElement.setElementFlexShrink=nexacro._emptyFn;_pControlElement._setElementLayoutBasis=nexacro._emptyFn;_pControlElement.setElementLayoutOrder=nexacro._emptyFn;_pControlElement.setElementTableCellArea=nexacro._emptyFn;_pControlElement._setElementTransition=nexacro._emptyFn;_pControlElement.appendChildElement=function(_a){if(this.handle){if(_a.parent_elem!=this){_a.parent_elem=this;}if(!_a.handle){_a.create(this._getWindow());}else{_a._appendToContainer(this.getContainerElement(_a.position_step));}}};_pControlElement.insertChildElement=function(_a,_b){if(this.handle){if(_a.parent_elem!=this){_a.parent_elem=this;}if(!_a.handle){_a.create(this._getWindow());}else{_a._insertToContainer(this.getContainerElement(_a.position_step),_b);}}};_pControlElement.removeChildElement=function(_a){if(_a.parent_elem==this){_a._removeFromContainer();}};_pControlElement._getComputedStyle=function(_a,_b){if(this.handle&&_a){if(!_b){this._flushCommand();}var _c=nexacro.__getElementHandleStyleValue(this.handle,_a);return _c;}};_pControlElement._getComputedStyleSubValue=function(_a,_b,_c){if(this.handle&&_a&&_b){if(!_c){this._flushCommand();}return nexacro.__getElementHandleStyleSubValue(this.handle,_a,_b);}};_pControlElement._getComputedStyleBackgroundColor=function(_a,_b){if(this.handle){if(!_a){this._flushCommand();}if(_b){var _c=nexacro.__getElementHandleStyleValue(this.handle,"background");if(_c&&_c.indexOf("linear-gradient")>=0){return _c;}}return nexacro.__getElementHandleStyleSubValue(this.handle,"background","background-color");}};_pControlElement._flushCommand=function(){if(nexacro._Browser=="Runtime"){nexacro._flushCommand(this._getWindow());}};_pControlElement._sendToBackElement=function(_a){if(_a&&_a.owner_elem.dest_handle==this.dest_handle&&_a.handle){nexacro.__setElementHandleSendToBack(_a.handle);}};_pControlElement._bringToFrontElement=function(_a){if(_a&&_a.owner_elem.dest_handle==this.dest_handle&&_a.handle){nexacro.__setElementHandleBringToFront(_a.handle);}};_pControlElement._moveToNextElement=function(_a,_b){if(_a&&_b&&_a.owner_elem==this&&_b.owner_elem==this&&_a.handle&&_b.handle){nexacro.__setElementHandleMoveToNext(_a.handle,_b.handle);}};_pControlElement._moveToPrevElement=function(_a,_b){if(_a&&_b&&_a.owner_elem==this&&_b.owner_elem==this&&_a.handle&&_b.handle){nexacro.__setElementHandleMoveToPrev(_a.handle,_b.handle);}};_pControlElement.sendToBackElement=function(_a){var _b=this.getContainerElement(_a.position_step);_b._sendToBackElement(_a);};_pControlElement.bringToFrontElement=function(_a){var _b=this.getContainerElement(_a.position_step);_b._bringToFrontElement(_a);};_pControlElement.moveToNextElement=function(_a,_b){var _c=this.getContainerElement(_a.position_step);_c._moveToNextElement(_a,_b);};_pControlElement.moveToPrevElement=function(_a,_b){var _c=this.getContainerElement(_a.position_step);_c._moveToPrevElement(_a,_b);};_pControlElement.saveToImageObject=function(){var _a=this.handle;if(_a&&this.parent_elem){var _b=nexacro.__saveToImageBase64String(_a);if(_b){var _c=new nexacro.Image();_c.set_src(_b);_c.setBase64String(_c.src);return _c;}}};_pControlElement._setElementHScrollPos=function(_a){var _b=this.handle;if(_b){if(this._isRtl()){_a= -_a;}nexacro.__setElementHandleHScrollPos(_b,_a);}};_pControlElement._setElementVScrollPos=function(_a){var _b=this.handle;if(_b){nexacro.__setElementHandleVScrollPos(_b,_a);}};_pControlElement._setElementScrollPos=function(_a,_b){var _c=this.handle;if(_c){nexacro.__setElementHandleOffset(_c,_a,_b);}};_pControlElement.setElementTranslateStart=nexacro._emptyFn;_pControlElement.setElementTranslateEnd=nexacro._emptyFn;_pControlElement.setElementHScrollPos=function(_a){if(_a<0){_a=0;}if(_a>this.hscroll_limit){_a=this.hscroll_limit;}if(this.scroll_left!=_a){this.scroll_left=_a;if(this._client_elem._use_translate_scroll){this._client_elem._setElementHScrollPos(_a);}if(this.linkedcontrol){this.linkedcontrol._setHscrollPos(_a);}}};_pControlElement.setElementVScrollPos=function(_a){if(_a<0){_a=0;}if(_a>this.vscroll_limit){_a=this.vscroll_limit;}if(this.scroll_top!=_a){this.scroll_top=_a;if(this._client_elem._use_translate_scroll){this._client_elem._setElementVScrollPos(_a);}if(this.linkedcontrol){this.linkedcontrol._setVscrollPos(_a);}}};_pControlElement.setElementScrollPos=function(_a,_b){if(_a<0){_a=0;}if(_b<0){_b=0;}if(_a>this.hscroll_limit){_a=this.hscroll_limit;}if(_b>this.vscroll_limit){_b=this.vscroll_limit;}if(this.scroll_left!=_a||this.scroll_top!=_b){this.scroll_left=_a;this.scroll_top=_b;if(this._client_elem._use_translate_scroll){this._client_elem._setElementScrollPos(_a,_b);}}};_pControlElement.setElementClassCSSSelector=function(_a){if(this.classselector!=_a){this.classselector=_a;var _b=this.handle;if(_b){_a=this._getElementClassName();if(this._classname!=_a){this._classname=_a;nexacro.__setElementHandleCSSClassName(_b,_a);}}}};_pControlElement.setElementIDCSSSelector=function(_a){if(this.idselector!=_a){this.idselector=_a;var _b=this.handle;if(_b){var _c=this._getElementClassName();if(this._classname!=_c){this._classname=_c;nexacro.__setElementHandleCSSClassName(_b,_c);}}}};_pControlElement.setElementCSSMapInfo=function(_a,_b,_c){var _d=false,_e=false;if(this._border_info!=_a){this._border_info=_a;_d=(this.border==null);}if(this._padding_info!=_b){this._padding_info=_b;_e=(this.padding==null);}var _f=(_d&&this._updateInnerSize());{if(_f||_e){this._updateClientRect();}}};_pControlElement.setElementZIndex=function(_a){if(this.zindex!=_a){this.zindex=_a;var _b=this.handle;if(_b){nexacro.__setElementHandleZindex(_b,_a);}}};_pControlElement.setElementToolTip=function(_a,_b){if(this.tooltiptext!=_a||this.tooltiptype!=_b){this.tooltiptext=_a;this.tooltiptype=_b;var _c=this.handle;if(_c){if(nexacro._isNull(_a)){_b="none";}nexacro.__setElementHandleToolTip(_c,_a,_b);}}};_pControlElement.setElementFocus=function(){var _a=this.handle;if(_a){nexacro.__setElementHandleFocus(_a);nexacro.__setLastFocusedElement(this);}};_pControlElement.setElementSize=function(_a,_b,_c){if(this.width!=_a||this.height!=_b||_c){this.width=_a;this.height=_b;if(this._updateInnerSize()||_c){this._updateClientRect(_c);}var _d=this.handle;if(_d){var _e=this._isParentRtl();if(_e){var _f=this._getRTLPositionLeft(this.left,_a);if(_f||this.top){nexacro.__setElementHandlePosition(_d,_f,this.top);}else{nexacro.__clearElementHandlePosition(_d);}}nexacro.__setElementHandleSize(_d,this.width,this.height);}}};_pControlElement.setElementBorderRadius=function(_a){this.borderRadius=_a;var _b=this.handle;if(_b){nexacro.__setElementHandleBorderRadiusObject(_b,_a,this.rtl);}};_pControlElement.setElementBorder=function(_a){this.border=_a;if(this._updateInnerSize()){this._updateClientRect();}var _b=this.handle;if(_b){nexacro.__setElementHandleBorderObject(_b,_a,this.rtl);}};_pControlElement.setElementBorderLeftNone=function(_a){this.borderLeftNone=_a;if(this._updateInnerSize()){this._updateClientRect();}var _b=this.handle;if(_b){if(this._get_rtl()){nexacro.__setElementHandleBorderRightNone(_b,_a);}else{nexacro.__setElementHandleBorderLeftNone(_b,_a);}}};_pControlElement.setElementBorderTopNone=function(_a){this.borderTopNone=_a;if(this._updateInnerSize()){this._updateClientRect();}var _b=this.handle;if(_b){nexacro.__setElementHandleBorderTopNone(_b,_a);}};_pControlElement.setElementBorderRightNone=function(_a){this.borderRightNone=_a;if(this._updateInnerSize()){this._updateClientRect();}var _b=this.handle;if(_b){if(this._get_rtl()){nexacro.__setElementHandleBorderLeftNone(_b,_a);}else{nexacro.__setElementHandleBorderRightNone(_b,_a);}}};_pControlElement.setElementBorderBottomNone=function(_a){this.borderBottomNone=_a;if(this._updateInnerSize()){this._updateClientRect();}var _b=this.handle;if(_b){nexacro.__setElementHandleBorderBottomNone(_b,_a);}};_pControlElement.setElementBorderNone=function(_a,_b,_c,_d){if(_a!=this.borderLeftNone||_b!=this.borderTopNone||_c!=this.borderRightNone||_d!=this.borderBottomNone){this.borderLeftNone=_a;this.borderTopNone=_b;this.borderRightNone=_c;this.borderBottomNone=_d;this._refreshBorderNone();}};_pControlElement._get_rtl=function(){return this.rtl;};_pControlElement._refreshBorderNone=function(){if(this.handle){if(this._get_rtl()){nexacro.__setElementHandleBorderLeftNone(this.handle,this.borderRightNone);nexacro.__setElementHandleBorderRightNone(this.handle,this.borderLeftNone);}else{nexacro.__setElementHandleBorderLeftNone(this.handle,this.borderLeftNone);nexacro.__setElementHandleBorderRightNone(this.handle,this.borderRightNone);}nexacro.__setElementHandleBorderTopNone(this.handle,this.borderTopNone);nexacro.__setElementHandleBorderBottomNone(this.handle,this.borderBottomNone);}if(this._updateInnerSize()){this._updateClientRect();if(this._edge_elem){this._edge_elem.setElementSize(this.inner_width,this.inner_height);}}};_pControlElement.setElementBackground=function(_a){this.background=_a;var _b=this.handle;if(_b){nexacro.__setElementHandleBackgroundObject(_b,_a,this.rtl);}};_pControlElement.setElementEdge=function(_a){this.edge=_a;var _b=this.handle;if(_b){nexacro.__setElementHandleEdgeImageObject(_b,_a);}};_pControlElement.setElementPadding=function(_a){this.padding=_a;this._updateClientRect();var _b=this.handle;if(_b){nexacro.__setElementHandlePaddingObject(_b,_a);}};_pControlElement._updateClientRect=function(_a){var _b=this._on_updateClientRect();if(_b&1){this._on_change_clientPos(this.client_left,this.client_top);}if((_b&2)||_a){this._on_change_clientSize(this.client_width,this.client_height,_a);}};_pControlElement.setElementCursor=function(_a){this.cursor=_a;var _b=this.handle;if(_b){nexacro.__setElementHandleCursorObject(_b,_a);}};_pControlElement.setElementOpacity=function(_a){this.opacity=_a;var _b=this.handle;if(_b){nexacro.__setElementHandleOpacityObject(_b,_a);}};_pControlElement.setElementBoxShadow=function(_a){this.boxShadow=_a;var _b=this.handle;if(_b){nexacro.__setElementHandleShadowObject(_b,_a,this.rtl);}};_pControlElement.setElementZoom=function(_a){var _b=this.handle;if(_b){if(_a<0){_a=0;}this.zoom=_a;nexacro.__setElementHandleScale(_b,_a);}};_pControlElement.setElementDisplay=function(_a){if(this.display!=_a){this.display=_a;var _b=this.handle;if(_b){if(_a=="none"){nexacro.__setElementHandleVisible(_b,false);}else{nexacro.__setElementHandleVisible(_b,true);}}}};_pControlElement.setElementSimpleControl=function(_a){if(this._is_simple_control!=_a){var _b=this.handle;if(_b){if(!this._is_simple_control){nexacro.__destroyElementHandle(_b,this.dest_handle);this.dest_handle=_b;}else{var _c=this.owner_elem;var _d=_c._getRootWindowHandle();var _e=nexacro.__createContainerElementHandle(this,_d,this.client_left,this.client_top,this.client_width,this.client_height,"nexasimplecontainer");this.dest_handle=_e;nexacro.__appendElementHandle(_b,_e);}}this._is_simple_control=_a;}};_pControlElement.setElementHittestType=function(_a){if(this._hittest_type!=_a){this._hittest_type=_a;if(this.handle){nexacro.__setElementHittestValue(this.handle,_a);}}};_pControlElement.getClientLeft=function(){if(!this._is_simple_control){return 0;}return this.client_left;};_pControlElement.getClientTop=function(){if(!this._is_simple_control){return 0;}return this.client_top;};_pControlElement.getClientWidth=function(){return this.client_width;};_pControlElement.getClientHeight=function(){return this.client_height;};_pControlElement.beginTransitionEffect=function(_a,_b){if(this.handle&&_a){if(nexacro.__beginTransitionEffectWithCallback){nexacro.__beginTransitionEffectWithCallback(this.handle,_a,_b);}else{nexacro.__beginTransitionEffect(this.handle,_a);if(_b){_b();}}}};_pControlElement.applyTransitionEffect=function(_a){if(this.handle){nexacro.__applyTransitionEffect(this.handle);}};_pControlElement.cancelTransitionEffect=function(_a){if(this.handle){nexacro.__cancelTransitionEffect(this.handle);}};_pControlElement.setElementAccessibilityEnable=nexacro._emptyFn;_pControlElement.setElementAccessibilityDescLevel=nexacro._emptyFn;_pControlElement.setElementAccessibilityValue=nexacro._emptyFn;_pControlElement.setElementAccessibilityStatDisabled=nexacro._emptyFn;_pControlElement.setElementAccessibilityStatChecked=nexacro._emptyFn;_pControlElement.setElementAccessibilityStatPressed=nexacro._emptyFn;_pControlElement.setElementAccessibilityStatSelected=nexacro._emptyFn;_pControlElement.setElementAccessibilityStatExpanded=nexacro._emptyFn;_pControlElement.setElementAccessibilityStatAutoComplete=nexacro._emptyFn;_pControlElement.setElementAccessibilityFlagHasPopup=nexacro._emptyFn;_pControlElement.setElementAccessibilityFlagFocusable=nexacro._emptyFn;_pControlElement.setElementAccessibilityFlagPassword=nexacro._emptyFn;_pControlElement.setElementAccessibilityFlagMultiSelectable=nexacro._emptyFn;_pControlElement.setElementAccessibilityFlagDefaultButton=nexacro._emptyFn;_pControlElement.setElementAccessibilityFlagMultiLine=nexacro._emptyFn;_pControlElement.setElementAccessibilityInfoCount=nexacro._emptyFn;_pControlElement.setElementAccessibilityInfoIndex=nexacro._emptyFn;_pControlElement.setElementAccessibilityInfoValueMax=nexacro._emptyFn;_pControlElement.setElementAccessibilityInfoValueMin=nexacro._emptyFn;_pControlElement.setElementAccessibilityInfoValueCur=nexacro._emptyFn;_pControlElement.setElementAccessibilityInfoLevel=nexacro._emptyFn;_pControlElement.setElementAccessibilityHotKey=nexacro._emptyFn;_pControlElement.setElementAccessibilityStatFocus=nexacro._emptyFn;_pControlElement.setElementAccessibilityStatKillFocus=nexacro._emptyFn;_pControlElement.notifyAccessibility=nexacro._emptyFn;_pControlElement._refreshAccessibilityInfo=nexacro._emptyFn;_pControlElement._makeAccessibilityLabelbyReadtype=nexacro._emptyFn;_pControlElement.setElementAccessibilityParentLabel=nexacro._emptyFn;_pControlElement._updateElementAccessibilityLabel=nexacro._emptyFn;_pControlElement._setElementScrolltype=nexacro._emptyFn;_pControlElement._refreshLayoutInfo=nexacro._emptyFn;_pControlElement._refreshControl=function(_a){this._refreshCommonStyleProps(_a);if(this._hittest_type){nexacro.__setElementHittestValue(_a,this._hittest_type);}if(this.tabindex>=-1){nexacro.__setElementHandleTabIndex(_a,this.tabindex);}if(!nexacro._isNull(this.tooltiptext)){nexacro.__setElementHandleToolTip(_a,this.tooltiptext,this.tooltiptype);}if(this.zindex>=0){nexacro.__setElementHandleZindex(_a,this.zindex);}if(this.borderRadius){nexacro.__setElementHandleBorderRadiusObject(_a,this.borderRadius,this.rtl);}if(this.border){nexacro.__setElementHandleBorderObject(_a,this.border,this.rtl);}if(this.borderLeftNone){if(this._get_rtl()){nexacro.__setElementHandleBorderRightNone(_a,this.borderLeftNone);}else{nexacro.__setElementHandleBorderLeftNone(_a,this.borderLeftNone);}}if(this.borderTopNone){nexacro.__setElementHandleBorderTopNone(_a,this.borderTopNone);}if(this.borderRightNone){if(this._get_rtl()){nexacro.__setElementHandleBorderLeftNone(_a,this.borderRightNone);}else{nexacro.__setElementHandleBorderRightNone(_a,this.borderRightNone);}}if(this.borderBottomNone){nexacro.__setElementHandleBorderBottomNone(_a,this.borderBottomNone);}if(this.background){nexacro.__setElementHandleBackgroundObject(_a,this.background,this.rtl);}if(this.padding){nexacro.__setElementHandlePaddingObject(_a,this.padding);}if(this.cursor){nexacro.__setElementHandleCursorObject(_a,this.cursor);}if(this.opacity){nexacro.__setElementHandleOpacityObject(_a,this.opacity);}if(this.boxShadow){nexacro.__setElementHandleShadowObject(_a,this.boxShadow,this.rtl);}if(this.edge){nexacro.__setElementHandleEdgeImageObject(_a,this.edge);}if(this.status){nexacro.__setElementHandleStatus(_a,this.status);}if(this.userstatus){nexacro.__setElementHandleUserStatus(_a,this.userstatus);}this._refreshAccessibilityInfo(_a);};_pControlElement._refreshControlTabIndex=nexacro._emptyFn;_pControlElement.getElementScrollWidth=function(){return this.inner_width;};_pControlElement.getElementScrollHeight=function(){return this.inner_height;};_pControlElement._updateInnerSize=function(){var _a=this.width;var _b=this.height;var _c=this.border?this.border:this._border_info;if(_c){var _d=_c.left?_c.left._width:0;var _e=_c.right?_c.right._width:0;var _f=_c.top?_c.top._width:0;var _g=_c.bottom?_c.bottom._width:0;if(this.borderLeftNone){_d=0;}if(this.borderRightNone){_e=0;}if(this.borderTopNone){_f=0;}if(this.borderBottomNone){_g=0;}_a-=(_d+_e);_b-=(_f+_g);if(_a<0){_a=0;}if(_b<0){_b=0;}}if(this.inner_width!=_a||this.inner_height!=_b){this.inner_width=_a;this.inner_height=_b;return true;}return false;};_pControlElement._updateInnerElement=function(_a,_b){if(_a<0){_a=0;}if(_b<0){_b=0;}this.width=_a;this.height=_b;if(this._updateInnerSize()){this._updateClientRect();if(this._edge_elem){this._edge_elem.setElementSize(this.inner_width,this.inner_height);}}};_pControlElement._on_updateClientRect=function(){var _a=0;var _b=0;var _c=0;var _d=this.inner_width;var _e=this.inner_height;var _f=(this.padding||this._padding_info);if(_f){_b=_f.left;_c=_f.top;_d-=_f.left+_f.right;_e-=_f.top+_f.bottom;}if(this.client_left!=_b||this.client_top!=_c){this.client_left=_b;this.client_top=_c;_a=1;}if(this.client_width!=_d||this.client_height!=_e){this.client_width=_d;this.client_height=_e;_a+=2;}return _a;};_pControlElement._on_change_clientPos=function(_a,_b){var _c=false;var _d=this._client_elem;if(_d){_d.setElementPosition(_a,_b);}else if(this.handle&&this.handle!=this.dest_handle){var _e=this._getRTLPositionLeft(_a,this.width);var _f=this.dest_handle;if(_e||_b){nexacro.__setElementHandlePosition(_f,_e,_b);}else{nexacro.__clearElementHandlePosition(_f);}}else{_c=true;}var _g=this.linkedcontrol;if(_g&&_c){_g.on_change_containerPos(_a,_b);}};_pControlElement._on_change_clientSize=function(_a,_b){var _c=this._client_elem;if(_c){_c.setElementSize(_a,_b);}else if(!this._is_simple_control){if(this.handle&&this.handle!=this.dest_handle){var _d=this.dest_handle;nexacro.__setElementHandleSize(_d,_a,_b);}}var _e=this.linkedcontrol;if(_e){_e.on_change_containerRect(_a,_b);}};_pControlElement.getElementScrollLeft=function(){return 0;};_pControlElement.getElementScrollTop=function(){return 0;};_pControlElement.getElementScrollWidth=function(){return this.inner_width;};_pControlElement.getElementScrollHeight=function(){return this.inner_height;};_pControlElement._isMultiInnerProc=function(){return false;};nexacro.FrameControlElement=function(_a){this._p_parent=_a;this.parent_elem=_a;this._border_elems=new nexacro.Collection();};var _pFrameControlElement=nexacro._createPrototype(nexacro.ControlElement,nexacro.FrameControlElement);nexacro.FrameControlElement.prototype=_pFrameControlElement;_pFrameControlElement._type_name="FrameControlElement";_pFrameControlElement._title_control=null;_pFrameControlElement._status_control=null;_pFrameControlElement._title_height=0;_pFrameControlElement._status_height=0;_pFrameControlElement._title_top=0;_pFrameControlElement._title_width=0;_pFrameControlElement._status_top=0;_pFrameControlElement._status_width=0;_pFrameControlElement._resizable=false;_pFrameControlElement.win_handle=null;_pFrameControlElement.create=function(_a){var _b;var _c;var _d;var _e;var _f;if(!this.handle){if(this.parent_elem==null){_b=this.win_handle=_a.handle;this.owner_elem=_a;this._is_window_element=true;this.left=0;this.top=0;this.width=_a.clientWidth;this.height=_a.clientHeight;_c=this._isParentRtl();_d=this.left;if(_c){_d=this._getRTLPositionLeft(_d,this.width);}_e=nexacro.__createControlElementHandle(this,_b,_d,this.top,this.width,this.height,this._getElementClassName(),this.name,this._is_control);this.handle=this.dest_handle=_e;nexacro.__appendElementHandle(this.owner_elem.handle,_e);if(!this._is_simple_control){_d=this.client_left;if(_c){_d=this._getRTLContainerPositionLeft(this.client_left,this.client_width);}_f=nexacro.__createContainerElementHandle(this,_b,_d,this.client_top,this.client_width,this.client_height,"nexasimplecontainer");this.dest_handle=_f;nexacro.__appendElementHandle(_e,_f);}this._refreshControl(_e);}else{var _g=(this._is_nc_element)?this.parent_elem:this.parent_elem.getContainerElement();if(_g&&_g.handle&&!this.handle){this.owner_elem=_g;_b=_a.handle||_g._getRootWindowHandle();_c=this._isParentRtl();_d=this.left;if(_c){_d=this._getRTLPositionLeft(_d,this.width);}_e=nexacro.__createControlElementHandle(this,_b,_d,this.top,this.width,this.height,this._getElementClassName(),this.name,this._is_control);this.handle=this.dest_handle=_e;nexacro.__appendElementHandle(_g.dest_handle,_e);if(!this._is_simple_control){_d=this.client_left;if(_c){_d=this._getRTLContainerPositionLeft(this.client_left,this.client_width);}_f=nexacro.__createContainerElementHandle(this,_b,_d,this.client_top,this.client_width,this.client_height,"nexasimplecontainer");this.dest_handle=_f;nexacro.__appendElementHandle(_e,_f);}this._refreshControl(_e);}}if(this._resizable){this._createBorderElements();this._updateBorderElementsPosition();}}};_pFrameControlElement._on_destroy=function(){this.win_handle=null;this._destroyBorderElements();this._title_control=null;this._status_control=null;};_pFrameControlElement._getRootWindowHandle=function(){if(this._is_window_element){return this.win_handle;}else if(this.owner_elem){return this.owner_elem._getRootWindowHandle();}else if(this.parent&&this.parent._getRootWindowHandle){return this.parent._getRootWindowHandle();}return null;};_pFrameControlElement._updateClientRect=function(_a){var _b=this._on_updateClientRect();if(_b&1){this._on_change_clientPos(this.client_left,this.client_top);}if((_b&2)||_a){this._on_change_clientSize(this.client_width,this.client_height);}if(_b){this._updateBorderElementsPosition();}};_pFrameControlElement._on_updateClientRect=function(){var _a=0;var _b=0;var _c=this.inner_width;var _d=this.inner_height;var _e=(this.padding||this._padding_info);if(_e){_a=_e.left;_b=_e.top;_c-=_e.left+_e.right;_d-=_e.top+_e.bottom;}var _f=this._title_control;if(_f){if(!this._is_verticalmin&&(this.client_left!=_a||this._title_top!=_b||this._title_width!=_c)){this._title_top=_b;this._title_width=_c;_f.move(_a,_b,_c,this._title_height);}else if(this._is_verticalmin&&(this.client_top!=_b||this._title_top!=_b||this._title_height!=_d)){this._title_top=_b;this._title_width=_c;_f.move(_a,_b,_c,_d);}_b+=this._title_height;_d-=this._title_height;if(_d<0){_d=0;}}else{this._title_top=_b;}var _g=this._status_control;if(_g){if(this._status_height>0){_d-=this._status_height;if(_d<0){_d=0;}}var _h=_b+_d;if(this.client_left!=_a||this._status_top!=_h||this._status_width!=_c){this._status_top=_h;this._status_width=_c;_g.move(_a,_h,_c,this._status_height);}}else{this._status_top=_b+_d;}var _i=0;if(this.client_left!=_a||this.client_top!=_b){this.client_left=_a;this.client_top=_b;_i=1;}if(this.client_width!=_c||this.client_height!=_d){this.client_width=_c;this.client_height=_d;_i+=2;}return _i;};_pFrameControlElement.appendChildElement=function(_a){if(this.handle){if(!this._client_elem){return;}if(_a.parent_elem==this._client_elem){_a._is_nc_element=true;}else{if(_a.handle){if(_a._doc!=this._doc){_a.parent_elem=this._client_elem;_a._destroyDOMHandle();}else{_a.parent_elem=this._client_elem;}}else{_a.parent_elem=this._client_elem;}}_a._is_nc_element=true;_a.setElementPosition(0,0);_a.setElementSize(this.client_width,this.client_height);if(this.font){_a.setElementFont(this.font);}if(this.color){_a.setElementColor(this.color);}if(!_a.handle){_a.create(this._getWindow());}else{_a._appendToContainer(this._client_elem);}}};_pFrameControlElement.removeChildElement=function(_a){if(_a.parent_elem==this){_a._removeFromContainer();}};_pFrameControlElement.sendToBackElement=function(_a){if(_a&&_a.owner_elem&&_a.owner_elem.owner_elem==this.owner_elem&&_a.handle){nexacro.__setElementHandleSendToBack(_a.handle);if(_a._border_elems){for(var _b=0;_b<_a._border_elems.length;_b++ ){nexacro.__setElementHandleSendToBack(_a._border_elems[_b].handle);}}}};_pFrameControlElement.bringToFrontElement=function(_a){if(_a&&_a.owner_elem&&_a.owner_elem.owner_elem==this.owner_elem&&_a.handle){nexacro.__setElementHandleBringToFront(_a.handle);if(_a._border_elems){for(var _b=0;_b<_a._border_elems.length;_b++ ){nexacro.__setElementHandleBringToFront(_a._border_elems[_b].handle);}}}};_pFrameControlElement.moveToNextElement=function(_a,_b){var _c=this.getContainerElement(_a.position_step);_c.moveToNextElement(_a,_b);};_pFrameControlElement.moveToPrevElement=function(_a,_b){var _c=this.getContainerElement(_a.position_step);_c.moveToPrevElement(_a,_b);};_pFrameControlElement.setTitleBarControl=function(_a,_b){this._title_control=_a;if(_a){this._title_height=parseInt(_b)|0;this._title_width=0;}else{this._title_height=0;this._title_width=0;}this._updateClientRect();};_pFrameControlElement.setStatusBarControl=function(_a,_b){this._status_control=_a;if(_a){this._status_height=parseInt(_b)|0;this._status_width=0;}else{this._status_height=0;this._status_width=0;}this._updateClientRect();};_pFrameControlElement._createBorderElements=function(){var _a=this.parent_elem;if(this._border_elems.length>0){return;}var _b,_c,_d=Array("lt","t","rt","l","r","lb","b","rb");for(_b=0;_b<8;_b++ ){_c=new nexacro._FrameResizeBorderElement(_a);this._border_elems.add_item(_d[_b],_c);}for(_b=0;_b<8;_b++ ){_c=this._border_elems[_b];_c.linkedcontrol=this.linkedcontrol;_c.create(this._getWindow());}this._setResizable(this._resizable);};_pFrameControlElement._destroyBorderElements=function(){var _a=this._border_elems.length;for(var _b=0;_b<_a;_b++ ){this._border_elems[_b].destroy();this._border_elems[_b]=null;}this._border_elems.clear();this._border_elems=null;};_pFrameControlElement.setElementPosition=function(_a,_b){nexacro.ControlElement.prototype.setElementPosition.call(this,_a,_b);this._updateBorderElementsPosition();};_pFrameControlElement._updateBorderElementsPosition=function(){if(this._border_elems.length==0){return;}var _a=this.border||this._border_info;var _b,_c,_d,_e;if(!_a){_b=_c=_d=_e=0;}else if(_a._linecnt==1){_b=_c=_d=_e=_a._getBorderWidth();}else{_b=_a.left._width;_c=_a.top._width;_d=_a.right._width;_e=_a.bottom._width;}var _f=this.inner_width;var _g=this.inner_height;if(this.zoom!=100&&this.parent._window_type>0){_f*=nexacro._getDevicePixelRatio(this);_g*=nexacro._getDevicePixelRatio(this);}if(_b<5){var _h=5-_b;_b+=_h;_f-=_h;}if(_c<5){var _i=5-_c;_c+=_i;_g-=_i;}if(_d<5){var _j=5-_d;_d+=_j;_f-=_j;}if(_e<5){var _k=5-_e;_e+=_k;_g-=_k;}var _l=this.left;var _m=this.top;var _n=_l;var _o,_p=_m;for(_o=0;_o<8;_o++ ){this._border_elems[_o].setElementPosition(_n,_p);switch(_o){case 0:_n+=_b;break;case 1:_n+=_f;break;case 2:_n=_l;_p+=_c;break;case 3:_n+=(_b+_f);break;case 4:_n=_l;_p+=_g;break;case 5:_n+=_b;break;case 6:_n+=_f;break;case 7:break;}}for(_o=0;_o<8;_o++ ){if(_o==0||_o==3||_o==5){_n=_b;}if(_o==1||_o==6){_n=_f;}if(_o==2||_o==4||_o==7){_n=_d;}if(_o<3){_p=_c;}else if(_o<5){_p=_g;}else{_p=_e;}this._border_elems[_o].setElementSize(_n,_p);}};_pFrameControlElement._setResizable=function(_a){this._resizable=_a;if(this.handle){if(this._border_elems.length==0){if(_a){this._createBorderElements();this._updateBorderElementsPosition();}else{return;}}var _b;if(nexacro.System.navigatorname=="nexacro"){_b=(this._is_window_element&&_a);}else{_b=(this._is_window_element&&_a);if(this._getWindowHandle()==nexacro._getMainWindowHandle()){_b=false;}}var _c=Array("nw","n","ne","w","e","sw","s","se");var _d=Array("topleft","top","topright","left","right","bottomleft","bottom","bottomright");for(var _h=0;_h<8;_h++ ){var _e=this._border_elems[_h];_e._is_track=_a;var _f;if(_a){_f=nexacro.CursorObject(_c[_h]+"-resize");}else{_f=nexacro.CursorObject("arrow");}if(_b){_e.setElementHittestType("resizingborder_"+_d[_h]);}else{_e.setElementHittestType("fixedborder");}_e.setElementCursor(_f);}}var _g=this._status_control;if(_g){_g.set_resizable(_a);}};_pFrameControlElement.setElementCSSMapInfo=function(_a,_b,_c){nexacro.ControlElement.prototype.setElementCSSMapInfo.call(this,_a,null,_c);};_pFrameControlElement.setElementSize=function(_a,_b,_c,_d){{this._unscaledwidth=_a;this._unscaledheight=_b;if(this.zoom==100||_d==true){this.width=_a;this.height=_b;}else{this.width=_a* 100/this.zoom;this.height=_b* 100/this.zoom;}}if(this._updateInnerSize()||_c){this._updateClientRect(_c);}var _e=this.handle;if(_e){var _f=this._isParentRtl();if(_f){var _g=this._getRTLPositionLeft(this.left,_a);if(_g||this.top){nexacro.__setElementHandlePosition(_e,_g,this.top);}else{nexacro.__clearElementHandlePosition(_e);}}nexacro.__setElementHandleSize(_e,this.width,this.height);}};nexacro._FrameResizeBorderElement=function(_a){this._p_parent=_a;this.parent_elem=_a;};var __pFrameResizeBorderElement=nexacro._createPrototype(nexacro.ControlElement,nexacro._FrameResizeBorderElement);nexacro._FrameResizeBorderElement.prototype=__pFrameResizeBorderElement;__pFrameResizeBorderElement._type_name="FrameResizeBorderElement";__pFrameResizeBorderElement.win_handle=null;__pFrameResizeBorderElement.create=function(_a){var _b;var _c;if(this.parent_elem==null){_b=_a;_c=this.win_handle=_a.handle;this.left=0;this.top=0;}else{_b=(this._is_nc_element)?this.parent_elem:this.parent_elem.getContainerElement();_c=_a.handle||_b._getRootWindowHandle();}if(_b&&_b.handle&&!this.handle){this.owner_elem=_b;var _d=this.left;var _e=nexacro.__createControlElementHandle(this,_c,_d,this.top,this.width,this.height);this._refreshControl(_e);this.handle=this.dest_handle=_e;nexacro.__appendElementHandle(this._is_nc_element?_b.handle:_b.dest_handle,_e);}};__pFrameResizeBorderElement.setElementSize=function(_a,_b,_c){if(this.width!=_a||this.height!=_b){this.width=_a;this.height=_b;if(_a<0){_a=0;}if(_b<0){_b=0;}var _d=this.handle;if(_d){if(_a&&_b){nexacro.__setElementHandleSize(_d,_a,_b);}else{nexacro.__clearElementHandleSize(_d);}}}};__pFrameResizeBorderElement._on_destroy=function(){this.win_handle=null;};__pFrameResizeBorderElement._getRootWindowHandle=function(){if(this._is_window_element){return this.win_handle;}else if(this.owner_elem&&this.owner_elem._getRootWindowHandle){return this.owner_elem._getRootWindowHandle();}return null;};__pFrameResizeBorderElement._on_starttrack=function(){this.linkedcontrol._on_border_starttrack(this.cursor);};__pFrameResizeBorderElement._on_endtrack=function(_a,_b,_c){this.linkedcontrol._on_border_endtrack(_a,_b,_c);};__pFrameResizeBorderElement._on_movetrack=function(_a,_b,_c){this.linkedcontrol._on_border_movetrack(_a,_b,_c);};__pFrameResizeBorderElement._getRTLPositionLeft=function(_a,_b){return _a;};nexacro.ModalOverlayElement=function(_a){this._p_parent=_a;this.parent_elem=_a;};var _pModalOverlayElement=nexacro._createPrototype(nexacro.ControlElement,nexacro.ModalOverlayElement);nexacro.ModalOverlayElement.prototype=_pModalOverlayElement;_pModalOverlayElement._type_name="ModalOverlayElement";_pModalOverlayElement.create=function(){if(this.parent_elem&&!this.handle){var _a=this.linkedcontrol._getWindow();this.win_handle=_a.handle;this.left=0;this.top=0;this.width=_a.clientWidth;this.height=_a.clientHeight;var _b=this.handle=this.dest_handle=nexacro.__createControlElementHandle(this,this.win_handle,this.left,this.top,this.width,this.height,null,this.name);_b._linked_element=this;if(this.zindex>=0){nexacro.__setElementHandleZindex(_b,this.zindex);}_a=this.linkedcontrol._getWindow();var _c=_a.frame._getWaitComponentElement();var _d=null;if(_c){_d=_c.handle;}var _e=_a;if(_d){nexacro.__insertElementHandle(_e.dest_handle,_b,_d);}else{nexacro.__appendElementHandle(_e.dest_handle,_b);}this._refreshControl(_b);}};_pModalOverlayElement.destroy=function(){if(!this.handle){return;}var _a=this.linkedcontrol._getWindow();var _b=_a;nexacro.__destroyElementHandle(_b.handle,this.handle);this.handle=null;};_pModalOverlayElement.setElementSize=function(_a,_b,_c){nexacro.Element.prototype.setElementSize.call(this,_a,_b,_c);};_pModalOverlayElement._getRootWindowHandle=function(){return this.win_handle;};nexacro.ScrollableControlElement=function(_a,_b){this._p_parent=_a;this.parent_elem=_a;var _c=new nexacro._ContainerElement(this);this._client_elem=_c;};var _pScrollableControlElement=nexacro._createPrototype(nexacro.ControlElement,nexacro.ScrollableControlElement);nexacro.ScrollableControlElement.prototype=_pScrollableControlElement;_pScrollableControlElement._type_name="ScrollableControlElement";_pScrollableControlElement.create=function(_a){var _b;var _c;var _d;var _e;var _f;if(!this._is_popup){_c=(this._is_nc_element)?this.parent_elem:this.parent_elem.getContainerElement(this.position_step);if(_c&&_c.handle){if(!this.handle){this.owner_elem=_c;_b=_a.handle||_c._getRootWindowHandle();_d=this._isParentRtl();_e=this.left;if(_d){_e=this._getRTLPositionLeft(_e,this.width);}_f=nexacro.__createScrollableControlElementHandle(this,_b,_e,this.top,this.width,this.height,this._getElementClassName(),this.name,this._is_control);if(this._init_width>0||this._init_height>0){nexacro.__setElementHandleInitPosSize(_f,this._init_left,this._init_top,this._init_width,this._init_height);}this._refreshControl(_f);this.handle=this.dest_handle=_f;nexacro.__appendElementHandle(_c.dest_handle,_f);}}}else{if(!this.handle){var _g=this.linkedcontrol;_b=_a.handle;_c=_a;_d=this._isParentRtl();_e=this.left;if(_d){_e=this._getRTLPositionLeft(_e,this.width);}_f=nexacro.__createScrollableControlElementHandle(this,_b,_e,this.top,this.width,this.height,this._getElementClassName(),_g._unique_id,this._is_control);this.handle=this.dest_handle=_f;this._refreshControl(_f);if(_g._findOwnerElementHandle){var _h=_g._findOwnerElementHandle();if(_h.is_append){nexacro.__appendElementHandle(_h.owner_handle,_f);}else{nexacro.__insertElementHandle(_h.owner_handle,_f,_h.ref_handle);}this.owner_elem=_h.owner_handle._linked_element;}else{nexacro.__appendElementHandle(_b,_f);this.owner_elem=_c;}}}if(this.handle&&!this._client_elem.handle){this._client_elem.create(_a);}if(this.handle){var _i=this._step_count;if(_i>0){this._step_containers=[];for(var _k=0;_k<_i;_k++ ){var _j=new nexacro._ContainerElement(this._client_elem);_j.setElementPosition(_k* this.client_width,0);_j.setElementSize(this.client_width,this.container_maxheight);_j.create(this._getWindow());this._step_containers.push(_j);}}}};_pScrollableControlElement._on_destroy=function(){var _a=this.handle;if(_a){var _b=this._step_containers;if(_b){var _c=_b.length;for(var _e=0;_e<_c;_e++ ){var _d=_b[_e];_d.destroy();}this._step_containers=null;}this._hscroll_control=null;this._vscroll_control=null;}};_pScrollableControlElement._on_clearContents=function(){if(this.handle){var _a=this._step_containers;if(_a){var _b=_a.length;for(var _d=0;_d<_b;_d++ ){var _c=_a[_d];_c.destroy();}this._step_containers=null;}}};_pScrollableControlElement._setInnerElementScrollMaxTops=function(_a){};_pScrollableControlElement.initElementInfo=function(){nexacro.ControlElement.prototype.initElementInfo.call(this);this._init_left=0;this._init_top=0;this._init_width=0;this._init_height=0;var _a=this.linkedcontrol;if(_a._is_scrollable){this._hscroll_control=null;this._vscroll_control=null;this._step_containers=null;this.zoom=100;this.scroll_left=0;this.scroll_top=0;if(this._client_elem){this._client_elem._setElementHScrollPos(0);this._client_elem._setElementVScrollPos(0);}this.container_maxwidth=0;this.container_maxheight=0;this.hscroll_limit=0;this.vscroll_limit=0;this._hscroll_size=0;this._vscroll_size=0;this._hscrollbartype="";this._vscrollbartype="";this._scrolltype="";this._scrollview_width_top=0;this._step_count=0;this._pre_step_count=0;this._step_index=-1;this._use_translate_scroll=_a._use_translate_scroll;this.setElementScrollbarSize(_a._getHScrollBarSize(),_a._getVScrollBarSize(),_a._getHScrollBarType(),_a._getVScrollBarType(),_a.scrolltype);}else if(_a._is_expandable){this._expandbarwidth=0;this._expandbarheight=0;this._expandbartype=false;this._expanddirtype="horz";this._expandvisible=undefined;this._expandarrange=undefined;this._use_translate_scroll=false;this._on_updateClientRect=this._on_updateClientRectExpand;this._on_change_clientPos=this._on_change_clientPosExpand;this._on_change_clientSize=this._on_change_clientSizeExpand;}};_pScrollableControlElement.setElementStepCount=function(_a){if(this._step_count!=_a){var _b,_c,_d=this._step_count;var _e=this._step_containers;if(_e&&this._step_count){var _f=true;for(_b=0;_b<_d;_b++ ){_c=_e[_b];_c.destroy(_f);}this._step_containers=null;}this._pre_step_count=this._step_count;this._step_count=_a;this._updateClientRect();if(this.handle&&_a>0){this._step_containers=[];for(_b=0;_b<_a;_b++ ){_c=new nexacro._ContainerElement(this._client_elem);_c.setElementPosition(_b* this.client_width,0);_c.setElementSize(this.client_width,this.client_height);_c.create(this._getWindow());this._step_containers.push(_c);}}}};_pScrollableControlElement.setElementStepIndex=function(_a){if(this._step_index!=_a){if(this._step_count>0){if(_a>-1&&this._step_count>_a){this._step_index=_a;}}else{this._step_index=_a;}}};_pScrollableControlElement.setElementZoom=function(_a){var _b=this.handle;if(_b){if(_a<0){_a=0;}this.zoom=_a;var _c=this.getContainerElement(this._step_index);nexacro.__setElementHandleScale(_c.handle,this.zoom);this._updateClientRect();}};_pScrollableControlElement.setElementScrollMaxSize=function(_a,_b){if(this.container_maxwidth!=_a||this.container_maxheight!=_b){this.container_maxwidth=_a;this.container_maxheight=_b;if(this._step_count){var _c=this.getContainerElement(this._step_index);if(_c){_c.setElementScrollMaxSize(this.client_width,_b);}}if(this._client_elem){this._client_elem.setElementScrollMaxSize(_a,_b);}this._updateClientRect();return true;}return false;};_pScrollableControlElement.setElementScrollbarSize=function(_a,_b,_c,_d,_e){var _f=false;if(this._vscroll_size!=_b||this._hscroll_size!=_a){this._vscroll_size=_b|0;this._hscroll_size=_a|0;_f=true;}if(this._hscrollbartype!=_c||this._vscrollbartype!=_d){this._hscrollbartype=_c;this._vscrollbartype=_d;_f=true;}if(this._scrolltype!=_e){this._scrolltype=_e;_f=true;}if(_f){this._updateClientRect();}return _f;};_pScrollableControlElement.setElementExpandbarSize=function(_a,_b,_c,_d,_e){var _f=false;if(this._expandbarwidth!=_a[0]){this._expandbarwidth= +_a[0];_f=true;}if(this._expandbarheight!=_a[1]){this._expandbarheight= +_a[1];_f=true;}if(this._expandbartype!=_b){this._expandbartype=_b;_f=true;}if(this._expanddirtype!=_c){this._expanddirtype=_c;_f=true;}if(this._expandvisible!=_d){this._expandvisible=_d;_f=true;}if(this._expandarrange!=_e){this._expandarrange=_e;_f=true;}if(_f){this._updateClientRect();}return _f;};_pScrollableControlElement.getContainerElement=function(_a){var _b=this._step_count;var _c=this._step_index;var _d=this._step_containers;if(_b>0&&_d&&_b>_a){if(_a<0||_a==null){_a=(_c>-1?_c:0);}return _d[_a];}else{return this._client_elem;}};_pScrollableControlElement.getElementScrollLeft=function(){var _a=this.getContainerElement(this.position_step);if(!_a){return 0;}return _a.getElementScrollLeft();};_pScrollableControlElement.getElementScrollTop=function(){var _a=this._client_elem;if(!_a){return 0;}return _a.getElementScrollTop();};_pScrollableControlElement.getElementScrollWidth=function(){var _a=this.getContainerElement(this.position_step);if(!_a){return 0;}return _a.getElementScrollWidth();};_pScrollableControlElement.getElementScrollHeight=function(){var _a=this._client_elem;if(!_a){return 0;}return _a.getElementScrollHeight();};_pScrollableControlElement.setElementVScrollPos=function(_a){if(_a<0){_a=0;}if(_a>this.vscroll_limit){_a=this.vscroll_limit;}if(this.scroll_top!=_a||this._reset_scrollpos){this.scroll_top=_a;if(this._step_count>0){this.getContainerElement(this._step_index)._setElementVScrollPos(_a);}else if(this._client_elem._use_translate_scroll){this._client_elem._setElementVScrollPos(_a);}if(this.linkedcontrol){this.linkedcontrol._setVscrollPos(_a);}}};_pScrollableControlElement._updateClientRect=function(_a){var _b=this._on_updateClientRect();if(_b&1){this._on_change_clientPos(this.client_left,this.client_top);}if((_b&2)||_a){this._on_change_clientSize(this.client_width,this.client_height);}};_pScrollableControlElement._on_change_clientPos=function(_a,_b){if(this._client_elem){if(this.rtl&&this._vscroll_visible){if(this.linkedcontrol instanceof nexacro.TextArea){_a= -_a-this._vscroll_size;}else{_a=_a-this._vscroll_size;}}this._client_elem.setElementPosition(_a,_b);var _c=this._step_count;var _d=this._step_index;var _e=this._step_containers;if(_c>0&&_e){var _f=this._zclient_width;for(var _k=0;_k<_c;_k++ ){var _g=_e[_k];_a=_f* _k;if(this.rtl&&this._vscroll_visible){_a=(_f* _k)+this._vscroll_size;}_g.setElementPosition(_a,0);if(_k==_d){_g.setElementSize(_f,this.container_maxheight);}}}}else if(this.handle&&this.handle!=this.dest_handle){var _h=this.dest_handle;var _i=this._getRTLPositionLeft(_a,this.width);if(_i||_b){nexacro.__setElementHandlePosition(_h,_i,_b);}else{nexacro.__clearElementHandlePosition(_h);}}var _j=this.linkedcontrol;if(_j){_j.on_change_containerPos(_a,_b);}};_pScrollableControlElement._on_change_clientPosExpand=function(_a,_b){var _c=this._client_elem;if(_c){if(this.rtl&&this._expandbartype&&this._expanddirtype=="horz"){_a=_a-this._expandbarwidth;}_c.setElementPosition(_a,_b);}else{var _d=this.handle;var _e=this.dest_handle;if(_d&&_d!=_e){var _f=this._getRTLPositionLeft(_a,this.width);if(_f||_b){nexacro.__setElementHandlePosition(_e,_f,_b);}else{nexacro.__clearElementHandlePosition(_e);}}}var _g=this.linkedcontrol;if(_g){_g.on_change_containerPos(_a,_b);}};_pScrollableControlElement._on_change_clientSize=function(_a,_b){if(this._client_elem){this._client_elem.setElementSize(_a,_b);var _c=this._step_count;var _d=this._step_containers;if(_c>0&&_d){var _e=Math.max(_b,this.container_maxheight);var _f=this._zclient_width;for(var _j=0;_j<_c;_j++ ){var _g=_d[_j];_g.setElementSize(_f,_e);}}}else if(this.handle&&this.handle!=this.dest_handle){var _h=this.dest_handle;nexacro.__setElementHandleSize(_h,_a,_b);}var _i=this.linkedcontrol;if(_i){_i.on_change_containerRect(_a,_b);}};_pScrollableControlElement._on_change_clientSizeExpand=function(_a,_b){var _c=this._client_elem;if(_c){_c.setElementSize(_a,_b);}else{var _d=this.handle;var _e=this.dest_handle;if(_d&&_d!=_e){nexacro.__setElementHandleSize(_e,_a,_b);}}var _f=this.linkedcontrol;if(_f){_f.on_change_containerRect(_a,_b);}};_pScrollableControlElement._setAttachCliendTop=function(_a){if(this._attach_client_top!=_a){this._attach_client_top=_a;this._updateClientRect();}};_pScrollableControlElement._on_updateClientRect=function(){var _a=0;var _b=0;var _c=this.inner_width;var _d=this.inner_height;var _e=this.fittocontents;var _f=this.client_width;var _g=this.client_height;var _h=this.padding?this.padding:this._padding_info;if(_h){_a=_h.left;_b=_h.top;_c-=_h.left+_h.right;_d-=_h.top+_h.bottom;}if(this._attach_client_top>0){_b+=this._attach_client_top;_d-=this._attach_client_top;if(_d<0){_d=0;}}var _i=this._client_elem;if(!_i){return 0;}var _j=this.zoom/100;var _k=_c;var _l=_d;if(_c!=0){_k=_c/_j;}if(_d!=0){_l=_d/_j;}this._zclient_width=_k;this._zclient_height=_l;var _m=this.container_maxwidth;var _n=this.container_maxheight;var _o=this._contents_maxwidth;var _p=this._contents_maxheight;var _q=this._has_contents_size;var _r=this.scroll_left;var _s=this.scroll_top;if(_j!=1){var _t=4;_k=nexacro.floor(_k,_t);_l=nexacro.floor(_l,_t);_m=nexacro.floor(_m,_t);_n=nexacro.floor(_n,_t);}var _u=this._step_count;var _v=this._pre_step_count;var _w=false;_w=_u!=_v;var _x=this._step_containers;if((_u>0&&_x)||_w){_m=_u* _k;}var _y=false;var _z=false;this._vscroll_visible=false;var _aa=0;var _ab=0;var _ac=this._hscrollbartype;var _ad=this._vscrollbartype;var _ae=this._scrolltype;if((_u>0&&_x)||_w){_ac="none";}if(nexacro._isAlmostGreater(_m,_k)){if(_e!="width"&&_e!="both"&&_ac!="none"&&_ac!="autoindicator"){_d-=this._hscroll_size;_l=_d/_j;}_aa=_m-_k;}else{if(_ac=="fixed"){_d-=this._hscroll_size;_l=_d/_j;}_aa=0;}if(nexacro._isAlmostGreater(_n,_l)&&(_q?nexacro._isAlmostGreater(_p,_l):true)){if(_n>=_l){_ab=_n-_l;}else if(_n>_g){_ab=_n-_g;}if(_e!="height"&&_e!="both"&&_ad!="none"&&_ad!="autoindicator"){_c-=this._vscroll_size;_k=_c/_j;this._vscroll_visible=true;}if(nexacro._isAlmostGreater(_m,_c)&&(_q?nexacro._isAlmostGreater(_o,_k):true)){if(_e!="width"&&_e!="both"&&_ac!="none"&&_ac!="autoindicator"&&_aa==0){_d-=this._hscroll_size;_l=_d/_j;_ab+=this._hscroll_size;}_aa=_m-_k;}else if(nexacro._isAlmostGreater(_m,_f)){_aa=_m-_f;}}else{if(_ad=="fixed"){_c-=this._vscroll_size;_k=_c/_j;this._vscroll_visible=true;if(nexacro._isAlmostGreater(_m,_k)){_aa=_m-_k;}else if(nexacro._isAlmostGreater(_m,_f)){_aa=_m-_f;}}_ab=0;}if((_u>0&&_x)||_w){_m=_u* _k;if(nexacro._isAlmostGreater(_m,_k)){_aa=_m-_k;}}if(this.hscroll_limit!=_aa){_z=true;this.hscroll_limit=_aa;if(_r>_aa){this.setElementHScrollPos(_aa);}}if(this.vscroll_limit!=_ab){_y=true;this.vscroll_limit=_ab;if(_s>_ab){this.setElementVScrollPos(_ab);}}this._zclient_width=_k;this._zclient_height=_l;var _af=0;if(this.client_left!=_a||this.client_top!=_b||this._isRtl()){this.client_left=_a;this.client_top=_b;_af=1;}else if(_u>0){_af=1;}if(this.client_width!=_c||this.client_height!=_d){this.client_width=_c;this.client_height=_d;_af+=2;}else if(this.client_width!=_k||this.client_height!=_l){_af+=2;}else if(_z||_y){_af+=2;}return _af;};_pScrollableControlElement._on_updateClientRectExpand=function(){var _a=0;var _b=0;var _c=0;var _d=this.inner_width;var _e=this.inner_height;var _f=this.padding?this.padding:this._padding_info;if(_f){_b=_f.left;_c=_f.top;_d-=_f.left+_f.right;_e-=_f.top+_f.bottom;}var _g=this._client_elem;if(!_g||_d==0||_e==0){return _a;}if(this._expandbartype&&this._expanddirtype=="vert"){_e-=this._expandbarheight;}if(this._expandbartype&&this._expanddirtype=="horz"){_d-=this._expandbarwidth;}if(this.client_left!=_b||this.client_top!=_c||this._isRtl()){this.client_left=_b;this.client_top=_c;_a=1;}if(this.client_width!=_d||this.client_height!=_e){this.client_width=this._zclient_width=_d;this.client_height=this._zclient_height=_e;_a+=2;}return _a;};_pScrollableControlElement.setElementInitPosSize=function(_a,_b,_c,_d){this._init_left=_a;this._init_top=_b;this._init_width=_c;this._init_height=_d;var _e=this.handle;if(_e){nexacro.__setElementHandleInitPosSize(_e,_a,_b,_c,_d);}};_pScrollableControlElement._setElementContentsMaxSize=function(_a,_b){if(this._contents_maxwidth!=_a||this._contents_maxheight!=_b){this._contents_maxwidth=_a;this._contents_maxheight=_b;this._has_contents_size=true;}};nexacro._ContainerElement=function(_a){this._p_parent=_a;this.parent_elem=_a;};var __pContainerElement=nexacro._createPrototype(nexacro.Element,nexacro._ContainerElement);nexacro._ContainerElement.prototype=__pContainerElement;__pContainerElement._type_name="ContainerElement";__pContainerElement._scroll_left=0;__pContainerElement._scroll_top=0;__pContainerElement._use_translate_scroll=true;__pContainerElement.create=function(_a){var _b=this.parent_elem;if(_b&&_b.handle&&!this.handle){this.owner_elem=_b;this._use_translate_scroll=_b._use_translate_scroll;this._p_name=_b.name+":container";var _c=_a.handle||_b._getRootWindowHandle();var _d=this._isParentRtl();var _e=this.left;if(_d){if(_b instanceof nexacro.ScrollableControlElement&&_b.parent instanceof nexacro.TextArea){_e=_b.client_width-this.width+_e;}else{_e=this._getRTLPositionLeft(_e,this.width);}}var _f=nexacro.__createScrollableContainerElementHandle(this,_c,_e,this.top,this.width,this.height,"nexacontainer",this.name);if(this._scroll_left!=0||this._scroll_top!=0){nexacro.__setElementHandleOffset(_f,this._scroll_left,this._scroll_top);}this.handle=this.dest_handle=_f;nexacro.__appendElementHandle(_b.dest_handle,_f);}};__pContainerElement.destroy=function(_a){this._destroyElementHandle(_a);this.dest_handle=null;this._p_parent=null;this.parent_elem=null;};__pContainerElement.clearContents=function(){var _a=this.handle;var _b=this.owner_elem;if(_a){_a._linked_element=null;if(_b&&_b.handle){nexacro.__destroyElementHandle(_b.handle,_a);}this.owner_elem=null;this.handle=null;}};__pContainerElement._setElementVScrollPos=function(_a){if(this._use_translate_scroll){if(this._scroll_top!=_a||this.parent._reset_scrollpos){this._scroll_top=_a;var _b=this.handle;if(_b){nexacro.__setElementHandleVScrollPos(_b,_a);}}}};__pContainerElement._setElementHScrollPos=function(_a){if(this._use_translate_scroll){if(this._scroll_left!=_a||this.parent._reset_scrollpos){this._scroll_left=_a;var _b=this.handle;if(_b){if(this._isRtl()){_a= -_a;}nexacro.__setElementHandleHScrollPos(_b,_a);}}}};__pContainerElement._setElementScrollPos=function(_a,_b){if(this._use_translate_scroll){if(this._scroll_left!=_a||this._scroll_top!=_b||this.parent._reset_scrollpos){this._scroll_left=_a;this._scroll_top=_b;var _c=this.handle;if(_c){nexacro.__setElementHandleOffset(_c,_a,_b);}}}};__pContainerElement.setElementZoom=function(_a){if(this.handle){this.zoom=_a;nexacro.__setElementHandleScale(this.handle,_a);}};__pContainerElement._findScrollbarControl=function(_a,_b){while(_a){if(_b&&_a._vscroll_control&&_a._vscroll_control._isVisible()){return _a._vscroll_control;}else if(_a._hscroll_control&&_a._hscroll_control._isVisible()){return _a._hscroll_control;}_a=_a.parent;}};__pContainerElement._sendToBackElement=function(_a){if(_a&&_a.owner_elem.dest_handle==this.dest_handle&&_a.handle){nexacro.__setElementHandleSendToBack(_a.handle);}};__pContainerElement._bringToFrontElement=function(_a){if(_a&&_a.owner_elem.dest_handle==this.dest_handle&&_a.handle){nexacro.__setElementHandleBringToFront(_a.handle);}};__pContainerElement._moveToNextElement=function(_a,_b){if(_a&&_b&&_a.owner_elem==this&&_b.owner_elem==this&&_a.handle&&_b.handle){nexacro.__setElementHandleMoveToNext(_a.handle,_b.handle);}};__pContainerElement._moveToPrevElement=function(_a,_b){if(_a&&_b&&_a.owner_elem==this&&_b.owner_elem==this&&_a.handle&&_b.handle){nexacro.__setElementHandleMoveToPrev(_a.handle,_b.handle);}};__pContainerElement.setElementScrollMaxSize=function(_a,_b){this._scroll_maxwidth=_a;this._scroll_maxheight=_b;};__pContainerElement.getElementScrollLeft=function(){return this._scroll_left;};__pContainerElement.getElementScrollTop=function(){return this._scroll_top;};__pContainerElement.getElementScrollWidth=function(){return this._scroll_maxwidth;};__pContainerElement.getElementScrollHeight=function(){return this._scroll_maxheight;};nexacro.PluginElement=function(_a){this._p_parent=_a;this.parent_elem=_a;this._params=new nexacro.Collection();this._events=new nexacro.Collection();};var _pPluginElement=nexacro._createPrototype(nexacro.Element,nexacro.PluginElement);nexacro.PluginElement.prototype=_pPluginElement;_pPluginElement._type_name="PluginElement";_pPluginElement._plugin_object=null;_pPluginElement.license="";_pPluginElement.lpkpath="";_pPluginElement.classid="";_pPluginElement.classid64="";_pPluginElement.codebase="";_pPluginElement.code="";_pPluginElement.archive="";_pPluginElement.mimetype="";_pPluginElement.pluginsrc="";_pPluginElement.plugintype="";_pPluginElement.pluginpage="";_pPluginElement.windowed=false;_pPluginElement.popupstyle=false;_pPluginElement.adjustalpha=false;_pPluginElement.usepersistdata=false;_pPluginElement.enable=true;_pPluginElement.font=null;_pPluginElement.color=null;_pPluginElement.cursor=null;_pPluginElement.align=null;_pPluginElement.padding=null;_pPluginElement.color=null;_pPluginElement.component=null;_pPluginElement._params=null;_pPluginElement._events=null;_pPluginElement._pluginname="";_pPluginElement.create=function(_a){if(!this.handle){var _b=null;var _c=null;var _d=null;if(this.parent_elem){_c=this.parent_elem.getContainerElement(this.position_step);if(_c&&_c.handle){this.owner_elem=_c;_b=_a.handle||_c._getRootWindowHandle();}_d=this.parent_elem.linkedcontrol;}var _e=this._isParentRtl();var _f=this.left;if(_e){this.rtl=_e;_f=this._getRTLPositionLeft(_f,this.width);}var _g=nexacro.__createPluginElementHandle(this,_b,_f,this.top,this.width,this.height);if(this.classid){nexacro.__setPluginElementHandleClassId(_g,this.classid);}if(this.classid64){nexacro.__setPluginElementHandleClassId64(_g,this.classid64);}if(this.adjustalpha){nexacro.__setPluginElementHandleAdjustAlpha(_g,this.adjustalpha);}if(this._pluginname){nexacro.__setPluginElementHandlePluginName(_g,this._pluginname);}if(this.mimetype){nexacro.__setPluginElementHandleMIMEType(_g,this.mimetype);}if(this.pluginsrc){nexacro.__setPluginElementHandlePluginSrc(_g,this.pluginsrc);}if(this.pluginpage){nexacro.__setPluginElementHandlePluginPage(_g,this.pluginpage);}if(this.code){nexacro.__setPluginElementHandleCode(_g,this.code);}if(this.codebase){nexacro.__setPluginElementHandleCodebase(_g,this.codebase);}var _h=this._params;var _i,_j=(_h?_h.length:0);for(_i=0;_i<_j;_i++ ){nexacro.__setPluginElementHandleAttribute(_g,_h.get_id(_i),_h.get_item(_i));}if(this.mimetype&&this.classid==""){var _k=this._events;var _l=_k.length;for(_i=0;_i<_l;_i++ ){this.addEventHandler(_k.get_id(_i),_k.get_item(_i));}}if(this.license||this.lpkpath){if(nexacro.__setPluginElementHandleLicense){nexacro.__setPluginElementHandleLicense(_g,this.license,this.lpkpath);}}if(!this.visible||(_d&&_d.visible==false)){nexacro.__setElementHandleVisible(_g,false);if(this.visible){this.visible=false;}}if(!this.enable||(_d&&_d.enable==false)){nexacro.__setElementHandleEnable(_g,false);if(this.enable){this.enable=false;}}if(this.windowed){nexacro.__setPluginElementHandleWindowed(_g,this.windowed);if(this.popupstyle){nexacro.__setPluginElementHandlePopupstyle(_g,this.popupstyle);}}if(this.font){nexacro.__setElementHandleFontObject(_g,this.font);}if(this.color){nexacro.__setElementHandleColorObject(_g,this.color);}this.handle=_g;this.initEvent();if(_c&&_c.handle){nexacro.__appendElementHandle(_c.dest_handle,_g);}nexacro.__createdPluginElementHandle(_g);this._plugin_object=new nexacro.PluginObject();if(this._plugin_object){this._plugin_object.handle=nexacro.__getPluginElementHandleObject(this.handle);}}};_pPluginElement.destroy=function(){var _a=this.handle;if(_a){var _b=null;if(this.owner_elem&&this.owner_elem.handle){_b=this.owner_elem.handle;nexacro.__destroyElementHandle(_b,this.handle);}this.owner_elem=null;this.handle=null;}this._p_parent=null;this.parent_elem=null;var _c=this._params;if(_c){_c.destroy();this._params=null;}var _d=this._events;if(_d){_d.destroy();this._events=null;}var _e=this._plugin_object;if(_e){_e.destroy();this._plugin_object=null;}};_pPluginElement.initEvent=function(){if(this.handle){nexacro._observeWrapperEvent(this.handle,null,"_on_plugin_event",this._on_plugin_event,-1,null);}};_pPluginElement._on_plugin_event=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s,_t,_u){var _v=(this.parent_elem?this.parent_elem.linkedcontrol:null);if(_v&&_a){if(_v[_a]){var _w=_v[_a];if(_w){var _x=_w._user_handlers;var _y=0;if(_x){_y=_x.length;}var _z,_aa;var _ab;var _ac=_v;try{if(_ac.enableevent!==false){for(_z=0;_z<_y;_z++ ){_ab=_x[_z];if(_ab){_aa=_ab.handler.call(_ab.target,_ac,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s,_t,_u);}}}}catch(e){if(e.obj){nexacro._onSystemError(e.obj,e.name,e.message);}else{var _ad=nexacro._getExceptionMessage(e);var _ae=nexacro.getEnvironment();if(_ae){nexacro._onSystemError(_ae,e.name,_ad);}}}}}}};_pPluginElement.on_update_position=function(){if(this.handle){nexacro.__updatePluginElementHandlePosition(this.handle);}};_pPluginElement.setElementFocus=function(){if(this.handle){nexacro.__setElementHandleFocus(this.handle);nexacro.__setLastFocusedElement(this);}};_pPluginElement.setElementPluginPosition=function(_a,_b){if(this.handle){this.setElementPosition(_a,_b);}};_pPluginElement.setElementLicense=function(_a){if(this.license!=_a){this.license=_a;}};_pPluginElement.setElementLicenseFile=function(_a){if(!this.handle&&this.lpkpath!=_a){this.lpkpath=_a;}};_pPluginElement.setElementMIMEType=function(_a){if(this.mimetype!=_a){this.mimetype=_a;}};_pPluginElement.setElementClassId=function(_a){if(this.classid!=_a){this.classid=_a;}};_pPluginElement.setElementClassId64=function(_a){if(this.classid64!=_a){this.classid64=_a;}};_pPluginElement.setElementCodebase=function(_a){if(this.codebase!=_a){this.codebase=_a;if(this.handle){nexacro.__setPluginElementHandleCodebase(this.handle,this.codebase);}}};_pPluginElement.setElementCode=function(_a){if(this.code!=_a){this.code=_a;}};_pPluginElement.setElementArchive=function(_a){if(this.archive!=_a){this.archive=_a;}};_pPluginElement.setElementAdjustAlpha=function(_a){if(this.adjustalpha!=_a){this.adjustalpha=_a;}};_pPluginElement.setElementUsePersistData=function(_a){if(this.usepersistdata!=_a){this.usepersistdata=_a;this.setElementParam("__usepersistdata",_a);}};_pPluginElement.getElementUsePersistData=function(){return this.getElementParam("__usepersistdata");};_pPluginElement.getElementParam=function(_a){if(this._plugin_object){return this._plugin_object.getProperty(_a);}else{var _b=this._params;return _b.get_item(_a);}};_pPluginElement.setElementParam=function(_a,_b){if(this._plugin_object){if(_a){this._plugin_object.setProperty(_a,_b);}}else{var _c=this._params;if(_c.get_item(_a)){_c.set_item(_a,_b);}else{_c.add_item(_a,_b);}}};_pPluginElement.setElementPluginSrc=function(_a){if(this.pluginsrc!=_a){this.pluginsrc=_a;}};_pPluginElement.setElementPluginPage=function(_a){if(this.pluginpage!=_a){this.pluginpage=_a;}};_pPluginElement.setElementWindowed=function(_a){if(this.windowed!=_a){this.windowed=_a;if(this.handle){}}};_pPluginElement.setElementEnable=function(_a){if(this.enable!=_a){this.enable=_a;if(this.handle){nexacro.__setElementHandleEnable(this.handle,_a);}}};_pPluginElement.setElementVisible=function(_a){if(this.handle){nexacro.__setElementHandleVisible(this.handle,_a);}};_pPluginElement.setElementPopupStyle=function(_a){if(this.popupstyle!=_a){this.popupstyle=_a;}};_pPluginElement._setElementPluginName=function(_a){if(this._pluginname!=_a){this._pluginname=_a;}};_pPluginElement.callMethod=function(){if(arguments.length<1){return;}if(this._plugin_object){return this._plugin_object.callMethod.apply(this._plugin_object,arguments);}};_pPluginElement._getPluginObject=function(){if(this._plugin_object){return this._plugin_object;}return null;};_pPluginElement.install=function(){if(this.handle&&this.codebase){nexacro.__callPluginElementHandleInstall(this.handle);}};_pPluginElement.isInstalled=function(){if(this.handle){return nexacro.__getPluginElementHandleIsInstalled(this.handle);}return false;};_pPluginElement.isLoaded=function(){if(this.handle){return nexacro.__isPluginElementHandleLoaded(this.handle);}return false;};_pPluginElement.addEventHandler=function(_a,_b){if(this.handle&&this.classid==""&&this.mimetype){var _c=/\(\)|\(.+\)/;var _d=_b.toString().match(_c)[0];var _e;var _f,_g;var _h,_i;_h=this.component.parent;if(_h){_e="."+this.component.id+'["'+_a+'"]; \n';_e+='if (eventFn) eventFn._firePluginEvent'+_d+';';do{if(_h instanceof nexacro.MainFrame){_e='var eventFn = nexacro.getApplication().mainframe'+_e;break;}if(_h instanceof nexacro.ChildFrame){_i=_h.parent;if(_i){if(_i instanceof nexacro.FrameSet||_i instanceof nexacro.VFrameSet||_i instanceof nexacro.HFrameSet||_i instanceof nexacro.ChildFrame){if(_i._frames&&_i._frames.length){_g=_i._frames.length;for(_f=0;_f<_g;_f++ ){if(_i._frames[_f]==_h){_e='._frames['+_f+']'+_e;break;}}}}else if(_i instanceof nexacro.MainFrame){_e='.frame'+_e;}else if(_i instanceof nexacro.Form){_e='.'+_h.id+_e;}}}else if(_h instanceof nexacro.FrameSet||_h instanceof nexacro.VFrameSet||_h instanceof nexacro.HFrameSet){_i=_h.parent;if(_i){if(_i._frames&&_i._frames.length){_g=_i._frames.length;for(_f=0;_f<_g;_f++ ){if(_i._frames[_f]==_h){_e='._frames['+_f+']'+_e;break;}}}}}else if(_h instanceof nexacro.Div){_e='.'+_h.id+_e;}else if(_h instanceof nexacro.Form){_e='.form'+_e;}_h=_h.parent;}while(_h)}_e='callback = function'+_d+'\n{\n'+_e+"\n}";nexacro.__appendGlobalScript(_a,nexacro._executeEvalStr(_e));}else{this._events.add_item(_a,_b);}};_pPluginElement.removeEventHandler=function(_a,_b){if(this.handle&&this.classid==""&&this.mimetype){nexacro.__removeGlobalScript(_a);}else{this._events.delete_item(_a);}};_pPluginElement.updateWindow=function(){if(this.windowed==true){nexacro.__updatePluginElementHandleWindow(this.handle);}};_pPluginElement.setElementMovie=function(_a){this.setElementParam("movie",_a);};_pPluginElement._play=function(){};_pPluginElement._stopPlay=function(){};_pPluginElement.getProperty=_pPluginElement.getElementParam;_pPluginElement.setProperty=_pPluginElement.setElementParam;_pPluginElement.setElementPluginMIMEType=nexacro._emptyFn;_pPluginElement._setElementFocus=_pPluginElement.setElementFocus;nexacro.PluginObject=function(_a){this.handle=_a;this._parentObject=null;};var __pPluginObject=nexacro._createPrototype(nexacro.Object,nexacro.PluginObject);nexacro.PluginObject.prototype=__pPluginObject;__pPluginObject._type_name="PluginObject";__pPluginObject.getProperty=function(){if(this.handle){Array.prototype.unshift.call(arguments,this.handle);var _a=nexacro.__getPluginObjectHandleAttribute.apply(nexacro,arguments);if(_a!=null&&typeof (_a)=="object"){var _b=new nexacro.PluginObject();_b.handle=_a;return _b;}return _a;}};__pPluginObject.setProperty=function(_a,_b){if(this.handle){if(_a){if(_b instanceof nexacro.PluginElement){nexacro.__setPluginObjectHandleAttribute(this.handle,_a,_b._plugin_object);}else{nexacro.__setPluginObjectHandleAttribute(this.handle,_a,_b);}}}};__pPluginObject.callMethod=function(){if(arguments.length<1){return;}if(this.handle){Array.prototype.unshift.call(arguments,this.handle);var _a=arguments.length;for(var _d=1;_d<_a;_d++ ){if(arguments[_d] instanceof nexacro.PluginElement){arguments[_d]=arguments[_d]._plugin_object;}}var _b=nexacro.__callPluginObjectHandleMethod.apply(nexacro,arguments);if(_b!=null&&typeof (_b)=="object"){var _c=new nexacro.PluginObject();_c.handle=_b;return _c;}return _b;}};__pPluginObject.callMethodAsync=function(){if(arguments.length<1){return new Promise(function(){throw new TypeError("Failed to execute plugin method: 1 argument required, but only 0 present.");return;});}if(!this.handle){return new Promise(function(_b,_c){_c("Unexpected plugin object");return;});}Array.prototype.unshift.call(arguments,this.handle);var _a=arguments.length;for(var _b=1;_b<_a;_b++ ){if(arguments[_b] instanceof nexacro.PluginElement){arguments[_b]=arguments[_b]._plugin_object;}}return nexacro.__callPluginObjectHandleMethodAndReturnPromise.apply(nexacro,arguments);};__pPluginObject.callScriptMethod=function(){if(arguments.length<1){return;}if(this.handle){Array.prototype.unshift.call(arguments,this.handle);var _a=nexacro.__callPluginObjectHandleScriptMethod.apply(nexacro,arguments);if(_a!=null&&typeof (_a)=="object"){var _b=new nexacro.PluginObject();_b.handle=_a;return _b;}return _a;}};__pPluginObject.destroy=function(){if(this.handle){nexacro.__destroyPluginObjectHandle(this.handle);this.handle=null;if(this._parentObject){this._parentObject.destroy();this._parentObject=null;}}};nexacro._WebBrowserPluginElement=function(_a){this._p_parent=_a;this.parent_elem=_a;this.parent_elem.windowed=true;this._params=new nexacro.Collection();this._events=new nexacro.Collection();};var __pWebBrowserPluginElement=nexacro._createPrototype(nexacro.PluginElement,nexacro._WebBrowserPluginElement);nexacro._WebBrowserPluginElement.prototype=__pWebBrowserPluginElement;__pWebBrowserPluginElement._type_name="WebBrowserPluginElement";__pWebBrowserPluginElement.windowed=true;__pWebBrowserPluginElement.classid="{8856F961-340A-11D0-A96B-00C04FD705A2}";__pWebBrowserPluginElement.src="";__pWebBrowserPluginElement._pluginname="WebBrowser";__pWebBrowserPluginElement._bInitNavigate=false;__pWebBrowserPluginElement.initEvent=function(){if(this.handle){nexacro._observeWrapperEvent(this.handle,null,"_on_plugin_event",this._on_plugin_event);}};__pWebBrowserPluginElement._on_plugin_event=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){var _k=(this.parent_elem?this.parent_elem.linkedcontrol:null);if(_k){if(_a=="DocumentComplete"){var _l=this.getElementParam("LocationURL");if(_l==_c){_a="onloadcompleted";if(_k.on_load_handler){var _m=_k._getWindow();var _n=_m.getCurrentFocusPaths();var _o=_k;while(_o&&_o._is_nc_control){_o=_o.parent;}if(!_o){return;}var _p=-1;if(_n){_p=nexacro._indexOf(_n,_o);}if(_p<0){var _q=_n?_n[_n.length-1]:null;if(_q){var _r=_q._input_element;if(!_r||(_r&&!_r._is_focused)){_q._apply_setfocus();_q.on_focus_basic_action();}}}nexacro.__restorePluginElementHandleWindowFocus(this.handle);return _k.on_load_handler(_c);}}}else if(_a=="TitleChange"){_k.on_fire_onusernotify(_k,_b);}if(_k[_a]){var _s=_k[_a];if(_s){return _s._fireEvent(this,_b,_c,_d,_e,_f,_g,_h,_i,_j);}}}};__pWebBrowserPluginElement._getDoc=function(){return null;};__pWebBrowserPluginElement._setUrl=function(_a,_b){if(this._plugin_object){this._setSharedVariablesToCookie(_a);if(_b==false){var _c;if(nexacro._OS=="Android"&&nexacro._Browser=="Runtime"){_c="javascript:location.replace(\""+_a+"\");";return this._plugin_object.callMethod("Navigate",_c);}else{if(_a=="about:blank"||this._bInitNavigate==false){this._bInitNavigate=true;this._plugin_object.callMethod("Navigate",_a);return;}else{_c="javascript:location.replace(\""+_a+"\");";}this._plugin_object.callMethod("Navigate",_c);}}else{if(nexacro._OS=="Android"&&nexacro._Browser=="Runtime"){return this._plugin_object.callMethod("Navigate",_a);}else{this._plugin_object.callMethod("Navigate",_a);}}}};__pWebBrowserPluginElement._setGo=function(){if(this._plugin_object){this._plugin_object.callMethod("Refresh");}};__pWebBrowserPluginElement._setBack=function(){if(this._plugin_object){var _a=this._plugin_object.callMethod("GoBack");if(_a){return _a.toLowerCase()=="true"?true:false;}}};__pWebBrowserPluginElement._setForward=function(){if(this._plugin_object){var _a=this._plugin_object.callMethod("GoForward");if(_a){return _a.toLowerCase()=="true"?true:false;}}};__pWebBrowserPluginElement.callMethod=function(){if(arguments.length<1){return;}if(this._plugin_object){return this._pluginCallMethod(arguments);}};__pWebBrowserPluginElement._pluginCallMethod=function(_a){var _b;if(nexacro._OS=="Android"&&nexacro._Browser=="Runtime"){var _c=_a[0];_c+="(";for(var _f=1;_f<_a.length;_f++ ){if(typeof (_a[_f])=="object"){_a[_f]=_a[_f].toString();}if(typeof (_a[_f])=="string"){_a[_f]=nexacro.replaceAll(_a[_f],"\\","\\\\");_a[_f]=nexacro.replaceAll(_a[_f],"'","\\\'");_a[_f]=nexacro.replaceAll(_a[_f],"\n","\\n");_a[_f]=nexacro.replaceAll(_a[_f],"\r","\\r");}_c+="'";_c+=_a[_f];_c+="'";if(_f+1<_a.length){_c+=",";}}_c+=")";_b=this._setUrl("javascript:"+_c);}else{var _d=this._plugin_object.getProperty("document");if(_d){var _e=_d.getProperty("script");if(_e){_b=_e.callScriptMethod.apply(_e,_a);_e.destroy();}_d.destroy();}}return _b;};__pWebBrowserPluginElement.getProperty=function(_a){if(this._plugin_object){if(_a=="window"){var _b=this._plugin_object.getProperty("document");if(_b){var _c=_b.getProperty("parentWindow");if(_c){_c._parentObject=_b;return _c;}_b.destroy();}}return this._plugin_object.getProperty(_a);}else{var _d=this._params;return _d.get_item(_a);}};__pWebBrowserPluginElement._setSharedVariablesToCookie=function(_a){var _b="";var _c=nexacro._getCookieVariables(4);if(_c){for(var _d in _c){_b+=(_d+'='+_c[_d].value+';');}}if(_a&&_a.indexOf("https")==0){_c=nexacro._getCookieVariables(6);if(_c){for(var _e in _c){_b+=(_e+'='+_c[_e].value+';');}}}if(_b){nexacro._setSharedVariablesToCookie(_a,_b);}};__pWebBrowserPluginElement._setElementInternalFocus=nexacro._emptyFn;__pWebBrowserPluginElement._setElementLeaveMessage=nexacro._emptyFn;nexacro._WebViewPluginElement=function(_a){this._p_parent=_a;this.parent_elem=_a;this.parent_elem.windowed=true;this._params=new nexacro.Collection();this._events=new nexacro.Collection();};var __pWebViewPluginElement=nexacro._createPrototype(nexacro.PluginElement,nexacro._WebViewPluginElement);nexacro._WebViewPluginElement.prototype=__pWebViewPluginElement;__pWebViewPluginElement._type_name="WebViewPluginElement";__pWebViewPluginElement.windowed=true;__pWebViewPluginElement.classid="";__pWebViewPluginElement.src="";__pWebViewPluginElement._pluginname="WebView";__pWebViewPluginElement._bInitNavigate=false;__pWebViewPluginElement.initEvent=function(){if(this.handle){nexacro._observeWrapperEvent(this.handle,null,"_on_plugin_event",this._on_plugin_event);}};__pWebViewPluginElement._closeDefaultDownloadDialog=function(){this._plugin_object.callMethod("CloseDefaultDownloadDialog");};__pWebViewPluginElement._on_plugin_event=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){var _k=(this.parent_elem?this.parent_elem.linkedcontrol:null);if(_k){if(_a=="DocumentComplete"){{_a="onloadcompleted";if(_k.on_load_handler){var _l=_k._getWindow();var _m=_l.getCurrentFocusPaths();var _n=_k;while(_n&&_n._is_nc_control){_n=_n.parent;}if(!_n){return;}var _o=-1;if(_m){_o=nexacro._indexOf(_m,_n);}if(_o<0){var _p=_m?_m[_m.length-1]:null;if(_p){_p._apply_setfocus();_p.on_focus_basic_action();}}nexacro.__restorePluginElementHandleWindowFocus(this.handle);return _k.on_load_handler(_c);}}}else if(_a=="Error"){var _q=false;var _r=nexacro.MakeError("ObjectError",_k,"module_not_installed","WebView",_b);nexacro._onSystemError(_r.obj,_r.name,_r.message);return _q;}else if(_a=="UserNotify"){_k.on_fire_onusernotify(_k,_b);}else if(_a.indexOf("script_callback?")!=-1){function FindIndex(_s,_v){var _q=_s.findIndex(function(_w){return _w.name===_v;});return _q;}_a=_a.replace("script_callback?","");var _s=_k._scriptcallbacklist;var _t=FindIndex(_s,_a);if(_t>=0){if(_s[_t].scope&&_s[_t].scope._is_alive&&_s[_t].func){var _q=_b;if(_q===null||_q===undefined||_q===""){_q=undefined;}else{_q=_q.toString();if(_q.charAt(0)=="\""){_q=_q.substr(1,_q.length-1);_q=_q.substr(0,_q.length-1);}}_s[_t].func.call(_s[_t].scope,_q);}_s.splice(_t,1);}}else if(_k[_a]){var _u=_k[_a];if(_u){return _u._fireEvent(this,_b,_c,_d,_e,_f,_g,_h,_i,_j);}}}};__pWebViewPluginElement._getDoc=function(){return null;};__pWebViewPluginElement._setUrl=function(_a,_b){if(this._plugin_object){this._setSharedVariablesToCookie(_a);if(_b==false){var _c;if(nexacro._OS=="Android"&&nexacro._Browser=="Runtime"){_c="javascript:location.replace(\""+_a+"\");";return this._plugin_object.callMethod("Navigate",_c);}else{if(_a=="about:blank"||this._bInitNavigate==false){this._bInitNavigate=true;this._plugin_object.callMethod("Navigate",_a);return;}else{_c="javascript:location.replace(\""+_a+"\");";}this._plugin_object.callMethod("Navigate",_c);}}else{if(nexacro._OS=="Android"&&nexacro._Browser=="Runtime"){return this._plugin_object.callMethod("Navigate",_a);}else{this._plugin_object.callMethod("Navigate",_a);}}}};__pWebViewPluginElement._setInstallUrl=function(_a){if(this._plugin_object){this._plugin_object.callMethod("InstallUrl",_a);}};__pWebViewPluginElement._setGo=function(){if(this._plugin_object){this._plugin_object.callMethod("Refresh");}};__pWebViewPluginElement._setBack=function(){if(this._plugin_object){var _a=this._plugin_object.callMethod("GoBack");if(_a){return _a.toLowerCase()=="true"?true:false;}}};__pWebViewPluginElement._setForward=function(){if(this._plugin_object){var _a=this._plugin_object.callMethod("GoForward");if(_a){return _a.toLowerCase()=="true"?true:false;}}};__pWebViewPluginElement.injectScript=function(){nexacro._isinjectScript=true;if(arguments.length<1){return undefined;}var _a=arguments[0];if(_a!=null&&typeof _a=='string'){_a=_a.replace(/\'/gi,"\\'");_a=_a.replace(/\r\n/gi,"\\n");_a=_a.replace(/\n/gi,"\\n");_a=_a.replace(/\r/gi,"\\n");var _b="this._safeStringify.call(this,new Function(\'return this."+_a+"\').call(this))";if(this._plugin_object){var _c=this._plugin_object.callMethod("InjectScript",_b);if(_c===null||_c===undefined||_c===""){nexacro._isinjectScript=false;return undefined;}else{_c=_c.toString();if(_c.charAt(0)=="\""){_c=_c.substr(1,_c.length-1);_c=_c.substr(0,_c.length-1);}}nexacro._isinjectScript=false;return _c;}}nexacro._isinjectScript=false;return undefined;};__pWebViewPluginElement.injectScriptAndReturnPromise=function(){if(arguments.length<1){return undefined;}var _a=arguments[0];if(_a!=null&&typeof _a=='string'){_a=_a.replace(/\'/gi,"\\'");_a=_a.replace(/\r\n/gi,"\\n");_a=_a.replace(/\n/gi,"\\n");_a=_a.replace(/\r/gi,"\\n");var _b="this._safeStringify.call(this,new Function(\'return this."+_a+"\').call(this))";if(this._plugin_object){return this._plugin_object.callMethodAsync("InjectScript",_b);}}return undefined;};__pWebViewPluginElement.injectScriptAsync=function(){function UniqueID(){function s4(){return ((1+nexacro._random())* 0x10000|0).toString(16).substring(1);}return s4()+s4()+'-'+s4()+'-'+s4()+'-'+s4()+'-'+s4()+s4()+s4();}function Find(_e,_i){var _l=_e.find(function(_m){return _m.name===_i;});return _l;}if(arguments.length<3){return undefined;}var _a=arguments[0];var _b=arguments[1];var _c=arguments[2];var _d=this.parent_elem.linkedcontrol;var _e=_d._scriptcallbacklist;if(_a!=null&&typeof _a=='string'){_a=_a.replace(/\'/gi,"\\'");_a=_a.replace(/\r\n/gi,"\\r\\n");_a=_a.replace(/\n/gi,"\\n");_a=_a.replace(/\r/gi,"\\r");var _f="this._safeStringify.call(this,new Function(\'return this."+_a+"\').call(this))";var _g="empty_callback";var _h=false;if(_b!=null&&typeof _b=="function"){var _i=_b.name;var _j=null;var _k=null;if(!_i){_g=UniqueID();_k=Find(_e,_g);if(!_k){_j={name:undefined,func:undefined,scope:undefined,anonymous:undefined};_j.name=_g;_j.func=_b;_j.scope=_c;_j.anonymous=!_h;_e.push(_j);}}else{_h=true;_g=_i+UniqueID();_k=Find(_e,_g);if(!_k){_j={name:undefined,func:undefined,scope:undefined,anonymous:undefined};_j.name=_g;_j.func=_b;_j.scope=_c;_j.anonymous=!_h;_e.push(_j);}}}if(this._plugin_object){return this._plugin_object.callMethod("InjectScriptAsync","script_callback?"+_g,_f);}}};__pWebViewPluginElement._setSharedVariablesToCookie=function(_a){var _b="";var _c=nexacro._getCookieVariables(4);if(_c){for(var _d in _c){_b+=(_d+'='+_c[_d].value+';');}}if(_a&&_a.indexOf("https")==0){_c=nexacro._getCookieVariables(6);if(_c){for(var _e in _c){_b+=(_e+'='+_c[_e].value+';');}}}if(_b){nexacro._setSharedVariablesToCookie(_a,_b);}};__pWebViewPluginElement.create=function(_a){if(!this.handle){var _b=null;var _c=null;var _d=null;if(this.parent_elem){_c=this.parent_elem.getContainerElement(this.position_step);if(_c&&_c.handle){this.owner_elem=_c;_b=_a.handle||_c._getRootWindowHandle();}_d=this.parent_elem.linkedcontrol;}var _e=this._isParentRtl();var _f=this.left;if(_e){this.rtl=_e;_f=this._getRTLPositionLeft(_f,this.width);}var _g;if(nexacro._OS=="Android"&&nexacro._Browser=="Runtime"){_g=nexacro.__createPluginElementHandle(this,_b,_f,this.top,this.width,this.height);if(this._pluginname){nexacro.__setPluginElementHandlePluginName(_g,this._pluginname);}}else if(nexacro._OS=="OSX"&&nexacro._Browser=="Runtime"){_g=nexacro.__createPluginElementHandle(this,_b,_f,this.top,this.width,this.height);if(this._pluginname){nexacro.__setPluginElementHandlePluginName(_g,this._pluginname);}}else{_g=nexacro._plugin.__createWebViewPluginElementHandle(this,_b,_f,this.top,this.width,this.height);}var _h=this._params;var _i,_j=(_h?_h.length:0);for(_i=0;_i<_j;_i++ ){nexacro.__setPluginElementHandleAttribute(_g,_h.get_id(_i),_h.get_item(_i));}if(this.mimetype&&this.classid==""){var _k=this._events;var _l=_k.length;for(_i=0;_i<_l;_i++ ){this.addEventHandler(_k.get_id(_i),_k.get_item(_i));}}if(!this.visible||(_d&&_d.visible==false)){nexacro.__setElementHandleVisible(_g,false);if(this.visible){this.visible=false;}}if(!this.enable||(_d&&_d.enable==false)){nexacro.__setElementHandleEnable(_g,false);if(this.enable){this.enable=false;}}if(this.windowed){nexacro.__setPluginElementHandleWindowed(_g,this.windowed);if(this.popupstyle){nexacro.__setPluginElementHandlePopupstyle(_g,this.popupstyle);}}if(this.font){nexacro.__setElementHandleFontObject(_g,this.font);}if(this.color){nexacro.__setElementHandleColorObject(_g,this.color);}this.handle=_g;this.initEvent();if(_c&&_c.handle){nexacro.__appendElementHandle(_c.dest_handle,_g);}if(nexacro._OS=="Android"&&nexacro._Browser=="Runtime"){nexacro.__createdPluginElementHandle(_g);}else if(nexacro._OS=="OSX"&&nexacro._Browser=="Runtime"){nexacro.__createdPluginElementHandle(_g);}else{nexacro._plugin.__createdWebViewPluginElementHandle(_g);}this._plugin_object=new nexacro.PluginObject();if(this._plugin_object){this._plugin_object.handle=nexacro.__getPluginElementHandleObject(this.handle);}}};__pWebViewPluginElement._setElementInternalFocus=nexacro._emptyFn;__pWebViewPluginElement._setElementLeaveMessage=nexacro._emptyFn;nexacro._VideoPlayerPluginElement=function(_a){this._p_parent=_a;this.parent_elem=_a;this.windowed=true;this._params=new nexacro.Collection();this._events=new nexacro.Collection();};var __pVideoPlayerPluginElement=nexacro._createPrototype(nexacro.PluginElement,nexacro._VideoPlayerPluginElement);nexacro._VideoPlayerPluginElement.prototype=__pVideoPlayerPluginElement;__pVideoPlayerPluginElement._type_name="VideoPlayerPluginElement";__pVideoPlayerPluginElement.classid="{6bf52a52-394a-11d3-b153-00c04f79faa6}";__pVideoPlayerPluginElement._pluginname="VideoPlayer";__pVideoPlayerPluginElement.initEvent=function(){if(this.handle){nexacro._observeWrapperEvent(this.handle,null,"_on_plugin_event",this._on_plugin_event);}};__pVideoPlayerPluginElement._on_plugin_event=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){var _k;var _l;var _m;var _n;var _o=(this.parent_elem?this.parent_elem.linkedcontrol:null);if(_o){if(_a=="PlayStateChange"){var _p=null;switch(_b){case 1:_p="stop";break;case 2:_p="pause";break;case 3:_p="play";break;case 4:_p="scanforward";break;case 5:_p="scanreverse";break;case 6:_p="buffer";break;case 7:_p="wait";break;case 8:_p="ended";break;case 9:_p="transition";break;case 10:_p="ready";break;default:_p="undefined";break;}_o._on_statuschanged(_p);}else if(_a=="OpenStateChange"){_k=this._plugin_object.getProperty("controls");if(_k){_l=_k.getProperty("currentItem");if(_l){var _q=_l.getProperty("imagesourcewidth");var _r=_l.getProperty("imagesourceheight");var _s=_l.getProperty("duration");var _t=_r/_q;if(_t==0.7500){_o.aspectratio="4 : 3";}else if(_t==0.5625){_o.aspectratio="16 : 9";}else if(_t==0.625){_o.aspectratio="16 : 10";}else if(_t==0.8){_o.aspectratio="4 : 3";}else if(_t==1){_o.aspectratio="1 : 1";}else{if(_q>0&&_r>0){var _u,_v;var _w,_x;if(_q<_r){_u=_q;_v=_r;}else{_u=_r;_v=_q;}while(_u%_v!=0){_w=_u%_v;_u=_v;_v=_w;}_x=_v;_q=_q/_x;_r=_r/_x;_o.aspectratio=_q+" : "+_r;}else{_o.aspectratio=_q+" : "+_r;}}if(_q>0&&_r>0){_o.videosize[0]=_q;_o.videosize[1]=_r;}else{_o.videosize[0]=0;_o.videosize[1]=0;}_o.duration=_s>0?Math.floor(_s* 1000):0;_l.destroy();}_k.destroy();}}else if(_a=="PositionChange"){var _y=Math.floor(_c* 1000);_o._on_currenttimechanged(_y);}else if(_a=="MediaError"){if(typeof _b=="object"){var _z=new nexacro.PluginObject();_z.handle=_b;{var _aa=_z.getProperty("error");if(_aa){var _ab=_aa.getProperty("errorCode");if(!nexacro._isNull(_ab)){var _ac=nexacro.__getHResultFromWin32(_ab).toUpperCase();switch(_ac){case "C00D11B0":case "C00D11B3":case "C00D11C0":case "C00D11C1":case "C00D11B1":_n=2;_m="error occurred when downloading";break;case "C00D11A1":case "C00D11A2":_n=3;_m="error occurred when decoding";break;case "C00D1199":case "C00D119A":case "C00D1197":_n=4;_m="video not supported";break;default:_n=1;_m="fetching process aborted by user";break;}}_aa.destroy();_o._on_error("NativeError",_m,_n);}_z.destroy();}}}else if(_a=="macVideoError"){_k=this._plugin_object.getProperty("error");if(_k){_l=_k.getProperty("Item");_m="error";_n=_b;if(_l){_m=_l.getProperty("errorDescription");_n=_l.getProperty("errorCode");_l.destroy();}_k.destroy();_o._on_error("NativeError",_m,_n);}}if(_o[_a]){var _ad=_o[_a];if(_ad){return _ad._fireEvent(this,_b,_c,_d,_e,_f,_g,_h,_i,_j);}}}};__pVideoPlayerPluginElement._setVideoUrl=function(_a,_b){var _c=_b;var _d;if(_c){_d=(_c+"").substring(_c.lastIndexOf(".")+1).toLowerCase();}var _e=this._getPluginObject();if(_e){_e.setProperty(_a,_b);}if(this._getType(_d)==false){var _f=(this.parent_elem?this.parent_elem.linkedcontrol:null);var _g=4;var _h="video not supported";if(_f){_f._on_error("NativeError",_h,_g);}}};__pVideoPlayerPluginElement._getType=function(_a){var _b=false;switch(_a){case "avi":case "mov":case "mp4":_b=true;break;}return _b;};__pVideoPlayerPluginElement._setVideoEnable=function(_a,_b){this.enable=_b;};__pVideoPlayerPluginElement._setVideoShowControlBar=function(_a,_b){var _c=this._getPluginObject();if(_c){var _d;if(nexacro._OS=="Windows"){_d="none";}else{if(_b==true){_d="full";}else{_d="none";}}_c.setProperty("uiMode",_d);}};__pVideoPlayerPluginElement._setVideoCurrentTime=function(_a,_b){if(_b>-1){var _c=this._getPluginObject();if(_c){var _d=_c.getProperty("controls");if(_d){var _e=_b/1000;_d.setProperty("currentPosition",_e);_d.destroy();}}}};__pVideoPlayerPluginElement._setVideoLoop=function(_a,_b){var _c=this._getPluginObject();if(_c){var _d=_c.getProperty("settings");if(_d){_d.callMethod("setMode","loop",_b);_d.destroy();}}};__pVideoPlayerPluginElement._setVideoAutoPlay=function(_a,_b){var _c=this._getPluginObject();if(_c){var _d=_c.getProperty("settings");if(_d){_d.setProperty("autostart",_b);_d.destroy();}}};__pVideoPlayerPluginElement._setVideoVolume=function(_a,_b){var _c=this._getPluginObject();if(_c){var _d=_c.getProperty("settings");if(_d){_d.setProperty("volume",_b);_d.destroy();}}};__pVideoPlayerPluginElement._setVideoMute=function(_a,_b){var _c=this._getPluginObject();if(_c){var _d=_c.getProperty("settings");if(_d){_d.setProperty("mute",_b);_d.destroy();}}};__pVideoPlayerPluginElement._setVideo360VRMode=function(_a,_b){};__pVideoPlayerPluginElement._play=function(){var _a=this._getPluginObject();if(_a){var _b=_a.getProperty("controls");if(_b){_b.callMethod("play");_b.destroy();}}};__pVideoPlayerPluginElement._pause=function(){var _a=this._getPluginObject();if(_a){var _b=_a.getProperty("controls");if(_b){_b.callMethod("pause");_b.destroy();}}};__pVideoPlayerPluginElement._rewind=function(){var _a=this._getPluginObject();if(_a){var _b=_a.getProperty("controls");if(_b){_b.callMethod("fastReverse");_b.destroy();}}};__pVideoPlayerPluginElement._stop=function(){var _a=this._getPluginObject();if(_a){var _b=_a.getProperty("controls");if(_b){_b.callMethod("stop");_b.destroy();}}};__pVideoPlayerPluginElement.destroy=function(){var _a=this._getPluginObject();if(_a){_a.callMethod("close");}};nexacro._GoogleMapPluginElement=function(_a){this._p_parent=_a;this.parent_elem=_a;this.parent_elem.windowed=true;this._params=new nexacro.Collection();this._events=new nexacro.Collection();};var __pGoogleMapPluginElement=nexacro._createPrototype(nexacro.PluginElement,nexacro._GoogleMapPluginElement);nexacro._GoogleMapPluginElement.prototype=__pGoogleMapPluginElement;__pGoogleMapPluginElement._type_name="GoogleMapElement";__pGoogleMapPluginElement._pluginname="GoogleMap";__pGoogleMapPluginElement.destroy=function(){nexacro.PluginElement.prototype.destroy.call(this);};__pGoogleMapPluginElement._setLoad=function(_a){if(this._plugin_object){this.callMethod("load",_a);}};__pGoogleMapPluginElement._setDestroy=function(_a){if(this._plugin_object){this.callMethod("destroy",_a);}};__pGoogleMapPluginElement._getAddress=function(_a){if(this._plugin_object){this.callMethod("getAddress",_a);}};__pGoogleMapPluginElement._getCoordinates=function(_a){if(this._plugin_object){this.callMethod("getCoordinates",_a);}};__pGoogleMapPluginElement._setRemove=function(_a){if(this._plugin_object){this.callMethod("removeItem",_a);}};__pGoogleMapPluginElement._setMarker=function(_a){if(this._plugin_object){this.callMethod("Marker",_a);}};__pGoogleMapPluginElement._setPolyline=function(_a){if(this._plugin_object){this.callMethod("Polyline",_a);}};__pGoogleMapPluginElement._setPolygon=function(_a){if(this._plugin_object){this.callMethod("Polygon",_a);}};__pGoogleMapPluginElement._setCircle=function(_a){if(this._plugin_object){this.callMethod("Circle",_a);}};__pGoogleMapPluginElement.initEvent=function(){if(this.handle){nexacro._observeWrapperEvent(this.handle,null,"_on_plugin_event",this._on_plugin_event,-1,null);}};__pGoogleMapPluginElement._on_plugin_event=function(_a,_b){var _c=(this.parent_elem?this.parent_elem.linkedcontrol:null);if(_c){var _d=nexacro._executeGlobalEvalStr("("+_b+")");if(_a=="GoogleMap"){if(_d.eventid=="onload"){if(_c.on_load_handler){return _c.on_load_handler(_d.eventid,_d.centerlocation,_d.coordinates,_d.viewmode,_d.zoomlevel,_d.addresses);}}else if(_d.eventid=="onerror"){if(_c.on_error_handler){return _c.on_error_handler(_d.eventid,_d.errormsg,_d.errorcode);}}else if(_d.eventid=="onrecvsuccess"){if(_c.on_recvsuccess_handler){return _c.on_recvsuccess_handler(_d.eventid,_d.centerlocation,_d.coordinates,_d.viewmode,_d.zoomlevel,_d.addresses);}}else if(_d.eventid=="onclick"){if(_c.on_click_handler){return _c.on_click_handler(_d.eventid,_d.location);}}else if(_d.eventid=="ondrag"){if(_c.on_drag_handler){return _c.on_drag_handler(_d.eventid,_d.location);}}else if(_d.eventid=="oncenterchanged"){if(_c.on_centerchanged_handler){return _c.on_centerchanged_handler(_d.eventid,_d.centerlocation,_d.coordinates,_d.viewmode,_d.zoomlevel,_d.addresses);}}else if(_d.eventid=="onmapdragstart"){if(_c.on_mapdragstart_handler){return _c.on_mapdragstart_handler(_d.eventid,_d.location);}}else if(_d.eventid=="onmapdrag"){if(_c.on_mapdrag_handler){return _c.on_mapdrag_handler(_d.eventid,_d.location);}}else if(_d.eventid=="onmapdragend"){if(_c.on_mapdragend_handler){return _c.on_mapdragend_handler(_d.eventid,_d.location);}}}}};nexacro.CanvasElement=function(_a){this._p_parent=_a;this.parent_elem=_a;};var _pCanvasElement=nexacro._createPrototype(nexacro.Element,nexacro.CanvasElement);nexacro.CanvasElement.prototype=_pCanvasElement;_pCanvasElement._type_name="CanvasElement";_pCanvasElement.lineOffset=0.5;_pCanvasElement.scale=10;_pCanvasElement.half_scale=5;_pCanvasElement.scalex=0;_pCanvasElement.scaley=0;_pCanvasElement.fillStyle=null;_pCanvasElement.strokeColor="#000000";_pCanvasElement.lineType="solid";_pCanvasElement.lineCap='butt';_pCanvasElement.lineJoin='miter';_pCanvasElement.lineWidth=1;_pCanvasElement.miterLimit=10;_pCanvasElement.shadowColor=null;_pCanvasElement.shadowOffsetX=0;_pCanvasElement.shadowOffsetY=0;_pCanvasElement.shadowBlur=0;_pCanvasElement.font=null;_pCanvasElement.textAlign="left";_pCanvasElement.textBaseline="top";_pCanvasElement.globalAlpha=1;_pCanvasElement.globalCompositeOperation=1;_pCanvasElement._fillStyle_rgb="#000000";_pCanvasElement.strokeStyle_rgb="#000000";_pCanvasElement.shadowColor_rgb="#000000";_pCanvasElement.create=function(_a){var _b=(this._is_nc_element)?this.parent_elem:this.parent_elem.getContainerElement(this.position_step);if(_b&&_b.handle){var _c=this.handle;if(!_c){this.owner_elem=_b;var _d=_a.handle||_b._getRootWindowHandle();var _e=this._isParentRtl();var _f=this.left;if(_e){this.rtl=_e;_f=this._getRTLPositionLeft(_f,this.width);}_c=nexacro.__createCanvasElementHandle(this,_d,_f,this.top,this.width,this.height);if(!this.font){this.font=new nexacro.FontObject("8px Arial");nexacro.__setCanvasElementHandleFontObject(_c,this.font);}if(!this.visible){nexacro.__setElementHandleVisible(_c,false);}this.handle=_c;nexacro.__appendElementHandle(_b.dest_handle,_c);}}};_pCanvasElement.destroy=function(){var _a=this.handle;if(_a){var _b=null;if(this.owner_elem&&this.owner_elem.handle){_b=this.owner_elem.handle;nexacro.__destroyElementHandle(_b,_a);}this.owner_elem=null;this.handle=null;}this._p_parent=null;this.parent_elem=null;};_pCanvasElement.createPattern=function(_a,_b,_c){var _d=this.handle;if(_d){var _e=new nexacro._CanvasFillPattern();_e.repeattype=_b;_e.value=_a;if(_a instanceof nexacro.CanvasElement){var _f=nexacro.__toDataURLCanvasElementHandle(_d);if(_f){var _g=new nexacro.Image();_g.set_src(_f);if(_c){_g.width=_c.width;_g.height=_c.height;}_e.imageobject=_g;_e.imageobject.handle=nexacro._getImageObject(_f,_e.onloadcallback,_e);}}else if(_a instanceof nexacro.Image){_e.imageobject=_a;if(_a.handle){_e.isloaded=true;}else{if(_c){_e.imageobject.width=_c.width;_e.imageobject.height=_c.height;}if(_a.src){_a.handle=nexacro._getImageObject(_a.src,_e.onloadcallback,_e);}else{_e.isloaded=false;}}}return _e;}return null;};_pCanvasElement.createLinearGradient=function(_a,_b,_c,_d){var _e=this.handle;if(_e){var _f=new nexacro._CanvasGradient('linear');_f.x0=_a;_f.y0=_b;_f.x1=_c;_f.y1=_d;return _f;}return null;};_pCanvasElement.createRadialGradient=function(_a,_b,_c,_d,_e,_f){var _g=this.handle;if(_g){var _h=new nexacro._CanvasGradient('radial');_h.x0=_a;_h.y0=_b;_h.r0=_c;_h.x1=_d;_h.y1=_e;_h.r1=_f;return _h;}return null;};_pCanvasElement.setElementFillStyle=function(_a){var _b=this.handle;if(_b&&_a){this.fillStyle=_a;if(_a instanceof nexacro._ColorObject){nexacro.__setCanvasElementHandleFillColor(_b,_a);}else if(_a instanceof nexacro._CanvasFillPattern){nexacro.__setCanvasFillPattern(_b,_a);}else{nexacro.__setCanvasFillGradation(_b,_a);}}};_pCanvasElement.setElementFont=function(_a){if(!_a){return;}this.font=_a;var _b=this.handle;if(_b){nexacro.__setCanvasElementHandleFontObject(_b,_a);}};_pCanvasElement.setElementGlobalAlpha=function(_a){this.globalAlpha=_a;var _b=this.handle;if(_b){nexacro.__setCanvasElementHandleGlobalAlpha(_b,_a);}};_pCanvasElement.setElementGlobalCompositeOperation=function(_a){this.globalCompositeOperation=_a;var _b=this.handle;if(_b){nexacro.__setCanvasElementHandleGlobalCompositoperation(_b,_a);}};_pCanvasElement.setElementLineStyle=function(_a){var _b=this.handle;if(_b){this.lineType=_a;nexacro.__setCanvasElementHandleLineStyle(_b,_a);}};_pCanvasElement.setElementLineCap=function(_a){var _b=this.handle;if(_b){this.lineCap=_a;nexacro.__setCanvasElementHandleLineCap(_b,_a);}};_pCanvasElement.setElementLineJoin=function(_a){var _b=this.handle;if(_b){this.lineJoin=_a;nexacro.__setCanvasElementHandleLineJoin(_b,_a);}};_pCanvasElement.setElementLineWidth=function(_a){var _b=this.handle;if(_b&&isFinite(_a)){this.lineWidth=_a;this.lineOffset=Math.round(_a/2);nexacro.__setCanvasElementHandleLineWidth(_b,_a);}};_pCanvasElement.setElementMiterLimit=function(_a){var _b=this.handle;if(_b){this.miterLimit=_a;nexacro.__setCanvasElementHandleMiterLimit(_b,_a);}};_pCanvasElement.setElementShadowBlur=function(_a){var _b=this.handle;if(_b){this.shadowBlur=_a;nexacro.__setCanvasElementHandleShadowBlur(_b,_a);}};_pCanvasElement.setElementShadowColor=function(_a){var _b=this.handle;if(_b){this.shadowColor=_a;nexacro.__setCanvasElementHandleShadowColor(_b,nexacro._getWebColorFromXreColor(_a.value));}};_pCanvasElement.setElementShadowOffsetX=function(_a){var _b=this.handle;if(_b){this.shadowOffsetX=_a;nexacro.__setCanvasElementHandleShadowOffsetx(_b,_a);}};_pCanvasElement.setElementShadowOffsetY=function(_a){var _b=this.handle;if(_b){this.shadowOffsetY=_a;nexacro.__setCanvasElementHandleShadowOffsety(_b,_a);}};_pCanvasElement.setElementStrokeStyle=function(_a){var _b=this.handle;if(_b&&_a){this.strokeStyle=_a;nexacro.__setCanvasElementHandleStrokeColor(_b,_a);}};_pCanvasElement.setElementTextAlign=function(_a){var _b=this.handle;if(_b){this.textAlign=_a;nexacro.__setCanvasElementHandleTextAlign(_b,_a);}};_pCanvasElement.setElementTextBaseline=function(_a){var _b=this.handle;if(_b){this.textBaseline=_a;nexacro.__setCanvasElementHandleTextBaseline(_b,_a);}};_pCanvasElement.arc=function(_a,_b,_c,_d,_e,_f){var _g=this.handle;if(_g){_f=(_f)?false:_f;nexacro.__plotCanvasElementHandleArcPath(_g,_a,_b,_c,_d,_e,_f);}};_pCanvasElement.arcTo=function(_a,_b,_c,_d,_e){var _f=this.handle;if(_f){nexacro.__plotCanvasElementHandleArcToPath(_f,_a,_b,_c,_d,_e);}};_pCanvasElement.beginPath=function(){var _a=this.handle;if(_a){nexacro.__plotCanvasElementHandleBeginPath(_a);}};_pCanvasElement.bezierCurveTo=function(_a,_b,_c,_d,_e,_f){var _g=this.handle;if(_g){nexacro.__plotCanvasElementHandleBezierCurveToPath(_g,_a,_b,_c,_d,_e,_f);}};_pCanvasElement.clearRect=function(_a,_b,_c,_d){var _e=this.handle;if(_e){nexacro.__clearCanvasElementHandleRect(_e,_a,_b,_c,_d);}};_pCanvasElement.clip=function(){var _a=this.handle;if(_a){nexacro.__clipCanvasElementHandle(_a);}};_pCanvasElement.closePath=function(){var _a=this.handle;if(_a){nexacro.__plotCanvasElementHandleClosePath(_a);}};_pCanvasElement.createImageData=function(_a,_b){var _c=this.handle;if(_c){return nexacro.__createCanvasElementHandleImageData(_c,_a,_b);}};_pCanvasElement.drawImage=function(_a,_b,_c,_d,_e){var _f=this.handle;if(_f){var _g=_a.src;if(_g&&_g.substring(0,4).toLowerCase()=="url("){_g=_g.substring(5,_g.length-2);}if(_g&&!nexacro._isAbsolutePath(_g)){_g=nexacro._getImageLocation(_g);}nexacro.__drawCanvasElementHandleImage(_f,_g,_b,_c,_d,_e);}};_pCanvasElement.fill=function(){var _a=this.handle;if(_a){nexacro.__fillCanvasElementHandlePath(_a);}};_pCanvasElement.fillRect=function(_a,_b,_c,_d){var _e=this.handle;if(_e){nexacro.__fillCanvasElementHandleRect(_e,_a,_b,_c,_d);}};_pCanvasElement.fillText=function(_a,_b,_c,_d){var _e=this.handle;if(_e){var _f=this.font;if(_f){nexacro.__setCanvasElementHandleFontObject(_e,_f);}var _g=this.fillStyle;if(_g){nexacro.__setCanvasElementHandleFillColor(_e,nexacro._getWebColorFromXreColor(_g.value));}nexacro.__fillCanvasElementHandleText(_e,_a,_b,_c,_d);}};_pCanvasElement.getImageData=function(_a,_b,_c,_d){var _e=this.handle;if(_e){return nexacro.__getCanvasElementHandleImageData(_e,_a,_b,_c,_d);}};_pCanvasElement.isPointInPath=function(_a,_b){var _c=this.handle;if(_c){return nexacro.__isPointInCanvasElementHandlePath(_c,_a,_b);}};_pCanvasElement.lineTo=function(_a,_b){var _c=this.handle;if(_c){nexacro.__plotCanvasElementHandleLineToPath(_c,_a,_b);}};_pCanvasElement.moveTo=function(_a,_b){var _c=this.handle;if(_c){nexacro.__plotCanvasElementHandleMoveToPath(_c,_a,_b);}};_pCanvasElement.putImageData=function(_a,_b,_c,_d,_e,_f,_g){var _h=this.handle;if(_h){nexacro.__putCanvasElementHandleImageData(_h,_a,_b,_c,_d,_e,_f,_g);}};_pCanvasElement.quadraticCurveTo=function(_a,_b,_c,_d){var _e=this.handle;if(_e){nexacro.__plotCanvasElementHandleQuadraticCurveToPath(_e,_a,_b,_c,_d);}};_pCanvasElement.rect=function(_a,_b,_c,_d){var _e=this.handle;if(_e){nexacro.__plotCanvasElementHandleRectPath(_e,_a,_b,_c,_d);}};_pCanvasElement.rotate=function(_a){var _b=this.handle;if(_b){nexacro.__rotateCanvasElementHandle(_b,_a);}};_pCanvasElement.rotate2=function(_a){var _b=this.handle;if(_b){var _c=_a* Math.PI/180;nexacro.__rotateCanvasElementHandle(_b,_c);}};_pCanvasElement.scale=function(_a,_b){var _c=this.handle;this.scalex=_a;this.scaley=_b;if(_c){nexacro.__scaleCanvasElementHandle(_c,_a,_b);}};_pCanvasElement.setTransform=function(_a,_b,_c,_d,_e,_f){var _g=this.handle;if(_g){nexacro.__setCanvasElementHandleTransform(_g,_a,_b,_c,_d,_e,_f);}};_pCanvasElement.stroke=function(){var _a=this.handle;if(_a){nexacro.__strokeCanvasElementHandlePath(_a);}};_pCanvasElement.strokeRect=function(_a,_b,_c,_d){var _e=this.handle;if(_e){nexacro.__strokeCanvasElementHandleRect(_e,_a,_b,_c,_d);}};_pCanvasElement.strokeText=function(_a,_b,_c,_d){var _e=this.handle;if(_e){nexacro.__strokeCanvasElementHandleText(_e,_a,_b,_c,_d);}};_pCanvasElement.transform=function(_a,_b,_c,_d,_e,_f){var _g=this.handle;if(_g){nexacro.__transformCanvasElementHandle(_g,_a,_b,_c,_d,_e,_f);}};_pCanvasElement.translate=function(_a,_b){var _c=this.handle;if(_c){nexacro.__translateCanvasElementHandle(_c,_a,_b);}};_pCanvasElement.arc2=function(_a,_b,_c,_d,_e,_f){var _g=this.handle;if(_g){var _h=_d* Math.PI/180;var _i=_e* Math.PI/180;nexacro.__plotCanvasElementHandleArcPath(_g,_a,_b,_c,_h,_i,_f);}};_pCanvasElement.circle=function(_a,_b,_c){var _d=this.handle;if(_d){nexacro.__plotCanvasElementHandleArcPath(_d,_a,_b,_c,0,2* Math.PI,true);}};_pCanvasElement.drawStrokeArc=function(_a,_b,_c,_d,_e,_f){var _g=this.handle;if(_g){this.arc(_a,_b,_c,_d,_e,_f);nexacro.__strokeCanvasElementHandlePath(_g);nexacro.__plotCanvasElementHandleBeginPath(_g);}};_pCanvasElement.drawStrokeArc2=function(_a,_b,_c,_d,_e,_f){var _g=this.handle;if(_g){this.arc2(_a,_b,_c,_d,_e,_f);nexacro.__strokeCanvasElementHandlePath(_g);nexacro.__plotCanvasElementHandleBeginPath(_g);}};_pCanvasElement.drawStrokeCircle=function(_a,_b,_c){var _d=this.handle;if(_d){nexacro.__plotCanvasElementHandleArcPath(_d,_a,_b,_c,0,2* Math.PI,true);nexacro.__strokeCanvasElementHandlePath(_d);nexacro.__plotCanvasElementHandleBeginPath(_d);}};_pCanvasElement.drawStrokeLine=function(_a,_b,_c,_d){var _e=this.handle;if(_e){nexacro.__plotCanvasElementHandleMoveToPath(_e,_a,_b);nexacro.__plotCanvasElementHandleLineToPath(_e,_c,_d);this.drawStroke();}};_pCanvasElement.drawStrokeVLine=function(_a,_b,_c){var _d=this.handle;if(_d){nexacro.__plotCanvasElementHandleMoveToPath(_d,_a,_b);nexacro.__plotCanvasElementHandleLineToPath(_d,_a,_c);this.drawStroke();}};_pCanvasElement.drawStrokeHLine=function(_a,_b,_c){var _d=this.handle;if(_d){nexacro.__plotCanvasElementHandleMoveToPath(_d,_b,_a);nexacro.__plotCanvasElementHandleLineToPath(_d,_c,_a);this.drawStroke();}};_pCanvasElement.drawStrokeInsetArc=function(_a,_b,_c,_d,_e,_f){var _g=this.handle;if(_g){var _h=this.lineOffset;_d=_d* (Math.PI/180);_e=_e* (Math.PI/180);nexacro.__plotCanvasElementHandleArcPath(_g,_a,_b,_c-_h,_d,_e,_f);nexacro.__strokeCanvasElementHandlePath(_g);nexacro.__plotCanvasElementHandleBeginPath(_g);}};_pCanvasElement.drawStrokeInsetCircle=function(_a,_b,_c){var _d=this.handle;if(_d){var _e=this.lineOffset;nexacro.__plotCanvasElementHandleArcPath(_d,_a,_b,_c-_e,0,2* Math.PI,true);nexacro.__strokeCanvasElementHandlePath(_d);nexacro.__plotCanvasElementHandleBeginPath(_d);}};_pCanvasElement.drawStrokeInsetRect=function(_a,_b,_c,_d){var _e=this.handle;if(_e){this.insetRect(_a,_b,_c,_d);nexacro.__strokeCanvasElementHandlePath(_e);nexacro.__plotCanvasElementHandleBeginPath(_e);}};_pCanvasElement.drawStrokeRect=function(_a,_b,_c,_d){var _e=this.handle;if(_e){nexacro.__plotCanvasElementHandleRectPath(_e,_a,_b,_c,_d);nexacro.__strokeCanvasElementHandlePath(_e);nexacro.__plotCanvasElementHandleBeginPath(_e);}};_pCanvasElement.drawFillRect=function(_a,_b,_c,_d){var _e=this.handle;if(_e){nexacro.__plotCanvasElementHandleRectPath(_e,_a,_b,_c,_d);nexacro.__fillCanvasElementHandlePath(_e);nexacro.__plotCanvasElementHandleBeginPath(_e);}};_pCanvasElement.drawFillText=function(_a,_b,_c,_d){var _e=this.handle;if(_e){var _f=this.font;if(_f){nexacro.__setCanvasElementHandleFontObject(_e,_f);}var _g=this.fillStyle;if(_g){nexacro.__setCanvasElementHandleFillColor(_e,nexacro._getWebColorFromXreColor(_g.value));}nexacro.__setCanvasElementHandleTextBaseline(_e,this.textBaseline);nexacro.__fillCanvasElementHandleText(_e,_a,_b,_c,_d);nexacro.__plotCanvasElementHandleBeginPath(_e);}};_pCanvasElement.endDraw=function(){var _a=this.handle;if(_a){nexacro.__plotCanvasElementHandleBeginPath(_a);nexacro.__plotCanvasElementHandleClosePath(_a);}};_pCanvasElement.drawFill=function(){var _a=this.handle;if(_a){nexacro.__fillCanvasElementHandlePath(_a);nexacro.__plotCanvasElementHandleBeginPath(_a);}};_pCanvasElement.drawStroke=function(){var _a=this.handle;if(_a){nexacro.__strokeCanvasElementHandlePath(_a);nexacro.__plotCanvasElementHandleBeginPath(_a);}};_pCanvasElement.drawFillArc=function(_a,_b,_c,_d,_e,_f){var _g=this.handle;if(_g){this.arc(_a,_b,_c,_d,_e,_f);nexacro.__plotCanvasElementHandleClosePath(_g);nexacro.__fillCanvasElementHandlePath(_g);nexacro.__plotCanvasElementHandleBeginPath(_g);}};_pCanvasElement.drawFillArc2=function(_a,_b,_c,_d,_e,_f){var _g=this.handle;if(_g){this.arc2(_a,_b,_c,_d,_e,_f);nexacro.__plotCanvasElementHandleClosePath(_g);nexacro.__fillCanvasElementHandlePath(_g);nexacro.__plotCanvasElementHandleBeginPath(_g);}};_pCanvasElement.drawFillCircle=function(_a,_b,_c){var _d=this.handle;if(_d){nexacro.__plotCanvasElementHandleArcPath(_d,_a,_b,_c,0,2* Math.PI,true);nexacro.__fillCanvasElementHandlePath(_d);nexacro.__plotCanvasElementHandleBeginPath(_d);}};_pCanvasElement.hline=function(_a,_b,_c){this.moveTo(_b,_a);this.lineTo(_c,_a);};_pCanvasElement.vline=function(_a,_b,_c){this.moveTo(_a,_b);this.lineTo(_a,_c);};_pCanvasElement.insetRect=function(_a,_b,_c,_d){var _e=this.handle;if(_e){if(_c==0||_d==0){return;}var _f=this.lineOffset;var _g=(_c>0)?_f: -_f;var _h=(_d>0)?_f: -_f;nexacro.__plotCanvasElementHandleMoveToPath(_e,_a+_g,_b+_h);nexacro.__plotCanvasElementHandleLineToPath(_e,_a+_g,_b+_d-_h);nexacro.__plotCanvasElementHandleLineToPath(_e,_a+_c-_g,_b+_d-_h);nexacro.__plotCanvasElementHandleLineToPath(_e,_a+_c-_g,_b+_h);nexacro.__plotCanvasElementHandleClosePath(_e);}};_pCanvasElement.measureText=function(_a,_b){var _c=this.handle;if(_c){if(!_b){_b=new nexacro.FontObject();}var _d=nexacro._getTextSize(_a,_b);return {width:_d[0],height:_d[1]};}};_pCanvasElement.save=function(){var _a=this.handle;if(_a){nexacro.__saveCanvasElementHandle(_a);}};_pCanvasElement.restore=function(){var _a=this.handle;if(_a){return nexacro.__restoreCanvasElementHandle(_a);}};_pCanvasElement.toDataURL=function(_a,_b){var _c=this.handle;if(_c){var _d=nexacro.__toDataURLCanvasElementHandle(_c,_a,_b);if(_d){var _e=new nexacro.Image();_e.set_src(_d);return _e;}}};_pCanvasElement._setLineStyle=function(_a){if(_a){this.setElementStrokeStyle(_a.color);this.setElementLineWidth(parseInt(_a.width));}};_pCanvasElement._setPenStyle=function(_a){if(_a){this.setElementStrokeStyle(_a.color);this.setElementLineWidth(parseInt(_a.width));}};_pCanvasElement._moveCanvas=function(_a,_b,_c,_d){this.left=_a||0;this.top=_b||0;this.width=_c||0;this.height=_d||0;var _e=this.handle;if(_e){var _f=this._getRTLPositionLeft(_a,this.width);nexacro.__setElementHandleSize(_e,_c,_d);nexacro.__setElementHandlePosition(_e,_f,_b);}};_pCanvasElement._getElementScreenXY=function(){return nexacro._getElementPositionInFrame(this);};nexacro._CanvasFillPattern=function(){this.imageobject=null;this.repeattype=null;this.value=null;this.isloaded=false;this.control=null;this.controlonloadcallback=null;};var __pCanvasFillPattern=nexacro._CanvasFillPattern.prototype;__pCanvasFillPattern.onloadcallback=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){if(_b>0){this.imageobject.width=_b;}if(_c>0){this.imageobject.height=_c;}this.isloaded=true;if(_e<0){this.isloaded=false;}else{if(_d){this.imageobject.handle=_d;}}if(this.control&&this.controlonloadcallback){this.control.call(this.controlonloadcallback,this);}};__pCanvasFillPattern.clear=function(){if(this.imageobject){delete this.imageobject;}this.imageobject=null;this.repeattype=null;this.value=null;this.isloaded=null;this.control=null;this.controlonloadcallback=null;};nexacro._CanvasGradient=function(_a){this.type=_a;this.x0=0;this.y0=0;this.r0=0;this.x1=0;this.y1=0;this.r1=0;this.colors=[];};var __pCanvasGradient=nexacro._CanvasGradient.prototype;__pCanvasGradient.addColorStop=function(_a,_b){var _c=nexacro._getWebColorFromXreColor(_b);this.colors.push({offset:_a,color:_c});};nexacro.GridScrollableControlElement=function(_a){this._p_parent=_a;this.parent_elem=_a;this._target_vscroll_elements=null;this._target_hscroll_elements=null;var _b=new nexacro._ContainerElement(this);this._client_elem=_b;};var _pGridScrollableControlElement=nexacro._createPrototype(nexacro.ScrollableControlElement,nexacro.GridScrollableControlElement);nexacro.GridScrollableControlElement.prototype=_pGridScrollableControlElement;_pGridScrollableControlElement._type_name="GridScrollableControlElement";_pGridScrollableControlElement._on_destroy=function(){this._target_vscroll_elements=null;this._target_hscroll_elements=null;this._hscroll_control=null;this._vscroll_control=null;};_pGridScrollableControlElement.getContainerElement=function(){return this._client_elem;};_pGridScrollableControlElement.setVertScrollElements=function(_a){this._target_vscroll_elements=_a;};_pGridScrollableControlElement.setHorzScrollElements=function(_a){this._target_hscroll_elements=_a;};_pGridScrollableControlElement._setContainerVScrollPos=function(_a){var _b=this._target_vscroll_elements;if(_b){{_b.setElementVScrollPos(_a);}}};_pGridScrollableControlElement._setContainerHScrollPos=function(_a){var _b=this._target_hscroll_elements;if(_b){if(nexacro._isArray(_b)){var _c;for(var _d=0,_e=_b.length;_d<_e;_d++ ){_c=_b[_d];_c.setElementHScrollPos(_a);}}else{_b.setElementHScrollPos(_a);}}};_pGridScrollableControlElement._setContainerMaxHeight=function(_a){var _b=this._target_vscroll_elements;if(_b){this.container_maxheight=_a;if(nexacro._isArray(_b)){var _c;for(var _d=0,_e=_b.length;_d<_e;_d++ ){_c=_b[_d];_c._setContainerMaxHeight(_a);}}else{_b._setContainerMaxHeight(_a);}}};_pGridScrollableControlElement._setContainerMaxWidth=function(_a){var _b=this._target_hscroll_elements;if(_b){this.container_maxwidth=_a;if(nexacro._isArray(_b)){var _c;for(var _d=0,_e=_b.length;_d<_e;_d++ ){_c=_b[_d];_c._setContainerMaxWidth(_a);}}else{_b._setContainerMaxWidth(_a);}}};_pGridScrollableControlElement._on_updateClientRect=function(){var _a=0;var _b=0;var _c=this.inner_width;var _d=this.inner_height;var _e=this.padding?this.padding:this._padding_info;if(_e){_a=_e.left;_b=_e.top;_c-=_e.left+_e.right;_d-=_e.top+_e.bottom;}var _f=this._client_elem;if(!_f||(_c==0&&this.client_width==0)||(_d==0&&this.client_height==0)){return 0;}var _g=this._target_vscroll_elements,_h=_g,_i=this._target_hscroll_elements,_j=_i;if(nexacro._isArray(_g)){_h=_g[0];}if(nexacro._isArray(_i)){_j=_i[0];}var _k=this.zoom/100;var _l=this._zclient_width=_c/_k;var _m=this._zclient_height=_d/_k;var _n=((_j)?_j._calculateClientWidth(_c):_c)/_k;var _o=((_h)?_h._calculateClientHeight(_d-this.client_height):_d)/_k;var _p=(_j)?_j._getContainerMaxWidth():0;var _q=(_h)?_h._getContainerMaxHeight():0;var _r=this.scroll_left;var _s=this.scroll_top;var _t=4;if(_k!=1){_l=nexacro._floor(_l,_t);_m=nexacro._floor(_m,_t);_n=nexacro._floor(_n,_t);_o=nexacro._floor(_o,_t);_p=nexacro._floor(_p,_t);_q=nexacro._floor(_q,_t);}var _u=this._step_count;var _v=this._pre_step_count;var _w=false;_w=_u!=_v;var _x=this._step_containers;if((_u>0&&_x)!=_w){_p=_u* _n;}this._vscroll_visible=false;var _y=0;var _z=0;var _aa=this._hscrollbartype;var _ab=this._vscrollbartype;if((_u>0&&_x)||_w){_aa="none";}if(_n>=0&&_p>_n){_y=_p-_n;if(_aa!="none"&&_aa!="autoindicator"){_d-=this._hscroll_size;_m=nexacro._floor(_d/_k,_t);_o-=nexacro._floor(this._hscroll_size/_k,_t);}}else{if(_aa=="fixed"){_d-=this._hscroll_size;_m=nexacro._floor(_d/_k,_t);_o-=nexacro._floor(this._hscroll_size/_k,_t);}}if(_o<0){_o=0;}if(_o>=0&&_q>_o){_z=_q-_o;if(_ab!="none"&&_ab!="autoindicator"){_c-=this._vscroll_size;_l=nexacro._floor(_c/_k,_t);_n-=nexacro._floor(this._vscroll_size/_k,_t);this._vscroll_visible=true;}if(_n>=0&&_p>_n){if(_aa!="none"&&_aa!="autoindicator"&&_y==0){_d-=this._hscroll_size;_m=_d/_k;_z+=this._hscroll_size;}_y=_p-_n;}}else{if(_ab=="fixed"){_c-=this._vscroll_size;_l=nexacro._floor(_c/_k,_t);_n-=nexacro._floor(this._vscroll_size/_k,_t);this._vscroll_visible=true;if(_n>=0&&_p>_n){_y=_p-_n;}}}if((_u>0&&_x)||_w){_p=_u* _n;if(_n>=0&&_p>_n){_y=_p-_n;}}if(this.hscroll_limit!=_y){this.hscroll_limit=_y;if(_r>_y){this.setElementHScrollPos(_y);}}if(this.vscroll_limit!=_z){this.vscroll_limit=_z;if(_s>_z){this.setElementVScrollPos(_z);}}this._zclient_width=_l;this._zclient_height=_m;var _ac=0;if(this.client_left!=_a||this.client_top!=_b||this._isRtl()){this.client_left=_a;this.client_top=_b;_ac=1;}else if(_u>0){_ac=1;}if(this.client_width!=_c||this.client_height!=_d){this.client_width=_c;this.client_height=_d;_ac+=2;}else if(nexacro._floor(this.client_width,_t)!=nexacro._floor(_l,_t)||nexacro._floor(this.client_height,_t)!=nexacro._floor(_m,_t)){_ac+=2;}return _ac;};_pGridScrollableControlElement.setElementHScrollPos=function(_a){if(this.parent._p_enableredraw==false){this.parent._enable_redraw_history.scroll=true;return;}var _b=this._target_hscroll_elements;if(_b){if(nexacro._isArray(_b)){_b=_b[0];}if(_a<0){_a=0;}if(_a>this.hscroll_limit){_a=this.hscroll_limit;}var _c=_b.scroll_left;if(_c!=_a||this._reset_scrollpos){this.scroll_left=_a;this.linkedcontrol._scroll_left=_a;this._setContainerHScrollPos(_a);}}};_pGridScrollableControlElement.setElementVScrollPos=function(_a){if(this.parent._p_enableredraw==false){this.parent._enable_redraw_history.scroll=true;return;}var _b=this._target_vscroll_elements;if(_b){if(nexacro._isArray(_b)){_b=_b[0];}if(_a<0){_a=0;}if(_a>this.vscroll_limit){_a=this.vscroll_limit;}var _c=_b._getScrollTop();this.scroll_top=_a;if(_c!=_a||this._reset_scrollpos){this.linkedcontrol._scroll_top=_a;this._setContainerVScrollPos(_a);}}};_pGridScrollableControlElement.setElementScrollPos=function(_a,_b){if(this.parent._p_enableredraw==false){this.parent._enable_redraw_history.scroll=true;return;}var _c=this._target_vscroll_elements;var _d=this._target_hscroll_elements;if(_d){if(nexacro._isArray(_d)){_d=_d[0];}if(_a<0){_a=0;}if(_a>this.hscroll_limit){_a=this.hscroll_limit;}var _e=_d.scroll_left;if(_e!=_a){this.scroll_left=_a;this.linkedcontrol._scroll_left=_a;this._setContainerHScrollPos(_a);}}if(_c){if(nexacro._isArray(_c)){_c=_c[0];}if(_b<0){_b=0;}if(_b>this.vscroll_limit){_b=this.vscroll_limit;}var _f=_c._getScrollTop();if(_f!=_b){this.scroll_top=_b;this.linkedcontrol._scroll_top=_b;this._setContainerVScrollPos(_b);}}};_pGridScrollableControlElement._setInnerElementScrollMaxTops=nexacro._emptyFn;_pGridScrollableControlElement.setElementScrollMaxSize=function(_a,_b){if(this._client_elem){this._client_elem.setElementScrollMaxSize(_a,_b);}var _c=this._target_vscroll_elements;if(nexacro._isArray(_c)){_c=_c[0];}this._setContainerMaxHeight(_b);this._setContainerMaxWidth(_a);if(_c){this._updateClientRect();}};nexacro.GridBandControlElement=function(_a,_b){this._p_parent=_a;this.parent_elem=_a;this._type=_b;this._client_elem=new nexacro._GridBandContainerElement(this);this._client_elem_fix=null;this._fix_height=0;this.container_maxwidth=0;this.container_maxheight=0;this._cur_border=null;};var _pGridBandControlElement=nexacro._createPrototype(nexacro.ControlElement,nexacro.GridBandControlElement);nexacro.GridBandControlElement.prototype=_pGridBandControlElement;_pGridBandControlElement._type_name="GridBandControlElement";_pGridBandControlElement.scroll_left=0;_pGridBandControlElement.scroll_top=0;_pGridBandControlElement.create=function(_a){var _b=(this._is_nc_element)?this.parent_elem:this.parent_elem.getContainerElement(this.position_step);if(_b&&_b.handle&&!this.handle){this.owner_elem=_b;var _c=_a.handle||_b._getRootWindowHandle();var _d=this._classname?this._classname:this._getElementClassName();var _e=this._isParentRtl();var _f=this.left;if(_e){_f=this._getRTLPositionLeft(_f,this.width);}var _g=nexacro.__createControlElementHandle(this,_c,_f,this.top,this.width,this.height,_d,this.name,this._is_control);this._refreshControl(_g);this.handle=this.dest_handle=_g;nexacro.__appendElementHandle((this._is_nc_element)?_b.handle:_b.dest_handle,_g);if(!this._client_elem.handle){this._client_elem.create(_a);}if(this._client_elem_fix&&!this._client_elem_fix.handle){this._client_elem_fix.create(_a);}}};_pGridBandControlElement.destroy=function(){if(this._client_elem_fix){this._client_elem_fix.destroy();this._client_elem_fix=null;}return nexacro.ControlElement.prototype.destroy.call(this);};_pGridBandControlElement._setFixArea=function(_a){this._fix_height=_a;if(_a){if(!this._client_elem_fix){this._client_elem_fix=new nexacro._GridBandContainerElement(this);}}else{if(this._client_elem_fix){this._client_elem_fix.destroy();this._client_elem_fix=null;}}if(this.handle&&this._client_elem_fix&&!this._client_elem_fix.handle){var _b=this.linkedcontrol._getWindow();this._client_elem_fix.create(_b);}this._updateClientSize();};_pGridBandControlElement.getContainerElement=function(_a){if(_a){return this._client_elem_fix;}return this._client_elem;};_pGridBandControlElement._setContainerMaxHeight=function(_a){if(this._type=="body"){if(this.container_maxheight!=_a){this.container_maxheight=_a;}}};_pGridBandControlElement._resetExtendContainer=function(){};_pGridBandControlElement._calculateClientHeight=function(_a){var _b=this.border||this.linkedcontrol._getCSSStyleValue("border","enabled");var _c=this.client_height+_a+((_b)?_b._getBorderHeight():0);return _c;};_pGridBandControlElement._getContainerMaxHeight=function(){if(this._type=="body"){return this.container_maxheight;}else{return this.client_height;}};_pGridBandControlElement._getScrollTop=function(){if(this._type=="body"){return this.scroll_top;}else{return 0;}};_pGridBandControlElement.setElementScrollMaxSize=function(_a,_b){if(this._client_elem){this._client_elem.setElementScrollMaxSize(_a,_b);}};_pGridBandControlElement._on_change_clientSize=function(_a,_b){nexacro.ControlElement.prototype._on_change_clientSize.call(this,_a,_b);var _c=this._client_elem_fix;if(_c){_c.setElementSize(_a,this._fix_height);}};_pGridBandControlElement._on_updateClientRect=function(){var _a=0;var _b=0;var _c=0;var _d=this.inner_width;var _e=this.inner_height;if(!this._cur_border){this._cur_border=this.border||this.linkedcontrol._getCSSStyleValue("border","normal");}var _f=this._cur_border;if(_f){_d+=_f._getBorderWidth();_e+=_f._getBorderHeight();}var _g=this._fix_height;_c+=_g;_e-=_g;if(this.client_left!=_b||this.client_top!=_c||this._isRtl()){this.client_left=_b;this.client_top=_c;_a=1;}if(this.client_width!=_d||this.client_height!=_e){this.client_width=_d;this.client_height=_e;_a+=2;}return _a;};_pGridBandControlElement._updateClientSize=function(){var _a=0;var _b=0;var _c=this.inner_width;var _d=this.inner_height;if(!this._cur_border){this._cur_border=this.border||this.linkedcontrol._getCSSStyleValue("border","normal");}var _e=this._cur_border;if(_e){_c+=_e._getBorderWidth();_d+=_e._getBorderHeight();}var _f=this._fix_height;_b+=_f;_d-=_f;var _g=this._client_elem_fix;if(_g){_g.setElementPosition(_a,0);_g.setElementSize(_c,_f);}var _h=this._client_elem;if(_h){if(this.client_left!=_a||this.client_top!=_b||this._isRtl()){this.client_left=_a;this.client_top=_b;_h.setElementPosition(_a,_b);}if(this.client_width!=_c||this.client_height!=_d){this.client_width=_c;this.client_height=_d;_h.setElementSize(_c,_d);}}else{this.client_left=_a;this.client_top=_b;this.client_width=_c;this.client_height=_d;}};_pGridBandControlElement.setElementVScrollPos=function(_a){if(this._type=="body"){this._client_elem.setElementVScrollPos(_a);this.scroll_top=_a;}};_pGridBandControlElement._setOnScrollCallbackTarget=function(_a){if(this._type=="body"){this._client_elem._grid=_a;}};_pGridBandControlElement._getExtendContainerCount=function(){return 0;};_pGridBandControlElement.setElementBorder=function(_a){var _b=nexacro.ControlElement.prototype.setElementBorder.call(this,_a);this._cur_border=_a;this._updateClientSize();this._client_elem._adjustPos();return _b;};nexacro._GridBandContainerElement=function(_a){this._p_parent=_a;this.parent_elem=_a;this._grid=null;};var __pGridBandContainerElement=nexacro._createPrototype(nexacro._ContainerElement,nexacro._GridBandContainerElement);nexacro._GridBandContainerElement.prototype=__pGridBandContainerElement;__pGridBandContainerElement._type_name="GridBandContainerElement";__pGridBandContainerElement._container_maxwidth=0;__pGridBandContainerElement._container_maxheight=0;__pGridBandContainerElement.destroy=function(){nexacro._ContainerElement.prototype.destroy.call(this);this._grid=null;};__pGridBandContainerElement.setElementVScrollPos=function(_a){if(this._scroll_top!=_a||this.parent._reset_scrollpos){this._scroll_top=_a;if(!this.parent._no_setscroll){var _b=this.handle;if(_b){nexacro.__setElementHandleVScrollPos(_b,_a);if(this._grid){this._grid._callback_onscroll(_a);}}}}};__pGridBandContainerElement._adjustPos=function(){this.setElementPosition(this.left,this.top);};__pGridBandContainerElement.setElementPosition=function(_a,_b){var _c=this.parent._cur_border;this.left=_a;this.top=_b;var _d=this.handle;if(_d){var _e=this._getRTLPositionLeft(_a,this.width);if(_c){if(this._isParentRtl()){_e=_e-_c.right._width;}else{_e=_e-_c.left._width;}_b=_b-_c.top._width;}if(_e||_b){nexacro.__setElementHandlePosition(_d,_e,_b);}else{nexacro.__clearElementHandlePosition(_d);}}};__pGridBandContainerElement.setElementSize=function(_a,_b,_c){var _d=this.parent._cur_border;this.width=_a;this.height=_b;if(_a<0){_a=0;}if(_b<0){_b=0;}var _e=this.handle;if(_e){var _f=this.left;var _g=this.top;var _h=this._getRTLPositionLeft(_f,_a);if(_d){_a=_a+_d.left._width+_d.right._width;_b=_b+_d.top._width+_d.bottom._width;if(this._isParentRtl()){_h=_h-_d.right._width;}else{_h=_h-_d.left._width;}_g=_g-_d.top._width;}if(_h||_g){nexacro.__setElementHandlePosition(_e,_h,_g);}else{nexacro.__clearElementHandlePosition(_e);}if(_a&&_b){nexacro.__setElementHandleSize(_e,_a,_b);}else{nexacro.__clearElementHandleSize(_e);}}};__pGridBandContainerElement.create=function(_a){var _b=nexacro._ContainerElement.prototype.create.call(this,_a);this._adjustPos();return _b;};nexacro.GridRowControlElement=function(_a,_b){this._p_parent=_a;this.parent_elem=_a;this._client_left_element=null;this._client_body_element=new nexacro._ContainerElement(this);this._client_right_element=null;this._use_translate_scroll=true;this._left_width=0;this._right_width=0;this._body_width=0;this.scroll_left=0;this._left_gap=_b;};var _pGridRowControlElement=nexacro._createPrototype(nexacro.ControlElement,nexacro.GridRowControlElement);nexacro.GridRowControlElement.prototype=_pGridRowControlElement;_pGridRowControlElement._type_name="GridRowControlElement";_pGridRowControlElement.create=function(_a){var _b=(this._is_nc_element)?this.parent_elem:this.parent_elem.getContainerElement(this.linkedcontrol._fixed);if(_b&&_b.handle){if(!this.handle){this.owner_elem=_b;var _c=_a.handle||_b._getRootWindowHandle();var _d=this._isParentRtl();var _e=this.left;if(_d){this.rtl=_d;_e=this._getRTLPositionLeft(_e,this.width);}var _f=nexacro.__createControlElementHandle(this,_c,_e,this.top,this.width,this.height,this._getElementClassName(),this.name,this._is_control);this._refreshControl(_f);this.handle=this.dest_handle=_f;nexacro.__appendElementHandle((this._is_nc_element)?_b.handle:_b.dest_handle,_f);}if(this.handle){if(!this._client_body_element.handle){this._client_body_element.create(_a);}if(this._client_left_element&&!this._client_left_element.handle){this._client_left_element.create(_a);}if(this._client_right_element&&!this._client_right_element.handle){this._client_right_element.create(_a);}this._client_elem=this._client_body_element;}}};_pGridRowControlElement._on_destroy=function(){this._client_body_element.destroy();if(this._client_left_element){this._client_left_element.destroy();}if(this._client_right_element){this._client_right_element.destroy();}this._client_body_element=null;this._client_left_element=null;this._client_right_element=null;this._client_elem=null;};_pGridRowControlElement.clearContents=function(){if(this.handle){this._client_body_element.clearContents();if(this._client_left_element){this._client_left_element.clearContents();}if(this._client_right_element){this._client_right_element.clearContents();}}};_pGridRowControlElement.getContainerElement=function(_a){if(_a==1){return this._client_left_element;}else if(_a==2){return this._client_right_element;}return this._client_body_element;};_pGridRowControlElement.setArea=function(_a,_b){if(_a>0&&!this._client_left_element){this._client_left_element=new nexacro._ContainerElement(this);}if(_b>0&&!this._client_right_element){this._client_right_element=new nexacro._ContainerElement(this);}this._left_width=_a;var _c=this._left_gap;if(this._client_left_element){this._client_left_element.setElementPosition(this.client_left-_c,this.client_top);this._client_left_element.setElementSize(_a,this.client_height);}this._right_width=_b;if(this._client_right_element){this._client_right_element.setElementPosition(this.client_width-_b+_c,this.client_top);this._client_right_element.setElementSize(_b-_c,this.client_height);}this._body_width=this.client_width-_a-_b+(_c* 2);this._client_body_element.setElementPosition(_a-_c,this.client_top);this._client_body_element.setElementSize(this._body_width,this.height);};_pGridRowControlElement._updateClientRect=function(_a){var _b=this._on_updateClientRect();if(_b&1){this._on_change_clientPos(this.client_left,this.client_top);}if((_b&2)||_a){this._on_change_clientSize(this.client_width,this.client_height);}if(_b){this.setArea(this._left_width,this._right_width);}this._setContainerMaxWidth(this._client_body_element._scroll_maxwidth,this.height);};_pGridRowControlElement._setContainerMaxWidth=function(_a){if(this._client_body_element){this._client_body_element.setElementScrollMaxSize(_a,this.height);}};_pGridRowControlElement._calculateClientWidth=function(_a){return _a-this._left_width-this._right_width;};_pGridRowControlElement._getContainerMaxWidth=function(){return this._client_body_element._scroll_maxwidth;};_pGridRowControlElement.setElementHScrollPos=function(_a){if(this.parent._grid._p_enableredraw==false){this.parent._grid._enable_redraw_history.scroll=true;return;}this._client_body_element._setElementHScrollPos(_a);this.scroll_left=_a;};}nexacro.CellControlElement=function(_a,_b){nexacro.ControlElement.call(this,_a);};var _pCellControlElement=nexacro._createPrototype(nexacro.ControlElement,nexacro.CellControlElement);nexacro.CellControlElement.prototype=_pCellControlElement;_pCellControlElement._type_name="CellControlElement";_pCellControlElement._refreshBorderNone=function(){if(this.handle){if(this._get_rtl()){this.setElementBorder(this._border_info);nexacro.__setElementHandleBorderLeftNone(this.handle,this.borderRightNone);nexacro.__setElementHandleBorderRightNone(this.handle,this.borderLeftNone);}else{nexacro.__setElementHandleBorderLeftNone(this.handle,this.borderLeftNone);nexacro.__setElementHandleBorderRightNone(this.handle,this.borderRightNone);}nexacro.__setElementHandleBorderTopNone(this.handle,this.borderTopNone);nexacro.__setElementHandleBorderBottomNone(this.handle,this.borderBottomNone);}if(this._updateInnerSize()){this._updateClientRect();if(this._edge_elem){this._edge_elem.setElementSize(this.inner_width,this.inner_height);}}};}if(_process){delete _process;delete _pElement;delete _pTextBoxElement;delete _pIconElement;delete _pIconTextElement;delete _pImageElement;delete _pInputElement;delete _pTextAreaElement;delete _pControlElement;delete _pFrameControlElement;delete _pScrollableControlElement;delete __pContainerElement;delete __pFrameResizeBorderElement;delete _pModalOverlayElement;delete _pPluginElement;delete __pPluginObject;delete __pWebBrowserPluginElement;delete __pVideoPlayerPluginElement;delete _pCanvasElement;delete __pCanvasGradient;delete __pGoogleMapPluginElement;delete _pGridScrollableControlElement;delete _pGridBandControlElement;delete __pGridBandContainerElement;delete _pGridRowControlElement;delete _pCellControlElement;}if(!nexacro.Component){"use strict";var _process=true;nexacro.Component=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){nexacro._EventSinkObject.call(this,_a,_l);if(_l){this._refform=this._findForm(_l);}var _m=0;var _n=0;if(_b!=null){_m++ ;}if(_d!=null){_m++ ;}if(_f!=null){_m++ ;}if(_c!=null){_n++ ;}if(_e!=null){_n++ ;}if(_g!=null){_n++ ;}if(_m>=2&&_n>=2){this._p_left=_b;this._p_top=_c;this._p_width=_d;this._p_height=_e;if(!(_b!=undefined&&_d!=undefined&&_f!=undefined)){this._p_right=_f;}if(!(_c!=undefined&&_e!=undefined&&_g!=undefined)){this._p_bottom=_g;}this._setMaxwidth(_i);this._setMinwidth(_h);this._setMaxheight(_k);this._setMinheight(_j);this._parseArrangeInfo(_b,_c,_f,_g,_d,_e);this._calcBasisSize();this._calcArrangePosition();}this._makeStatusMap();};var _pComponent=nexacro._createPrototype(nexacro._EventSinkObject,nexacro.Component);nexacro.Component.prototype=_pComponent;_pComponent._type_name="Component";_pComponent._control_element=null;_pComponent._p_hscrollbar=null;_pComponent._p_vscrollbar=null;_pComponent._p_initvalueid="";_pComponent._p_hittesttype="";_pComponent._p_name="";_pComponent._p_text="";_pComponent._p_expr="";_pComponent._p_cssclass="";_pComponent._p_visible=true;_pComponent._p_enable=true;_pComponent._p_taborder=0;_pComponent._p_tabstop=true;_pComponent._p_transparenthittest=false;_pComponent._p_enableredraw=true;_pComponent._p_enableevent=true;_pComponent._p_tooltiptype="default";_pComponent._p_tooltiptext=undefined;_pComponent._p_fittocontents="none";_pComponent._p_hotkey=null;_pComponent._p_rtl=undefined;_pComponent._p_positionstep=0;_pComponent._p_scrollbartype=undefined;_pComponent._p_scrolltype="both";_pComponent._p_scrollbarsize=undefined;_pComponent._p_scrollindicatorsize=undefined;_pComponent._p_scrollbarbarminsize=undefined;_pComponent._p_scrollbarbaroutsize=undefined;_pComponent._p_scrollbardecbuttonsize=undefined;_pComponent._p_scrollbarincbuttonsize=undefined;_pComponent._p_scrollbartrackbarsize=undefined;_pComponent._p_left=null;_pComponent._p_top=null;_pComponent._p_right=null;_pComponent._p_bottom=null;_pComponent._p_width=null;_pComponent._p_height=null;_pComponent._p_minwidth=null;_pComponent._p_maxwidth=null;_pComponent._p_minheight=null;_pComponent._p_maxheight=null;_pComponent._p_color="";_pComponent._p_font="";_pComponent._p_wordSpacing="";_pComponent._p_letterSpacing="";_pComponent._p_textDecoration="";_pComponent._p_wordWrap="";_pComponent._p_borderRadius="";_pComponent._p_border="";_pComponent._p_background="";_pComponent._p_edge="";_pComponent._p_cursor="";_pComponent._p_opacity="";_pComponent._p_boxShadow="";_pComponent._p_margin="";_pComponent._p_padding="";_pComponent._p_textAlign="";_pComponent._p_verticalAlign="";_pComponent._p_accessibilityrole="";_pComponent._p_accessibilityenable=true;_pComponent._p_accessibilitylabel="";_pComponent._p_accessibilitydescription="";_pComponent._p_accessibilityaction="";_pComponent._p_accessibilitydesclevel="all";_pComponent._p_itemaccessibilityenable=true;_pComponent._p_flexgrow=undefined;_pComponent._p_flexshrink=undefined;_pComponent._p_layoutorder=0;_pComponent._p_tablecellarea="";nexacro._is_enable_setting=false;_pComponent._tablecellarea="";_pComponent._left=null;_pComponent._top=null;_pComponent._right=null;_pComponent._bottom=null;_pComponent._width=null;_pComponent._height=null;_pComponent._minwidth=null;_pComponent._maxwidth=null;_pComponent._minheight=null;_pComponent._maxheight=null;_pComponent._adjust_left=-1;_pComponent._adjust_top=-1;_pComponent._adjust_width=-1;_pComponent._adjust_height=-1;_pComponent._bind_event=null;_pComponent._statusmap=null;_pComponent._userstatusmap=null;_pComponent._unique_id="";_pComponent._displaytext="";_pComponent._status="";_pComponent._userstatus="";_pComponent._oldstatus="";_pComponent._olduserstatus="";_pComponent._real_enable=null;_pComponent._real_visible=false;_pComponent._last_focused=null;_pComponent._hotkey=null;_pComponent._track_capture=true;_pComponent._focus_direction=-1;_pComponent._rtl=undefined;_pComponent._is_enable_changing=false;_pComponent._block_inner_focus=false;_pComponent._vscrollbartype=undefined;_pComponent._hscrollbartype=undefined;_pComponent._hscroll_pos=0;_pComponent._vscroll_pos=0;_pComponent._hscrollbar_id="hscrollbar";_pComponent._vscrollbar_id="vscrollbar";_pComponent._hscrollindicator_id="hscrollindicator";_pComponent._vscrollindicator_id="vscrollindicator";_pComponent._scroll_top=0;_pComponent._scroll_left=0;_pComponent._scroll_height=0;_pComponent._scroll_default_value=30;_pComponent._color=null;_pComponent._font=null;_pComponent._wordspacing=null;_pComponent._letterspacing=null;_pComponent._textdecoration=null;_pComponent._borderradius=null;_pComponent._border=null;_pComponent._background=null;_pComponent._edge=null;_pComponent._cursor=null;_pComponent._opacity=null;_pComponent._boxshadow=null;_pComponent._padding=null;_pComponent._is_view=false;_pComponent._is_group=false;_pComponent._group_panel=null;_pComponent._default_scrollbarsize=17;_pComponent._default_scrollindicatorsize=6;if(nexacro._isTouchInteraction&&nexacro._SupportTouch){_pComponent._default_scrollbartype="autoindicator";}else{_pComponent._default_scrollbartype="auto";}_pComponent._is_loading=false;_pComponent._is_create_commandstr=false;_pComponent._is_created=false;_pComponent._is_created_contents=false;_pComponent._is_initcssselector=false;_pComponent._is_alive=true;_pComponent._is_component=true;_pComponent._is_subcontrol=false;_pComponent._is_form=false;_pComponent._is_frame=false;_pComponent._is_window=false;_pComponent._is_nc_control=false;_pComponent._is_simple_control=false;_pComponent._is_scrollable=false;_pComponent._is_popup_control=false;_pComponent._is_fluid_control=true;_pComponent._is_focus_accept=true;_pComponent._is_eventinfo_control=true;_pComponent._is_locale_control=false;_pComponent._is_editable_control=false;_pComponent._is_track=false;_pComponent._is_container=false;_pComponent._is_containerset=false;_pComponent._is_listtype=false;_pComponent._use_pushed_status=false;_pComponent._use_selected_status=false;_pComponent._use_readonly_status=false;_pComponent._use_translate_scroll=true;_pComponent._use_translate_move=false;_pComponent._use_container_move=true;_pComponent._use_container_multi=false;_pComponent._apply_client_padding=true;_pComponent._block_read_aria_stat=true;_pComponent._is_compound=false;_pComponent._is_flexible=false;_pComponent._excluded_flex=false;_pComponent._fling_cubic_bezier=null;_pComponent._fling_max_distance=null;_pComponent._use_softkeyboard=1;_pComponent._computed_prop_list=["cssclass","color","font","wordSpacing","letterSpacing","textDecoration","wordWrap","borderRadius","border","background","edge","cursor","opacity","boxShadow","padding","textAlign","verticalAlign","icon","iconPosition"];_pComponent._event_list={"onclick":1,"ondblclick":1,"onkillfocus":1,"onsetfocus":1,"oninput":1,"onkeydown":1,"onkeyup":1,"onlbuttondown":1,"onlbuttonup":1,"onrbuttondown":1,"onrbuttonup":1,"onmousedown":1,"onmouseup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmousewheel":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"onmove":1,"onsize":1,"oncontextmenu":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"ondevicebuttonup":1};_pComponent.createComponent=function(_a){var _b=null;var _c=this._is_group?this._group_panel:this._p_parent;if(!this._is_window){_b=_c._control_element;if(!_b){return false;}}this._initComponent();if(this.onCreateComponent(_b)){if(!_a&&_c&&_c._control_element&&_c._control_element.handle){this.on_created(this._getWindow());}if(_c&&_c._control_element){this.onCreateComponentAfter(_c._control_element);}return true;}return false;};_pComponent.onCreateComponent=function(_a){if(this._createControlElement(_a)){this._initControlElement();this._applyProperties();this._applyAccessibility();this._initContents();return true;}};_pComponent.onCreateComponentAfter=function(_a){};_pComponent._initComponent=function(){this._initUniqueID();};_pComponent._initUniqueID=function(){if(this._unique_id.length<=0){var _a=this._p_parent;this._unique_id=_a&&_a._unique_id?(_a._unique_id+"."+this.id):(this.id?this.id:"");}};_pComponent._createControlElement=function(_a){var _b=this.getElement();if(!_b){_b=this.on_create_control_element(_a);_b._is_nc_element=this._is_nc_control;}return _b;};_pComponent.on_create_control_element=function(_a){var _b=null;if(this._is_tablecell){_b=this.on_create_tablecell_control_element(_a);}else if(this._is_frame){_b=this.on_create_frame_control_element(_a);}else if(this._is_scrollable||this._is_expandable){_b=this.on_create_scrollable_control_element(_a);}else if(this._is_popup_control){_b=this.on_create_popup_control_element(_a);}else{_b=this.on_create_normal_control_element(_a);}return _b;};_pComponent.on_create_normal_control_element=function(_a){var _b=new nexacro.ControlElement(_a);_b.setLinkedControl(this);this._control_element=_b;return _b;};_pComponent.on_create_scrollable_control_element=function(_a){var _b=new nexacro.ScrollableControlElement(_a,this._use_container_multi);_b.setLinkedControl(this);this._control_element=_b;return _b;};_pComponent.on_create_frame_control_element=function(_a){var _b=new nexacro.FrameControlElement(_a);_b.setLinkedControl(this);this._control_element=_b;return _b;};_pComponent.on_create_tablecell_control_element=function(_a){var _b=new nexacro.CellControlElement(_a);_b.setLinkedControl(this);this._control_element=_b;return _b;};_pComponent.on_create_popup_control_element=function(_a){var _b=new nexacro.ControlElement(_a);_b.setLinkedControl(this);this._control_element=_b;return _b;};_pComponent.on_create_popupscrollable_control_element=function(_a){var _b=new nexacro.ScrollableControlElement(_a);_b.setLinkedControl(this);this._control_element=_b;return _b;};_pComponent._initControlElement=function(){this._initControlElementInfo();this._initControlElementCssInfo();this._initControlElementNormalProps();this._initControlElementStyleProps();this._initControlElementLayoutProps();};_pComponent._initControlElementInfo=function(){this.getElement().initElementInfo();};_pComponent._initControlElementCssInfo=function(){if(!this._is_initcssselector){var _a=this._setControlElementCssSelector();this._makeCSSMapInfo();this._setControlElementCssMapInfo();this._is_initcssselector=_a;}};_pComponent._initControlElementNormalProps=function(){this._applyElementVisible(this._p_visible);this.on_apply_prop_rtl();if(!this._is_subcontrol){this._registerHotkey();}};_pComponent._initControlElementStyleProps=function(){var _a=this.getElement();if(this._color){_a.setElementColor(this._color);}if(this._font){_a.setElementFont(this._font);}if(this._wordspacing){_a.setElementWordSpacing(this._wordspacing);}if(this._letterspacing){_a.setElementLetterSpacing(this._letterspacing);}if(this._borderradius){_a.setElementBorderRadius(this._borderradius);}if(this._border){_a.setElementBorder(this._border);}if(this._background){_a.setElementBackground(this._background);}if(this._padding){_a.setElementPadding(this._padding);}if(this._cursor){_a.setElementCursor(this._cursor);}if(this._opacity){_a.setElementOpacity(this._opacity);}if(this._boxshadow){_a.setElementBoxShadow(this._boxshadow);}if(this._edge){_a.setElementEdge(this._edge);}if(!nexacro._isNull(this._p_tooltiptext)){_a.setElementToolTip(this._p_tooltiptext);}};_pComponent._initControlElementLayoutProps=function(){var _a=this.getElement();if(this._is_container){this._calcBasisSize();}if(this._is_fluid_control&&!this._is_nc_control){if(this._isFluidContainer()){if(!nexacro._is_native_fluidlayout){_a.setElementPosition(this._adjust_left,this._adjust_top);_a.setElementSize(this._adjust_width,this._adjust_height);}else{_a.clearElementPosition();this._setLayoutContentsProps();if(this._is_subcontrol){this._calcArrangePosition();this._adjustPosition();_a.setElementSize(this._adjust_width,this._adjust_height);}}}else{this._calcArrangePosition();this._adjustPosition();_a.setElementPosition(this._adjust_left,this._adjust_top);_a.setElementSize(this._adjust_width,this._adjust_height);}}else{this._calcArrangePosition();this._adjustPosition();_a.setElementPosition(this._adjust_left,this._adjust_top);_a.setElementSize(this._adjust_width,this._adjust_height);}};_pComponent._applyProperties=function(){this.on_apply_prop_taborder();if(!nexacro._isNull(this._p_tooltiptext)){this.on_apply_prop_tooltip();}this.on_apply_positionstep();if(this._hittest_type){this.on_apply_hittesttype();}if(this._is_locale_control){this._setLocale(this._getForm()._locale);}this.onApplyProperties();this.on_apply_prop_stringresource();};_pComponent.onApplyProperties=function(){};_pComponent._applyAccessibility=function(){this.on_apply_accessibility();};_pComponent._initContents=function(){this.onCreateContents();this._is_created_contents=true;this._is_loading=false;};_pComponent.onCreateContents=function(){this.on_create_contents();};_pComponent.on_create_contents=function(){this._on_create_accessibility_contents();};_pComponent.on_created=function(_a){var _b=this.onCreated(_a);this.onCreatedAfter(_b);};_pComponent.onCreated=function(_a){if(this._is_loading){return;}var _b=null;if(!this._is_window){_b=this._p_parent?this._p_parent._control_element:null;if(!_b){return false;}}_a=_a||this._getWindow();if(this._createdControlElement(_a)){this._createdControlElementStatus();if(this._is_subcontrol&&this._isFluidContainer()){if(!this._excluded_flex){this._control_element._setElementLayoutPosition();}this._update_position_fluid(false);}this._createdControlElementLayoutProps();this._createdContents(_a);return true;}};_pComponent.onCreatedAfter=function(_a){};_pComponent.on_created_contents=function(_a){this._on_created_accessibility_contents(_a);};_pComponent._createdControlElement=function(_a){var _b=this.getElement();if(_b){_b.create(_a);return _b.handle;}return null;};_pComponent._createdControlElementStatus=function(){var _a=this._isEnable();if((this._real_enable==null&&_a==false)||(this._real_enable&&this._real_enable!=_a)){this._real_enable=_a;this._changeStatus("disabled",!_a);this.on_apply_prop_enable(_a);}else{this._real_enable=_a;}if(this._status||this._userstatus){this._apply_status_toelement("",this._status,"",this._userstatus);}};_pComponent._createdControlElementLayoutProps=function(){};_pComponent._createdContents=function(_a){if(!this._is_created){this.on_created_contents(_a);this._is_created=true;this.on_after_created();}};_pComponent.createCommand=function(){var _a="";if(!this._is_loading){var _b=this._isEnable();if((this._real_enable==null&&_b==false)||(this._real_enable&&this._real_enable!=_b)){this._real_enable=_b;this._changeStatus("disabled",!_b);this.on_apply_prop_enable(_b);}else{this._real_enable=_b;this._setAccessibilityStatFlag(this._status,this._userstatus);}if(this._status||this._userstatus){this._apply_status_toelement("",this._status,"",this._userstatus);}var _c=this._control_element;if(_c){_a=_c.createCommandStart();if(_a){_a+=this.on_create_contents_command();_a+=_c.createCommandEnd();}}if(!this._is_subcontrol){this._registerHotkey();}this._is_create_commandstr=true;}return _a;};_pComponent.attachHandle=function(_a,_b){if(!this._is_created&&this._is_create_commandstr){var _c=this._control_element;if(_c){_c.attachHandle(_a);}if(!_b){this.on_attach_contents_handle(_a);this._is_created=true;this.on_after_created();}}};_pComponent.on_create_contents_command=function(){return "";};_pComponent.on_attach_contents_handle=function(_a){this._on_attach_accessibility_contents_handle(_a);};_pComponent.on_after_created=function(){};_pComponent.destroyComponent=function(_a){if(!this._is_alive){return;}this._is_alive=false;if(!this._is_subcontrol){this._unregisterHotkey();}if(nexacro._enableaccessibility){var _b=nexacro.getApplication();if(_b&&_b._accessibilityHistoryList){_b._remove_accessibility_history(this);}}this._clearEventListeners();if(this._p_parent&&this._p_parent.removeChild){if(_a!=false){this._p_parent.removeChild(this.id);}}else{var _c=this._getWindow();if(_c){_c._removeFromCurrentFocusPath(this);}if(this._unregisterPopupFrame){if(nexacro._Browser=="Runtime"&&(nexacro._SystemType.toLowerCase()=="win32"||nexacro._SystemType.toLowerCase()=="win64")){this._unregisterPopupFrame(_c._parentwindowforopen,this.id);}else{this._unregisterPopupFrame(_c,this.id);}}}if(this._control_element){this._control_element.destroy();this._control_element=null;}if(this._p_vscrollbar){this._p_vscrollbar.destroy();this._p_vscrollbar=null;}if(this._p_hscrollbar){this._p_hscrollbar.destroy();this._p_hscrollbar=null;}this.on_destroy_contents(_a);this._is_created=false;this._arrange_info=null;if(this._refform){this._refform=null;}if(this._p_parent){this._p_parent=null;}if(this._refobj){this._refobj=null;}if(this._p_hotkey){this._p_hotkey=null;}if(this._event_list){this._event_list=null;}if(this._last_focused){this._last_focused=null;}if(this._cssselector){this._cssselector=null;}this._clearStyleObject();if(this._cssclass){this._cssclass=null;}if(this._statusmap){this._statusmap=null;}if(this._userstatusmap){this._userstatusmap=null;}if(this._fling_cubic_bezier){this._fling_cubic_bezier=null;}return true;};_pComponent.on_destroy_contents=function(){};_pComponent.on_change_containerRect=function(_a,_b){this._onResetScrollBar();};_pComponent.on_change_containerPos=function(_a,_b){};_pComponent._resetComponent=function(){this._clearComponent();this._resetObject();this._resetStatus();this._resetProperties();};_pComponent._resetObject=nexacro._emptyFn;_pComponent._resetStatus=nexacro._emptyFn;_pComponent._resetProperties=nexacro._emptyFn;_pComponent._clearComponent=function(){this._clearEventListeners();this._clearFocus();this._clearObject();this._clearContents();var _a=this._beforeClearProperties();this._clearProperties();this._afterClearProperties(_a);};_pComponent._clearStyleObject=function(){if(this._color){this._color=null;}if(this._font){this._font=null;}if(this._wordspacing){this._wordspacing=null;}if(this._letterspacing){this._letterspacing=null;}if(this._textdecoration){this._textdecoration=null;}if(this._borderradius){this._borderradius=null;}if(this._border){this._border=null;}if(this._background){this._background=null;}if(this._edge){this._edge=null;}if(this._cursor){this._cursor=null;}if(this._opacity){this._opacity=null;}if(this._boxshadow){this._boxshadow=null;}if(this._padding){this._padding=null;}};_pComponent._clearFocus=function(){var _a=this._getWindow();if(_a){_a._removeFromCurrentFocusPath(this);}};_pComponent._clearObject=nexacro._emptyFn;_pComponent._clearContents=nexacro._emptyFn;_pComponent._clearProperties=nexacro._emptyFn;_pComponent._beforeClearProperties=nexacro._emptyFn;_pComponent._afterClearProperties=nexacro._emptyFn;_pComponent._clearUserFunctions=nexacro._emptyFn;_pComponent._setTablecellareacoordinate=nexacro._emptyFn;_pComponent.set_initvalueid=function(_a){if(!this._is_created){this._p_initvalueid=_a;var _b=this._type_name+_a;if(nexacro_init[_b]){nexacro_init[_b].call(this,this);}}};_pComponent.set_hittesttype=function(_a){if(this._hittest_type!=_a){this._p_hittesttype=_a;this._hittest_type=_a;this.on_apply_hittesttype();}};_pComponent.on_apply_hittesttype=function(){var _a=this._control_element;if(_a){_a.setElementHittestType(this._hittest_type);}};_pComponent.set_positionstep=function(_a){if(isNaN(_a= +_a)||_a<-1){return;}if(this._p_positionstep!=_a){this._p_positionstep=_a;this.on_apply_positionstep();}};_pComponent.on_apply_positionstep=function(){var _a=this.getElement();if(_a){_a.setElementPositionStep(this._p_positionstep);}};_pComponent.set_flexgrow=function(_a){if(_a!==undefined){if(isNaN(_a= +_a)||_a<0){return;}}if(this._p_flexgrow!=_a){this._p_flexgrow=_a;this.on_apply_flexgrow();}};_pComponent.on_apply_flexgrow=function(){if(!this._is_subcontrol){var _a=nexacro._getLayoutManager();if(_a){_a.applyFluidLayoutContentsProeprty(this,"flexgrow");}}};_pComponent.set_flexshrink=function(_a){if(_a!==undefined){if(isNaN(_a= +_a)||_a<0){return;}}if(this._p_flexshrink!=_a){this._p_flexshrink=_a;this._flexshrink=_a;this.on_apply_flexshrink();}};_pComponent.on_apply_flexshrink=function(){if(!this._is_subcontrol){var _a=nexacro._getLayoutManager();if(_a){_a.applyFluidLayoutContentsProeprty(this,"flexshrink");}}};_pComponent.set_layoutorder=function(_a){if(isNaN(_a= +_a)||_a<0){_a=0;}if(this._p_layoutorder!=_a){this._p_layoutorder=parseInt(_a);this.on_apply_layoutorder();}};_pComponent.on_apply_layoutorder=function(){if(!this._is_subcontrol){var _a=nexacro._getLayoutManager();if(_a){_a.applyFluidLayoutContentsProeprty(this,"layoutorder");}}};_pComponent.set_tablecellarea=function(_a){if(this._p_tablecellarea!==_a){this._p_tablecellarea=_a;this.on_apply_tablecellarea();}};_pComponent.on_apply_tablecellarea=function(){this._tablecellarea=this._p_tablecellarea;if(!this._is_subcontrol){var _a=nexacro._getLayoutManager();if(_a){_a.applyFluidLayoutContentsProeprty(this,"tablecellarea");}}};_pComponent.set_cssclass=function(_a){if(this._p_cssclass!=_a){this._p_cssclass=_a;var _b=new nexacro.BindableValue();_b._set(_a);this._cssclass=_b;if(_b._bindtype==2){this._cssclass_exprfn=this._makeExprFn(_b._value);}this.on_apply_cssclass();}};_pComponent.on_apply_cssclass=function(){if(!this._isEnableRedraw()){return;}var _a=this._control_element;if(_a){var _b;var _c=this._cssclass_exprfn;if(_c){try{_b=nexacro._toString(_c.call(null,this));}catch(e){nexacro._settracemsg(e);}this._cssclass_exprfn=null;this._cssclass_expr=_b;}_b=this._getElementClassCSSSelector();if(_b){_a.setElementClassCSSSelector(_b.join(" "));}else{_a.setElementClassCSSSelector("");}this._makeCSSMapInfo();if(this._is_scrollable){this._onResetScrollBar();}}this._apply_status(this._oldstatus,this._status,this._olduserstatus,this._userstatus,true);this.on_apply_prop_cssclass();this._setControlElementCssSelector();};_pComponent.set_name=function(_a){if(this._p_name!=_a){this._p_name=_a;}};_pComponent.set_text=function(_a){_a=nexacro._toString(_a);if(this._p_text!=_a){this._p_text=_a;this._on_apply_text(_a);}};_pComponent._on_apply_text=function(_a){_a=this._getStringResourceProperty(this._p_text);var _b=this._expr_fn;if(_b){try{_a=nexacro._toString(_b.call(null,this));}catch(e){nexacro._settracemsg(e);}}this._displaytext=_a;if(nexacro._enableaccessibility){this.on_apply_prop_accessibilitylabel();}this.on_apply_text(_a);};_pComponent.on_apply_text=function(_a){};_pComponent.set_expr=function(_a){_a=nexacro._toString(_a);if(this._p_expr!=_a){this._p_expr=_a;this._on_apply_expr(_a);}};_pComponent._on_apply_expr=function(_a){if(_a){this._expr_fn=null;this._expr_fn=this._makeExprFn(_a);this._on_apply_text(this._p_text);}else{this._expr_fn=null;this._on_apply_text(this._p_text);}};_pComponent.on_apply_expr=function(){};_pComponent._applyElementVisible=function(_a){this._control_element.setElementVisible(_a);if(!this._is_nc_control){if(this._isFluidContainer()&&nexacro._is_native_fluidlayout&&!this._isSelfCalculationPosition()){this._control_element.setElementLayoutFluidPos(_a);}}};_pComponent.set_visible=function(_a){if(_a===undefined||_a===null){return;}_a=nexacro._toBoolean(_a);if(this._p_visible!=_a){var _b=this._getWindow();var _c;if(!_a&&this._is_created&&this._p_parent){if(_b&&_b._indexOfCurrentFocusPaths(this)>-1){var _d=this._p_tabstop;this._p_tabstop=false;_c=this._getForm()._searchNextTabFocus();this._p_tabstop=_d;}}this._p_visible=_a;var _e=this._control_element;if(_e){if(!this._is_subcontrol){var _f=nexacro._getLayoutManager();if(_f){_f.applyFluidLayoutContentsProeprty(this,"visible");}}this._applyElementVisible(_a);var _g=this._p_parent;if(this._p_visible){if(!this._is_subcontrol&&this._is_created&&_g&&_g._is_created&&!_g._getLastFocused()){if(_b&&_b._focus_list&&_b._indexOfCurrentFocusPaths(_g)==_b._getCurrentFocusPathsLength()-1){this._on_focus(true);}}this._apply_status("",this._status,"",this._userstatus,true);}else{if(!this._is_subcontrol&&_g){if(_b&&_b._indexOfCurrentFocusPaths(this)>-1){_b._removeFromCurrentFocusPath(this,false);if(_c&&_c[0]){_c[0]._on_focus(true);}}}if(this._status==="mouseover"){this._changeStatus("mouseover",false);}}}}};_pComponent.set_enable=function(_a){_a=nexacro._toBoolean(_a);if(this._p_enable!=_a){var _b=this._getWindow();var _c;if(!this._is_subcontrol&&!_a&&this._is_created&&this._p_parent){if(_b&&_b._indexOfCurrentFocusPaths(this)>-1){var _d=this._p_tabstop;this._p_tabstop=false;_c=this._getForm()._searchNextTabFocus();this._p_tabstop=_d;}}this._p_enable=_a;if(this._is_created){var _e=(this._getParentEnable()&&_a);if(this._real_enable!=_e){nexacro._is_enable_setting=true;this._setEnable(_e);nexacro._is_enable_setting=false;var _f=this._p_parent;if(!this._is_subcontrol&&this._is_created&&_f&&_f._is_created){if(_e){if(_b&&_b._indexOfCurrentFocusPaths(_f)==_b._getCurrentFocusPathsLength()-1&&!_f._last_focused){this._on_focus(true);}}else{if(_b&&_b._indexOfCurrentFocusPaths(this)>-1){if(_c&&_c[0]){_c[0]._on_focus(true);}else{_b._removeFromCurrentFocusPath(this,false);}}}}}}}};_pComponent.set_taborder=function(_a){if(isNaN(_a= +_a)||_a<0){return;}if(this._p_taborder!=_a){this._p_taborder=_a;this.on_apply_prop_taborder();}};_pComponent.set_tabstop=function(_a){_a=nexacro._toBoolean(_a);if(this._p_tabstop!=_a){this._p_tabstop=_a;this.on_apply_prop_taborder();}};_pComponent.set_tooltiptext=function(_a){if(nexacro._isNull(_a)){this._p_tooltiptext=_a;this.on_apply_prop_tooltip();}else{_a=nexacro._toString(_a);if(this._p_tooltiptext!=_a){this._p_tooltiptext=_a;this.on_apply_prop_tooltip();}}};_pComponent.set_tooltiptype=function(_a){var _b=["default","hover","inplace","default,mouseleave","hover,mouseleave","inplace,mouseleave"];if(_b.indexOf(_a)==-1){return;}if(this._p_tooltiptype!=_a){this._p_tooltiptype=_a;this.on_apply_prop_tooltip();}};_pComponent.set_enableevent=function(_a){_a=nexacro._toBoolean(_a);if(this._p_enableevent!=_a){this._p_enableevent=_a;}};_pComponent.set_enableredraw=function(_a){_a=nexacro._toBoolean(_a);if(this._p_enableredraw!=_a){this._p_enableredraw=_a;this.on_apply_enableredraw();}};_pComponent.on_apply_enableredraw=function(){this.on_apply_color(this._color);this.on_apply_font(this._font);this.on_apply_wordSpacing(this._wordspacing);this.on_apply_letterSpacing(this._letterSpacing);this.on_apply_borderRadius(this._borderradius);this.on_apply_border(this._border);this.on_apply_background(this._background);this.on_apply_edge(this._edge);this.on_apply_margin();this.on_apply_opacity(this._opacity);this.on_apply_boxShadow(this._boxshadow);this.on_apply_cssclass();};_pComponent.set_hotkey=function(_a){var _b=this._hotkey;if(_b){this._unregisterHotkey();}var _c=new nexacro._HotKey(_a);if(_c._isEmpty()){this._p_hotkey=null;this._hotkey=null;}else{this._p_hotkey=_c._toString();this._hotkey=_c;if(this._is_created){this._registerHotkey();}}};_pComponent.set_rtl=function(_a){if(this._p_rtl!=_a){this._p_rtl=_a;this._rtl=nexacro._isBoolean(_a)?nexacro._toBoolean(_a):undefined;this.on_apply_prop_rtl();}};_pComponent.set_transparenthittest=nexacro._emptyFn;_pComponent.set_locale=nexacro._emptyFn;_pComponent.on_apply_locale=nexacro._emptyFn;_pComponent.set_left=function(_a){this._setLeft(_a);this._update_position();};_pComponent.set_top=function(_a){this._setTop(_a);this._update_position();};_pComponent.set_right=function(_a){this._setRight(_a);this._update_position();};_pComponent.set_bottom=function(_a){this._setBottom(_a);this._update_position();};_pComponent.set_width=function(_a){this._setWidth(_a);this._update_position();};_pComponent.set_height=function(_a){this._setHeight(_a);this._update_position();};_pComponent.set_minwidth=function(_a){this._setMinwidth(_a);this._update_position();};_pComponent.set_maxwidth=function(_a){this._setMaxwidth(_a);this._update_position();};_pComponent.set_minheight=function(_a){this._setMinheight(_a);this._update_position();};_pComponent.set_maxheight=function(_a){this._setMaxheight(_a);this._update_position();};_pComponent.set_fittocontents=function(_a){var _b=["none","width","height","both"];if(_b.indexOf(_a)==-1){return;}if(this._p_fittocontents!=_a){this._p_fittocontents=_a;this.on_apply_fittocontents();}};_pComponent.on_apply_fittocontents=function(){var _a=this.getElement();if(_a){_a._setElementFittocontents(this._p_fittocontents);}if(this._is_created){if(this._p_fittocontents=="height"){var _b=this._p_fittocontents;this._p_fittocontents="none";this._calcArrangePosition();this._adjustPosition();this._p_fittocontents=_b;}this._update_position();}this._on_apply_fittocontents();};_pComponent._on_apply_fittocontents=function(){if(this._isFluidContainer()){var _a=this.getElement();if(_a){var _b=this._is_group?this._group_panel:this._p_parent;if(_b){var _c=nexacro._getLayoutManager();if(!_c){return;}var _d=_c.getLayoutType(_b);var _e=this._p_fittocontents;if(_e=="none"){this._flexshrink=this._p_flexshrink;_a.setElementFlexShrink(this._p_flexshrink);_a.setElementFlexGrow(this._p_flexgrow);}else{if(_d==1){if(_e=="width"||_e=="both"){this._flexshrink=0;_a.setElementFlexShrink(0);}}else if(_d==2){if(_e=="height"||_e=="both"){this._flexshrink=0;_a.setElementFlexShrink(0);}}else if(this._flexshrink!=this._p_flexshrink){this._flexshrink=this._p_flexshrink;}}}}}};_pComponent.set_scrollbartype=function(_a){_a=nexacro._toString(_a).trim();var _b;var _c;var _d=_a.toLowerCase().split(" ");this._p_scrollbartype=_a;for(var _e=0;_e<_d.length;_e++ ){switch(_d[_e]){case "none":case "auto":case "fixed":case "autoindicator":case "indicator":case "default":if(_e==0){_c=_d[_e];}else if(_e==1){_b=_d[_e];}break;default:break;}}if(!_c&&!_b){this._hscrollbartype=undefined;this._vscrollbartype=undefined;}else{if(!_c||_c=="default"){this._hscrollbartype=_c=undefined;}else{this._hscrollbartype=_c;}if(!_b){this._vscrollbartype=_c;}else if(_b=="default"){this._vscrollbartype=undefined;}else{this._vscrollbartype=_b;}}this.on_apply_scrollbartype();return _a;};_pComponent.on_apply_scrollbartype=function(){var _a=this.getElement();if(_a){var _b=this._getHScrollBarSize();var _c=this._getVScrollBarSize();var _d=this._getHScrollBarType();var _e=this._getVScrollBarType();_a.setElementScrollbarSize(_b,_c,_d,_e,this._p_scrolltype);this._onResetScrollBar();}};_pComponent.set_scrolltype=function(_a){_a=nexacro._toString(_a);if(!nexacro._isNull(_a)){_a=_a.toLowerCase();}switch(_a){case "none":case "both":case "horizontal":case "vertical":this._p_scrolltype=_a;this._scrolltype=_a;this.on_apply_scrolltype();break;default:break;}return _a;};_pComponent.on_apply_scrolltype=function(){var _a=this.getElement();if(_a){var _b=this._getHScrollBarSize();var _c=this._getVScrollBarSize();var _d=this._getHScrollBarType();var _e=this._getVScrollBarType();_a.setElementScrollbarSize(_b,_c,_d,_e,this._p_scrolltype);this._onResetScrollBar();}};_pComponent.set_scrollbarbarminsize=function(_a){if(!this._is_scrollable){return;}if(_a!==undefined){_a=parseInt(_a);if(isNaN(_a)){return;}}if(this._p_scrollbarbarminsize!=_a){this._p_scrollbarbarminsize=_a;var _b=this._p_vscrollbar;if(_b){_b.set_barminsize(_a);}_b=this._p_hscrollbar;if(_b){_b.set_barminsize(_a);}}};_pComponent.set_scrollbardecbuttonsize=function(_a){if(!this._is_scrollable){return;}if(_a!==undefined){_a=parseInt(_a);if(isNaN(_a)){return;}}if(this._p_scrollbardecbuttonsize!=_a){this._p_scrollbardecbuttonsize=_a;var _b=this._p_vscrollbar;if(_b){_b.set_decbuttonsize(_a);}_b=this._p_hscrollbar;if(_b){_b.set_decbuttonsize(_a);}}};_pComponent.set_scrollbarbaroutsize=function(_a){if(!this._is_scrollable){return;}if(_a!==undefined){_a=parseInt(_a);if(isNaN(_a)){return;}}if(this._p_scrollbarbaroutsize!=_a){this._p_scrollbarbaroutsize=_a;var _b=this._p_vscrollbar;if(_b){_b.set_baroutsize(_a);}_b=this._p_hscrollbar;if(_b){_b.set_baroutsize(_a);}}};_pComponent.set_scrollbarincbuttonsize=function(_a){if(!this._is_scrollable){return;}if(_a!==undefined){if(isNaN(_a)){return;}}if(this._p_scrollbarincbuttonsize!=_a){this._p_scrollbarincbuttonsize=_a;var _b=this._p_vscrollbar;if(_b){_b.set_incbuttonsize(_a);}_b=this._p_hscrollbar;if(_b){_b.set_incbuttonsize(_a);}}};_pComponent.set_scrollbarsize=function(_a){if(!this._is_scrollable){return;}if(_a!==undefined){_a=parseInt(_a);if(isNaN(_a)){return;}}if(this._p_scrollbarsize!=_a){this._p_scrollbarsize=_a;this.on_apply_scrollbarsize();}};_pComponent.on_apply_scrollbarsize=function(){var _a=this.getElement();if(_a){var _b=this._getHScrollBarSize();var _c=this._getVScrollBarSize();var _d=this._getHScrollBarType();var _e=this._getVScrollBarType();_a.setElementScrollbarSize(_b,_c,_d,_e,this._p_scrolltype);}this._onResetScrollBar();};_pComponent.set_scrollindicatorsize=function(_a){if(!this._is_scrollable){return;}if(_a!==undefined){_a=parseInt(_a);if(isNaN(_a)){return;}}if(this._p_scrollindicatorsize!=_a){this._p_scrollindicatorsize=_a;this.on_apply_scrollbarsize();}};_pComponent.set_scrollbartrackbarsize=function(_a){if(!this._is_scrollable){return;}if(_a!==undefined){_a=parseInt(_a);if(isNaN(_a)){return;}}if(this._p_scrollbartrackbarsize!=_a){this._p_scrollbartrackbarsize=_a;var _b=this._p_vscrollbar;if(_b){_b.set_trackbarsize(_a);}_b=this._p_hscrollbar;if(_b){_b.set_trackbarsize(_a);}}};_pComponent.set_accessibilityrole=function(_a){if(this._p_accessibilityrole!=_a){this._p_accessibilityrole=_a;this.on_apply_prop_accessibilityrole();}};_pComponent.on_apply_prop_accessibilityrole=function(){var _a=this._control_element;if(_a){if(!this._has_inputElement||nexacro._Browser=="Runtime"){this._setAccessibilityRole(this._getAccessibilityRole());}}};_pComponent.set_accessibilityenable=function(_a){var _b=nexacro._toBoolean(_a);if(this._p_accessibilityenable!=_b){this._p_accessibilityenable=_b;this.on_apply_prop_accessibilityenable();}};_pComponent.on_apply_prop_accessibilityenable=function(){var _a=this._control_element;if(_a){this._setAccessibilityEnable(this._p_accessibilityenable);}};_pComponent.set_accessibilitylabel=function(_a){if(this._p_accessibilitylabel!=_a){this._p_accessibilitylabel=_a;this.on_apply_prop_accessibilitylabel();}};_pComponent.on_apply_prop_accessibilitylabel=function(){var _a=this._control_element;if(_a){this._setAccessibilityLabel(this._getAccessibilityLabel());}};_pComponent.set_accessibilitydescription=function(_a){if(this._p_accessibilitydescription!=_a){this._p_accessibilitydescription=_a;this.on_apply_prop_accessibilitydescription();}};_pComponent.on_apply_prop_accessibilitydescription=function(){var _a=this._control_element;if(_a){this._setAccessibilityDescription(this._getAccessibilityDescription());}};_pComponent.set_accessibilityaction=function(_a){if(this._p_accessibilityaction!=_a){this._p_accessibilityaction=_a;this.on_apply_prop_accessibilityaction();}};_pComponent.on_apply_prop_accessibilityaction=function(){var _a=this._control_element;if(_a){this._setAccessibilityAction(this._getAccessibilityAction());}};_pComponent.set_accessibilitydesclevel=function(_a){if(this._p_accessibilitydesclevel!=_a){this._p_accessibilitydesclevel=_a;this.on_apply_prop_accessibilitydesclevel();}};_pComponent.on_apply_prop_accessibilitydesclevel=function(){var _a=this._control_element;if(_a){this._setAccessibilityDescLevel(this._getAccessibilityDescLevel());}};_pComponent.on_apply_accessibility=function(){this.on_apply_prop_accessibilityrole();this.on_apply_prop_accessibilityenable();this.on_apply_prop_accessibilitylabel();this.on_apply_prop_accessibilitydescription();this.on_apply_prop_accessibilityaction();this.on_apply_prop_accessibilitydesclevel();};_pComponent.set_itemaccessibilityenable=function(_a){var _b=nexacro._toBoolean(_a);if(this._p_itemaccessibilityenable!=_b){this._p_itemaccessibilityenable=_b;this.on_apply_prop_itemaccessibilityenable();}};_pComponent.on_apply_prop_itemaccessibilityenable=nexacro._emptyFn;_pComponent.set_color=function(_a){this._p_color=_a;if(_a){if(this._color==null||this._color.value!=_a){var _b=nexacro.ColorObject(_a);this._color=_b;this.on_apply_color(_b);}}else{if(this._color){this._color=null;this.on_apply_color(null);}}};_pComponent.on_apply_color=function(_a){if(!this._isEnableRedraw()){return;}var _b=this._control_element;if(_b){_b.setElementColor(_a);}};_pComponent.set_font=function(_a){this._p_font=_a;if(_a){if(this._font==null||this._font.value!=_a){var _b=nexacro.FontObject(_a);this._font=_b;this.on_apply_font(_b);}}else{if(this._font){this._font=null;this.on_apply_font(null);}}};_pComponent.on_apply_font=function(_a){if(!this._isEnableRedraw()){return;}var _b=this._control_element;if(_b){_b.setElementFont(_a);}};_pComponent.set_textDecoration=function(_a){this._p_textDecoration=_a;if(_a){if(this._textdecoration==null||this._textdecoration.value!=_a){var _b=nexacro.TextDecorationObject(_a);this._textdecoration=_b;this.on_apply_textDecoration(_b);}}else{if(this._textdecoration){this._textdecoration=null;this.on_apply_textDecoration(null);}}};_pComponent.on_apply_textDecoration=function(_a){};_pComponent.set_wordSpacing=function(_a){_a=nexacro._toString(_a);this._p_wordSpacing=_a;if(_a){if(this._wordspacing==null||this._wordspacing.value!=_a){var _b=nexacro.CSSValueObject(_a);this._wordspacing=_b;this.on_apply_wordSpacing(_b);}}else{if(this._wordspacing){this._wordspacing=null;this.on_apply_wordSpacing(null);}}};_pComponent.on_apply_wordSpacing=function(_a){if(!this._isEnableRedraw()){return;}var _b=this._control_element;if(_b){_b.setElementWordSpacing(_a);}};_pComponent.set_letterSpacing=function(_a){_a=nexacro._toString(_a);this._p_letterSpacing=_a;if(_a){if(this._letterspacing==null||this._letterspacing.value!=_a){var _b=nexacro.CSSValueObject(_a);this._letterspacing=_b;this.on_apply_letterSpacing(_b);}}else{if(this._letterspacing){this._letterspacing=null;this.on_apply_letterSpacing(null);}}};_pComponent.on_apply_letterSpacing=function(_a){if(!this._isEnableRedraw()){return;}var _b=this._control_element;if(_b){_b.setElementLetterSpacing(_a);}};_pComponent.set_wordWrap=function(_a){if(_a){if(this._p_wordWrap==null||this._p_wordWrap!=_a){var _b=_a;this._p_wordWrap=_b;this.on_apply_wordWrap(_b);}}else{if(this._p_wordWrap){this._p_wordWrap=null;this.on_apply_wordWrap(null);}}};_pComponent.on_apply_wordWrap=function(_a){};_pComponent.set_borderRadius=function(_a){this._p_borderRadius=_a;if(_a){if(this._borderradius==null||this._borderradius.value!=_a){var _b=nexacro.BorderRadiusObject(_a);this._borderradius=_b;this.on_apply_borderRadius(_b);}}else{if(this._borderradius){this._borderradius=null;this.on_apply_borderRadius(null);}}};_pComponent.on_apply_borderRadius=function(_a){if(!this._isEnableRedraw()){return;}var _b=this._control_element;if(_b){_b.setElementBorderRadius(_a);}};_pComponent.set_border=function(_a){this._p_border=_a;if(_a){if(this._border==null||!this._border._single||this._border.value!=_a){var _b=nexacro.BorderObject(_a);this._border=_b;this.on_apply_border(_b);}}else{if(this._border){this._border=null;this.on_apply_border(null);}}};_pComponent.on_apply_border=function(_a){if(!this._isEnableRedraw()){return;}var _b=this._control_element;if(_b){_b.setElementBorder(_a);}};_pComponent.set_background=function(_a){this._p_background=_a;if(_a){if(this._background==null||this._background.value!=_a){var _b=nexacro.BackgroundObject(_a,this);this._background=_b;this.on_apply_background(_b);}}else{if(this._background){this._background=null;this.on_apply_background(null);}}};_pComponent.on_apply_background=function(_a){if(!this._isEnableRedraw()){return;}var _b=this._control_element;if(_b){_b.setElementBackground(_a);}};_pComponent.set_edge=function(_a){this._p_edge=_a;if(_a){if(this._edge==null||this._edge.value!=_a){var _b=nexacro.EdgeImageObject(_a,this);this._edge=_b;this.on_apply_edge(_b);}}else{if(this._edge){this._edge=null;this.on_apply_edge(null);}}};_pComponent.on_apply_edge=function(_a){if(!this._isEnableRedraw()){return;}var _b=this._control_element;if(_b){_b.setElementEdge(_a);}};_pComponent.set_margin=function(_a){if(_a){if(this._p_margin==null||this._p_margin.value!=_a){var _b=nexacro._getCachedMarginObject(_a);this._p_margin=_b;this.on_apply_margin(_b);}}else{if(this._p_margin){this._p_margin=null;this.on_apply_margin(null);}}};_pComponent.on_apply_margin=function(){if(!this._isEnableRedraw()){return;}var _a=this._control_element;if(_a){this._adjustPosition();_a.setElementVisible(this._p_visible);_a.setElementPosition(this._adjust_left,this._adjust_top);_a.setElementSize(this._adjust_width,this._adjust_height);}};_pComponent.set_padding=function(_a){this._p_padding=_a;if(_a){if(this._padding==null||this._padding.value!=_a){var _b=nexacro.PaddingObject(_a);this._padding=_b;this._on_apply_padding(_b);}}else{if(this._padding){this._padding=null;this._on_apply_padding(null);}}};_pComponent._on_apply_padding=function(_a){var _b=this._control_element;if(_b){_b.setElementPadding(_a);this.on_apply_padding(_a);}};_pComponent.on_apply_padding=function(_a){};_pComponent.set_textAlign=function(_a){if(_a){if(this._p_textAlign==null||this._p_textAlign!=_a){this._p_textAlign=_a;this.on_apply_textAlign(_a);}}else{if(this._p_textAlign){this._p_textAlign=null;this.on_apply_textAlign(null);}}};_pComponent.on_apply_textAlign=function(_a){};_pComponent.set_verticalAlign=function(_a){if(_a){if(this._p_verticalAlign==null||this._p_verticalAlign!=_a){this._p_verticalAlign=_a;this.on_apply_verticalAlign(_a);}}else{if(this._p_verticalAlign){this._p_verticalAlign=null;this.on_apply_verticalAlign(null);}}};_pComponent.on_apply_verticalAlign=function(_a){};_pComponent.set_cursor=function(_a){this._p_cursor=_a;if(_a){if(this._cursor==null||this._cursor.value!=_a){var _b=nexacro.CursorObject(_a);this._cursor=_b;this.on_apply_cursor(_b);}}else{if(this._cursor){this._cursor=null;this.on_apply_cursor(null);}}};_pComponent.on_apply_cursor=function(_a){var _b=this._control_element;if(_b){_b.setElementCursor(_a);}};_pComponent._updateCursor=function(_a){if(nexacro._cur_track_info||nexacro._cur_extra_track_info){return;}var _b=this._cursor;if(_a){_b=nexacro.CursorObject(_a);}this.on_apply_cursor(_b);};_pComponent.set_opacity=function(_a){this._p_opacity=_a;if(0===_a||_a){if(this._opacity==null||this._opacity.value!=_a){var _b=nexacro.OpacityObject(_a);this._opacity=_b;this.on_apply_opacity(_b);}}else{if(this._opacity){this._opacity=null;this.on_apply_opacity(null);}}};_pComponent.on_apply_opacity=function(_a){if(!this._isEnableRedraw()){return;}var _b=this._control_element;if(_b){_b.setElementOpacity(_a);}};_pComponent.set_boxShadow=function(_a){this._p_boxShadow=_a;if(_a){if(this._boxshadow==null||this._boxshadow.value!=_a){var _b=nexacro.ShadowObject(_a);this._boxshadow=_b;this.on_apply_boxShadow(_b);}}else{if(this._boxshadow){this._boxshadow=null;this.on_apply_boxShadow(null);}}};_pComponent.on_apply_boxShadow=function(_a){if(!this._isEnableRedraw()){return;}var _b=this._control_element;if(_b){_b.setElementBoxShadow(_a);}};_pComponent.on_apply_scrollbarbarminsize=nexacro._emptyFn;_pComponent.on_apply_scrollbarbaroutsize=nexacro._emptyFn;_pComponent.on_apply_scrollbardecbuttonsize=nexacro._emptyFn;_pComponent.on_apply_scrollbarincbuttonsize=nexacro._emptyFn;_pComponent.on_apply_scrollbartrackbarsize=nexacro._emptyFn;_pComponent._properties=[{name:"expr"},{name:"cssclass"},{name:"visible"},{name:"enable"},{name:"taborder"},{name:"tabstop"},{name:"enableredraw"},{name:"enableevent"},{name:"tooltiptype"},{name:"tooltiptext"},{name:"fittocontents"},{name:"hotkey"},{name:"rtl"},{name:"positionstep"},{name:"scrollbartype"},{name:"scrolltype"},{name:"scrollbarsize"},{name:"scrollindicatorsize"},{name:"scrollbarbarminsize"},{name:"scrollbarbaroutsize"},{name:"scrollbardecbuttonsize"},{name:"scrollbarincbuttonsize"},{name:"scrollbartrackbarsize"},{name:"left"},{name:"top"},{name:"right"},{name:"bottom"},{name:"width"},{name:"height"},{name:"minwidth"},{name:"maxwidth"},{name:"minheight"},{name:"maxheight"},{name:"color"},{name:"font"},{name:"wordSpacing"},{name:"letterSpacing"},{name:"textDecoration"},{name:"wordWrap"},{name:"borderRadius"},{name:"border"},{name:"background"},{name:"edge"},{name:"cursor"},{name:"opacity"},{name:"boxShadow"},{name:"padding"},{name:"textAlign"},{name:"verticalAlign"},{name:"accessibilityrole"},{name:"accessibilityenable"},{name:"accessibilitylabel"},{name:"accessibilitydescription"},{name:"accessibilityaction"},{name:"accessibilitydesclevel"},{name:"itemaccessibilityenable"},{name:"flexgrow"},{name:"flexshrink"},{name:"layoutorder"},{name:"tablecellarea"},{name:"initvalueid"},{name:"hittesttype"},{name:"name"},{name:"text"},{name:"hscrollbar",readonly:true},{name:"vscrollbar",readonly:true}];nexacro._defineProperties(_pComponent,_pComponent._properties);_pComponent.bringToFront=function(){if(this._p_parent){var _a=this._p_parent;var _b=_a._child_list;var _c=_b.length;var _d=_c -1;var _e=nexacro._indexOf(_b,this);if(_e>=0&&_e<_d){_b.splice(_e,1);_b.splice(_d,0,this);var _f=_a.getElement();var _g=this._control_element;_f.bringToFrontElement(_g);this._applyScrollPos();}}};_pComponent.bringToPrev=function(){if(this._p_parent){var _a=this._p_parent;var _b=_a._child_list;var _c=_b.length;var _d=_c -1;var _e=nexacro._indexOf(_b,this);if(_e>=0&&_e<_d){this.moveToPrev(_b[_e+1]);}}};_pComponent.moveToNext=function(_a){if(this._p_parent){var _b=this._p_parent;var _c=(nexacro._isString(_a))?_b[_a]:_a;if(_c==null){return;}var _d=_b._child_list;var _e=nexacro._indexOf(_d,this);var _f=nexacro._indexOf(_d,_c);if(_e<0||_f<0){return;}if(_e>-1&&_f>-1&&_e!=_f -1){_d.splice(_e,1);var _g=nexacro._indexOf(_d,_c);_d.splice(_g,0,this);var _h=_b.getElement();_h.moveToNextElement(this._control_element,_c.getElement());this._applyScrollPos();}}};_pComponent.moveToPrev=function(_a){if(this._p_parent){var _b=this._p_parent;var _c=(nexacro._isString(_a))?_b[_a]:_a;if(_c==null){return;}var _d=_b._child_list;var _e=nexacro._indexOf(_d,this);var _f=nexacro._indexOf(_d,_c);if(_e<0||_f<0){return;}if(_e>-1&&_f>-1&&_e!=_f+1){_d.splice(_e,1);var _g=nexacro._indexOf(_d,_c);_d.splice(_g+1,0,this);var _h=_b.getElement();_h.moveToPrevElement(this._control_element,_c.getElement());this._applyScrollPos();}}};_pComponent.sendToBack=function(){if(this._p_parent){var _a=this._p_parent;var _b=_a._child_list;var _c=nexacro._indexOf(_b,this);if(_c>0){_b.splice(_c,1);_b.splice(0,0,this);var _d=_a.getElement();_d.sendToBackElement(this._control_element);this._applyScrollPos();}}};_pComponent.sendToNext=function(){if(this._p_parent){var _a=this._p_parent;var _b=_a._child_list;var _c=nexacro._indexOf(_b,this);if(_c>0){this.moveToNext(_b[_c -1]);}}};_pComponent.beginTransitionEffect=function(_a,_b){var _c=this._control_element;if(_c){_c.beginTransitionEffect(_a,_b);}};_pComponent.applyTransitionEffect=function(){var _a=this._control_element;if(_a){_a.applyTransitionEffect();}};_pComponent.cancelTransitionEffect=function(){var _a=this._control_element;if(_a){_a.cancelTransitionEffect();}};_pComponent.create=function(){this.initProperties();this.initEvents();};_pComponent.destroy=function(_a){if(!this._is_alive){return;}return this.destroyComponent(_a);};_pComponent.init=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){if(_a){this.id=this._p_name=_a;}if(_b!=undefined&&_d!=undefined&&_f!=undefined){_f=null;}if(_c!=undefined&&_e!=undefined&&_g!=undefined){_g=null;}var _l=0;var _m=0;if(_b!=null){_l++ ;}if(_d!=null){_l++ ;}if(_f!=null){_l++ ;}if(_c!=null){_m++ ;}if(_e!=null){_m++ ;}if(_g!=null){_m++ ;}if(_l>=2&&_m>=2){this._p_left=_b;this._p_top=_c;this._p_width=_d;this._p_height=_e;this._p_right=_f;this._p_bottom=_g;this._setMaxwidth(_i);this._setMinwidth(_h);this._setMaxheight(_k);this._setMinheight(_j);this._parseArrangeInfo(_b,_c,_f,_g,_d,_e);this._update_position();}};_pComponent.move=function(_a,_b,_c,_d,_e,_f){switch(arguments.length){case 1:return;case 2:_c=this._p_width;case 3:_d=this._p_height;case 4:_e=this._p_right;case 5:_f=this._p_bottom;default:if(_c==undefined&&_e==undefined){(this._p_width!=undefined)?_c=this._p_width:_e=this._p_right;}if(_d==undefined&&_f==undefined){(this._p_height!=undefined)?_d=this._p_height:_f=this._p_bottom;}break;}var _g=0;var _h=0;if(_a!=null){_g++ ;}if(_c!=null){_g++ ;}if(_e!=null){_g++ ;}if(_b!=null){_h++ ;}if(_d!=null){_h++ ;}if(_f!=null){_h++ ;}if(_g<2||_h<2){return;}if(_a!=undefined&&_c!=undefined&&_e!=undefined){_e=null;}if(_b!=undefined&&_d!=undefined&&_f!=undefined){_f=null;}var _i=false;if(this._p_left!=_a){_i=true;this._p_left=_a;}if(this._p_top!=_b){_i=true;this._p_top=_b;}if(this._p_width!=_c){_i=true;this._p_width=_c;}if(this._p_height!=_d){_i=true;this._p_height=_d;}if(this._p_right!=_e){_i=true;this._p_right=_e;}if(this._p_bottom!=_f){_i=true;this._p_bottom=_f;}if(_i){this._parseArrangeInfo(this._p_left,this._p_top,this._p_right,this._p_bottom,this._p_width,this._p_height);}this._update_position(this._isRtl());};_pComponent.resize=function(_a,_b){if(_a<0||_b<0){return;}if(_a==this._adjust_width&&_b==this._adjust_height){return;}if(this._p_width!=_a||this._p_height!=_b){this._parseArrangeInfoProp("width",_a);this._parseArrangeInfoProp("height",_b);this._p_width=_a;this._p_height=_b;if(this._p_left!=null&&this._p_right!=null){this._setRight(null);}if(this._p_top!=null&&this._p_bottom!=null){this._setBottom(null);}}this._update_position();};_pComponent.show=function(){var _a=this._p_parent;if(_a){var _b=this._control_element;if(!_b){if(this.createComponent(true)){this.on_created(this._getWindow());}}else{}if(this._isFluidContainer()){if(nexacro._is_native_fluidlayout&&!this._excluded_flex){this._control_element._setElementLayoutPosition();}this._update_position_fluid(false);}}};_pComponent.redraw=function(){};_pComponent.setFocus=function(_a,_b){var _c=this._getRootWindow();if(!this.getElement()){return;}var _d=_c._isActiveLayerComponent(this);if(!_d){return;}var _e=this._focus_direction;if(nexacro._enableaccessibility){if(!this._isAccessibilityEnable()&&_e>1&&_e<4){return;}if(!this._isVisible()||!this._isFocusAcceptable()){return;}}else{if(!this._isVisible()||!this._isEnable()||!this._isFocusAcceptable()){return;}}if(_a===undefined){_a=true;}if(_b===undefined){_b=true;}var _f=!_b;var _g,_h=false;if(_f){if(this._hasContainer()){if(this._block_inner_focus){_g=true;}this._block_inner_focus=true;if(this._last_focused){if(_c._indexOfCurrentFocusPaths(this._last_focused)>=0){_h=true;_c._removeFromCurrentFocusPath(this._last_focused);}else{this._last_focused=null;}}}}if(_a){var _i=this._p_parent;if(_i&&_i._is_form&&_b==true&&!this._block_inner_focus){if(_i._bFireLoadEvent==true){if(_i._p_parent&&_i._p_parent._is_frame&&_i._p_parent._window_type==5){var _j=_i._getWindow();if(_j&&_j._prepared_flag!=true){_i._delayedfocuscomp=this;}}}}var _k=this,_l,_m=this;if(!this._block_inner_focus){while(_k){_l=_k._getLastFocused();if(!_l){_l=_k._getTabOrderFirst();}if(_l){_m=_l;}_k=_l;}_m._resetScrollPos(_m,_m._adjust_left,_m._adjust_top,_m._adjust_left+_m._adjust_width,_m._adjust_top+_m._adjust_height,_e);}else{nexacro.Component.prototype._resetScrollPos.call(this,this,this._adjust_left,this._adjust_top,this._adjust_left+this._adjust_width,this._adjust_top+this._adjust_height,_e);}}var _n=this._find_lastFocused();var _o="focus";if(_e==0){_o="tabkey";}else if(_e==1){_o="shifttabkey";}else if(_e==2){_o="downkey";}else if(_e==3){_o="upkey";}this._focus_direction=-1;this._on_focus(true,_o);if(_h){this._apply_setfocus(_o);}if(this._block_inner_focus&&!_g){this._block_inner_focus=false;}return _n;};_pComponent.scrollTo=function(_a,_b){if(this._scrolltype=="none"){return;}this._scrollTo(_a,_b);};_pComponent.scrollBy=function(_a,_b){this._scrollBy(_a,_b);};_pComponent.getHScrollPos=function(){return this._hscroll_pos;};_pComponent.getVScrollPos=function(){return this._vscroll_pos;};_pComponent.getDisplayText=function(){return this._on_getDisplayText();};_pComponent.getPixelLeft=function(){return this._left;};_pComponent.getPixelTop=function(){return this._top;};_pComponent.getPixelRight=function(){return this._right;};_pComponent.getPixelBottom=function(){return this._bottom;};_pComponent.getPixelWidth=function(){return this._width;};_pComponent.getPixelHeight=function(){return this._height;};_pComponent.getOffsetLeft=function(){return this._adjust_left;};_pComponent.getOffsetTop=function(){return this._adjust_top;};_pComponent.getOffsetRight=function(){return this._adjust_left+this._adjust_width;};_pComponent.getOffsetBottom=function(){return this._adjust_top+this._adjust_height;};_pComponent.getOffsetWidth=function(){return this._adjust_width;};_pComponent.getOffsetHeight=function(){return this._adjust_height;};_pComponent.setOffsetLeft=function(_a){return this.set_left(_a);};_pComponent.setOffsetTop=function(_a){this.set_top(_a);};_pComponent.setOffsetRight=function(_a){this.set_width((_a|0)-this._adjust_left);};_pComponent.setOffsetBottom=function(_a){this.set_height((_a|0)-this._adjust_top);};_pComponent.setOffsetWidth=function(_a){this.set_width(_a);};_pComponent.setOffsetHeight=function(_a){this.set_height(_a);};_pComponent._on_afterHideWaitComp=function(_a){if(this._status!=_a){this._changeStatus(this._status,true);}};_pComponent.on_notify_hscroll_onscroll=function(_a,_b){this._scrollTo(_b.pos,this._vscroll_pos,false,false,_b.type,_b._evtkind);};_pComponent.on_notify_vscroll_onscroll=function(_a,_b){this._scrollTo(this._hscroll_pos,_b.pos,false,false,_b.type,_b._evtkind);};_pComponent.on_apply_prop_cssclass=function(){};_pComponent.on_apply_prop_enable=function(_a){if(this._is_scrollable==true){if(this._p_vscrollbar){this._p_vscrollbar._setEnable(_a);}if(this._p_hscrollbar){this._p_hscrollbar._setEnable(_a);}}};_pComponent.on_apply_prop_taborder=function(){if(this._p_tabstop){this._setAccessibilityFlagFocusable(true);}};_pComponent.on_apply_prop_tooltip=function(){var _a=this.getElement();if(_a){var _b=this._getStringResourceProperty(this._p_tooltiptext);_a.setElementToolTip(_b?_b:this._p_tooltiptext,this._p_tooltiptype);}this.on_apply_prop_accessibilitydescription();this._updateAccessibilityLabel();};_pComponent.on_apply_prop_rtl=function(){if(!nexacro._SupportRTL){return;}this._rtl=this._isRtl();var _a=this._control_element;if(_a){_a.setElementRtl(this._rtl);}};_pComponent.on_apply_prop_stringresource=function(){if(!nexacro._StringResource){return;}var _a;if(this._p_components){_a=this._p_components;}else if(this._p_form){_a=this._p_form._p_components;}if(_a){for(var _c=0;_c<_a.length;_c++ ){var _b=_a[_c];_b.on_apply_prop_stringresource();};};this._on_apply_text(this._p_text);this.on_apply_prop_tooltip();if(nexacro._enableaccessibility){if(this.on_apply_prop_accessibilitylabel){this.on_apply_prop_accessibilitylabel();}if(this.on_apply_prop_accessibilitydescription){this.on_apply_prop_accessibilitydescription();}if(this.on_apply_prop_accessibilityaction){this.on_apply_prop_accessibilityaction();}}};_pComponent._apply_setfocus=function(_a){var _b=this._control_element;if(_b){var _c=((_a=="lbutton")?false:nexacro._enableaccessibility);_b.setElementFocus(_c);}};_pComponent.on_get_popupControlTypeName=function(){var _a=this._getRootComponent(this);return _a.on_get_css_assumedtypename();};_pComponent.on_get_prop_tabstop=function(){return this._p_tabstop;};_pComponent._on_getFitSize=function(){return [this._adjust_width,this._adjust_height];};_pComponent._getSizeInfo=function(){var _a=[0,0];switch(this._p_fittocontents){case "width":_a=this._on_getFitSize();_a[2]=_a[0]=_a[0]<0?0+"":_a[0]+"";_a[1]=this._p_height;break;case "height":_a=this._on_getFitSize();_a[0]=this._p_width;_a[3]=_a[1]=_a[1]<0?0+"":_a[1]+"";break;case "both":_a=this._on_getFitSize();_a[2]=_a[0]=_a[0]<0?0+"":_a[0]+"";_a[3]=_a[1]=_a[1]<0?0+"":_a[1]+"";break;default:_a[0]=this._p_width;_a[1]=this._p_height;var _b=this._getParentComponent();var _c=_b?_b._p_fittocontents:"none";_a[1]=this._fit_height=this._getAdjustFitPositionHeight(this._p_height,_c);_a[0]=this._fit_width=this._getAdjustFitPositionWidth(this._p_width,_c);break;}return _a;};_pComponent._on_getFitSize_style=function(){var _a=0;var _b=0;var _c=this._getCurrentStyleBorder();if(_c){_a+=_c._getBorderWidth();_b+=_c._getBorderHeight();}var _d=this._getCurrentStylePadding();if(_d){_a+=_d.left+_d.right;_b+=_d.top+_d.bottom;}return [_a,_b];};_pComponent._on_getFitSize_scroll=function(){var _a=0;var _b=0;var _c=this._getFittocontents();if(_c=="width"){var _d=this?this._p_vscrollbar:null;if(_d&&_d._p_visible){_a+=_d._adjust_width;}}if(_c=="height"){var _e=this?this._p_hscrollbar:null;if(_e&&_e._p_visible){_b+=_e._adjust_height;}}return [_a,_b];};_pComponent._on_getDisplayText=function(){return this._displaytext;};_pComponent._getDlgCode=function(_a,_b,_c,_d){return {want_tab:false,want_return:false,want_escape:false,want_chars:false,want_arrows:false,want_touchstart:false,want_touchmove:false};};_pComponent.applyto_bindSource=function(_a,_b){if(!this._bind_event){return true;}var _c={propid:_a,val:_b};var _d=this._bind_event._fireEvent(this,_c);return _d;};_pComponent.on_getBindableProperties=function(){return [];};_pComponent.on_init_bindSource=function(_a,_b,_c){return;};_pComponent.on_change_bindSource=function(_a,_b,_c,_d){return;};_pComponent.on_getIDCSSSelector=function(){return this._p_name;};_pComponent.on_get_css_assumedtypename=function(){return this._type_name;};_pComponent.initProperties=nexacro._emptyFn;_pComponent.initEvents=nexacro._emptyFn;_pComponent._resizePopupInbound=nexacro._emptyFn;_pComponent._cancelEvent=nexacro._emptyFn;_pComponent._applyZoomPopup=nexacro._emptyFn;_pComponent._getComponentsByTaborder=nexacro._emptyFn;_pComponent._getFormBaseUrl=nexacro._emptyFn;_pComponent._getTabOrderNext=nexacro._emptyFn;_pComponent._getTabOrderFirst=nexacro._emptyFn;_pComponent._getTabOrderLast=nexacro._emptyFn;_pComponent._searchNextTabFocus=nexacro._emptyFn;_pComponent._searchPrevTabFocus=nexacro._emptyFn;_pComponent._getHeadingOrderNext=nexacro._emptyFn;_pComponent._getHeadingOrderFirst=nexacro._emptyFn;_pComponent._getHeadingOrderLast=nexacro._emptyFn;_pComponent._searchNextHeadingFocus=nexacro._emptyFn;_pComponent._searchPrevHeadingFocus=nexacro._emptyFn;_pComponent._setAccessibilityInfoByHover=nexacro._emptyFn;_pComponent._setAccessibilityNotifyEvent=nexacro._emptyFn;_pComponent._on_getAccessibilityAdditionalLabel=function(){return "";};_pComponent._on_getAccessibilityAdditionalRole=function(){return "";};_pComponent.on_get_accessibility_label=function(){return "";};_pComponent.on_get_accessibility_description=function(){return "";};_pComponent.on_get_accessibility_action=function(){return "";};_pComponent._getStringResourceProperty=function(_a){if(_a==undefined){return;}if(nexacro._StringResource){if(this._p_expr){_a=nexacro._getTextTemplateValue(this._p_expr);}else if(_a&&_a.indexOf&&_a.indexOf("TEXT(")>-1){_a=nexacro._getTextTemplateValue(_a);}}return _a;};_pComponent._getAccessibilityRole=nexacro._emptyFn;_pComponent._getAccessibilityLabel=nexacro._emptyFn;_pComponent._getAccessibilityDescLevel=nexacro._emptyFn;_pComponent._getAccessibilityDescription=nexacro._emptyFn;_pComponent._getAccessibilityAction=nexacro._emptyFn;_pComponent._getAccessibilityReadLabel=nexacro._emptyFn;_pComponent._getLinkedLabel=nexacro._emptyFn;_pComponent._getLinkedDescription=nexacro._emptyFn;_pComponent._getDescLevel=nexacro._emptyFn;_pComponent._getLinkedAction=nexacro._emptyFn;_pComponent._getAccessibilityParentValue=nexacro._emptyFn;_pComponent._getNextAccessibilityOrderIndex=nexacro._emptyFn;_pComponent._setAccessibilityRole=nexacro._emptyFn;_pComponent._setAccessibilityLabel=nexacro._emptyFn;_pComponent._setAccessibilityEnable=nexacro._emptyFn;_pComponent._setAccessibilityDescription=nexacro._emptyFn;_pComponent._setAccessibilityAction=nexacro._emptyFn;_pComponent._setAccessibilityDescLevel=nexacro._emptyFn;_pComponent._setAccessibilityStatDisabled=nexacro._emptyFn;_pComponent._setAccessibilityStatHidden=nexacro._emptyFn;_pComponent._setAccessibilityStatChecked=nexacro._emptyFn;_pComponent._setAccessibilityStatPressed=nexacro._emptyFn;_pComponent._setAccessibilityStatSelected=nexacro._emptyFn;_pComponent._setAccessibilityStatExpanded=nexacro._emptyFn;_pComponent._setAccessibilityStatAutoComplete=nexacro._emptyFn;_pComponent._setAccessibilityFlagHasPopup=nexacro._emptyFn;_pComponent._setAccessibilityFlagFocusable=nexacro._emptyFn;_pComponent._setAccessibilityFlagReadOnly=nexacro._emptyFn;_pComponent._setAccessibilityFlagPassword=nexacro._emptyFn;_pComponent._setAccessibilityFlagMultiSelectable=nexacro._emptyFn;_pComponent._setAccessibilityFlagSelectable=nexacro._emptyFn;_pComponent._setAccessibilityFlagDefaultButton=nexacro._emptyFn;_pComponent._setAccessibilityFlagMultiLine=nexacro._emptyFn;_pComponent._setAccessibilityInfoCount=nexacro._emptyFn;_pComponent._setAccessibilityInfoIndex=nexacro._emptyFn;_pComponent._setAccessibilityInfoValueMax=nexacro._emptyFn;_pComponent._setAccessibilityInfoValueMin=nexacro._emptyFn;_pComponent._setAccessibilityInfoValueCur=nexacro._emptyFn;_pComponent._setAccessibilityInfoLevel=nexacro._emptyFn;_pComponent._setAccessibilityHotKey=nexacro._emptyFn;_pComponent._setAccessibilityActiveDescendant=nexacro._emptyFn;_pComponent._setAccessibilityStatFlag=nexacro._emptyFn;_pComponent._setAccessibilityValue=nexacro._emptyFn;_pComponent._setAccessibilityStatFocus=nexacro._emptyFn;_pComponent._setAccessibilityStatKillFocus=nexacro._emptyFn;_pComponent._setAccessibilityStatLive=nexacro._emptyFn;_pComponent._updateAccessibilityLabel=nexacro._emptyFn;_pComponent._notifyAccessibility=nexacro._emptyFn;_pComponent._isAccessibilityEnable=function(){return false;};_pComponent._isItemAccessibilityEnable=function(){return false;};_pComponent._isAccessibilityRoleHeading=nexacro._emptyFn;_pComponent._isComponentKeydownAction=function(){return true;};_pComponent._isFireVirtualMouseEvent=function(){return false;};_pComponent._isFireAccessibilityKeydown=function(){return false;};_pComponent._accessibility_focusin=nexacro._emptyFn;_pComponent._accessibility_focusout=nexacro._emptyFn;_pComponent._accessibility_keydown=nexacro._emptyFn;_pComponent._on_create_accessibility_contents=nexacro._emptyFn;_pComponent._on_created_accessibility_contents=nexacro._emptyFn;_pComponent._on_attach_accessibility_contents_handle=nexacro._emptyFn;_pComponent._makeStatusMap=function(){this._statusmap={disabled:false,mouseover:false,focused:false,deactivate:false};if(this._use_readonly_status){this._statusmap.readonly=false;}this._userstatusmap={};if(this._use_pushed_status){this._userstatusmap.pushed=false;}if(this._use_selected_status){this._userstatusmap.selected=false;}};_pComponent._makeCSSMapInfo=function(){var _a=[];var _b=this.on_get_css_assumedtypename();var _c=nexacro._dimension_maps[_b];if(_c){var _d=_c.self;if(_d){_a.push(_d);}}var _e;if(_c){_e=_c["class"];}var _f=this._getClassCSSSelector();var _g,_h,_i,_j,_k=0;if(_e&&_f){_g=_f.length;_j=_e.length;for(_i=0;_i<_j;_i++ ){if(_g==_k){break;}var _l=_e[_i];var _m;for(_h=0;_h<_g;_h++ ){var _n=_f[_h];if(_n){_m=_l[_n.trim()];if(_m){var _o=_m.self;if(_o){_a.push(_o);}_k++ ;break;}}}}}if(this._is_subcontrol&&this._p_parent&&this._p_parent._is_component){var _p=this._getIDCSSSelector();if(_p){var _q;var _r=nexacro._dimension_maps[_p];if(_r){_q=[];_q.push(_r);}if(_r){this._getCSSMapParent()._makeRefCSSMapInfo(_a,_q,_f);}}}var _s;_g=_a.length;this._cssselector={enabled:{}};var _t=this._cssselector;for(_h=_g -1;_h>=0;_h-- ){var _u=_a[_h];for(var _w in _u){if(!_u.hasOwnProperty(_w)){continue;}var _v=_u[_w];if(nexacro._include_status_map){if(!_t[_w]){_t[_w]={};}}for(var _x in _v){if(_t[_w]&&_t[_w][_x]){continue;}if(!_v.hasOwnProperty(_x)){continue;}_s=_v[_x];if(!_t[_w]){_t[_w]={};}_t[_w][_x]=_s;}}}};_pComponent._getCSSMapParent=function(){return this._p_parent;};_pComponent._makeRefCSSMapInfo=function(_a,_b,_c){var _d,_e,_f,_g,_h=0;var _i,_j;var _k=this.on_get_css_assumedtypename();var _l=this._getIDCSSSelector();var _m=this._getClassCSSSelector();var _n=_b.shift();var _o=[];var _p=null;while(_n){var _q=_n.parent;if(_q){var _r;if(_l){_r=_q[_l];if(_r){_o.push(_r);_p=_r["class"];if(_p&&_m){_d=_m.length;for(_e=0;_e<_d;_e++ ){_j=_m[_e];if(_j){_i=_p[_j.trim()];if(_i){_o.push(_i);}}}}}}var _s=_q[_k];if(_s){var _t=_s.self;if(_t){_a.push(_t);}var _u=_s["class"];if(_u&&_m){_d=_m.length;_g=_u.length;_h=0;for(_f=0;_f<_g;_f++ ){if(_d==_h){break;}var _v=_u[_f];for(_e=0;_e<_d;_e++ ){_j=_m[_e];if(_j){_i=_v[_j.trim()];if(_i&&_i.self){_a.push(_i.self);_h++ ;}}}}}}}var _w=_n["class"];if(_w&&_c){_g=_w.length;_d=_c.length;_h=0;for(_f=0;_f<_g;_f++ ){if(_d==_h){break;}for(_e=0;_e<_d;_e++ ){_j=_c[_e];if(_j){_p=_w[_f];_i=_p[_j.trim()];if(_i&&_i.parent){var _x=_i.parent[_l];if(_x){_o.push(_x);_h++ ;}else if(!this._is_subcontrol){_a.push(_i.parent[_k].self);}}}}}}_n=_b.shift();}var _y=this._getCSSMapParent();if(_o.length>0&&_y&&_y._is_component){_y._makeRefCSSMapInfo(_a,_o,_m);}};_pComponent._setControlElementCssSelector=function(){var _a=this._control_element;if(_a){_a.setElementTypeCSSSelector(this.on_get_css_assumedtypename());if(this._is_subcontrol){var _b=this.on_getIDCSSSelector();var _c=this._p_parent;if(_c&&!_c._is_subcontrol&&(_c._is_containerset||_c._is_form||_c._is_frame)){_b=_b+_c.on_get_css_assumedtypename();var _d=_b;var _e=_c._getClassCSSSelector();if(_e){var _f=_e.length;_b=_d+" ";for(var _h=0;_h<_f;_h++ ){_b+=_d+_e[_h];if((_h+1)<_f){_b+=" ";}}}}_a.setElementIDCSSSelector(_b);}else{_a.setElementIDCSSSelector(this._getIDCSSSelector());}var _g=this._getElementClassCSSSelector();if(_g){_a.setElementClassCSSSelector(_g.join(" "));}else{_a.setElementClassCSSSelector("");}return true;}return false;};_pComponent._setControlElementCssMapInfo=function(){var _a=this._control_element;if(_a){var _b=this._cssselector.enabled;if(_b){var _c=_b.edge;if(_c&&this._rtl&&_b.rtlEdgeImage){_c=_b.rtlEdgeImage;}this._control_element.setElementCSSMapInfo(_b.border,_b.padding,_c);}}};_pComponent._changeStatus=function(_a,_b){this._on_changeStatus(_a,_b);};_pComponent.on_changeStatus=function(_a,_b,_c,_d,_e){return _c;};_pComponent._on_changeStatus=function(_a,_b){if(!this._is_alive){return;}this._oldstatus=this._status;var _c="enabled";this._statusmap[_a]=_b;var _d=this._statusmap;if(_d.disabled){_c="disabled";}else if(_d.readonly&&this._use_readonly_status){_c="readonly";}else if(_d.mouseover){_c="mouseover";}else if(_d.focused){_c="focused";}else if(_d.deactivate){_c="deactivate";}this._status=this.on_changeStatus(_a,_b,_c,this._status,this._userstatus);if(this._status=="mouseover"&&nexacro._cur_track_info){this._status=this._oldstatus;_d.mouseover=false;return;}if(this._oldstatus!=this._status){this._apply_status(this._oldstatus,this._status,this._olduserstatus,this._userstatus,undefined,_a,_b);}if(nexacro._enableaccessibility){this._setAccessibilityStatFlag(this._status,this._userstatus);}};_pComponent._changeUserStatus=function(_a,_b){return this._on_changeUserStatus(_a,_b);};_pComponent.on_changeUserStatus=function(_a,_b,_c,_d,_e){return _c;};_pComponent._on_changeUserStatus=function(_a,_b){if(!this._is_alive){return;}this._olduserstatus=this._userstatus;var _c="";this._userstatusmap[_a]=_b;var _d=this._userstatusmap;if(this._use_pushed_status&&_d.pushed){_c="pushed";}else if(this._use_selected_status&&_d.selected){_c="selected";}this._userstatus=this.on_changeUserStatus(_a,_b,_c,this._status,this._userstatus);if(this._olduserstatus!=this._userstatus){this._apply_status(this._oldstatus,this._status,this._olduserstatus,this._userstatus,undefined,_a,_b);}this._setAccessibilityStatFlag(this._status,this._userstatus);};_pComponent.on_apply_status=function(_a,_b,_c,_d){};_pComponent._on_apply_status=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(_e||(_a!=_b)||(_c!=_d)){this.on_apply_status(_b,_d,_f,_g);}var _j=this._control_element;if(_j){if(_a!=_b){_j.setElementStatus(_h);}if(_c!=_d||_i===""){_j.setElementUserStatus(_i);}}};_pComponent._apply_status=function(_a,_b,_c,_d,_e,_f,_g){var _h=(nexacro._is_enable_setting)?this._p_enable:this._p_enable&&this._real_enable;var _i;if(!this._is_frame||(this._is_frame&&!this._is_popup_frame)){_i=this._p_parent;}while(_i!=null){if(!_i._is_frame||(_i._is_frame&&!_i._is_popup_frame)){if(_i._is_subcontrol==false){if(_i._real_enable==false||_i._p_enable==false){_h=false;break;}}_i=_i._p_parent;}else{break;}}if(this._setEnable(_h)){return;}this._apply_status_toelement(_a,_b,_c,_d,_e,_f,_g);};_pComponent._apply_status_toelement=function(_a,_b,_c,_d,_e,_f,_g){var _h=this._control_element;if(this._p_visible&&_h){var _i="";if(_b!="enabled"&&_b&&_d){_i=_b+"_"+_d;}var _j=false;var _k=false;var _l=null;var _m=null;var _n=null;var _o;if(_i){_o=this._cssselector[_i];if(_o){_j=true;_k=true;_l=_o.border;_m=_o.padding;_n=_o.edge;}}var _p=false;if(_b==="disabled"){_p=true;_o=this._cssselector[_b];if(_o){_j=true;if(!_l){_l=_o.border;}if(!_m){_m=_o.padding;}if(!_n){_n=_o.edge;}}}if(_d){_o=this._cssselector[_d];if(_o){_k=true;if(!_l){_l=_o.border;}if(!_m){_m=_o.padding;}if(!_n){_n=_o.edge;}}}if(!_p&&_b!="enabled"){_o=this._cssselector[_b];if(_o){_j=true;if(!_l){_l=_o.border;}if(!_m){_m=_o.padding;}if(!_n){_n=_o.edge;}}}var _q=this._cssselector.enabled;if(!_l){_l=_q.border;}if(!_m){_m=_q.padding;}if(!_n){_n=_q.edge;}if(_n&&this._isRtl()&&_q.rtlEdgeImage){_n=_q.rtlEdgeImage;}_h.setElementCSSMapInfo(_l,_m,_n);var _r=_b;var _s=_d;if(nexacro._include_status_map){_r=(_j?_b:"");_s=(_k?_d:"");}this._on_apply_status(_a,_b,_c,_d,_e,_f,_g,_r,_s);}};_pComponent._setTablecellarea=function(_a){if(this._tablecellarea!==_a){this._tablecellarea=_a;var _b=this.getElement();if(_b){_b.setElementTableCellArea(_a);}}};_pComponent._getCurrentLayoutTablecellarea=function(){return this._tablecellarea?this._tablecellarea:this._p_tablecellarea;};_pComponent._adjustPosition=function(){var _a=this._is_group?this._group_panel:this._p_parent?this._p_parent:this._getForm();var _b=this._is_innerform?this._p_parent:this._getParentComponent();var _c=this._p_fittocontents;var _d=this._arrange_info;var _e,_f;var _g=this._left;var _h=this._top;var _i=this._right;var _j=this._bottom;var _k=this._width;var _l=this._height;var _m=this._minwidth;var _n=this._maxwidth;var _o=this._minheight;var _p=this._maxheight;var _q=_a?_a._getClientWidth():0;var _r=_a?_a._getClientHeight():0;var _s=_b?_b._p_fittocontents:"none";var _t;var _u=0,_v=0,_w=0,_x=0,_y=0,_z=0;if(_g!=null){if(_d&&(_e=this._getArrangeComp("left"))){_t=_e._adjust_left+_e._adjust_width;}else{_t=0;}_u=_t+_g;if(_i!=null){if(_d&&(_f=this._getArrangeComp("right"))){_t=_f._adjust_left;}else{_t=_q;}if(_c=="width"||_c=="both"){_w=_u+_k;}else{_w=_t-_i;}if(!_e&&_f){if(_m!=null&&((_w-_u)<_m)){_u=_w-_m;}else if(_n!=null&&((_w-_u)>_n)){_u=_w-_n;}}}else{_w=_u+_k;}}else{if(_d&&(_f=this._getArrangeComp("right"))){_t=_f._adjust_left;}else{_t=_q;}_w=_t-_i;_u=_w-_k;if(_m!=null&&(_k<_m)){_u=_w-_m;}else if(_n!=null&&(_k>_n)){_u=_w-_n;}}if(_h!=null){if(_d&&(_e=this._getArrangeComp("top"))){_t=_e._adjust_top+_e._adjust_height;}else{_t=0;}_v=_t+_h;if(_j!=null){if(_d&&(_f=this._getArrangeComp("bottom"))){_t=_f._adjust_top;}else if((_s=="both"||_s=="height")&&_b._basis_height){_t=_b._basis_height;}else{_t=_r;}if(_c=="height"||_c=="both"){_x=_v+_l;}else{_x=_t-_j;}if(!_e&&_f){if(_o!=null&&((_x-_v)<_o)){_v=_x-_o;}else if(_p!=null&&((_x-_v)>_p)){_v=_x-_p;}}}else{_x=_v+_l;}}else{if(_d&&(_f=this._getArrangeComp("bottom"))){_t=_f._adjust_top;}else{_t=_r;}_x=_t-_j;_v=_x-_l;if(_o!=null&&(_l<_o)){_v=_x-_o;}else if(_p!=null&&(_l>_p)){_v=_x-_p;}}_y=_w-_u;if(_y<0){_y=0;}if(_m!=null&&(_y<_m)){_y=(_m<0)?0:_m;}else if(_n!=null&&(_y>_n)){_y=(_n<0)?0:_n;}_z=_x-_v;if(_z<0){_z=0;}if(_o!=null&&(_z<_o)){_z=(_o<0)?0:_o;}else if(_p!=null&&(_z>_p)){_z=(_p<0)?0:_p;}this._setAdjustProps(_u,_v,_y,_z);};_pComponent._setLeft=function(_a){if(_a===""){_a=null;}if(this._p_left!=_a){this._p_left=_a;this._parseArrangeInfoProp("left",_a);if(_a==null){if(this._p_width==null){this._setWidth(this._adjust_width);}else if(this._p_right==null){var _b=this._p_parent._adjust_width-(this._adjust_left+this._adjust_width);this._setRight(_b);}}else{if(this._p_right!=null&&this._p_width!=null){this._setRight(null);}}}};_pComponent._setTop=function(_a){if(_a===""){_a=null;}if(this._p_top!=_a){this._p_top=_a;this._parseArrangeInfoProp("top",_a);if(_a==null){if(this._p_height==null){this._setHeight(this._adjust_height);}else if(this._p_bottom==null){var _b=this._p_parent._adjust_height-(this._adjust_top+this._adjust_height);this._setBottom(_b);}}else{if(this._p_bottom!=null&&this._p_height!=null){this._setBottom(null);}}}};_pComponent._setRight=function(_a){if(_a===""){_a=null;}if(this._p_right!=_a){this._p_right=_a;this._parseArrangeInfoProp("right",_a);if(_a==null){if(this._p_width==null){this._setWidth(this._adjust_width);}else if(this._p_left==null){this._setLeft(this._adjust_left);}}else{if(this._p_left!=null&&this._p_width!=null){this._setWidth(null);}}}};_pComponent._setBottom=function(_a){if(_a===""){_a=null;}if(this._p_bottom!=_a){this._p_bottom=_a;this._parseArrangeInfoProp("bottom",_a);if(_a==null){if(this._p_height==null){this._setHeight(this._adjust_height);}else if(this._p_top==null){this._setTop(this._adjust_top);}}else{if(this._p_top!=null&&this._p_height!=null){this._setHeight(null);}}}};_pComponent._setWidth=function(_a){if(_a===""){_a=null;}if(this._p_width!=_a){this._p_width=_a;this._parseArrangeInfoProp("width",_a);if(_a==null){if(this._p_left==null){this._setLeft(this._adjust_left);}else if(this._p_right==null){var _b=this._p_parent._adjust_width-(this._adjust_left+this._adjust_width);this._setRight(_b);}}else{if(this._p_left!=null&&this._p_right!=null){this._setRight(null);}}}};_pComponent._setHeight=function(_a){if(_a===""){_a=null;}if(this._p_height!=_a){this._p_height=_a;this._parseArrangeInfoProp("height",_a);if(_a==null){if(this._p_top==null){this._setTop(this._adjust_top);}else if(this._p_bottom==null){var _b=this._p_parent._adjust_height-(this._adjust_top+this._adjust_height);this._setBottom(_b);}}else{if(this._p_top!=null&&this._p_bottom!=null){this._setBottom(null);}}}};_pComponent._setMinwidth=function(_a){if(_a!=null&&isNaN(parseInt(_a))){return;}if(this._p_minwidth!=_a){if(_a==null){this._p_minwidth=null;this._minwidth=null;}else{this._p_minwidth=_a;this._minwidth=parseInt(_a);}if((_a&&this._p_maxwidth)&&(this._minwidth>this._maxwidth)){this._setMaxwidth(this._minwidth);}}};_pComponent._setMaxwidth=function(_a){if(_a!=null&&isNaN(parseInt(_a))){return;}if(this._p_maxwidth!=_a){if(_a==null){this._p_maxwidth=null;this._maxwidth=null;}else{this._p_maxwidth=_a;this._maxwidth=parseInt(_a);}if((_a&&this._p_minwidth)&&(this._maxwidth<this._minwidth)){this._setMinwidth(this._maxwidth);}}};_pComponent._setMinheight=function(_a){if(_a!=null&&isNaN(parseInt(_a))){return;}if(this._p_minheight!=_a){if(_a==null){this._p_minheight=null;this._minheight=null;}else{this._p_minheight=_a;this._minheight=parseInt(_a);}if((_a&&this._p_maxheight)&&(this._minheight>this._maxheight)){this._setMaxheight(this._minheight);}}};_pComponent._setMaxheight=function(_a){if(_a!=null&&isNaN(parseInt(_a))){return;}if(this._p_maxheight!=_a){if(_a==null){this._p_maxheight=null;this._maxheight=null;}else{this._p_maxheight=_a;this._maxheight=parseInt(_a);}if((_a&&this._p_minheight)&&(this._maxheight<this._p_minheight)){this._setMinheight(this._maxheight);}}};_pComponent.on_update_position=function(_a,_b,_c){var _d=this._control_element;if(_d){if(_b){_d.setElementPosition(this._adjust_left,this._adjust_top);this.on_fire_onmove(this._adjust_left,this._adjust_top);}if(_a||_c){_d.setElementSize(this._adjust_width,this._adjust_height,_c);if(_a){this.on_fire_onsize(this._adjust_width,this._adjust_height);}}}};_pComponent._update_position=function(_a){if(this._is_subcontrol){this._update_position_static(_a);}else{if(this._is_container){this._calcBasisSize();}if(this._isFluidContainer()){if(this._is_created){this._update_position_fluid(false);}}else{this._update_position_static(_a);}}};_pComponent._update_position_static=function(_a){var _b=this._adjust_left;var _c=this._adjust_top;var _d=this._adjust_width;var _e=this._adjust_height;var _f=false;var _g=false,_h=false;this._calcArrangePosition();this._adjustPosition();if(this._adjust_width!=_d||this._adjust_height!=_e){_g=true;if(_d==0||_e==0){_f=true;}}if(this._adjust_left!=_b||this._adjust_top!=_c){_h=true;}this.on_update_position(_g,_h,_h?false:_a);if(_f){this._apply_status(this._oldstatus,this._status,this._olduserstatus,this._userstatus);}};_pComponent._update_position_fluid=function(_a){var _b=nexacro._getLayoutManager();if(_b){var _c=this.getOffsetWidth();var _d=this.getOffsetHeight();if(_a){_b.calcFluidLayoutContents();}else{var _e;if(this._is_group&&this._group_panel){_e=this._group_panel;}else{_e=this._p_parent;}if(_e){_b.calcFluidLayoutContents(_e);}}if(this.getOffsetWidth()!=_c||this.getOffsetHeight()!=_d){this._update_layoutbasis();this._apply_status(this._oldstatus,this._status,this._olduserstatus,this._userstatus);}}};_pComponent._getReferenceAbsoluteFont=function(_a){var _b=null;var _c=null,_d=null;if(!_a){if(this["font"]){_a=this._getSettedFontObject();}else{_a=this._getCSSStyleValue("font");}}_d=_a;if(!_d){if(this._is_main||this._is_popup_frame){_c=nexacro._getSystemFont();}else{if(this._is_group){_b=this._group_panel;}else{_b=this._p_parent;}if(_b&&_b._is_component){_c=_b._getReferenceAbsoluteFont();}}}else{if(_d._unit=="rem"||_d._unit=="em"){if(_d._unit=="rem"){_b=this._getMainFrame();}else{if(this._is_group){_b=this._group_panel;}else{_b=this._p_parent;}}if(_b&&_b._is_component){_c=_b._getReferenceAbsoluteFont();}}else if(_d._unit=="px"||_d._unit=="pt"){_c=_d;}}return _c;};_pComponent._convToPixel=function(_a,_b){var _c=null;if(typeof (_a)=="string"){if(_a.indexOf("%")>=0){_c=(_b* parseFloat(_a))/100;}else if(_a.indexOf("rem")>=0||_a.indexOf("em")>=0){_c=parseFloat(_a);if(_a.indexOf("pt")>=0){_c=_c* (100/75);}_c=_b* _c;}}return (_c===null)?(parseInt(_a)|0):_c;};_pComponent._convToRelativeUnit=function(_a,_b,_c){var _d=null;if(typeof (_a)=="number"){if(_c=="%"){_d=(parseFloat(_a)* 100)/_b;}else if(_c=="rem"||_c=="em"){_d=parseFloat(_a)/_b;}}return (_d===null)?(parseFloat(_a)|0):_d;};_pComponent._parseArrangeVal=function(_a){var _b=null;if(_a&&typeof _a=="string"){var _c=_a.split(":");if(_c.length==2){if(!isNaN(parseFloat(_c[1]))){_b={compid:_c[0],distance:_c[1]};}}else if(_a.indexOf("%")>=0){if(!isNaN(parseFloat(_a))){_b={compid:null,distance:_a};}}else if(_a.indexOf("rem")>=0||_a.indexOf("em")>=0){if(!isNaN(parseFloat(_a))){_b={compid:null,distance:_a};}}}return _b;};_pComponent._parseArrangeInfoProp=function(_a,_b){var _c=this._arrange_info;var _d;if(_b!=undefined){if(!_c){_c={};}_d=this._parseArrangeVal(_b);if(_d){_c[_a]=_d;}else{_c[_a]=undefined;delete _c[_a];}}else{if(_c){_c[_a]=undefined;delete _c[_a];}}if(_c){this._arrange_info=_c;for(_d in _c){break;}if(!_d){this._arrange_info=null;}}};_pComponent._parseArrangeInfo=function(_a,_b,_c,_d,_e,_f){if(_a==undefined&&_b==undefined&&_c==undefined&&_d==undefined&&_e==undefined&&_f==undefined){this._arrange_info=null;return;}var _g;var _h={};if(_a&&(_g=this._parseArrangeVal(_a))){_h.left=_g;}if(_b&&(_g=this._parseArrangeVal(_b))){_h.top=_g;}if(_c&&(_g=this._parseArrangeVal(_c))){_h.right=_g;}if(_d&&(_g=this._parseArrangeVal(_d))){_h.bottom=_g;}if(_e&&(_g=this._parseArrangeVal(_e))){_h.width=_g;}if(_f&&(_g=this._parseArrangeVal(_f))){_h.height=_g;}this._arrange_info=_h;for(_g in this._arrange_info){break;}if(!_g){this._arrange_info=null;}};_pComponent._calcArrangePosition=function(){var _a=this._arrange_info;var _b=this._is_subcontrol?this._p_parent:this._is_group?this._group_panel:this._getForm();var _c,_d,_e,_f,_g;var _h=this._getParentComponent();var _i;var _j=this._p_fittocontents;if(_j!="none"){_i=this._on_getFitSize();}var _k,_l;if(_a&&(_f=_a.left)){if(_b&&_b._is_created_contents){_l=_f.distance;_c=this._findComponentForArrange(_f.compid);if(!_c){if(_l.indexOf("rem")>-1||_l.indexOf("em")>-1){_c=this;if(_l.indexOf("rem")>-1){_c=this._getMainFrame();}_k=_c._getReferenceAbsoluteFont();_d=_k?_k._size:1;}else{if(_h._p_fittocontents=="width"||_h._p_fittocontents=="both"){_d=_h._basis_width;}else{_c=_b;_d=_c._getClientWidth();}}}else{_d=_c._adjust_width;}this._left=this._convToPixel(_l,_d);}}else{if(this._p_left!=null){this._left=isNaN(_g=parseFloat(this._p_left))?this._left:_g;}else{this._left=null;}}if(_a&&(_f=_a.top)){if(_b&&_b._is_created_contents){_l=_f.distance;_c=this._findComponentForArrange(_f.compid);if(!_c){if(_l.indexOf("rem")>-1||_l.indexOf("em")>-1){_c=this;if(_l.indexOf("rem")>-1){_c=this._getMainFrame();}_k=_c._getReferenceAbsoluteFont();_e=_k?_k._size:1;}else{if(_h._p_fittocontents=="height"||_h._p_fittocontents=="both"){_e=_h._basis_height;}else{_c=_b;_e=_c._getClientHeight();}}}else{_e=_c._adjust_height;}this._top=this._convToPixel(_l,_e);}}else{if(this._p_top!=null){this._top=isNaN(_g=parseFloat(this._p_top))?this._top:_g;}else{this._top=null;}}if(_a&&(_f=_a.right)){if(_b&&_b._is_created_contents){_l=_f.distance;_c=this._findComponentForArrange(_f.compid);if(!_c){if(_l.indexOf("rem")>-1||_l.indexOf("em")>-1){_c=this;if(_l.indexOf("rem")>-1){_c=this._getMainFrame();}_k=_c._getReferenceAbsoluteFont();_d=_k?_k._size:1;}else{if(_h._p_fittocontents=="width"||_h._p_fittocontents=="both"){_d=_h._basis_width;}else{_c=_b;_d=_c._getClientWidth();}}}else{_d=_c._adjust_width;}this._right=this._convToPixel(_l,_d);}}else{if(this._p_right!=null){this._right=isNaN(_g=parseFloat(this._p_right))?this._right:_g;}else{this._right=null;}}if(_a&&(_f=_a.bottom)){if(_b&&_b._is_created_contents){_l=_f.distance;_c=this._findComponentForArrange(_f.compid);if(!_c){if(_l.indexOf("rem")>-1||_l.indexOf("em")>-1){_c=this;if(_l.indexOf("rem")>-1){_c=this._getMainFrame();}_k=_c._getReferenceAbsoluteFont();_e=_k?_k._size:1;}else{if((_h._p_fittocontents=="height"||_h._p_fittocontents=="both")&&_e<0){_e=_h._basis_height;}else{_c=_b;_e=_c._getClientHeight();}}}else{_e=_c._adjust_height;}this._bottom=this._convToPixel(_l,_e);}}else{if(this._p_bottom!=null){this._bottom=isNaN(_g=parseFloat(this._p_bottom))?this._bottom:_g;}else{this._bottom=null;}}if(_j=="width"||_j=="both"){if(_i){this._width=_i[0];}}else{if(_a&&(_f=_a.width)){if(_b&&_b._is_created_contents){_l=_f.distance;_c=this._findComponentForArrange(_f.compid);if(!_c){if(_l.indexOf("rem")>-1||_l.indexOf("em")>-1){_c=this;if(_l.indexOf("rem")>-1){_c=this._getMainFrame();}_k=_c._getReferenceAbsoluteFont();_d=_k?_k._size:1;}else{if(_h._p_fittocontents=="width"||_h._p_fittocontents=="both"){_d=_h._basis_width;}else{_c=_b;_d=_c._getClientWidth();}}}else{_d=_c._adjust_width;}this._width=this._convToPixel(_l,_d);}}else{if(this._p_width!=null){this._width=isNaN(_g=parseFloat(this._p_width))?this._width:_g;}else{this._width=null;}}}if(_j=="height"||_j=="both"){if(_i){this._height=_i[1];}}else{if(_a&&(_f=_a.height)){if(_b&&_b._is_created_contents){_l=_f.distance;_c=this._findComponentForArrange(_f.compid);if(!_c){if(_l.indexOf("rem")>-1||_l.indexOf("em")>-1){_c=this;if(_l.indexOf("rem")>-1){_c=this._getMainFrame();}_k=_c._getReferenceAbsoluteFont();_e=_k?_k._size:1;}else{if(_h._p_fittocontents=="height"||_h._p_fittocontents=="both"){_e=_h._basis_height;}else{_c=_b;_e=_c._getClientHeight();}}}else{_e=_c._adjust_height;}this._height=this._convToPixel(_l,_e);}}else{if(this._p_height!=null){this._height=isNaN(_g=parseFloat(this._p_height))?this._height:_g;}else{this._height=null;}}}};_pComponent._getArrangeComp=function(_a){switch(_a){case "left":case "top":case "width":case "height":case "right":case "bottom":break;default:return undefined;}var _b=this._arrange_info;if(!_b){return null;}var _c=_b[_a];if(!_c){return null;}return this._findComponentForArrange(_c.compid);};_pComponent._findComponentForArrange=function(_a){var _b=null;var _c=null;var _d,_e,_f,_g;if(_a){if(!this._is_subcontrol){_c=this._getForm();if(_c){_d=_c._p_components;_e=_d.indexOf(this.id);_f=_d.indexOf(_a);if(_e<_f){return null;}var _h=_d[_a];if(_h){if((this._p_positionstep!=_h._p_positionstep)||this._p_positionstep==-1||_h._p_positionstep==-1){return null;}}_b=_d[_f];}}else{var _i=this._p_parent;if(_i._findChild){var _j=_i._findChild(_a);if(!_j||_j._p_taborder>this._p_taborder){return null;}_b=_j;}else{_c=this._getForm();if(_c){_d=_c._p_components;_g=_d.indexOf(this.id);_f=_d.indexOf(_a);if(_g<_f){return null;}_b=_d[_f];}}}}return _b;};_pComponent._setInnerFlexibleFlag=function(_a,_b){};_pComponent._isFluidContainer=function(_a){if(this._is_subcontrol){if(this._excluded_flex){return false;}return this._p_parent._is_flexible;}if(this._is_popup_control){return false;}if(this._is_group&&this._group_panel){return this._group_panel._is_flexible_container;}var _b=_a?this._p_parent._getForm():this._getForm();return _b?_b._is_flexible_container:false;};_pComponent._getTablecellareaCoordinate=function(){var _a=this._p_tablecellarea?this._p_tablecellarea:this._tablecellareacoordinates;var _b=[];if(_a){var _c=_a.split("/");_c.forEach(function(_d){_d=_d.trim();var _e=_d.split(" ");if(_e.length==1){_b.push( +_d);_b.push( +_d);}else if(_e.length==2){if(_e[0]>_e[1]){_e.push(_e.shift());}_e.forEach(function(_d){_b.push( +_d);});}});}return _b;};_pComponent._areConsecutive=function(){return false;};_pComponent._onRecalcScrollSize=nexacro._emptyFn;_pComponent._getFittocontents=function(){return this._fittocontents?this._fittocontents:this._p_fittocontents;};_pComponent._onResetScrollBar=function(){if(!this._is_scrollable){return;}var _a=this._control_element;if(_a){var _b=this._getHScrollBarSize();var _c=this._getVScrollBarSize();var _d=false;var _e=false;var _f=this._getHScrollBarType();var _g=this._getVScrollBarType();var _h=this._scrolltype;if(_f!="none"){_e=true;}if(_g!="none"){_d=true;}if(this._is_form&&this.getStepCount()>0){_e=false;}var _i=_a.client_left;var _j=_a.client_top;var _k=_a.client_width;var _l=_a.client_height;var _m=_a._zclient_width;var _n=_a._zclient_height;var _o=0,_p=0,_q=0,_r=0;var _s=_a.padding?_a.padding:_a._padding_info;var _t=false;var _u=false;if(_a._apply_client_padding&&_s){_o=_s.left;_p=_s.top;_q=_s.right;_r=_s.bottom;}var _v=_i-_o;var _w=_l+_p+_r;var _x=_k+_o+_q;var _y=_k+_o+_q;var _z=_j-_p;var _aa=_l+_p+_r;if(_e){this._createHScrollBar(_b);if(_b>0){if(_a.hscroll_limit<=0&&_f!="fixed"){_b=0;}if(_f=="autoindicator"){_w-=_b;this._p_hscrollbar.set_visible(false);}else{this._p_hscrollbar.set_visible(true);}}}else{if(this._p_hscrollbar){this._p_hscrollbar.destroy();this._p_hscrollbar=null;}}if(_d){this._createVScrollBar(_c);if(_c>0){if(_a.vscroll_limit<=0&&_g!="fixed"){_c=0;}if(_g=="autoindicator"){_y-=_c;this._p_vscrollbar.set_visible(false);}else{this._p_vscrollbar.set_visible(true);}}}else{if(this._p_vscrollbar){this._p_vscrollbar.destroy();this._p_vscrollbar=null;}}if(this._p_hscrollbar){if(this._isEnable()&&_b>0&&(_h!="none"&&_h!="vertical")&&_a.hscroll_limit>0){_u=true;}this._p_hscrollbar._setScrollInfo(_v,_w,_x,_b,0,_a.hscroll_limit,this._scroll_default_value,_m,_m,_u,_a.scroll_left);if(!this._p_hscrollbar._is_created){this._p_hscrollbar.on_created(this._getWindow());}}if(this._p_vscrollbar){if(this._isEnable()&&_c>0&&(_h!="none"&&_h!="horizontal")&&_a.vscroll_limit>0){_t=true;}this._p_vscrollbar._setScrollInfo(_y,_z,_c,_aa,0,_a.vscroll_limit,this._scroll_default_value,_n,_n,_t,_a.scroll_top);if(!this._p_vscrollbar._is_created){this._p_vscrollbar.on_created(this._getWindow());}}}};_pComponent._setFlingScrollBezier=function(_a,_b,_c,_d){this._fling_cubic_bezier=[_a,_b,_c,_d];};_pComponent._setFlingScrollMaxDistance=function(_a){this._fling_max_distance=_a;};_pComponent._on_beforescroll=function(_a,_b,_c,_d,_e,_f){return true;};_pComponent._scrollBy=function(_a,_b,_c,_d,_e,_f){_a=parseInt(_a)+this._hscroll_pos;_b=parseInt(_b)+this._vscroll_pos;this._scrollTo(_a,_b,_c,_d,_e,_f);};_pComponent._correctScrollPos=function(_a){return parseInt(_a)|0;};_pComponent._scrollTo=function(_a,_b,_c,_d,_e,_f){if(nexacro._isNull(_c)){_c=true;}if(nexacro._isNull(_d)){_d=false;}var _g=this.getElement();if(!_g){return false;}var _h=this._scrolltype;var _i,_j;var _k=this._getHScrollBarType();var _l=this._getVScrollBarType();var _m=_g.hscroll_limit;var _n=_g.vscroll_limit;var _o=this._hscroll_pos;var _p=this._vscroll_pos;var _q=false;var _r=false;if(nexacro._isNull(_a)||_h=="vertical"){_a=_o;}if(nexacro._isNull(_b)||_h=="horizontal"){_b=_p;}_a=this._correctScrollPos(_a);_b=this._correctScrollPos(_b);_a=_a<0?0:_a;_b=_b<0?0:_b;var _s=this._on_beforescroll(_o,_p,_a,_b,_e,_f);_a=_a>_m?_m:_a;_b=_b>_n?_n:_b;if((_f=="slide"||_f=="fling")&&this._p_stepselector&&this._p_stepselector.stepcount>0){var _t=Math.abs(_o-_a);var _u=Math.abs(_p-_b);if(this._is_step_vscrolling){_a=_o;}else if(this._is_step_hscrolling){_b=_p;}else{if(_t<_u){_a=_o;this._is_step_vscrolling=true;}else{_b=_p;this._is_step_hscrolling=true;}}}if(_a!=_o&&_b!=_p){_q=true;_r=true;if(_s){_g.setElementScrollPos(_a,_b);}this._hscroll_pos=_a;this._vscroll_pos=_b;}else if(_a!=_o){_q=true;if(_s){_g.setElementHScrollPos(_a);}this._hscroll_pos=_a;}else if(_b!=_p){_r=true;if(_s){_g.setElementVScrollPos(_b);}this._vscroll_pos=_b;}if(_f!="vertical"&&_f!="page_v"&&_f!="mousewheel_v"){if(_e){_i=_e;}else{_i=this._getScrollEventType(_o,_a,0,_m,"h");}}if(_q||_i){if(_i&&_f=="mousewheel_h"){_i="wheel"+_i;}else if(_f=="page_h"&&(_i=="left"||_i=="right")){_i="page"+_i;}else if(_f=="slide"||_f=="fling"){if(_i=="first"||_i=="firstover"||_i=="last"||_i=="lastover"){_i="slide"+_i;}else if(_i=="left"||_i=="right"){_i="slidescroll"+_i;}else{_i="slide";}}if(_i=="left"||_i=="right"){_i="none";}if(_q||_i!="none"){this.on_fire_onhscroll("onhscroll",_a,_i?_i:_e,_f);}}if(_f!="horizontal"&&_f!="page_h"&&_f!="mousewheel_h"){if(_e){_j=_e;}else{_j=this._getScrollEventType(_p,_b,0,_n,"v");}}if(_r||_j){if(_j&&_f=="mousewheel_v"){_j="wheel"+_j;}else if(_f=="page_v"&&(_j=="up"||_j=="down")){_j="page"+_j;}else if(_f=="slide"||_f=="fling"){if(_j=="first"||_j=="firstover"||_j=="last"||_j=="lastover"){_j="slide"+_j;}else if(_j=="up"||_j=="down"){_j="slidescroll"+_j;}else{_j="slide";}}if(_j=="up"||_j=="down"){_j="none";}if((_r||_j!="none")&&_f!="stepchange"){this.on_fire_onvscroll("onvscroll",_b,_j?_j:_e,_f);}}if(_c){var _v=this._p_hscrollbar;if(_v&&_v._p_enable&&_q){if(_k=="autoindicator"){_v.set_visible(true);if(_d){nexacro._OnceCallbackTimer.callonce(this,function(){this._p_hscrollbar.set_visible(false);},500);}}_v._setPos(_a,_f,false);}var _w=this._p_vscrollbar;if(_w&&_w._p_enable&&_r){if(_l=="autoindicator"){_w.set_visible(true);if(_d){nexacro._OnceCallbackTimer.callonce(this,function(){this._p_vscrollbar.set_visible(false);},500);}}_w._setPos(_b,_f,false);}}return true;};_pComponent._createVScrollBar=function(_a){var _b=this._getVScrollBarType();var _c;if(_b=="autoindicator"||_b=="indicator"){if(this._p_vscrollbar&&(this._p_vscrollbar.id!=this._vscrollindicator_id)){this._p_vscrollbar.destroy();this._p_vscrollbar=null;}if(!this._p_vscrollbar){this._p_vscrollbar=new nexacro.ScrollIndicatorControl(this._vscrollindicator_id,0,0,_a,this._getClientWidth(),null,null,null,null,null,null,this);}}else{if(this._p_vscrollbar&&(this._p_vscrollbar.id!=this._vscrollbar_id)){this._p_vscrollbar.destroy();this._p_vscrollbar=null;}if(!this._p_vscrollbar){this._p_vscrollbar=new nexacro.ScrollBarControl(this._vscrollbar_id,0,0,_a,this._getClientWidth(),null,null,null,null,null,null,this);}}_c=this._p_vscrollbar;if(!nexacro._isNull(this._p_scrollbarbaroutsize)){_c.set_baroutsize(this._p_scrollbarbaroutsize);}if(!nexacro._isNull(this._p_scrollbarincbuttonsize)){_c.set_incbuttonsize(this._p_scrollbarincbuttonsize);}if(!nexacro._isNull(this._p_scrollbardecbuttonsize)){_c.set_decbuttonsize(this._p_scrollbardecbuttonsize);}if(!nexacro._isNull(this._p_scrollbarbarminsize)){_c.set_barminsize(this._p_scrollbarbarminsize);}if(!nexacro._isNull(this._p_scrollbartrackbarsize)){_c.set_trackbarsize(this._p_scrollbartrackbarsize);}if(!_c._is_created_contents){_c.set_direction("vertical");_c._setEventHandler("onscroll",this.on_notify_vscroll_onscroll,this);_c.createComponent(true);}_c.on_apply_cssclass();_c.move(0,0,_a,this._getClientWidth(),null,null);};_pComponent._createHScrollBar=function(_a){var _b;var _c=this._getHScrollBarType();if(_c=="autoindicator"||_c=="indicator"){if(this._p_hscrollbar&&(this._p_hscrollbar.id!=this._hscrollindicator_id)){this._p_hscrollbar.destroy();this._p_hscrollbar=null;}if(!this._p_hscrollbar){this._p_hscrollbar=new nexacro.ScrollIndicatorControl(this._hscrollindicator_id,0,0,this._getClientHeight(),_a,null,null,null,null,null,null,this);}}else{if(this._p_hscrollbar&&(this._p_hscrollbar.id!=this._hscrollbar_id)){this._p_hscrollbar.destroy();this._p_hscrollbar=null;}if(!this._p_hscrollbar){this._p_hscrollbar=new nexacro.ScrollBarControl(this._hscrollbar_id,0,0,this._getClientHeight(),_a,null,null,null,null,null,null,this);}}_b=this._p_hscrollbar;if(!nexacro._isNull(this._p_scrollbarbaroutsize)){_b.set_baroutsize(this._p_scrollbarbaroutsize);}if(!nexacro._isNull(this._p_scrollbarincbuttonsize)){_b.set_incbuttonsize(this._p_scrollbarincbuttonsize);}if(!nexacro._isNull(this._p_scrollbardecbuttonsize)){_b.set_decbuttonsize(this._p_scrollbardecbuttonsize);}if(!nexacro._isNull(this._p_scrollbarbarminsize)){_b.set_barminsize(this._p_scrollbarbarminsize);}if(!nexacro._isNull(this._p_scrollbartrackbarsize)){_b.set_trackbarsize(this._p_scrollbartrackbarsize);}if(!_b._is_created_contents){_b.set_direction("horizontal");_b._setEventHandler("onscroll",this.on_notify_hscroll_onscroll,this);_b.createComponent(true);}_b.on_apply_cssclass();_b.move(0,0,this._getClientHeight(),_a,null,null);};_pComponent._registerHotkey=function(){var _a=this._hotkey;if(!_a||_a._is_registered){return;}this._setAccessibilityHotKey(this._p_hotkey);var _b=this._getMainForm();if(this._is_frame||this==_b){var _c=this.getOwnerFrame();if(_c){nexacro._registerHotkeyComp(_c,this,_a);}}else{if(_b){nexacro._registerHotkeyComp(_b,this,_a);}}};_pComponent._unregisterHotkey=function(){var _a=this._hotkey;if(!_a||!_a._is_registered){return;}var _b=this._getMainForm();if(this._is_frame||this==_b){var _c=this.getOwnerFrame();if(_c){nexacro._unregisterHotkeyComp(_c,this,_a);}}else{if(_b){nexacro._unregisterHotkeyComp(_b,this,_a);}else{delete this._hotkey;this._hotkey=null;}}};_pComponent._processHotkey=function(_a,_b,_c,_d){var _e=this._getMainForm();if(!this._is_frame&&this!=_e){if(_e){return _e._processHotkey(_a,_b,_c,_d,this);}}};_pComponent._on_hotkey=function(_a,_b,_c,_d){this.setFocus();};_pComponent._refreshLayoutInfo=function(){var _a=this.getElement();if(_a){_a._refreshLayoutInfo();}};_pComponent._destroy=function(_a){return this.destroy(_a);};_pComponent._applyScrollPos=function(){var _a;var _b;var _c;if(this.form){_a=this.form._child_list;}else{_a=this._child_list;}if(_a!=null){for(_c=0;_c<_a.length;_c++ ){_b=_a[_c];_b._applyScrollPos();}}if((this._is_scrollable&&this._use_container_move)||this._applyMultiContainerScrollPos){if(this._applyMultiContainerScrollPos){this._applyMultiContainerScrollPos();}else{if(this._control_element){this._control_element._reset_scrollpos=true;this._control_element.setElementHScrollPos(this._control_element.scroll_left);this._control_element.setElementVScrollPos(this._control_element.scroll_top);this._control_element._reset_scrollpos=false;}}}};_pComponent._makeExprFn=function(_a){_a=_a.trim().split(":");var _b=_a.length;var _c=new nexacro.ExprParser();var _d,_e;var _f;if(_b==1){_f=_a[0];}else{if(_a[0].trim().toUpperCase()!="EXPR"){_f=_a.join(":");}else{_f=_a.slice(1).join(":");}}_d=_c.makeExpr(this,_f);_e=nexacro._createInlineFunc(_d,["comp"]);return _e;};_pComponent._closePopup=function(){var _a=this._popupcontrol;if(_a){_a._closePopup();}};_pComponent._on_beforerepeat=function(){return [true,false];};_pComponent._setFluidcontents=nexacro._emptyFn;_pComponent._getLayoutChildlist=function(){return this._layoutchild_list?this._layoutchild_list:this._child_list;};_pComponent._adjustStepindex=function(){let _a=this;if((nexacro._isTouchInteraction&&nexacro._SupportTouch)||nexacro._isMobile()){let _b=_a._p_parent,_c=null;let _d=_a;let _e;while(_b){if(_b._p_stepselector){_e=_d._p_positionstep;_c=_b._p_stepselector;if(_c._p_stepindex!=_e){_c.set_stepindex(_e);}}_d=_b;_b=_b._p_parent;if(_b._is_frame){break;}}}};_pComponent.getElement=function(){return this._control_element;};_pComponent._getOwnerFrame=function(){var _a=this;while(_a&&!_a._is_frame){_a=_a._p_parent;}return _a;};_pComponent._getMainFrame=function(){var _a=this;while(_a&&!_a._is_main){_a=_a._p_parent;}return _a;};_pComponent._getWindow=function(){var _a=this._p_parent;if(_a){return _a._getWindow();}var _b=this._refform;if(_b&&_b!=this){return _b._getWindow();}return nexacro._findWindow(nexacro._getMainWindowHandle());};_pComponent._getRootWindow=function(){var _a=this._getWindow();while(_a){if(_a.frame){return _a;}_a=_a._p_parent;}return this._getWindow();};_pComponent._getWindowHandle=function(){var _a=this._getWindow();if(_a){return _a.handle;}return null;};_pComponent._getForm=function(){return this._refform;};_pComponent._getRootForm=function(){var _a=this._refform;while((_a&&_a._is_form==false)||(_a&&_a._is_form&&(_a instanceof nexacro._InnerForm))){_a=_a._p_parent;}return _a;};_pComponent._getMainForm=function(){var _a=this;while(_a){if(_a._is_frame){return _a.form;}if(!_a._is_form&&_a._refform){_a=_a._refform;}else if(_a._p_parent){_a=_a._p_parent;}else{if(_a._is_form){return _a;}return null;}}return null;};_pComponent._getParentForm=function(){var _a=this._p_parent;if(!_a){return null;}while(_a){if(_a._is_form&&!_a._is_frame){return _a;}_a=_a._p_parent;}return null;};_pComponent._getLastFocused=function(){return this._last_focused;};_pComponent._getRefFormBaseUrl=function(){if(this._refform){return this._refform._getFormBaseUrl();}};_pComponent._getFormChildById=function(_a){var _b=this._getForm();if(_b){return _b[_a];}return null;};_pComponent._getRootComponent=function(_a){var _b=_a;while(_b&&(_b._is_subcontrol||!_b._is_component||_b instanceof nexacro._InnerForm)){if(_b==_b._p_parent){return null;}_b=_b._p_parent;}return _b;};_pComponent._getPopupRootComponent=function(_a){var _b=_a;while(_b&&(_b._is_subcontrol||!_b._is_component||_b instanceof nexacro._InnerForm)&&!_b._popupcontrol){if(_b==_b._p_parent){return null;}_b=_b._p_parent;}return _b;};_pComponent._getEventInfoComponent=function(){return this;};_pComponent._getFocusAcceptableComponent=function(_a){var _b=_a;while(_b&&_b._is_subcontrol&&!_b._is_focus_accept){if(_b==_b._p_parent){return null;}_b=_b._p_parent;}return _b;};_pComponent._getReferenceContext=function(){return this._refform;};_pComponent._getCSSStyleValue=function(_a,_b,_c){if(_b===undefined){_b=this._status;}if(_c===undefined){_c=this._userstatus;}var _d="";if(_b!="enabled"&&_b&&_c){_d=_b+"_"+_c;}if(!this._cssselector){return;}var _e=this._isRtl();var _f=(_a=="icon"?"rtlIcon":_a);var _g;if(_d&&this._cssselector[_d]){_g=this._cssselector[_d];if(_g&&_g[_a]){if(_e&&_a=="icon"&&_g[_f]){return _g[_f];}else{return _g[_a];}}}var _h;var _i;var _j=false;if(_b==="disabled"&&this._cssselector[_b]){_j=true;_h=this._cssselector[_b][_a];_i=this._cssselector[_b][_f];if(_h){if(_e&&_i){return _i;}else{return _h;}}}if(_c&&this._cssselector[_c]){_h=this._cssselector[_c][_a];_i=this._cssselector[_c][_f];if(_h){if(_e&&_i){return _i;}else{return _h;}}}if(!_j&&this._cssselector[_b]){_h=this._cssselector[_b][_a];_i=this._cssselector[_b][_f];if(_h){if(_e&&_i){return _i;}else{return _h;}}}_h=this._cssselector["enabled"][_a];_i=this._cssselector["enabled"][_f];if(_h&&_e&&_i){return _i;}else{return _h;}};_pComponent._getCurrentStyleInheritValue=function(_a,_b,_c){if(this[_a]){switch(_a){case "font":return this._getSettedFontObject();case "color":return this._getSettedColorObject();case "wordSpacing":return this._getSettedWordSpacingObject();case "letterSpacing":return this._getSettedLetterSpacingObject();default:return this["_"+_a];}}var _d=this._getCSSStyleValue(_a,_b,_c);if(!_d&&(_a=="font"||_a=="color"||_a=="wordSpacing"||_a=="letterSpacing")){if(this._p_parent&&this._p_parent._is_component){_d=this._p_parent._getCurrentStyleInheritValue(_a,_b,_c);}else{if(_a=="font"){_d=nexacro._getSystemFont();}}}return _d;};_pComponent._getCSSSelector=function(){return this._cssselector;};_pComponent._getClassCSSSelector=function(){var _a=this._p_cssclass||this._cssclass_expr;if(_a){var _b=_a.split(",");var _c=[];var _d=_b.length;for(var _e=0;_e<_d;_e++ ){_c.push(_b[_e].trim());}return _c;}return "";};_pComponent._getElementClassCSSSelector=function(){var _a=this._p_cssclass||this._cssclass_expr;if(this._isPopupContains()){_a=this._getPopupContainerCSSSelector();}if(_a){return _a.trim().split(",");}return "";};_pComponent._getIDCSSSelector=function(){if(this._is_subcontrol){return this.on_getIDCSSSelector();}return "";};_pComponent._getPopupContainerCSSSelector=function(){var _a=this._p_parent._getPopupControl();if(_a){var _b,_c;var _d="";var _e="popup"+_a.on_get_popupControlTypeName();var _f="dummy";var _g="",_h="";var _i=this._p_parent;var _j=1;var _k,_l;var _m;var _n;while(_i){if(_i._is_subcontrol){_d+="popup"+_i.on_get_css_assumedtypename()+_g+this.on_getIDCSSSelector()+",";}else{if(!_k){_d+=_e+_g+this.on_getIDCSSSelector()+",";}break;}_h=_g+this.on_getIDCSSSelector();_m=_i.on_getIDCSSSelector();_g=_m+_g;if(_k||_i._p_cssclass){if(!_k){_k=[];_l=[];}if(_k.length==0){_k.push(_m+_h);if(_i._p_cssclass){_k.push(_m+_i._p_cssclass+_h);}_l.push(2);}else{var _o=[];while(_k.length!=0){_n=_k.pop();_o.push(_m+_n);if(_i._p_cssclass){_o.push(_m+_i._p_cssclass+_n);}}_c=_l.length;for(_b=0;_b<_c;_b++ ){var _p=_l[_b];_l[_b]=_p+1;}if(_i._p_cssclass){_l.push(2);}_k=_o;}}_j++ ;_i=_i._p_parent;}if(_k&&_k.length>0){while(_k.length>0){_n=_k.pop();_d+=","+_e+_n;if(_i._p_cssclass){_d+=","+_e+_i._p_cssclass+_n;}}if(_i._p_cssclass){_j++ ;}_c=_l.length;for(_b=0;_b<_c;_b++ ){_j+=_l[_b];}}else if(_i._p_cssclass){var _q;var _r=_i._p_cssclass.split(",");for(var _b=0;_b<_r.length;_b++ ){_q=_r[_b];_d+=_e+_q+_g+this.on_getIDCSSSelector();if(_b!=(_r.length-1)){_d+=",";}_j++ ;}}for(_b=0;_b<_j;_b++ ){_d+=","+_f;}return _d;}};_pComponent._getScreenPosition=function(){var _a=this._control_element;if(_a){var _b=nexacro._getElementScreenPosition(_a);var _c=_b.x;var _d=_b.y;return {x:_c,y:_d};}return {x:0,y:0};};_pComponent._getWindowPosition=function(){var _a=this._control_element;if(_a){var _b=this._getCurrentStyleBorder();var _c=nexacro._getElementXYInWindow(_a.handle);var _d=_c[0]-(_b?_b._getBorderLeftWidth():0);var _e=_c[1]-(_b?_b._getBorderTopWidth():0);return {x:_d,y:_e};}return {x:0,y:0};};_pComponent._getClientWidth=function(){var _a=this._control_element;if(_a){return _a.getClientWidth();}return 0;};_pComponent._getClientHeight=function(){var _a=this._control_element;if(_a){return _a.getClientHeight();}return 0;};_pComponent._getClientLeft=function(){var _a=this._control_element;if(_a){return _a.getClientLeft();}return 0;};_pComponent._getInnerWidth=function(){var _a=this._control_element;if(_a){var _b=_a.inner_width;if(_a._apply_client_padding){var _c=_a.padding?_a.padding:_a._padding_info;if(_c){_b-=_c.left+_c.right;}}return _b;}return 0;};_pComponent._getInnerHeight=function(){var _a=this._control_element;if(_a){var _b=_a.inner_height;if(_a._apply_client_padding){var _c=_a.padding?_a.padding:_a._padding_info;if(_c){_b-=_c.top+_c.bottom;}}return _b;}return 0;};_pComponent._getClientTop=function(){var _a=this._control_element;if(_a){return _a.getClientTop();}return 0;};_pComponent._getCumulativeZoomFactor=function(){var _a=this;var _b=100;while(_a&&!(_a instanceof nexacro.Frame)){if(_a._getZoom){var _c=_a._getZoom();if(_c!=100){_b*=(_c/100.0);}}_a=_a._p_parent;}return _b;};_pComponent._getFixedOffsetValue=function(){var _a,_b,_c;if(this._p_right!=null){_a=0;}else if(this._p_width!=null){_c=this._p_width;if(typeof (_c)=="string"&&_c.indexOf("%")>=0){if(parseFloat(_c)<=100){_a=0;}else{_a=this.getOffsetRight();}}else{_a=this.getOffsetRight();}}if(this._p_bottom!=null){_b=0;}else if(this._p_height!=null){_c=this._p_height;if(typeof (_c)=="string"&&_c.indexOf("%")>=0){if(parseFloat(_c)<=100){_b=0;}else{_b=this.getOffsetBottom();}}else{_b=this.getOffsetBottom();}}return {right:_a,bottom:_b};};_pComponent._getScrollEventType=function(_a,_b,_c,_d,_e){var _f;if(_c==_d){return _f;}if(_a>_b&&_b>_c){if(_e=="h"){_f="left";}else{_f="up";}}else if(_a<_b&&_b<_d){if(_e=="h"){_f="right";}else{_f="down";}}else if(_b==_c){if(_a==_b){_f="firstover";}else{_f="first";}}else if(_b==_d){if(_a==_b){_f="lastover";}else{_f="last";}}return _f;};_pComponent._getScrollBarSize=function(){var _a=this._p_scrollbarsize;if(!nexacro._isNull(_a)){return _a;}var _b=nexacro.getEnvironment();_a=_b._p_scrollbarsize;if(!nexacro._isNull(_a)){return _a;}return this._default_scrollbarsize;};_pComponent._getScrollIndicatorSize=function(){var _a=this._p_scrollindicatorsize;if(!nexacro._isNull(_a)){return _a;}var _b=nexacro.getEnvironment();_a=_b._p_scrollindicatorsize;if(!nexacro._isNull(_a)){return _a;}return this._default_scrollindicatorsize;};_pComponent._getHScrollBarSize=function(){var _a=this._getHScrollBarType();if(_a=="autoindicator"||_a=="indicator"){return this._getScrollIndicatorSize();}else{return this._getScrollBarSize();}};_pComponent._getVScrollBarSize=function(){var _a=this._getVScrollBarType();if(_a=="autoindicator"||_a=="indicator"){return this._getScrollIndicatorSize();}else{return this._getScrollBarSize();}};_pComponent._getHScrollBarType=function(){var _a=this._hscrollbartype;if(_a!=""&&!nexacro._isNull(_a)){return _a;}var _b=this._p_scrollbartype;var _c=nexacro.getEnvironment();function _splitScrollBarType(_e){var _f=new Array(2);var _g,_h;if(_b){var _i=nexacro._toString(_b).toLowerCase().split(" ");for(var _j=0;_j<_i.length;_j++ ){switch(_i[_j]){case "none":case "auto":case "fixed":case "autoindicator":case "indicator":case "default":if(_j==0){_g=_i[_j];}else if(_j==1){_h=_i[_j];}break;default:break;}}if(!_h){_h=_g;}_f[0]=_g;_f[1]=_h;}return _f;}var _d=_splitScrollBarType(_b);_a=_d[0];if(!_a||_a=="default"){if(_c){_b=_c._p_scrollbartype;}if(_b==""||nexacro._isNull(_b)){_b=this._default_scrollbartype;}_d=_splitScrollBarType(_b);_a=_d[0];}return _a;};_pComponent._getVScrollBarType=function(){var _a=this._vscrollbartype;if(_a!=""&&!nexacro._isNull(_a)){return _a;}var _b=this._p_scrollbartype;var _c=nexacro.getEnvironment();function _splitScrollBarType(_e){var _f=new Array(2);var _g,_h;if(_b){var _i=nexacro._toString(_b).toLowerCase().split(" ");for(var _j=0;_j<_i.length;_j++ ){switch(_i[_j]){case "none":case "auto":case "fixed":case "autoindicator":case "indicator":case "default":if(_j==0){_g=_i[_j];}else if(_j==1){_h=_i[_j];}break;default:break;}}if(!_h){_h=_g;}_f[0]=_g;_f[1]=_h;}return _f;}var _d=_splitScrollBarType(_b);_a=_d[1];if(!_a||_a=="default"){if(_c){_b=_c._p_scrollbartype;}if(_b==""||nexacro._isNull(_b)){_b=this._default_scrollbartype;}_d=_splitScrollBarType(_b);_a=_d[1];}return _a;};_pComponent._getScrollable=function(){if(!this._is_scrollable||!this._isEnable()){return false;}if(this._p_scrolltype!="none"){return true;}return false;};_pComponent._getScrollWidth=function(){var _a=this._control_element;if(_a){if(this._is_scrollable){return this._getClientWidth();}return _a.getElementScrollWidth();}return 0;};_pComponent._getScrollHeight=function(){var _a=this._control_element;if(_a){if(this._is_scrollable){return this._getClientHeight();}return _a.getElementScrollHeight();}return 0;};_pComponent._getScrollLeft=function(){if(!this._is_scrollable){return 0;}var _a=this._control_element;if(_a){return _a.getElementScrollLeft();}return 0;};_pComponent._getScrollTop=function(){if(!this._is_scrollable){return 0;}var _a=this._control_element;if(_a){return _a.getElementScrollTop();}return 0;};_pComponent._getDragData=function(){var _a=null;if(this._p_text){_a=this._p_text;}return _a;};_pComponent._getParentEnable=function(){return this._p_parent._real_enable;};_pComponent._getPopupControl=function(){return this._popupcontrol;};_pComponent._is_popup=function(){return false;};_pComponent._getLocale=function(){if(!this._is_locale_control){return;}var _a=nexacro._locale?nexacro._locale:nexacro._getLocale();var _b=this;while(_b){if(_b._locale){_a=_b._locale;break;}_b=_b._p_parent;}return _a;};_pComponent._isRtl=function(_a){if(!_a){_a=this;}while(_a){if(_a._rtl!==undefined){return _a._rtl;}_a=_a._p_parent;}return nexacro._rtl;};_pComponent._getCurrentStylePadding=function(){var _a=this._control_element;if(_a){return _a.padding?_a.padding:_a._padding_info;}return undefined;};_pComponent._getCurrentStyleBorder=function(){var _a=this._control_element;if(_a){var _b=_a.border?_a.border:_a._border_info;if(_a.borderLeftNone||_a.borderRightNone||_a.borderTopNone||_a.borderBottomNone){if(_b){var _c=[_b.top.value,_b.right.value,_b.bottom.value,_b.left.value];if(_a.borderLeftNone){_c[3]="0px solid transparent";}if(_a.borderRightNone){_c[1]="0px solid transparent";}if(_a.borderTopNone){_c[0]="0px solid transparent";}if(_a.borderBottomNone){_c[2]="0px solid transparent";}_c=_c.join(",");return nexacro.BorderObject(_c);}}return _b;}return undefined;};_pComponent._getCurrentStyleEdge=function(){var _a=this._control_element;if(_a){return _a.edge?_a.edge:_a._edge_info;}return undefined;};_pComponent._getSettedColorObject=function(){return this._color;};_pComponent._getSettedFontObject=function(){return this._font;};_pComponent._getSettedWordSpacingObject=function(){return this._wordspacing;};_pComponent._getSettedLetterSpacingObject=function(){return this._letterspacing;};_pComponent._getSettedTextDecorationObject=function(){return this._textdecoration;};_pComponent._getSettedBorderRadiustObject=function(){return this._borderradius;};_pComponent._getSettedBorderObject=function(){return this._border;};_pComponent._getSettedBackgroundObject=function(){return this._background;};_pComponent._getSettedEdgeObject=function(){return this._edge;};_pComponent._getSettedCursorObject=function(){return this._cursor;};_pComponent._getSettedOpacityObject=function(){return this._opacity;};_pComponent._getSettedBoxShadowObject=function(){return this._boxshadow;};_pComponent._isVisible=function(){var _a=this;while(_a!=null){if(_a._p_visible==false&&!_a._isNotProcessedWheelZoom){return false;}if(_a._is_window){break;}if(_a._is_group){_a=_a._group_panel;}else{_a=_a._p_parent;}}return true;};_pComponent._isEnable=function(){var _a=this;while(_a!=null){if(_a._is_frame&&_a._is_popup_frame){break;}if(_a._real_enable==false||_a._p_enable==false){return false;}if(_a._is_group){_a=_a._group_panel;}else{_a=_a._p_parent;}}return true;};_pComponent._isEnableRedraw=function(){var _a=this._getFromComponent(this);if(!_a){return true;}return _a._p_enableredraw;};_pComponent._isEditableComponent=function(_a){if(this.readonly!==undefined){if(_a&&_a.match(this._type_name)){if(this._type_name=="Edit"){var _b=_a.split(",");for(var _c=0;_c<_b.length;_c++ ){if(_b[_c].trim()==this._type_name){return true;}}}else{return true;}}else if(_a===undefined||_a==""||_a=="All"){return true;}else{return false;}}return false;};_pComponent._isFocusAcceptable=function(){return this._is_focus_accept;};_pComponent._isPopupVisible=function(){return false;};_pComponent._isPopupContains=function(){return this._is_popupcontains?this._is_popupcontains:false;};_pComponent._isWheelScrollable=function(_a){var _b=this._control_element;if(!_b){return false;}var _c=_b.scroll_top;var _d=_b.container_maxheight;var _e=this._getClientHeight();if((_c+_e>=_d&&_a<0)||(_c==0&&_a>0)){return false;}return true;};_pComponent._isSelfCalculationPosition=function(){return this._is_subcontrol?true:false;};_pComponent._findForm=function(_a){var _b=_a;while(_b&&_b._is_form==false){_b=_b._p_parent;}return _b;};_pComponent._findDataset=function(_a){if(_a&&_a.length>0){var _b=this[_a];if(_b&&(_b._type_name=="Dataset")){return _b;}if(this._refform){var _c=this._refform;if(_c._p_parent&&_c._p_parent._is_view){if(_c._p_parent._p_viewdataset==_a){return _c._p_parent.getViewDataset();}else{_b=_c[_a];}}else{_b=_c[_a];}if(_b&&(_b._type_name=="Dataset")){return _b;}var _d=_c.opener||_c._p_parent;if(_d&&_d._findDataset){return _d._findDataset(_a);}else if(_d){return _d.lookup(_a);}}}return undefined;};_pComponent._find_lastFocused=function(){var _a=this._getMainForm();if(!_a){return null;}var _b=_a._last_focused;while(_b&&_b._hasContainer()){var _c=_b._getLastFocused();if(!_c){break;}_b=_c;}return _b;};_pComponent._hasContainer=function(){if(this._is_form||this._is_container||this._is_containerset||this._is_panel){return true;}return false;};_pComponent._contains=function(_a){while(_a&&!_a._window){if(_a==this){return true;}_a=_a._p_parent;}return false;};_pComponent._setControl=function(_a){this._is_subcontrol=true;if(_a){this._type_name=_a;}else{this._type_name=this.on_get_css_assumedtypename()+"Control";}};_pComponent._setFocus=function(_a,_b,_c){var _d=this._getRootWindow();var _e=_d._isActiveLayerComponent(this);if(!_e){return;}if(_b>-1||_b<4){this._focus_direction=_b;}else{this._focus_direction=-1;}if(_c==true){this._block_inner_focus=true;if(nexacro._enableaccessibility){var _f=(this._is_container||this instanceof nexacro.Tab)&&this._focus_direction==3?false:true;this.setFocus(_a,_f);}else{this.setFocus(_a);}this._block_inner_focus=false;}else{return this.setFocus(_a);}};_pComponent._setHscrollPos=function(_a){this._hscroll_pos=nexacro._toInt(_a);};_pComponent._setVscrollPos=function(_a){this._vscroll_pos=nexacro._toInt(_a);};_pComponent._setEnable=function(_a){if(this._is_enable_changing){return false;}var _b=(_a&&this._p_enable);if(this._real_enable!=_b){this._real_enable=_b;this._is_enable_changing=true;this._changeStatus("disabled",!_b);this._is_enable_changing=false;this.on_apply_prop_enable(this._real_enable);return true;}return false;};_pComponent._setLocale=function(_a){if(this.locale){return;}if(this._locale!=_a){this._locale=_a;this.on_apply_locale(_a);}};_pComponent._setPopupContains=function(_a){this._is_popupcontains=_a;};_pComponent._setInheritStyleValues=function(_a){if(this._control_element){if(_a){this._control_element.setElementFont(_a._getCurrentStyleInheritValue("font"));this._control_element.setElementColor(_a._getCurrentStyleInheritValue("color"));this._control_element.setElementWordSpacing(_a._getCurrentStyleInheritValue("wordSpacing"));this._control_element.setElementLetterSpacing(_a._getCurrentStyleInheritValue("letterSpacing"));}}};_pComponent._setAdjustProps=function(_a,_b,_c,_d){this._setAdjustPosition(_a,_b);this._setAdjustSize(_c,_d);};_pComponent._setAdjustPosition=function(_a,_b){this._adjust_left=_a;this._adjust_top=_b;};_pComponent._setAdjustSize=function(_a,_b){this._adjust_width=_a;this._adjust_height=_b;};_pComponent._update_layoutbasis=function(){if(this._isFluidContainer()){var _a=this.getElement();if(_a){var _b=this._getLayoutBasis();if(_b){_a._setElementLayoutBasis(_b);}}}};_pComponent._getLayoutBasis=function(){var _a=nexacro._getLayoutManager();if(!_a){return;}var _b=this._is_group?this._group_panel:this._p_parent;var _c=_b._getLayoutType(_a);if(_c==="default"){return;}var _d=this._fit_width>-1?this._fit_width:this._p_width;var _e=this._fit_height>-1?this._fit_height:this._p_height;var _f=this._p_minwidth?this._p_minwidth+"px":undefined;var _g=this._p_maxwidth?this._p_maxwidth+"px":undefined;var _h=this._p_minheight?this._p_minheight+"px":undefined;var _i=this._p_maxheight?this._p_maxheight+"px":undefined;if(this._p_fittocontents==="width"){var _j=String(_e);_d=this._adjust_width+"px";_e=_j.indexOf("%")>-1?_e:_e+"px";}else if(this._p_fittocontents==="height"){var _k=String(_d);_d=_k.indexOf("%")>-1?_d:_d+"px";_e=this._adjust_height+"px";}else if(this._p_fittocontents==="both"){_d=this._adjust_width+"px";_e=this._adjust_height+"px";}else{var _k=String(_d);var _j=String(_e);_e=_j.indexOf("%")>-1?_e:_e+(_j.indexOf("px")>-1?"":"px");_d=_k.indexOf("%")>-1?_d:_d+(_k.indexOf("px")>-1?"":"px");}return {type:_c,width:_d,height:_e,maxwidth:_g,maxheight:_i,minwidth:_f,minheight:_h};};_pComponent._getParentComponent=function(){if(this._is_group){return this._group_panel;}var _a=this._p_parent;if(_a instanceof nexacro._InnerForm){_a=_a._p_parent;}return _a;};_pComponent._getAdjustFitPositionHeight=function(_a,_b){var _c,_d,_e;if(!_a){return -1;}if(_b=="both"||_b=="height"){if(typeof _a==="string"&&_a.indexOf("%")>-1){var _f=this._getParentComponent();var _g=this._arrange_info;if(_g&&(_d=_g.height)){var _h=_d.distance;var _i=this._findComponentForArrange(_d.compid);if(!_i){if(_h.indexOf("rem")>-1||_h.indexOf("em")>-1){_i=this;if(_h.indexOf("rem")>-1){_i=this._getMainFrame();}_e=_i._getReferenceAbsoluteFont();_c=_e?_e._size:1;}else{_c=_f._basis_height?_f._basis_height:_f._height;}}else{_c=_i._adjust_height;}_a=this._convToPixel(_h,_c);}}}return _a;};_pComponent._getAdjustFitPositionWidth=function(_a,_b){if(!_a){return -1;}var _c,_d,_e;if(_b=="both"||_b=="width"){if(typeof _a==="string"&&_a.indexOf("%")>-1){var _f=this._getParentComponent();var _g=this._arrange_info;if(_g&&(_d=_g.width)){var _h=_d.distance;var _i=this._findComponentForArrange(_d.compid);if(!_i){if(_h.indexOf("rem")>-1||_h.indexOf("em")>-1){_i=this;if(_h.indexOf("rem")>-1){_i=this._getMainFrame();}_e=_i._getReferenceAbsoluteFont();_c=_e?_e._size:1;}else{_c=_f._basis_width?_f._basis_width:_f._width;}}else{_c=_i._adjust_width;}_a=this._convToPixel(_h,_c);}}}return _a;};_pComponent._calcBasisSize=function(){var _a=this._p_width;var _b=this._getParentComponent();if(!_b){return;}if(_a){if(typeof _a==="string"&&_a.indexOf("%")>-1){if(!_b._basis_width){return;}this._basis_width=this._convToPixel(_a,_b._basis_width);}else{this._basis_width= +_a;}}var _c=this._p_height;if(_c){if(typeof _c==="string"&&_c.indexOf("%")>-1){if(!_b._basis_height){return;}this._basis_height=this._convToPixel(_c,_b._basis_height);}else{this._basis_height= +_c;}}var _d=this._p_right;if(_d){if(!_b._basis_width){return;}if(typeof _d==="string"&&_d.indexOf("%")>-1){this._basis_width=_b._basis_width-this._convToPixel(_d,_b._basis_width);}else{this._basis_width=_b._basis_width- +_d-(this._adjust_left>0?this._adjust_left:0);}}var _e=this._p_bottom;if(_e){if(!_b._basis_height){return;}if(typeof _e==="string"&&_e.indexOf("%")>-1){this._basis_height=_b._basis_height-this._convToPixel(_e,_b._basis_height);}else{this._basis_height=_b._basis_height- +_e-(this._adjust_top>0?this._adjust_top:0);}}};_pComponent._setContentSize=function(_a,_b){this._width=_a;this._height=_b;};_pComponent._setContentInfo=function(_a){var _b=this.getElement();if(!_b){return;}var _c=this._adjust_left!=_a._adjust_pos[0]||this._adjust_top!=_a._adjust_pos[1];var _d=this._adjust_width!=_a._adjust_pos[2]||this._adjust_height!=_a._adjust_pos[3];this._setContentSize(_a._size[0],_a._size[1]);this._setAdjustProps(_a._adjust_pos[0],_a._adjust_pos[1],_a._adjust_pos[2],_a._adjust_pos[3]);_b._updateInnerElement(_a._adjust_pos[2],_a._adjust_pos[3]);this._update_layoutbasis();if(_c){this.on_fire_onmove(this._adjust_left,this._adjust_top);}if(_d){this.on_fire_onsize(this._adjust_width,this._adjust_height);}};_pComponent._checkContainerTabFocus=function(){if(this._hasContainer()&&!(this instanceof nexacro._InnerForm)){return true;}return false;};_pComponent._checkContainerHeadingFocus=function(){if(this._hasContainer()&&nexacro._enableaccessibility&&this._isAccessibilityEnable()==true&&this._isAccessibilityRoleHeading()){return true;}return false;};_pComponent._isInvalidValue=function(_a){return false;};_pComponent._convertValueType=function(_a,_b,_c){var _d=nexacro._getDatatypeRule();if(_d=="1.0"){return _a;}if(nexacro._isNull(_a)){return _a;}if(_c&&(typeof _c)=="function"){return _c(_a);}var _e;switch(_b){case 1:_e=parseInt(_a);break;case 2:_e=parseFloat(_a);break;default:_e=nexacro._toString(_a);break;}return _e;};_pComponent._getContentsmaxSize=function(_a){var _b=nexacro._getLayoutManager();if(!_b){return;}return _b.getContentsMaxRect(_a);};_pComponent._isAccessibilityCotainerComponent=function(){return false;};_pComponent._restorePosition=function(){this._parseArrangeInfo(this._p_left,this._p_top,this._p_right,this._p_bottom,this._p_width,this._p_height);this._update_position(this._isRtl());this._update_layoutbasis();};_pComponent._getUseSoftKeyboardValue=function(_a){_a=_a!==undefined?this._p_usesoftkeyboard:nexacro._usesoftkeyboard;this._use_softkeyboard=nexacro._enabletouchsoftkeyboard?(_a?2:0):1;return _a;};_pComponent._getLayoutType=function(_a){if(this._layouttype){return this._layouttype;}if(!_a){_a=nexacro._getLayoutManager();}if(!_a){return;}return _a.getLayoutProperty(this,"type");};_pComponent._setLayoutContainerProps=function(){let _a=this.getElement();if(_a){const _b=nexacro._getLayoutManager();const _c=["type","spacing","horizontalgap","verticalgap","flexwrap","flexmainaxisalign","flexcrossaxisalign","flexcrossaxiswrapalign","tabletemplate","tabletemplatearea","tabledirection","tablecellalign","tablecellincompalign"];const _d=_b.getLayoutProperties(this,_c);const _e=_d["type"];if(_e){_a.setElementLayoutType(_e);}const _f=_d["spacing"];if(_f){_a.setElementLayoutSpacing(_f);}const _g=_d["horizontalgap"];if(_g){_a.setElementLayoutHorizontalGap(_g);}const _h=_d["verticalgap"];if(_h){_a.setElementLayoutVerticalGap(_h);}const _i=_d["flexwrap"];if(_i){_a.setElementFlexWrap(_i);}const _j=_d["flexmainaxisalign"];if(_j){_a.setElementFlexMainAxisAlign(_j);}const _k=_d["flexcrossaxisalign"];if(_k){_a.setElementFlexCrossAxisAlign(_k);}const _l=_d["flexcrossaxiswrapalign"];if(_l){_a.setElementFlexCrossAxisWrapAlign(_l);}const _m=_d["tabletemplate"];if(_m){_a.setElementTableTemplate(_m);}const _n=_d["tabletemplatearea"];if(_n){_a.setElementTableTemplateArea(_n);}const _o=_d["tabledirection"];if(_o){_a.setElementTableDirection(_o);}const _p=_d["tablecellalign"];if(_p){_a.setElementTableCellAlign(_p);}const _q=_d["tablecellincompalign"];if(_q){_a.setElementTableCellinCompAlign(_q);}}};_pComponent._setLayoutContentsProps=function(){let _a=this.getElement();if(_a){var _b=this._getLayoutBasis();if(_b){_a._setElementLayoutBasis(_b);}if(this._p_flexgrow){if(this._isFlexGrow()){_a.setElementFlexGrow(this._p_flexgrow);_a.setElementFlexShrink(this._p_flexshrink);}}_a.setElementLayoutOrder(this._p_layoutorder);_a.setElementTableCellArea(this._p_tablecellarea);}};_pComponent._isFlexGrow=function(){const _a=this._p_fittocontents;const _b=this._getParent();const _c=_b._getLayoutType();if((_c==="horizontal"&&(_a==="width"||_a==="both"))||(_c==="vertical"&&(_a==="height"||_a==="both"))){return false;}return true;};_pComponent._getParent=function(){return this._is_group?this._group_panel:this._getForm();};_pComponent._convertObjectContents=function(_a){var _b=null,_c=null;if(typeof _a=="object"){_c=_a["Dataset"];if(!_c){return null;}_b=new nexacro.NormalDataset(_c.id,this);_b._setContents(_c);}else{var _d=nexacro._parseXMLDocument(_a);_c=_d.getElementsByTagName("Dataset")[0];if(!_c){return null;}var _e=_c.attributes[0].value;_b=new nexacro.NormalDataset(_e,this);if(_c.firstChild){var _f=_c.firstChild;var _g="";while(_f){if(_c.nodeType==1){_g+=nexacro._documentToXml(_f);}_f=_f.nextSibling;}_b._setContents(_g);}}return _b;};_pComponent._setContents=nexacro._emptyFn;nexacro.PopupControl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);};var _pPopupControl=nexacro.PopupControl.prototype=nexacro._createPrototype(nexacro.Component,nexacro.PopupControl);_pPopupControl._type_name="PopupControl";_pPopupControl._attached_comp=null;_pPopupControl._call_comp=null;_pPopupControl._p_visible=false;_pPopupControl._p_accessibilityrole="application";_pPopupControl._is_window=true;_pPopupControl._is_subcontrol=true;_pPopupControl._is_popup_control=true;_pPopupControl._is_simple_control=true;_pPopupControl._is_selfclose=true;_pPopupControl._default_zindex=nexacro._zindex_popup;_pPopupControl._track_capture=true;_pPopupControl.on_create_control_element=function(_a){var _b=this.on_create_popup_control_element(_a);if(_b&&this._default_zindex>0){_b.setElementZIndex(this._default_zindex);}return _b;};_pPopupControl.on_created=function(_a){if(!this._is_created){nexacro.Component.prototype.on_created.call(this,_a);}var _b=this._control_element;if(!this._p_visible&&_b){_b.setElementPosition(0,0);_b.setElementSize(1,1);}};_pPopupControl.on_created_contents=function(_a){var _b=this._control_element;if(!this._p_visible&&_b){_b.setElementPosition(0,0);_b.setElementSize(1,1);this._setInheritStyleValues(this);}};_pPopupControl.destroyComponent=function(){this._is_alive=false;if(this._p_visible){nexacro._removePopupComponent(this);this._p_visible=false;}if(nexacro._enableaccessibility){var _a=nexacro.getApplication();if(_a&&_a._accessibilityHistoryList&&!this._is_subcontrol){_a._remove_accessibility_history(this);}}var _b=this._getWindow();if(_b&&this._track_capture){_b._releaseCaptureLock(this);_b._releaseCaptureLock(this._attached_comp);this._track_capture=false;}if(this._attached_comp){this._detach(this._attached_comp);}this._call_comp=null;if(this._p_parent&&this._p_parent.removeChild){this._p_parent.removeChild(this.id);}else if(_b){_b._removeFromCurrentFocusPath(this);}if(this._control_element){this._control_element.destroy();this._control_element=null;}this._clearEventListeners();this.on_destroy_contents();this._is_created=false;if(this._p_parent){this._p_parent=null;}return true;};_pPopupControl.on_change_containerRect=function(_a,_b){var _c=this._attached_comp;if(_c&&_c!=this){if(!this._is_created||this._p_visible){_c.move(0,0,_a,_b);}}};_pPopupControl._contains=function(_a){while(_a){if(_a==this._attached_comp){return true;}_a=_a._p_parent;}return false;};_pPopupControl.set_visible=function(_a){if(_a===undefined||_a===null){return;}if(this._p_visible!=_a){if(!_a){var _b=this._getWindow();if(_b&&this._track_capture){_b._releaseCaptureLock(this._attached_comp);}}this._p_visible=_a;var _c=this._control_element;if(!_c){return;}var _d=this._attached_comp;var _b=this._getWindow();_a=nexacro._toBoolean(_a);_c.setElementVisible(_a);if(this._p_visible){if(_d&&_d!=this){_d.move(this._adjust_left,this._adjust_top,this._getClientWidth(),this._getClientHeight());}if(!this._is_subcontrol){this._call_comp=this._p_parent._last_focused?this._p_parent._last_focused:this._p_parent;}}else{_c.setElementPosition(-5000,0);}if(nexacro._enableaccessibility){this._setAccessibilityStatHidden(!_a);if(_d){if(!(_d instanceof nexacro.PopupDiv)){_d._setAccessibilityStatExpanded(_a);}_d._setAccessibilityStatHidden(!_a);}}if(this._is_selfclose){if(!_a){if(_d&&_d.on_fire_oncloseup){_d.on_fire_oncloseup(_d);}nexacro._removePopupComponent(this);_b._removeFromCurrentFocusPath(this,false);if(!this._is_subcontrol){if(nexacro._Browser=="Runtime"){if(_b._is_active_window){this._call_comp._on_focus(true);}else{var _e=this._call_comp._getForm();if(_e){_e._setLastFocus(this._call_comp);nexacro.__setLastFocusedElement(this._call_comp.getElement());}}}else{this._call_comp._on_focus(true);}}}else{nexacro._appendPopupComponent(this);_c.setElementZIndex(nexacro._zindex_popup+nexacro._current_popups.length-1);}}}};_pPopupControl._properties=[{name:"visible"}];nexacro._defineProperties(_pPopupControl,_pPopupControl._properties);_pPopupControl._attach=function(_a){this._attached_comp=_a;if(!_a._isPopupContains()){_a._setPopupContains(true);}var _b=this._control_element;if(_a&&_a!=this&&_a._control_element&&_b){var _c=_a._control_element;if(_c){var _d=_c.parent_elem;if(_a._is_created&&_d!=_b){_c._removeFromContainer();}_c.parent_elem=_b;}if(_a._is_created){_c._appendToContainer(_b);}}};_pPopupControl._attach_multi=function(_a,_b){this._attached_comp=_a;this._attached_sub_comp=_b;if(!_a._isPopupContains()){_a._setPopupContains(true);}var _c=this._control_element;if(_a&&_a!=this&&_a._control_element&&_c){var _d=_a._control_element;if(_d){var _e=_d.parent_elem;if(_a._is_created&&_e!=_c){_d._removeFromContainer();}_d.parent_elem=_c;}if(_a._is_created){_d._appendToContainer(_c);}}if(!_b._isPopupContains()){_b._setPopupContains(true);}var _c=this._control_element;if(_b&&_b!=this&&_b._control_element&&_c){var _d=_b._control_element;if(_d){var _e=_d.parent_elem;if(_b._is_created&&_e!=_c){_d._removeFromContainer();}_d.parent_elem=_c;}if(_b._is_created){_d._appendToContainer(_c);}}};_pPopupControl._detach=function(_a){if(this._attached_comp==_a&&_a!=this){this._attached_comp=null;_a._setPopupContains(false);var _b=this._control_element;var _c=_a._control_element;if(_c&&_b){if(_a._is_created){_c._removeFromContainer();}_c.parent_elem=null;}}};_pPopupControl._is_popup=function(){return this._p_visible;};_pPopupControl._popup=function(_a,_b,_c,_d){if(!this._attached_comp){return;}var _e=this._getWindow();if(_e&&this._track_capture){var _f=_e._getCaptureComp(true,false,this._attached_comp);if(_f!=this._attached_comp){_e._setCaptureLock(this._attached_comp,true,false);}}var _g=this._control_element;if(_g){_e=this._getWindow();if(_e&&(_e._wheelZoom!=undefined)){_g.setElementZoom(_e._wheelZoom);if(_e._wheelZoom!=100){_a=_a* nexacro._getDevicePixelRatio(_g);_b=_b* nexacro._getDevicePixelRatio(_g);}}if(nexacro._setzoomfactor){_a=_a>0?_a/nexacro._setzoomfactor:_a;_b=_b>0?_b/nexacro._setzoomfactor:_b;}_g.setElementPosition(_a,_b);_g.setElementSize(_c,_d);}if(nexacro._Browser=="Chrome"||nexacro._Browser=="Edge"){if(nexacro._called_msg_window){nexacro._called_msg_window=false;nexacro._OnceCallbackTimer.callonce(this,function(){this.set_visible(true);},0);}else{this.set_visible(true);}}else{this.set_visible(true);}};_pPopupControl._popupBy=function(_a,_b,_c,_d,_e,_f){if(!this._attached_comp||!_a){return;}var _g;var _h=this._getWindow();if(_h){nexacro._flushCommand(_h);if(this._track_capture){var _i=_h._getCaptureComp(true,false,this._attached_comp);if(_i!=this._attached_comp){_h._setCaptureLock(this._attached_comp,true,false);}}}if(nexacro._setzoomfactor){_b=_b>0?_b* nexacro._setzoomfactor:_b;_c=_c>0?_c* nexacro._setzoomfactor:_c;}if(_f){_g=nexacro._getElementPositionInFrame(_a.getElement());_b+=_g.x;_c+=_g.y;}else{_g=nexacro._getPopupElementPositionInFrame(_a.getElement(),_b,_c,_d,_e,true);_b=_g.x;_c=_g.y;}var _j=this._control_element;if(_h&&(_h._wheelZoom!=undefined)){_j.setElementZoom(_h._wheelZoom);if(_h._wheelZoom!=100){_b=_b* nexacro._getDevicePixelRatio(_a.getElement());_c=_c* nexacro._getDevicePixelRatio(_a.getElement());}}if(_j){if(nexacro._setzoomfactor){_b=_b>0?_b/nexacro._setzoomfactor:_b;_c=_c>0?_c/nexacro._setzoomfactor:_c;}_j.setElementPosition(_b,_c);_j.setElementSize(_d,_e);}if(nexacro._Browser=="Chrome"||nexacro._Browser=="Edge"){if(nexacro._called_msg_window){nexacro._called_msg_window=false;nexacro._OnceCallbackTimer.callonce(this,function(){this.set_visible(true);},0);}else{this.set_visible(true);}}else{this.set_visible(true);}};_pPopupControl._closePopup=function(){this.set_visible(false);};_pPopupControl._findOwnerElementHandle=function(){var _a;var _b={};_b.owner_handle=null;_b.is_append=true;_b.ref_handle=null;var _c=this._getWindow();if(_c){var _d;if(this instanceof nexacro._WaitControl){_d={};_d.popup_zindex=nexacro._zindex_waitcursor;}else{_d=_c._getComponentLayerInfo(this);}if(_d.is_modal){_a=_d.frame;var _e=_a._modal_overlay_elem;_b.owner_handle=_e.handle;_b.is_append=true;}else{if(_d.ref_first_modal_frame){_a=_d.ref_first_modal_frame;if(_c.dest_handle&&_c.dest_handle._linked_element){_b.owner_handle=_c.dest_handle._linked_element.dest_handle;}else{_b.owner_handle=_c.dest_handle;}_b.is_append=false;_b.ref_handle=_a._modal_overlay_elem.handle;}else{_b.owner_handle=_c.dest_handle;if(_c.dest_handle._linked_element){_b.ref_handle=_c.dest_handle._linked_element.dest_handle;}_b._is_append=true;}}}return _b;};_pPopupControl._getRootFrame=function(){var _a;var _b=this._getOwnerFrame();if(_b){var _c=_b._getWindow();if(_c){_a=_c.frame;}}return _a;};nexacro._WaitControl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){nexacro.PopupControl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);this._p_visible=false;this._context_list=[];this._is_subcontrol=false;this._is_simple_control=true;this._img_elem=null;this._image_width=0;this._image_height=0;};var __pWaitControl=nexacro._WaitControl.prototype=nexacro._createPrototype(nexacro.PopupControl,nexacro._WaitControl);__pWaitControl._type_name="WaitControl";__pWaitControl._is_selfclose=false;__pWaitControl._default_zindex=nexacro._zindex_waitcursor;__pWaitControl._is_focus_accept=false;__pWaitControl.on_create_contents=function(){var _a=this.getElement();if(_a){this._img_elem=new nexacro.ImageElement(_a);}};__pWaitControl.on_created_contents=function(_a){var _b=this.getElement();if(_b){var _c=this._img_elem;if(_c){_c.setElementVisible(true);_c.create(_a);}}this.on_apply_accessibility();this._setAccessibilityStatHidden(true);};__pWaitControl.on_change_containerRect=function(_a,_b){var _c=this._img_elem;if(_c){var _d=Math.round((_a-this._image_width)/2);var _e=Math.round((_b-this._image_height)/2);_c.setElementPosition(_d,_e);_c.setElementSize(this._image_width,this._image_height);}};__pWaitControl._getAccessibilityLabel=function(){return " ";};__pWaitControl._on_loadimage=function(_a,_b,_c){if(!this._is_alive){return;}var _d=this._img_elem;if(_d&&_b>0&&_c>0){this._image_width=_b;this._image_height=_c;var _e=this._adjust_width;var _f=this._adjust_height;var _g=Math.round((_e-_b)/2);var _h=Math.round((_f-_c)/2);_d.setElementPosition(_g,_h);_d.setElementSize(_b,_c);_d.setElementImage(nexacro.UrlObject(_a));}};__pWaitControl.setImage=function(_a){var _b=this._img_elem;if(_b){var _c=nexacro._getImageSize(_a,this._on_loadimage,this);if(_c){this._image_width=_c.width;this._image_height=_c.height;var _d=this._adjust_width;var _e=this._adjust_height;var _f=Math.round((_d-_c.width)/2);var _g=Math.round((_e-_c.height)/2);_b.setElementPosition(_f,_g);_b.setElementSize(_c.width,_c.height);_b.setElementImage(nexacro.UrlObject(_a));}}};__pWaitControl.show=function(){if(!this._is_created||!this._p_parent){return;}var _a=this._getWindow();if(_a){var _b,_c;if(_a.frame){var _d=_a.frame;_b=_d.getOffsetWidth();_c=_d.getOffsetHeight();}else{_b=_a.getClientWidth();_c=_a.getClientHeight();}_a._setCaptureLock(this,true,true);this.move(0,0,_b,_c);var _e=this._control_element;if(_e){_e.setElementPosition(0,0);_e.setElementSize(_b,_c);}this.set_visible(true);}};__pWaitControl.hide=function(){var _a=this._getWindow();if(_a){_a._updateWrapper(false);_a._releaseCaptureLock(this);var _b=this._control_element;if(_b){_b.setElementSize(1,1);}}if(this._is_created&&this._is_alive){var _c=this._p_parent;while(_c){if(_c._is_form){break;}_c=_c._last_focused;}this.set_visible(false);if(_c){var _d=_c._last_focused;if(_d){if(_c._obj_mousemove&&(_c._obj_mousemove!=_d)){_d._on_afterHideWaitComp("enabled");}else{_d._on_afterHideWaitComp(_d._pseudo);}}}}};__pWaitControl._addContext=function(_a){if(_a){this._context_list.push(_a);}};__pWaitControl._removeContext=function(_a){if(!_a){return;}var _b=nexacro._indexOf(this._context_list,_a);if(_b>=0){this._context_list[_b]=null;delete this._context_list[_b];this._context_list.splice(_b,1);}};__pWaitControl.on_fire_onlbuttondown=function(){return true;};__pWaitControl._on_keydown=function(_a,_b){if(_b==nexacro.Event.KEY_TAB){_a._event_stop=true;}else if(_b==nexacro.Event.KEY_ESC){var _c=this._context_list;var _d=_c.length;for(var _f=0;_f<_d;_f++ ){var _e=_c[_f];if(_e&&(_e._is_form||_e._is_application)){_e._stopTransaction();}}}return true;};nexacro.CanvasComponent=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);this.id=this._p_name=_a||null;this._p_enableevent=false;this._apply_client_padding=false;this._canvas=null;this._drawn=false;this._control_element=null;this._inner_elem=null;};var _pCanvasComponent=nexacro._createPrototype(nexacro.Component,nexacro.CanvasComponent);nexacro.CanvasComponent.prototype=_pCanvasComponent;_pCanvasComponent._type_name="CanvasComp";_pCanvasComponent.on_create_contents=function(){var _a=this.getElement();var _b=new nexacro.CanvasElement(_a);_b.setElementPosition(0,0);_b.setElementSize(this._getClientWidth(),this._getClientHeight());this._canvas=_b;};_pCanvasComponent.on_created_contents=function(_a){var _b=this._canvas;if(_b){_b.create(_a);}this.ondraw(_b);};_pCanvasComponent._initInner=function(){this._apply_status(this._oldstatus,this._status,this._olduserstatus,this._userstatus);};_pCanvasComponent.on_destroy_contents=function(){if(this._canvas){this._canvas.destroy();this._canvas=null;}};_pCanvasComponent.on_change_containerRect=function(_a,_b){if(this._canvas){this._canvas._moveCanvas(0,0,_a,_b);this._drawn=false;this.ondraw(this._canvas);}};_pCanvasComponent.ondraw=function(){};_pCanvasComponent.redraw=function(){this.ondraw(this._canvas);};}if(_process){delete _process;delete __pPosition9xObj;delete __pPosition29xObj;delete _pComponent;delete _pPopupControl;delete __pWaitControl;delete _pCanvasComponent;}if(nexacro.Component){var _pComponent=nexacro.Component.prototype;_pComponent._setfocusing_comp=null;_pComponent._focus_refer_comp=null;_pComponent._is_killfocusing=false;_pComponent._resetScrollPos=function(_a,_b,_c,_d,_e,_f){if(this._is_frame){return;}var _g=this._is_group?this._group_panel:this.parent;if(!this._is_popup_control&&_g&&_g!=this){_g._resetScrollPos(this,_b,_c,_d,_e,_f);}};_pComponent._getSameParent=function(_a){if(!_a){return;}var _b=this.parent;var _c=0;var _d=[];while(_b){_c=nexacro._indexOf(_a,_b);_d.push(_b);if(_c>-1||_b._is_window||(_b._is_frame&&(_b._window_type==1||_b._window_type==4))){return [_d,_c];}_b=_b.parent;}};_pComponent._getTabOrderFirst=function(){return null;};_pComponent._getFromComponent=function(_a){var _b=_a;if(_b._is_subcontrol){_b=this._getRootComponent(_b);}return _b;};_pComponent._getRecalcCanvasXY=function(_a,_b,_c){_b+=this._adjust_left-this._scroll_left||0;_c+=this._adjust_top-this._scroll_top||0;var _d=this._getWindow();var _e=_d.findComponent(_a);if(_e!=this){var _f=this._getCurrentStylePadding();if(_f){_b+=_f.left;_c+=_f.top;}}return [_b,_c];};_pComponent._getClientXY=function(_a,_b){var _c=0,_d=0;var _e=this._getCurrentStyleBorder();if(_e){_d=_e._getBorderTopWidth();_c=_e._getBorderLeftWidth();}var _f=_a-_c;var _g=_b-_d;return [_f,_g];};_pComponent._setLastFocus=function(_a){if(_a&&!_a._is_popup_control){if(this==_a){this._last_focused=null;return;}var _b=this;while(_b&&(_b._is_form||_b instanceof nexacro.Div||_b instanceof nexacro.Tab||_b instanceof nexacro.Tabpage||_b instanceof nexacro._CompositeComponent)){_b._last_focused=_a;_a=_b;_b=_b.parent;}}};_pComponent._setCurFocusPathsByCurPos=function(_a,_b){var _c=_b?_b:this._getRootWindow();var _d=[];var _e=_a.parent;_c.clearCurrentFocusPaths();if(_c.frame==_a){return;}while(_e){_d.push(_e);if(_e==_c.frame||(_e._is_frame&&(_e._window_type==1||_e._window_type==4))){break;}_e=_e.parent;}for(var _f=_d.length;_f>0;_f-- ){_c.addCurrentFocusPaths(_d[_f -1]);}};_pComponent._isParentdefaultprevented=function(_a,_b){var _c=_a.parent;while(_c){if(!_c._getFromComponent){return false;}var _d=_c._getFromComponent(_c);var _e=_d["on"+_b];if(!_e||!_e.defaultprevented){_c=_c.parent;if(_d instanceof nexacro.MainFrame){return false;}}else{return true;}}return false;};_pComponent._isSelected=function(){return this._use_selected_status&&this._userstatusmap&&this._userstatusmap.selected;};_pComponent._isPushed=function(){return this._use_pushed_status&&this._userstatusmap&&this._userstatusmap.pushed;};_pComponent._on_focus=function(_a,_b,_c,_d,_e,_f){if(!this._is_alive||!this._p_visible){return;}var _g=false;if(nexacro._enableaccessibility){_g=true;}if(_g){if(!this._isAccessibilityEnable()&&(_b=="downkey"||_b=="upkey")){return;}}else{if(!this._isEnable()){return;}}var _h=this._getRootWindow();var _i,_j,_k,_l,_m;var _n,_o;var _p=false;var _q;if(_a){var _r=this;while(_r&&_r._is_nc_control){_r=_r.parent;}var _s=_h.getCurrentFocusPaths();if(!_r||!_r._isFocusAcceptable()){_l=_s?_s.length:0;if(_l>0){_m=_s[_l -1];if(_m._has_inputElement&&_m._input_element){_m._input_element._force_focus=true;}}return;}var _t=null;var _u=-1;if(_s&&_s.length){_s=_s.slice(0);_u=nexacro._indexOf(_s,_r);if(_u>-1){if(_u==_s.length-1){if(_h&&_h._is_active_window==false){_h._setFocus();}if(_g){if(this._getTabOrderFirst()==null&&nexacro._accessibilitytype!=5){return;}}else{if(this._getTabOrderFirst()==null){var _v=this._input_element;if(this._has_inputElement&&_v&&nexacro._Browser!="Runtime"){if(_v instanceof nexacro.TextBoxElement){return;}nexacro.__setInputDOMNodeFocus(_v.handle);}return;}}}else{if(!(this instanceof nexacro.PopupDiv)){_l=_s?_s.length:0;if(_l>0){_m=_s[_l -1];if(_m._has_inputElement&&_m._input_element){_m._input_element._force_focus=true;}}return;}}}_t=_r._getSameParent(_s);}if(_t){_e=this._getRootComponent(_r);var _w=_s[_s.length-1];var _x=this._getRootComponent(_w);var _y=_t[0];if(_y){var _z,_aa;var _ab=_y.length;for(_i=0;_i<_ab;_i++ ){_z=_y[_i];if(_z&&!_z._isFocusAcceptable()){return;}}if(_ab>1){for(_i=0;_i<_ab;_i++ ){_z=_y[_i];if(_z&&(_z._p_components||_z._is_container||_z._is_containerset)){_z._last_focused=(_aa?_aa:_r);}_aa=_z;}}else{if(_r.parent&&(_r.parent._p_components||_r.parent._is_container||_r.parent._is_containerset)){_r.parent._setLastFocus(_r);}}}var _ac=_s.slice(_t[1]+1).reverse();if(_ac&&_ac.length>0){for(_i=0,_k=_ac.length;_i<_k;_i++ ){_c=_ac[_i];if(_c&&_c._is_alive&&!_c._is_killfocusing){_c._is_killfocusing=true;_h._removeFromCurrentFocusPath(_c,false,_e,this);if(_c._p_enableevent){if(_e._is_popup_control){_c._changeStatus("mouseover",false);}_h._setfocusing_comp=_e;_n=_h.getCurrentFocusPaths().slice(0);_c.on_fire_onkillfocus(_e,this);_o=_h.getCurrentFocusPaths();_p=(_n.length!=_o.length);if(!_p){for(_j=0;_j<_n.length;_j++ ){if(_n[_j]!=_o[_j]||(_s.length==_n.length&&_s[_j]==_n[_j])||(_s.length!=_n.length&&_s[_j]!=_n[_j])){_p=true;break;}}}if(_p){_c._is_killfocusing=false;return;}}_c._is_killfocusing=false;}}}if(_y&&(_y.length>1)){var _ad=_y[_y.length-2];_r._setCurFocusPathsByCurPos(_ad,_h);_ad._on_focus(false,_b,_x,_w,_e,this);}else{_r._setCurFocusPathsByCurPos(_r,_h);_r._on_focus(false,_b,_x,_w,_e,this);}}else{_r._setCurFocusPathsByCurPos(_r,_h);_r._on_focus(false,_b,_c,_d);}}else{var _ae=this._getLastFocused();if(_g){if(!_ae||(!_ae._p_visible||(!_ae._p_enable&&!_ae._p_accessibilityenable))){_ae=this._getTabOrderFirst(nexacro._enableaccessibility?15:4);}}else{if(!_ae||(!_ae._p_visible||!_ae._p_enable)){_ae=this._getTabOrderFirst();}}if(_ae&&_ae._p_visible&&!this._block_inner_focus){_q=_h.getCurrentFocusPaths();if(_q){_n=_q.slice(0);}if(_h._is_active_window!==false||this._is_frame){this._changeStatus("focused",true);}this.on_fire_onsetfocus(_c,_d);if(_q){_o=_h.getCurrentFocusPaths();_p=(_n.length!=_o.length);if(!_p){for(_j=0;_j<_n.length;_j++ ){if(_n[_j]!=_o[_j]){_p=true;break;}}}if(_p){return;}}this._setLastFocus(_ae);_h.addCurrentFocusPaths(this);_ae._on_focus(false,_b,_c,_d,_e,_f);}else{var _af,_ag;if(_f&&this!=_f){_ag=_f;while(_ag&&!(_ag._is_window)){if(_ag==this){_af=true;break;}_ag=_ag.parent;}}var _ah=null;if(_b=="lbuttondown"&&_af==true){this._changeStatus("focused",true);this._changeStatus("mouseover",true);_ah=_f._getFromComponent(_f);_ah._evt_name=_b;}else{if(_h&&_h._is_active_window==false){_h._setFocus();}if(_h._is_active_window!==false||this._is_frame){this._changeStatus("focused",true);}}_q=_h.getCurrentFocusPaths();if(_q){_n=_q.slice(0);}this.on_fire_onsetfocus(_c,_d,this,_f);if(_b=="lbuttondown"&&_af==true){_ah._evt_name="";}if(_q){_o=_h.getCurrentFocusPaths();_p=(_n.length!=_o.length);if(!_p){for(_j=0;_j<_n.length;_j++ ){if(_n[_j]!=_o[_j]){_p=true;break;}}}if(_p){return;}}this._setLastFocus(this);_h.addCurrentFocusPaths(this);this.on_focus_basic_action((this==_f),_b,_c,_d,_e,_f);if(_af){var _ai=null;_ag=_f;while(_ag&&this!=_ag){if(_ag instanceof nexacro.Form){break;}_ai=_ag;_ag=_ag.parent;}if(_ai&&!_ai._is_application){_ai._on_focus(false,_b,_c,_d,_e,_f);}}}}};_pComponent.on_focus_basic_action=function(_a,_b,_c,_d,_e,_f){if((nexacro._Browser=="Runtime")&&(this.parent instanceof nexacro.Calendar)){this._apply_setfocus(_b,_a);if(nexacro._enableaccessibility){this._setAccessibilityStatFocus(_b);}}else{if(nexacro._enableaccessibility){this._setAccessibilityStatFocus(_b);}this._apply_setfocus(_b,_a);}};_pComponent._on_killfocus=function(_a,_b){if(!this._is_alive){return;}this.on_killfocus_basic_action(_a,_b);};_pComponent.on_killfocus_basic_action=function(_a,_b){if(this._use_pushed_status){this._changeUserStatus("pushed",false);}this._setAccessibilityStatKillFocus();return;};_pComponent._on_activate=function(){if(!this._is_alive){return;}if(!this._isSelected()){this._changeStatus("focused",true);}};_pComponent._on_deactivate=function(){if(!this._is_alive){return;}if(!this._isSelected()){this._changeStatus("focused",false);}};_pComponent._on_click=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){if(!this._is_alive){return;}if(this._p_visible&&this._isEnable()&&this._p_enableevent){var _k=this._getClientXY(_f,_g);this.on_fire_onclick(_b,_c,_d,_e,_h,_i,_f,_g,_k[0],_k[1],this,this,_j);this.on_click_basic_action(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j);}};_pComponent.on_click_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){return;};_pComponent._on_dblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){if(!this._is_alive){return;}var _k=this._getFromComponent(this);if(_k&&(!_k.onlbuttonup||(_k.onlbuttonup&&!_k.onlbuttonup.defaultprevented))){if(this._p_visible&&this._isEnable()&&this._p_enableevent){var _l=this._getClientXY(_f,_g);this.on_fire_ondblclick(_b,_c,_d,_e,_h,_i,_f,_g,_l[0],_l[1],this,this,_j);}}};_pComponent._on_keypress=function(_a,_b,_c,_d,_e,_f,_g){if(!this._is_alive){return;}return this.on_keypress_basic_action(_b,_c,_d,_e,_f,_g);};_pComponent.on_keypress_basic_action=function(_a,_b,_c,_d,_e,_f){return;};_pComponent._on_beforekeyinput=function(_a,_b,_c,_d,_e,_f){if(!this._is_alive){return false;}return this.on_beforekeyinput_basic_action(_b,_c,_d,_e,_f);};_pComponent.on_beforekeyinput_basic_action=function(_a,_b,_c,_d){return;};_pComponent._on_keyinput=function(_a,_b){if(!this._is_alive){return;}var _c=this.on_keyinput_basic_action(_b);if(this._p_visible&&this._isEnable()&&this._p_enableevent){if(_c!==false){this.on_fire_oninput();}this.on_keyinput_default_action();}};_pComponent.on_keyinput_basic_action=function(_a){return;};_pComponent.on_keyinput_default_action=function(){return;};_pComponent._on_contextmenu=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){var _l=this._getFromComponent(this);if(!nexacro._CheckShowContextPrevented(_l,this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k)){return this._on_contextmenu_default_action();}return false;};_pComponent._on_contextmenu_default_action=function(){return nexacro._checkShowContextMenu(this);};_pComponent._on_zoom=function(_a){if(!this._is_alive){return;}if(this._p_visible&&this._isEnable()){this._setZoom(_a);}};_pComponent._on_orientationchange=function(_a){if(!this._is_alive){return;}if(this._p_visible&&this._isEnable()){if(this._p_enableevent){this.on_fire_onorientationchange(_a);}}};_pComponent._on_starttrack=nexacro._emptyFn;_pComponent._on_movetrack=nexacro._emptyFn;_pComponent._on_endtrack=nexacro._emptyFn;_pComponent._on_startrepeat=nexacro._emptyFn;_pComponent._on_repeat=nexacro._emptyFn;_pComponent._on_endrepeat=nexacro._emptyFn;_pComponent._on_last_lbuttonup=nexacro._emptyFn;_pComponent._on_last_keyup=nexacro._emptyFn;_pComponent._on_lbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){nexacro._skipDragEventAfterMsgBox=false;var _k,_l,_m;var _n=this._on_bubble_lbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_k,_l,_m,true,_j);var _o=this._getFromComponent(this);if(_o&&(!_o.onlbuttondown||(_o.onlbuttondown&&!_o.onlbuttondown.defaultprevented))){this.on_lbuttondown_default_action(_a,_b,_c,_d,_e,_f,_g,_h,_i,this._focus_refer_comp,_j);_n=this._on_bubble_lbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_k,_l,_m,false,_j);}return _n;};_pComponent._on_touch_lbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){nexacro._skipDragEventAfterMsgBox=false;var _n;var _o=this._getFromComponent(this);if(_o&&(!_o.onlbuttondown||(_o.onlbuttondown&&!_o.onlbuttondown.defaultprevented))){_n=this._on_bubble_touch_lbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,false,_m);}return _n;};_pComponent._on_bubble_touch_lbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(!this._is_alive){return;}var _o;var _p=this._getWindow();if(_j===undefined){if(!_l){_l=this._focus_refer_comp=this;if(!this._is_focus_accept){this._focus_refer_comp=this._getFocusAcceptableComponent(this);}}if(this._p_visible&&this._isEnable()){var _q=this.on_touch_lbuttondown_basic_action(_a,_b,_c,_d,_e,_f,_g,_h,_i,_k,_l,_n);if(_q){return;}else if(_q===false){_j=_q;}}if((!this.onlbuttondown||(this.onlbuttondown&&!this.onlbuttondown.stoppropagation))&&this.parent&&!this.parent._is_application){_o=this._getRecalcCanvasXY(_a,_f,_g);_f=_o[0];_g=_o[1];if(this._is_subcontrol){return this.parent._on_bubble_touch_lbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,null,_l,_m,_n);}else{var _r="select";if(this.selectscrollmode){if(this.selectscrollmode=="default"){_r=(nexacro._isTouchInteraction)?"scroll":"select";}else{_r=this.selectscrollmode;}}if(_r=="select"){nexacro._setDragInfo(_p,_a,_p._curWindowX,_p._curWindowY,_p._curWindowX,_p._curWindowY,null,null,null,"text");}return this.parent._on_bubble_touch_lbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,this,_l,_m,_n);}}}else{if((!this.onlbuttondown||(this.onlbuttondown&&!this.onlbuttondown.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){_o=this._getRecalcCanvasXY(_a,_f,_g);_f=_o[0];_g=_o[1];return this.parent._on_bubble_touch_lbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,_k,_l,_m,_n);}}};_pComponent._on_bubble_lbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(!this._is_alive){return;}var _o,_p;var _q=this._getWindow();if(_j===undefined){if(!_l){_l=this._focus_refer_comp=this;if(!this._is_focus_accept){this._focus_refer_comp=this._getFocusAcceptableComponent(this);}}if(this._p_visible&&this._isEnable()){_o=this._getClientXY(_f,_g);if(_m){_j=this.on_fire_user_onlbuttondown(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],this,_l,_n);}else{_j=this.on_fire_sys_onlbuttondown(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],this,_l,_n);}if(_j===false){_j=undefined;}if(_m){var _r=this.on_lbuttondown_basic_action(_a,_b,_c,_d,_e,_f,_g,_h,_i,_l,_n);if(_r){return;}else if(_r===false){_j=_r;}}}if((!this.onlbuttondown||(this.onlbuttondown&&!this.onlbuttondown.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){_p=this._getRecalcCanvasXY(_a,_f,_g);_f=_p[0];_g=_p[1];if(this._is_subcontrol){return this.parent._on_bubble_lbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,null,_l,_m,_n);}else{nexacro._setDragInfo(_q,_a,_q._curWindowX,_q._curWindowY,_q._curWindowX,_q._curWindowY,null,null,null,"text");return this.parent._on_bubble_lbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,this,_l,_m,_n);}}}else{if(this._p_visible&&this._isEnable()){_o=this._getClientXY(_f,_g);if(_m){_j=this.on_fire_user_onlbuttondown(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],_k,_l,_n);}else{_j=this.on_fire_sys_onlbuttondown(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],_k,_l,_n);}}if((!this.onlbuttondown||(this.onlbuttondown&&!this.onlbuttondown.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){_p=this._getRecalcCanvasXY(_a,_f,_g);_f=_p[0];_g=_p[1];return this.parent._on_bubble_lbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,_k,_l,_m,_n);}}};_pComponent.on_touch_lbuttondown_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=this._getWindow();if(_k===this){if(this._use_pushed_status){this._changeUserStatus("pushed",true);}}if(this._is_track){nexacro._setTrackInfo(_m,this,_m._curWindowX,_m._curWindowY);return false;}if(this._is_repeat){return nexacro._setRepeatInfo(this,_m,_k,_m._curWindowX,_m._curWindowY,_f,_g);}};_pComponent.on_lbuttondown_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){var _l=this._getWindow();if(_j===this){if(this._use_pushed_status){this._changeUserStatus("pushed",true);}}if(this._is_track){if(this.getOwnerFrame){if(this instanceof nexacro.ChildFrame){return false;}var _m=this.getOwnerFrame();if(!_m||!_m._canDragMove()){return false;}}nexacro._setTrackInfo(_l,this,_l._curWindowX,_l._curWindowY);return false;}else{if(this.getOwnerFrame){if(this instanceof nexacro.ChildFrame){return false;}var _m=this.getOwnerFrame();if(_m&&_m.form&&_m._canDragMove()){if(_m._p_showtitlebar){if(this instanceof nexacro.Form){var _n=_m._p_dragmovetype;switch(_n){case "all":break;case "normal":case "none":return false;}}}else{if(this instanceof nexacro.TitleBarControl){return false;}}nexacro._setTrackInfo(_l,this,_l._curWindowX,_l._curWindowY);return false;}}}if(this._is_repeat){if(this._isRtl()){_f=nexacro._getRTLCanvasXForMouseEvent(this,_j,_f);}return nexacro._setRepeatInfo(this,_l,_j,_l._curWindowX,_l._curWindowY,_f,_g);}};_pComponent.on_lbuttondown_default_action=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){var _l=this._getWindow();if(this._p_visible&&this._isEnable()&&_j){var _m=_l._getLastModalFrame();if(_m&&!_m._contains(_j)){var _n=_j._getParentForm();if(_n){_n._setLastFocus(_j);}}else{_j._on_focus(true,"lbuttondown");if(_b=="touch"){while(_j){_j._changeStatus("mouseover",false);if(!_j._is_subcontrol){break;}_j=_j.parent;}}else if(this._isFireVirtualMouseEvent()){}}}else{var _o=_l._findComponentForEvent(_a,0,0);if(_o&&_o[0]){_o[0]._on_focus(true,"lbuttondown");_j=_o[0];if(_b=="touch"){while(_j){_j._changeStatus("mouseover",false);if(!_j._is_subcontrol){break;}_j=_j.parent;}}}}};_pComponent._on_rbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){var _k,_l,_m;var _n=this._on_bubble_rbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_k,_l,_m,true,_j);var _o=this._getFromComponent(this);if(_o&&(!_o.onrbuttondown||(_o.onrbuttondown&&!_o.onrbuttondown.defaultprevented))){this.on_rbuttondown_default_action(_a,_b,_c,_d,_e,_f,_g,_h,_i,this._focus_refer_comp,_j);_n=this._on_bubble_rbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_k,_l,_m,false,_j);}return _n;};_pComponent._on_bubble_rbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o,_p;if(!this._is_alive){return;}if(_j===undefined){if(!_l){_l=this._focus_refer_comp=this;if(!this._is_focus_accept){this._focus_refer_comp=this._getFocusAcceptableComponent(this);}}if(this._p_visible&&this._isEnable()){_o=this._getClientXY(_f,_g);if(_m){_j=this.on_fire_user_onrbuttondown(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],this,_l,_n);}else{_j=this.on_fire_sys_onrbuttondown(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],this,_l,_n);}if(_j===false){_j=undefined;}}if((!this.onrbuttondown||(this.onrbuttondown&&!this.onrbuttondown.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){_p=this._getRecalcCanvasXY(_a,_f,_g);_f=_p[0];_g=_p[1];if(this._is_subcontrol){return this.parent._on_bubble_rbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,null,_l,_m,_n);}else{return this.parent._on_bubble_rbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,this,_l,_m,_n);}}}else{if(this._p_visible&&this._isEnable()){_o=this._getClientXY(_f,_g);if(_m){_j=this.on_fire_user_onrbuttondown(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],_k,_l,_n);}else{_j=this.on_fire_sys_onrbuttondown(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],_k,_l,_n);}}if((!this.onrbuttondown||(this.onrbuttondown&&!this.onrbuttondown.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){_p=this._getRecalcCanvasXY(_a,_f,_g);_f=_p[0];_g=_p[1];return this.parent._on_bubble_rbuttondown(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,_k,_l,_m,_n);}}};_pComponent.on_rbuttondown_default_action=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){var _l=this._getWindow();if(this._p_visible&&this._isEnable()&&_j){_j._on_focus(true,"rbuttondown");}else{var _m=_l._findComponentForEvent(_a,0,0);if(_m&&_m[0]){_m[0]._on_focus(true,"rbuttondown");}}};_pComponent._on_lbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){var _l,_m,_n;var _o=this._on_bubble_lbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_l,_m,_n,_j,true,_k);var _p=this._getFromComponent(this);if(_p&&(!_p.onlbuttonup||(_p.onlbuttonup&&!_p.onlbuttonup.defaultprevented))){this.on_lbuttonup_default_action(_a,_b,_c,_d,_e,_f,_g,_h,_i,_n,_k);_o=this._on_bubble_lbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_l,_m,_n,_j,false,_k);}return _o;};_pComponent._on_bubble_lbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o){if(!this._is_alive){return;}var _p,_q;if(_j===undefined){if(!_l){_l=this;}if(_n){this.on_lbuttonup_basic_action(_a,_b,_c,_d,_e,_f,_g,_h,_i,_l,_o);}if(this._p_visible&&this._isEnable()){_p=this._getClientXY(_f,_g);if(_n){_j=this.on_fire_user_onlbuttonup(_b,_c,_d,_e,_h,_i,_f,_g,_p[0],_p[1],this,_l,_m,_o);}else{_j=this.on_fire_sys_onlbuttonup(_b,_c,_d,_e,_h,_i,_f,_g,_p[0],_p[1],this,_l,_m,_o);}if(_j===false){_j=undefined;}}if((!this.onlbuttonup||(this.onlbuttonup&&!this.onlbuttonup.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){_q=this._getRecalcCanvasXY(_a,_f,_g);_f=_q[0];_g=_q[1];if(this._is_subcontrol){return this.parent._on_bubble_lbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,null,_l,_m,_n,_o);}else{return this.parent._on_bubble_lbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,this,_l,_m,_n,_o);}}}else{if(this._p_visible&&this._isEnable()){_p=this._getClientXY(_f,_g);if(_n){_j=this.on_fire_user_onlbuttonup(_b,_c,_d,_e,_h,_i,_f,_g,_p[0],_p[1],_k,_l,_m,_o);}else{_j=this.on_fire_sys_onlbuttonup(_b,_c,_d,_e,_h,_i,_f,_g,_p[0],_p[1],_k,_l,_m,_o);}}if((!this.onlbuttonup||(this.onlbuttonup&&!this.onlbuttonup.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){_q=this._getRecalcCanvasXY(_a,_f,_g);_f=_q[0];_g=_q[1];return this.parent._on_bubble_lbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,_k,_l,_m,_n,_o);}}};_pComponent.on_lbuttonup_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){if(this._use_pushed_status){if(this._isPushed()){if(nexacro._isTouchInteraction){this._changeUserStatus("pushed",false);}else{this._changeUserStatus("pushed",false);if(_b!="touch"){this._changeStatus("mouseover",true);}}}}};_pComponent.on_lbuttonup_default_action=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){};_pComponent._on_rbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){var _l,_m,_n;var _o=this._on_bubble_rbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_l,_m,_n,_j,true,_k);var _p=this._getFromComponent(this);if(_p&&(!_p.onrbuttonup||(_p.onrbuttonup&&!_p.onrbuttonup.defaultprevented))){this.on_rbuttonup_default_action(_a,_b,_c,_d,_e,_f,_g,_h,_i,_n,_k);_o=this._on_bubble_rbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_l,_m,_n,_j,false,_k);}return _o;};_pComponent._on_bubble_rbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o){if(!this._is_alive){return;}var _p,_q;if(_j===undefined){if(!_l){_l=this;}this.on_rbuttonup_basic_action(_a,_b,_c,_d,_e,_f,_g,_h,_i,_l,_o);if(this._p_visible&&this._isEnable()){_p=this._getClientXY(_f,_g);if(_n){_j=this.on_fire_user_onrbuttonup(_b,_c,_d,_e,_h,_i,_f,_g,_p[0],_p[1],this,_l,_m,_o);}else{_j=this.on_fire_sys_onrbuttonup(_b,_c,_d,_e,_h,_i,_f,_g,_p[0],_p[1],this,_l,_m,_o);}if(_j===false){_j=undefined;}}if((!this.onrbuttonup||(this.onrbuttonup&&!this.onrbuttonup.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){_q=this._getRecalcCanvasXY(_a,_f,_g);_f=_q[0];_g=_q[1];if(this._is_subcontrol){return this.parent._on_bubble_rbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,null,_l,_m,_n,_o);}else{return this.parent._on_bubble_rbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,this,_l,_m,_n,_o);}}}else{if(this._p_visible&&this._isEnable()){_p=this._getClientXY(_f,_g);if(_n){_j=this.on_fire_user_onrbuttonup(_b,_c,_d,_e,_h,_i,_f,_g,_p[0],_p[1],_k,_l,_m,_o);}else{_j=this.on_fire_sys_onrbuttonup(_b,_c,_d,_e,_h,_i,_f,_g,_p[0],_p[1],_k,_l,_m,_o);}}if((!this.onrbuttonup||(this.onrbuttonup&&!this.onrbuttonup.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){_q=this._getRecalcCanvasXY(_a,_f,_g);_f=_q[0];_g=_q[1];return this.parent._on_bubble_rbuttonup(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,_k,_l,_m,_n,_o);}}};_pComponent.on_rbuttonup_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){if(this._use_pushed_status){if(this._isPushed()){if(nexacro._isTouchInteraction){if(this._isPushed()){this._changeUserStatus("pushed",false);}}}}};_pComponent.on_rbuttonup_default_action=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){};_pComponent._on_mouseup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){var _l,_m,_n;var _o=this._on_bubble_mouseup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_l,_m,_n,_j,true,_k);if(!this._is_alive){return _o;}var _p=this._getFromComponent(this);if(_p&&(!_p.onmouseup||(_p.onmouseup&&!_p.onmouseup.defaultprevented))){this.on_mouseup_default_action(_a,_b,_c,_d,_e,_f,_g,_h,_i,_n);_o=this._on_bubble_mouseup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_l,_m,_n,_j,false,_k);}return _o;};_pComponent._on_bubble_mouseup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o){if(!this._is_alive){return;}var _p,_q;if(_j===undefined){if(!_l){_l=this;}if(this._p_visible&&this._isEnable()){_p=this._getClientXY(_f,_g);if(_n){_j=this.on_fire_user_onmouseup(_b,_c,_d,_e,_h,_i,_f,_g,_p[0],_p[1],this,_l,_o);}else{_j=this.on_fire_sys_onmouseup(_b,_c,_d,_e,_h,_i,_f,_g,_p[0],_p[1],this,_l,_o);}if(_j===false){_j=undefined;}}if((!this.onmouseup||(this.onmouseup&&!this.onmouseup.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){_q=this._getRecalcCanvasXY(_a,_f,_g);_f=_q[0];_g=_q[1];if(this._is_subcontrol){return this.parent._on_bubble_mouseup(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,null,_l,_m,_n,_o);}else{return this.parent._on_bubble_mouseup(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,this,_l,_m,_n,_o);}}}else{if(this._p_visible&&this._isEnable()){_p=this._getClientXY(_f,_g);if(_n){_j=this.on_fire_user_onmouseup(_b,_c,_d,_e,_h,_i,_f,_g,_p[0],_p[1],_k,_l,_o);}else{_j=this.on_fire_sys_onmouseup(_b,_c,_d,_e,_h,_i,_f,_g,_p[0],_p[1],_k,_l,_o);}}if((!this.onmouseup||(this.onmouseup&&!this.onmouseup.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){_q=this._getRecalcCanvasXY(_a,_f,_g);_f=_q[0];_g=_q[1];return this.parent._on_bubble_mouseup(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,_k,_l,_m,_n,_o);}}};_pComponent.on_mouseup_default_action=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){};_pComponent._on_mousedown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){var _k,_l,_m;var _n=this._on_bubble_mousedown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_k,_l,_m,true,_j);if(!this._is_alive){return _n;}var _o=this._getFromComponent(this);if(_o&&(!_o.onmousedown||(_o.onmousedown&&!_o.onmousedown.defaultprevented))){this.on_mousedown_default_action(_a,_b,_c,_d,_e,_f,_g,_h,_i,_m,_j);_n=this._on_bubble_mousedown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_k,_l,_m,false,_j);}return _n;};_pComponent._on_bubble_mousedown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(!this._is_alive){return;}var _o,_p;if(_j===undefined){if(!_l){_l=this;}if(this._p_visible&&this._isEnable()){_o=this._getClientXY(_f,_g);if(_m){_j=this.on_fire_user_onmousedown(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],this,_l,_n);}else{_j=this.on_fire_sys_onmousedown(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],this,_l,_n);}if(_j===false){_j=undefined;}}if((!this.onmousedown||(this.onmousedown&&!this.onmousedown.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){_p=this._getRecalcCanvasXY(_a,_f,_g);_f=_p[0];_g=_p[1];if(this._is_subcontrol){return this.parent._on_bubble_mousedown(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,null,_l,_m,_n);}else{return this.parent._on_bubble_mousedown(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,this,_l,_m,_n);}}}else{if(this._p_visible&&this._isEnable()){_o=this._getClientXY(_f,_g);if(_m){_j=this.on_fire_user_onmousedown(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],_k,_l,_n);}else{_j=this.on_fire_sys_onmousedown(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],_k,_l,_n);}}if((!this.onmousedown||(this.onmousedown&&!this.onmousedown.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){_p=this._getRecalcCanvasXY(_a,_f,_g);_f=_p[0];_g=_p[1];return this.parent._on_bubble_mousedown(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,_k,_l,_m,_n);}}};_pComponent.on_mousedown_default_action=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){};_pComponent._on_mousemove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){if(nexacro._current_popups.length>0){var _k=this._getWindow();var _l=_k.findComponent(_a,0,0);if(_l&&_l[0]){var _m=nexacro._current_popups[0];if(_m){var _n=this._getRootComponent(this);var _o=_m._getRootComponent(_m);if(_m._track_capture&&(!_m._contains(_l[0])&&_n!=_o)){return;}}}}if(nexacro._mousewheel_obj&&nexacro._mousewheel_obj!=this){if(nexacro._mousewheel_obj._is_alive){nexacro._mousewheel_obj._changeStatus("mouseover",false);}nexacro._mousewheel_obj=null;}var _p,_q,_r;var _s=this._on_bubble_mousemove(_a,_b,_c,_d,_e,_f,_g,_h,_i,_p,_q,_r,true,_j);if(!this._is_alive){return _s;}var _t=this._getFromComponent(this);if(_t&&(!_t.onmousemove||(_t.onmousemove&&!_t.onmousemove.defaultprevented))){this.on_mousemove_default_action(_a,_q,_b,_c,_d,_e,_f,_g,_h,_i,_r,_j);_s=this._on_bubble_mousemove(_a,_b,_c,_d,_e,_f,_g,_h,_i,_p,_q,_r,false,_j);}return _s;};_pComponent._on_bubble_mousemove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(!this._is_alive){return;}var _o,_p;if(_j===undefined){if(!_l){_l=this;}if(this._p_visible&&this._isEnable()){if(_m){this.on_mousemove_basic_action(_a,_b,_c,_d,_e,_f,_g,_h,_i,_l,_n);}_o=this._getClientXY(_f,_g);if(_m){_j=this.on_fire_user_onmousemove(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],this,_l,_n);}else{_j=this.on_fire_sys_onmousemove(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],this,_l,_n);}if(_j===false){_j=undefined;}}if((!this.onmousemove||(this.onmousemove&&!this.onmousemove.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){_p=this._getRecalcCanvasXY(_a,_f,_g);_f=_p[0];_g=_p[1];if(this._is_subcontrol){return this.parent._on_bubble_mousemove(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,null,_l,_m,_n);}else{return this.parent._on_bubble_mousemove(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,this,_l,_m,_n);}}}else{if(this._p_visible&&this._isEnable()){if(_m){this.on_mousemove_basic_action(_a,_b,_c,_d,_e,_f,_g,_h,_i,_l,_n);}_o=this._getClientXY(_f,_g);if(_m){_j=this.on_fire_user_onmousemove(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],_k,_l,_n);}else{_j=this.on_fire_sys_onmousemove(_b,_c,_d,_e,_h,_i,_f,_g,_o[0],_o[1],_k,_l,_n);}}if((!this.onmousemove||(this.onmousemove&&!this.onmousemove.stoppropagation))&&(_j!==true)&&this.parent&&!this.parent._is_application){_p=this._getRecalcCanvasXY(_a,_f,_g);_f=_p[0];_g=_p[1];return this.parent._on_bubble_mousemove(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,_k,_l,_m,_n);}}};_pComponent.on_mousemove_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){if(this._isPushed()){this._changeUserStatus("pushed",true);}else{if(!nexacro._isTouchInteraction){if(_b!="touch"){this._changeStatus("mouseover",true);}}else{var _l=this._getWindow();var _m=_l._cur_ldown_elem;if(_a!=_m){var _n=_l.findComponent(_m,0,0)[0];if(_n&&_n._isPushed()){_n._changeUserStatus("pushed",false);}}}}};_pComponent.on_mousemove_default_action=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){};_pComponent._on_mouseenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){if(nexacro._current_popups.length>0){var _l=this._getWindow();var _m=_l.findComponent(_a,0,0);if(_m&&_m[0]){var _n=nexacro._current_popups[0];if(_n){var _o=this._getRootComponent(this);var _p=_n._getRootComponent(_n);if(_n._track_capture&&(!_n._contains(_m[0])&&_o!=_p)){return;}}}}var _q,_r,_s;var _t=this._on_bubble_mouseenter(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_q,_r,_s,true,_k);if(!this._is_alive){return _t;}var _u=this._getFromComponent(this);if(_u&&(!_u.onmouseenter||(_u.onmouseenter&&!_u.onmouseenter.defaultprevented))){this.on_mouseenter_default_action(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_s,_k);_t=this._on_bubble_mouseenter(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_q,_r,_s,false,_k);}return _t;};_pComponent._on_bubble_mouseenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o){if(!this._is_alive){return;}var _p,_q;if(_k===undefined){var _r;var _s=this._is_subcontrol?true:false;if(!_m){_r=this;_m=this;}if(this._p_visible&&this._isEnable()){if(_s){if(_b&&this._contains(_b)){return true;}if(_r==this){_p=this._getClientXY(_g,_h);if(_n){_k=this.on_fire_user_onmouseenter(_c,_d,_e,_f,_i,_j,_g,_h,_p[0],_p[1],this,_m,_o);}else{_k=this.on_fire_sys_onmouseenter(_c,_d,_e,_f,_i,_j,_g,_h,_p[0],_p[1],this,_m,_o);}if(_k===false){_k=undefined;}}}else{_b=this._getRootComponent(_b);if(_b&&this._contains(_b)){return true;}_p=this._getClientXY(_g,_h);if(_n){_k=this.on_fire_user_onmouseenter(_c,_d,_e,_f,_i,_j,_g,_h,_p[0],_p[1],this,_m,_o);}else{_k=this.on_fire_sys_onmouseenter(_c,_d,_e,_f,_i,_j,_g,_h,_p[0],_p[1],this,_m,_o);}}}if((!this.onmouseenter||(this.onmouseenter&&!this.onmouseenter.stoppropagation))&&(_k!==true)&&this.parent&&!this.parent._is_application){_q=this._getRecalcCanvasXY(_a,_g,_h);_g=_q[0];_h=_q[1];if(_s){return this.parent._on_bubble_mouseenter(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,null,_m,_n,_o);}else{return this.parent._on_bubble_mouseenter(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,false,this,_m,_n,_o);}}}else{if(this._p_visible&&this._isEnable()){_p=this._getClientXY(_g,_h);if(_n){_k=this.on_fire_user_onmouseenter(_c,_d,_e,_f,_i,_j,_g,_h,_p[0],_p[1],_l,_m,_o);}else{_k=this.on_fire_sys_onmouseenter(_c,_d,_e,_f,_i,_j,_g,_h,_p[0],_p[1],_l,_m,_o);}}if((!this.onmouseenter||(this.onmouseenter&&!this.onmouseenter.stoppropagation))&&(_k!==true)&&this.parent&&!this.parent._is_application){_q=this._getRecalcCanvasXY(_a,_g,_h);_g=_q[0];_h=_q[1];return this.parent._on_bubble_mouseenter(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,false,_l,_m,_n,_o);}}};_pComponent.on_mouseenter_default_action=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){};_pComponent._on_mouseleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){if(nexacro._current_popups.length>0){var _l=this._getWindow();var _m=_l.findComponent(_a,0,0);if(_m&&_m[0]){var _n=nexacro._current_popups[0];if(_n){var _o=this._getRootComponent(this);var _p=_n._getRootComponent(_n);if(_n._track_capture&&(!_n._contains(_m[0])&&_o!=_p)){return;}}}}var _q,_r,_s;var _t=this._on_bubble_mouseleave(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_q,_r,_s,true,_k);if(!this._is_alive){return _t;}var _u=this._getFromComponent(this);if(_u&&(!_u.onmouseleave||(_u.onmouseleave&&!_u.onmouseleave.defaultprevented))){this.on_mouseleave_default_action(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_s,_k);_t=this._on_bubble_mouseleave(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_q,_r,_s,false,_k);}return _t;};_pComponent._on_bubble_mouseleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o){if(!this._is_alive){return;}var _p,_q;if(_k===undefined){var _r;var _s=this._is_subcontrol?true:false;if(!_m){_r=this;_m=this;}if(this._p_visible){if(_s){if(_b&&this._contains(_b)){return true;}if(_r==this){this.on_mouseleave_basic_action(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_m,_o);if(this._isEnable()){_p=this._getClientXY(_g,_h);if(_n){_k=this.on_fire_user_onmouseleave(_c,_d,_e,_f,_i,_j,_g,_h,_p[0],_p[1],this,_m,_o);}else{_k=this.on_fire_sys_onmouseleave(_c,_d,_e,_f,_i,_j,_g,_h,_p[0],_p[1],this,_m,_o);}if(_k===false){_k=undefined;}}}}else{_b=this._getRootComponent(_b);if(_b&&this._contains(_b)){return true;}if(_r==this){this.on_mouseleave_basic_action(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_m,_o);}if(this._isEnable()){_p=this._getClientXY(_g,_h);if(_n){_k=this.on_fire_user_onmouseleave(_c,_d,_e,_f,_i,_j,_g,_h,_p[0],_p[1],this,_m,_o);}else{_k=this.on_fire_sys_onmouseleave(_c,_d,_e,_f,_i,_j,_g,_h,_p[0],_p[1],this,_m,_o);}}}}if((!this.onmouseleave||(this.onmouseleave&&!this.onmouseleave.stoppropagation))&&(_k!==true)&&this.parent&&!this.parent._is_application){_q=this._getRecalcCanvasXY(_a,_g,_h);_g=_q[0];_h=_q[1];if(_s){return this.parent._on_bubble_mouseleave(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,null,_m,_n,_o);}else{return this.parent._on_bubble_mouseleave(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,false,this,_m,_n,_o);}}}else{if(this._p_visible&&this._isEnable()){_p=this._getClientXY(_g,_h);if(_n){_k=this.on_fire_user_onmouseleave(_c,_d,_e,_f,_i,_j,_g,_h,_p[0],_p[1],_l,_m,_o);}else{_k=this.on_fire_sys_onmouseleave(_c,_d,_e,_f,_i,_j,_g,_h,_p[0],_p[1],_l,_m,_o);}}if((!this.onmouseleave||(this.onmouseleave&&!this.onmouseleave.stoppropagation))&&(_k!==true)&&this.parent&&!this.parent._is_application){_q=this._getRecalcCanvasXY(_a,_g,_h);_g=_q[0];_h=_q[1];return this.parent._on_bubble_mouseleave(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,false,_l,_m,_n,_o);}}};_pComponent.on_mouseleave_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(nexacro._cur_track_info){if(nexacro._cur_track_info.target!=this){return;}}if(this._is_subcontrol){if(this._isPushed()){this._changeUserStatus("pushed",false);}else{var _m=this;var _n=true;if(!this._isSelected()){while(_m){if(_m._window){break;}if(_m._is_alive==false){_n=false;break;}_m=_m.parent;}}if(_n){this._changeStatus("mouseover",false);}}}else{if(this._isPushed()){this._changeUserStatus("pushed",false);}else{this._changeStatus("mouseover",false);}}};_pComponent.on_mouseleave_default_action=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){};_pComponent._on_mousewheel=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(!nexacro._mousewheel_obj){nexacro._mousewheel_obj=this;}var _m,_n,_o;var _p=this._on_bubble_mousewheel(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_m,_n,_o,_l);if(_f){return;}else{return _p;}};_pComponent._on_bubble_mousewheel=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o){if(!this._is_alive){return;}var _p,_q;var _r,_s;var _t,_u;var _v,_w;var _x,_y;var _z,_aa;if(_l===undefined){if(!_n){_n=this;}if(this._p_visible&&this._isEnable()){_p=this._getClientXY(_h,_i);_l=this.on_fire_user_onmousewheel(_b,_c,_d,_e,_f,_g,_j,_k,_h,_i,_p[0],_p[1],this,_n,_o);_r=this._getFromComponent(this);if(_l!==true){if(_r&&(!_r.onmousewheel||(_r.onmousewheel&&!_r.onmousewheel.defaultprevented))){_s=this.on_fire_sys_onmousewheel(_b,_c,_d,_e,_f,_g,_j,_k,_h,_i,_p[0],_p[1],this,_n,_o);if(_s){return false;}if(!_f){if(_c){if(this._is_scrollable){if(this._setVScrollDefaultAction(_c)){return false;}}}if(_b){if(this._is_scrollable){if(this._setHScrollDefaultAction(_c)){return false;}}}}}if(_l===false){_l=undefined;}var _ab=this._getPopupControl();if(_ab&&_ab._is_popup()){return false;}if(!_r.onmousewheel||(_r.onmousewheel&&!_r.onmousewheel.stoppropagation)){if(this.parent&&!this.parent._is_application){_q=this._getRecalcCanvasXY(_a,_h,_i);_h=_q[0];_i=_q[1];if(this._is_subcontrol){return this.parent._on_bubble_mousewheel(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,null,_n,_o);}else{return this.parent._on_bubble_mousewheel(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,false,this,_n,_o);}}}}}}else{if(this._p_visible&&this._isEnable()){_p=this._getClientXY(_h,_i);_l=this.on_fire_user_onmousewheel(_b,_c,_d,_e,_f,_g,_j,_k,_h,_i,_p[0],_p[0],_m,_n,_o);_r=this._getFromComponent(this);if(_l!==true){if(_r&&(!_r.onmousewheel||(_r.onmousewheel&&!_r.onmousewheel.defaultprevented))){_s=this.on_fire_sys_onmousewheel(_b,_c,_d,_e,_f,_g,_j,_k,_h,_i,_p[0],_p[0],_m,_n,_o);if(_s){return false;}if(!_f){if(_c){if(this._is_scrollable){if(this._setVScrollDefaultAction(_c)){return false;}}}if(_b){if(nexacro.OS=="Mac OS"){if(this._is_scrollable){if(this._setHScrollDefaultAction(_c)){return false;}}}}}}if(!_r.onmousewheel||(_r.onmousewheel&&!_r.onmousewheel.stoppropagation)){if(this.parent&&!this.parent._is_application){_q=this._getRecalcCanvasXY(_a,_h,_i);_h=_q[0];_i=_q[1];return this.parent._on_bubble_mousewheel(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,false,_m,_n,_o);}}}}}};_pComponent._setVScrollDefaultAction=function(_a){var _b=this.getElement();if(!_b){return false;}if(!this._is_scrollable){return false;}if(this._scrolltype=="none"||this._scrolltype=="horizontal"){return false;}var _c=this._vscroll_pos;var _d=_c-_a;var _e=_b.vscroll_limit;if(_d>_e){_d=_e;}this._scrollTo(this._hscroll_pos,_d,true,true,undefined,"mousewheel_v");var _f=this._vscroll_pos;if(_c!=_f){return true;}return false;};_pComponent._setHScrollDefaultAction=function(_a){var _b=this.getElement();if(!_b){return false;}if(!this._is_scrollable){return false;}if(this._scrolltype=="none"||this._scrolltype=="vertical"){return false;}var _c=this._hscroll_pos;var _d=_c-_a;var _e=_b.hscroll_limit;if(_d>_e){_d=_e;}this._scrollTo(_d,this._vscroll_pos,true,true,undefined,"mousewheel_h");var _f=this._hscroll_pos;if(_c!=_f){return true;}return false;};_pComponent._on_drag=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){if(nexacro._skipDragEventAfterMsgBox){nexacro._initDragInfo();return false;}var _k,_l,_m;var _n=this._on_bubble_drag(_a,_b,_c,_d,_e,_f,_g,_h,_i,_k,_l,_m,_j);var _o=this._getFromComponent(this);if(_o&&(_o.ondrag&&_o.ondrag.defaultprevented)){nexacro._initDragInfo();}return _n;};_pComponent._on_bubble_drag=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(!this._is_alive){return;}var _n,_o;var _p;if(_j===undefined){var _q;if(!_l){_l=this;}_p=this._getFromComponent(this);if(this._is_subcontrol){_q=true;}else{if(this._p_visible&&this._isEnable()){_q=false;_n=this._getClientXY(_f,_g);_j=this.on_fire_user_ondrag(_b,_c,_d,_e,_h,_i,_f,_g,_n[0],_n[1],this,_l,_l,_m);if(!_j||_j[0]!==true){if(!this.ondrag||(_p&&(_p.ondrag&&!_p.ondrag.defaultprevented))){this.on_fire_sys_ondrag(_b,_c,_d,_e,_h,_i,_f,_g,_n[0],_n[1],this,_l,_l,_m);}}}}if((!_j||_j[0]!==true)){if(_p&&(!_p.ondrag||(_p.ondrag&&!_p.ondrag.stoppropagation))&&!this._window&&this.parent&&!this.parent._is_application){_o=this._getRecalcCanvasXY(_a,_f,_g);_f=_o[0];_g=_o[1];if(_q){return this.parent._on_bubble_drag(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,this,_l,_m);}else{return this.parent._on_bubble_drag(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,this,_l,_m);}}}return _j;}else{if((!_j||_j[0]!==true)&&this.parent&&!this.parent._is_application){_n=this._getClientXY(_f,_g);if(this._p_visible&&this._isEnable()){_j=this.on_fire_user_ondrag(_b,_c,_d,_e,_h,_i,_f,_g,_n[0],_n[1],this,_l,_l,_m);}if(!_j||_j[0]!==true){_p=this._getFromComponent(this);if(this._p_visible&&this._isEnable()){if(_p&&(!_p.ondrag||(_p.ondrag&&!_p.ondrag.defaultprevented))){this.on_fire_sys_ondrag(_b,_c,_d,_e,_h,_i,_f,_g,_n[0],_n[1],this,_l,_l,_m);}}if(_p&&(!_p.ondrag||(_p.ondrag&&!_p.ondrag.stoppropagation))&&!this._window&&this.parent&&!this.parent._is_application){_o=this._getRecalcCanvasXY(_a,_f,_g);_f=_o[0];_g=_o[1];return this.parent._on_bubble_drag(_a,_b,_c,_d,_e,_f,_g,_h,_i,false,_k,_l,_m);}}}return _j;}};_pComponent.on_drag_default_action=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){};_pComponent._on_drop=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){var _q,_r,_s;var _t=this._on_bubble_drop(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_q,_r,_s,true,_p);var _u=this._getFromComponent(this);if(_u&&(!_u.ondrop||(_u.ondrop&&!_u.ondrop.defaultprevented))){this.on_drop_default_action(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p);_t=this._on_bubble_drop(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_q,_r,_s,false,_p);}return _t;};_pComponent._on_bubble_drop=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s,_t){if(!this._is_alive){return;}var _u,_v;if(_p===undefined){if(!_r){_r=this;}if(this._p_visible&&this._isEnable()){_u=this._getClientXY(_l,_m);if(_s){_p=this.on_fire_user_ondrop(_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_n,_o,_l,_m,_u[0],_u[1],this,_r,_t);}else{_p=this.on_fire_sys_ondrop(_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_n,_o,_l,_m,_u[0],_u[1],this,_r,_t);}if(_p===false){_p=undefined;}}if((!this.ondrop||(this.ondrop&&!this.ondrop.stoppropagation))&&_p!==true&&this.parent&&!this.parent._is_application){_v=this._getRecalcCanvasXY(_a,_l,_m);_l=_v[0];_m=_v[1];if(this._is_subcontrol){return this.parent._on_bubble_drop(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,null,_r,_s,_t);}else{return this.parent._on_bubble_drop(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,false,this,_r,_s,_t);}}}else{if(this._p_visible&&this._isEnable()){_u=this._getClientXY(_l,_m);if(_s){_p=this.on_fire_user_ondrop(_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_n,_o,_l,_m,_u[0],_u[1],_q,_r,_t);}else{_p=this.on_fire_sys_ondrop(_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_n,_o,_l,_m,_u[0],_u[1],_q,_r,_t);}}if((!this.ondrop||(this.ondrop&&!this.ondrop.stoppropagation))&&_p!==true&&this.parent&&!this.parent._is_application){_v=this._getRecalcCanvasXY(_a,_l,_m);_l=_v[0];_m=_v[1];return this.parent._on_bubble_drop(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,false,_q,_r,_s,_t);}}};_pComponent.on_drop_default_action=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){};_pComponent._on_dragmove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r){var _s,_t,_u;var _v=this._on_bubble_dragmove(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_s,_t,_u,true,_r);var _w=this._getFromComponent(this);if(_w&&(!_w.ondragmove||(_w.ondragmove&&!_w.ondragmove.defaultprevented))){this.on_dragmove_default_action(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_u,_r);_v=this._on_bubble_dragmove(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_s,_t,_u,false,_p,_q,_r);}else if(_w&&(_w.ondragmove&&_w.ondragmove.defaultprevented)){nexacro._initDragInfo();}return _v;};_pComponent._on_bubble_dragmove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s,_t,_u,_v){if(!this._is_alive){return;}var _w,_x;if(_p===undefined){var _y;if(!_r){_r=this;}if(this._is_subcontrol){_y=true;}else{_y=false;if(this._p_visible&&this._isEnable()){_w=this._getClientXY(_l,_m);if(_s){_p=this.on_fire_user_ondragmove(_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_n,_o,_l,_m,_w[0],_w[1],this,_r,_v);}else{_p=this.on_fire_sys_ondragmove(_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_n,_o,_l,_m,_w[0],_w[1],this,_r,_t,_u,_v);}}}if((!this.ondragmove||(this.ondragmove&&!this.ondragmove.stoppropagation))&&_p!==true&&this.parent&&!this.parent._is_application){_x=this._getRecalcCanvasXY(_a,_l,_m);_l=_x[0];_m=_x[1];if(_y){return this.parent._on_bubble_dragmove(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,null,_r,_s,_t,_u,_v);}else{return this.parent._on_bubble_dragmove(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,false,this,_r,_s,_t,_u,_v);}}}else{if(this._p_visible&&this._isEnable()){_w=this._getClientXY(_l,_m);if(_s){_p=this.on_fire_user_ondragmove(_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_n,_o,_l,_m,_w[0],_w[1],_q,_r,_v);}else{_p=this.on_fire_sys_ondragmove(_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_n,_o,_l,_m,_w[0],_w[1],_q,_r,_t,_u,_v);}}if((!this.ondragmove||(this.ondragmove&&!this.ondragmove.stoppropagation))&&_p!==true&&this.parent&&!this.parent._is_application){_x=this._getRecalcCanvasXY(_a,_l,_m);_l=_x[0];_m=_x[1];return this.parent._on_bubble_dragmove(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,false,_q,_r,_s,_t,_u,_v);}}};_pComponent.on_dragmove_default_action=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o){};_pComponent._on_dragenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q){var _r,_s,_t;var _u=this._on_bubble_dragenter(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_r,_s,_t,true,_q);var _v=this._getFromComponent(this);if(!_v.ondragenter||(_v.ondragenter&&!_v.ondragenter.defaultprevented)){this.on_dragenter_default_action(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_t,_q);_u=this._on_bubble_dragenter(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_r,_s,_t,false,_q);}else if(_v&&(_v.ondragenter&&_v.ondragenter.defaultprevented)){nexacro._initDragInfo();}return _u;};_pComponent._on_bubble_dragenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s,_t,_u){if(!this._is_alive){return;}var _v,_w;if(_q===undefined){var _x;var _y;if(!_s){_y=this;this._dragenter_first_comp=this;_s=this;}if(this._is_subcontrol){_x=true;if(_b&&this._contains(_b)){return;}if(_y==this){this.on_dragenter_basic_action(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_s,_u);}}else{_x=false;_b=this._getRootComponent(_b);if(_b&&this._contains(_b)){return;}if(this._p_visible&&this._isEnable()){this.on_dragenter_basic_action(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_s,_u);_v=this._getClientXY(_m,_n);if(_t){_q=this.on_fire_user_ondragenter(_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_o,_p,_m,_n,_v[0],_v[1],this,_s,_u);}else{_q=this.on_fire_sys_ondragenter(_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_o,_p,_m,_n,_v[0],_v[1],this,_s,_u);}}}if((!this.ondragenter||(this.ondragenter&&!this.ondragenter.stoppropagation))&&_q!==true&&this.parent&&!this.parent._is_application){_w=this._getRecalcCanvasXY(_a,_m,_n);_m=_w[0];_n=_w[1];if(_x){return this.parent._on_bubble_dragenter(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,null,_s,_t,_u);}else{return this.parent._on_bubble_dragenter(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,false,this,_s,_t,_u);}}}else{if(this._p_visible&&this._isEnable()){_v=this._getClientXY(_m,_n);if(_t){_q=this.on_fire_user_ondragenter(_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_o,_p,_m,_n,_v[0],_v[1],_r,_s,_u);}else{_q=this.on_fire_sys_ondragenter(_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_o,_p,_m,_n,_v[0],_v[1],_r,_s,_u);}this._changeStatus("mouseover",true);}if((!this.ondragenter||(this.ondragenter&&!this.ondragenter.stoppropagation))&&_q!==true&&this.parent&&!this.parent._is_application){_w=this._getRecalcCanvasXY(_a,_m,_n);_m=_w[0];_n=_w[1];return this.parent._on_bubble_dragenter(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,false,_r,_s,_t,_u);}}};_pComponent.on_dragenter_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r){if(this._isPushed()){this._changeUserStatus("pushed",true);}else{this._changeStatus("mouseover",true);}};_pComponent.on_dragenter_default_action=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r){};_pComponent._on_dragleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q){var _r,_s,_t;var _u=this._on_bubble_dragleave(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_r,_s,_t,true,_q);var _v=this._getFromComponent(this);if(_v&&(!_v.ondragleave||(_v.ondragleave&&!_v.ondragleave.defaultprevented))){this.on_dragleave_default_action(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_t,_q);_u=this._on_bubble_dragleave(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_r,_s,_t,false,_q);}return _u;};_pComponent._on_bubble_dragleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s,_t,_u){if(!this._is_alive){return;}var _v,_w;if(_q===undefined){var _x;var _y;if(!_s){_y=this;_s=this;}if(this._is_subcontrol){_x=true;if(_b&&this._contains(_b)){return;}if(_y==this){this.on_dragleave_basic_action(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_s,_u);}}else{_x=false;_b=this._getRootComponent(_b);if(_b&&this._contains(_b)){return;}if(this._p_visible&&this._isEnable()){this.on_dragleave_basic_action(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_s,_u);_v=this._getClientXY(_m,_n);if(_t){_q=this.on_fire_user_ondragleave(_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_o,_p,_m,_n,_v[0],_v[1],this,_s,_u);}else{_q=this.on_fire_sys_ondragleave(_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_o,_p,_m,_n,_v[0],_v[1],this,_s,_u);}}}if((!this.ondragleave||(this.ondragleave&&!this.ondragleave.stoppropagation))&&_q!==true&&this.parent&&!this.parent._is_application){_w=this._getRecalcCanvasXY(_a,_m,_n);_m=_w[0];_n=_w[1];if(_x){return this.parent._on_bubble_dragleave(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,null,_s,_t,_u);}else{return this.parent._on_bubble_dragleave(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,false,this,_s,_t,_u);}}}else{if(this._p_visible&&this._isEnable()){_v=this._getClientXY(_m,_n);if(_t){_q=this.on_fire_user_ondragleave(_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_o,_p,_m,_n,_v[0],_v[1],_r,_s,_u);}else{_q=this.on_fire_sys_ondragleave(_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_o,_p,_m,_n,_v[0],_v[1],_r,_s,_u);}if(!_b||!this._contains(_b)){this._changeStatus("mouseover",false);}}if((!this.ondragleave||(this.ondragleave&&!this.ondragleave.stoppropagation))&&_q!==true&&this.parent&&!this.parent._is_application){_w=this._getRecalcCanvasXY(_a,_m,_n);_m=_w[0];_n=_w[1];return this.parent._on_bubble_dragleave(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,false,_r,_s,_t,_u);}}};_pComponent.on_dragleave_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){if(this._isPushed()){this._changeUserStatus("pushed",false);}else{this._changeStatus("mouseover",false);}};_pComponent.on_dragleave_default_action=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){};_pComponent._on_keydown=function(_a,_b,_c,_d,_e,_f){var _g,_h,_i;var _j=this._on_bubble_keydown(_a,_b,_c,_d,_e,_g,_h,_i,true,_f);if(!this._is_alive){return _j;}var _k=this._getFromComponent(this);if(_k&&(!_k.onkeydown||(_k.onkeydown&&!_k.onkeydown.defaultprevented))){this.on_keydown_default_action(_b,_c,_d,_e,_i,_f);_j=this._on_bubble_keydown(_a,_b,_c,_d,_e,_g,_h,_i,false,_f);}return _j;};_pComponent._on_bubble_keydown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){if(!this._is_alive){return;}if(_f===undefined){if(!_h){_h=this;}if(this._p_visible&&(this._isEnable()||this._isAccessibilityEnable())){if(_i){this.on_keydown_basic_action(_b,_c,_d,_e,_h,_j);}if(_i&&!this._is_hotkey){_f=this.on_fire_user_onkeydown(_b,_c,_d,_e,this,_h,_j);}else{_f=this.on_fire_sys_onkeydown(_b,_c,_d,_e,this,_h,_j);this._is_hotkey=false;}if(_f===false){_f=undefined;}}if((!this.onkeydown||(this.onkeydown&&!this.onkeydown.stoppropagation))&&_f!==true&&this.parent&&!this.parent._is_application){if(this._is_subcontrol){return this.parent._on_bubble_keydown(_a,_b,_c,_d,_e,_f,null,_h,_i,_j);}else{return this.parent._on_bubble_keydown(_a,_b,_c,_d,_e,false,this,_h,_i,_j);}}}else{if(this._p_visible&&(this._isEnable()||this._isAccessibilityEnable())){if(_i){_f=this.on_fire_user_onkeydown(_b,_c,_d,_e,_g,_h,_j);}else{_f=this.on_fire_sys_onkeydown(_b,_c,_d,_e,_g,_h,_j);}}if((!this.onkeydown||(this.onkeydown&&!this.onkeydown.stoppropagation))&&_f!==true&&this.parent&&!this.parent._is_application){return this.parent._on_bubble_keydown(_a,_b,_c,_d,_e,false,_g,_h,_i,_j);}}};_pComponent.on_keydown_basic_action=function(_a,_b,_c,_d,_e,_f){};_pComponent.on_keydown_default_action=function(_a,_b,_c,_d,_e,_f){};_pComponent._on_keyup=function(_a,_b,_c,_d,_e,_f){if(_b==nexacro.Event.KEY_TAB){if(!this._getDlgCode().want_tab){return;}}var _g,_h,_i;var _j=this._on_bubble_keyup(_a,_b,_c,_d,_e,_g,_h,_i,true,_f);var _k=this._getFromComponent(this);if(_k&&(!_k.onkeyup||(_k.onkeyup&&!_k.onkeyup.defaultprevented))){this.on_keyup_default_action(_b,_c,_d,_e,_i,_f);_j=this._on_bubble_keyup(_a,_b,_c,_d,_e,_g,_h,_i,false,_f);}return _j;};_pComponent._on_bubble_keyup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){if(!this._is_alive){return;}if(_f===undefined){if(!_h){_h=this;}if(this._p_visible&&(this._isEnable()||this._isAccessibilityEnable())){if(_i){this.on_keyup_basic_action(_b,_c,_d,_e,_h,_j);}if(_i){_f=this.on_fire_user_onkeyup(_b,_c,_d,_e,this,_h,_j);}else{_f=this.on_fire_sys_onkeyup(_b,_c,_d,_e,this,_h,_j);}if(_f===false){_f=undefined;}}if((!this.onkeyup||(this.onkeyup&&!this.onkeyup.stoppropagation))&&_f!==true&&this.parent&&!this.parent._is_application){if(this._is_subcontrol){return this.parent._on_bubble_keyup(_a,_b,_c,_d,_e,_f,null,_h,_i,_j);}else{return this.parent._on_bubble_keyup(_a,_b,_c,_d,_e,false,this,_h,_i,_j);}}}else{if(this._p_visible&&(this._isEnable()||this._isAccessibilityEnable())){if(_i){_f=this.on_fire_user_onkeyup(_b,_c,_d,_e,_g,_h,_j);}else{_f=this.on_fire_sys_onkeyup(_b,_c,_d,_e,_g,_h,_j);}}if((!this.onkeyup||(this.onkeyup&&!this.onkeyup.stoppropagation))&&_f!==true&&this.parent&&!this.parent._is_application){return this.parent._on_bubble_keyup(_a,_b,_c,_d,_e,false,_g,_h,_i,_j);}}};_pComponent.on_keyup_basic_action=function(_a,_b,_c,_d,_e,_f){};_pComponent.on_keyup_default_action=function(_a,_b,_c,_d,_e,_f){};_pComponent._on_imeaction=function(_a,_b,_c,_d,_e,_f){if(!this._is_alive){return;}if(this._p_visible&&this._isEnable()&&this._p_enableevent){this.on_fire_onimeaction(_b,_c,_d,_e,this,this,_f);var _g=this._getFromComponent(this);if(_g&&(!_g.onimeaction||(_g.onimeaction&&!_g.onimeaction.defaultprevented))){this.on_imeaction_default_action(_b,_c,_d,_e,_f);}}};_pComponent.on_imeaction_default_action=function(_a,_b,_c,_d,_e){var _f=this._getForm();var _g=this._getRootComponent(this);if(this.imeaction=="next"){var _h=_f.getNextComponent(_g,true);if(_h){_h.setFocus();}}else if(this.imeaction=="previous"){var _i=_f.getPrevComponent(_g,true);if(_i){if(_i instanceof Array){_i=_i[0];}_i.setFocus();}}};_pComponent._on_touchstart=function(_a,_b,_c){nexacro._skipDragEventAfterMsgBox=false;var _d,_e,_f;this._on_bubble_touchstart(_a,_b,_c,_d,_e,_f,true);var _g=this._getFromComponent(this);var _h=_g.ontouchstart;if(!_h||!_h.defaultprevented){this._on_bubble_touchstart(_a,_b,_c,_d,_e,_f,false);}};_pComponent._on_bubble_touchstart=function(_a,_b,_c,_d,_e,_f,_g){if(!this._is_alive){return;}var _h,_i;if(_d===undefined){if(!_f){_f=this;}if(this._p_visible&&this._isEnable()){if(_g){this.on_touchstart_basic_action(_a,_b,_c,_f);}else{this.on_touchstart_default_action(_a,_b,_c,_f);}if((_g&&this._p_enableevent)||!_g){_i=_g?this.on_fire_user_ontouchstart:this.on_fire_sys_ontouchstart;_d=_i.call(this,_b,_c,this,_f);if(_d===false){_d=undefined;}}}_h=this.ontouchstart;if((!_h||!_h.stoppropagation)&&(_d!==true)&&this.parent&&!this.parent._is_application){_a.updateTouchInputInfosCanvasXY(_b,(this._adjust_left-this._scroll_left||0),(this._adjust_top-this._scroll_top||0));if(this._is_subcontrol){return this.parent._on_bubble_touchstart(_a,_b,_c,_d,null,_f,_g);}else{var _j="select";if(this.selectscrollmode){if(this.selectscrollmode=="default"){_j=(nexacro._isTouchInteraction||nexacro._SupportTouch)?"scroll":"select";}else{_j=this.selectscrollmode;}}if(_b.length==1&&_j=="select"){var _k=_a._start_win;var _l=_a._start_elem;nexacro._setDragInfo(_k,_l,_k._curWindowX,_k._curWindowY,_k._curWindowX,_k._curWindowY,null,null,null,"text");}return this.parent._on_bubble_touchstart(_a,_b,_c,false,this,_f,_g);}}}else{if(this._p_visible&&this._isEnable()&&((_g&&this._p_enableevent)||!_g)){_a.updateTouchInputInfosClientXY(_b,this);_i=_g?this.on_fire_user_ontouchstart:this.on_fire_sys_ontouchstart;_d=_i.call(this,_b,_c,_e,_f);}_h=this.ontouchstart;if((!_h||!_h.stoppropagation)&&(_d!==true)&&this.parent&&!this.parent._is_application){_a.updateTouchInputInfosCanvasXY(_b,(this._adjust_left-this._scroll_left||0),(this._adjust_top-this._scroll_top||0));return this.parent._on_bubble_touchstart(_a,_b,_c,false,_e,_f,_g);}}};_pComponent.on_touchstart_basic_action=function(_a,_b,_c,_d){var _e=_a.getFirstTouchInputInfo(_c);if(_e){if(this._use_pushed_status){this._changeUserStatus("pushed",true);}if(nexacro._current_popups.length>0){nexacro._checkClosePopupComponent(_d?_d:this,true);}var _f=this._getWindow();if(this._is_track){nexacro._setTrackInfo(_f,this,_f._curWindowX,_f._curWindowY);return false;}if(this._is_repeat){nexacro._setRepeatInfo(this,_f,_d,_f._curWindowX,_f._curWindowY,_c[0].canvasx,_c[0].canvasy);return true;}}};_pComponent.on_touchstart_default_action=function(_a,_b,_c,_d){};_pComponent._on_touchmove=function(_a,_b,_c){var _d,_e,_f;this._on_bubble_touchmove(_a,_b,_c,_d,_e,_f,true);var _g=this._getFromComponent(this);var _h=_g.ontouchmove;if(!_h||!_h.defaultprevented){this._on_bubble_touchmove(_a,_b,_c,_d,_e,_f,false);}};_pComponent._on_bubble_touchmove=function(_a,_b,_c,_d,_e,_f,_g){if(!this._is_alive){return;}var _h,_i;if(_d===undefined){if(!_f){_f=this;}if(this._p_visible&&this._isEnable()){if(_g){this.on_touchmove_basic_action(_a,_b,_c,_f);}else{this.on_touchmove_default_action(_a,_b,_c,_f);}if(((_g&&this._p_enableevent)||!_g)){_i=_g?this.on_fire_user_ontouchmove:this.on_fire_sys_ontouchmove;_d=_i.call(this,_b,_c,this,_f);if(_d===false){_d=undefined;}}}_h=this.ontouchmove;if((!_h||!_h.stoppropagation)&&(_d!==true)&&this.parent&&!this.parent._is_application){_a.updateTouchInputInfosCanvasXY(_b,(this._adjust_left-this._scroll_left||0),(this._adjust_top-this._scroll_top||0));if(this._is_subcontrol){return this.parent._on_bubble_touchmove(_a,_b,_c,_d,null,_f,_g);}else{return this.parent._on_bubble_touchmove(_a,_b,_c,false,this,_f,_g);}}}else{if(this._p_visible&&this._isEnable()&&((_g&&this._p_enableevent)||!_g)){_a.updateTouchInputInfosClientXY(_b,this);_i=_g?this.on_fire_user_ontouchmove:this.on_fire_sys_ontouchmove;_d=_i.call(this,_b,_c,this,_f);}_h=this.ontouchmove;if((!_h||!_h.stoppropagation)&&(_d!==true)&&this.parent&&!this.parent._is_application){_a.updateTouchInputInfosCanvasXY(_b,(this._adjust_left-this._scroll_left||0),(this._adjust_top-this._scroll_top||0));return this.parent._on_bubble_touchmove(_a,_b,_c,false,_e,_f,_g);}}};_pComponent.on_touchmove_basic_action=function(_a,_b,_c,_d){var _e=this._getWindow();var _f=_a.getFirstTouchInputInfo(_c);if(_f){var _g=_e._cur_touch_elem;if(_f.target!=_g){var _h=_e.findComponent(_g,0,0)[0];if(_h&&_h._isPushed()){_h._changeUserStatus("pushed",false);}}}};_pComponent.on_touchmove_default_action=function(_a,_b,_c,_d){};_pComponent._on_touchend=function(_a,_b,_c){var _d,_e,_f;this._on_bubble_touchend(_a,_b,_c,_d,_e,_f,true);var _g=this._getFromComponent(this);if(_g){var _h=_g.ontouchend;if(!_h||!_h.defaultprevented){this._on_bubble_touchend(_a,_b,_c,_d,_e,_f,false);}if(_h&&_h.defaultprevented){return true;}}};_pComponent._on_bubble_touchend=function(_a,_b,_c,_d,_e,_f,_g){if(!this._is_alive){return;}var _h,_i;if(_d===undefined){if(!_f){_f=this;}if(this._p_visible&&this._isEnable()){if(_g){this.on_touchend_basic_action(_a,_b,_c,_f);}else{this.on_touchend_default_action(_a,_b,_c,_f);}if(((_g&&this._p_enableevent)||!_g)){_i=_g?this.on_fire_user_ontouchend:this.on_fire_sys_ontouchend;_d=_i.call(this,_b,_c,this,_f);if(_d===false){_d=undefined;}}}_h=this.ontouchend;if((!_h||!_h.stoppropagation)&&(_d!==true)&&this.parent&&!this.parent._is_application){_a.updateTouchInputInfosCanvasXY(_b,(this._adjust_left-this._scroll_left||0),(this._adjust_top-this._scroll_top||0));if(this._is_subcontrol){return this.parent._on_bubble_touchend(_a,_b,_c,_d,null,_f,_g);}else{return this.parent._on_bubble_touchend(_a,_b,_c,false,this,_f,_g);}}}else{if(this._p_visible&&this._isEnable()&&((_g&&this._p_enableevent)||!_g)){_a.updateTouchInputInfosClientXY(_b,this);_i=_g?this.on_fire_user_ontouchend:this.on_fire_sys_ontouchend;_d=_i.call(this,_b,_c,this,_f);}_h=this.ontouchend;if((!_h||!_h.stoppropagation)&&(_d!==true)&&this.parent&&!this.parent._is_application){_a.updateTouchInputInfosCanvasXY(_b,(this._adjust_left-this._scroll_left||0),(this._adjust_top-this._scroll_top||0));return this.parent._on_bubble_touchend(_a,_b,_c,false,_e,_f,_g);}}};_pComponent.on_touchend_basic_action=function(_a,_b,_c,_d){var _e=_a.getFirstTouchInputInfo(_c);if(_e){if(this._use_pushed_status){if(nexacro._isTouchInteraction){this._changeUserStatus("pushed",false);}else{this._changeUserStatus("pushed",false);this._changeStatus("mouseover",false);}}}};_pComponent.on_touchend_default_action=function(_a,_b,_c,_d){};_pComponent._on_tap=function(_a,_b,_c,_d,_e){var _f,_g,_h;this._on_bubble_tap(_a,_b,_c,_d,_e,_f,_g,_h,true);if(!this._is_alive){return;}var _i=this._getFromComponent(this);if(_i&&(!_i.ontap||(_i.ontap&&!_i.ontap.defaultprevented))){this._on_bubble_tap(_a,_b,_c,_d,_e,_f,_g,_h,false);}};_pComponent._on_bubble_tap=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._is_alive){return;}var _j,_k;var _l,_m;if(_f===undefined){var _n=false;if(!_h){_h=this._focus_refer_comp=this;if(!this._is_focus_accept){this._focus_refer_comp=this._getFocusAcceptableComponent(this);}_n=true;}if(this._p_visible&&this._isEnable()){_j=this._getClientXY(_b,_c);if(_i){this.on_tap_basic_action_before(_a,_b,_c,_d,_e,_h);if(_n){this.on_tap_basic_action(_a,_b,_c,_d,_e,_h);}}else{this.on_tap_default_action(_a,_b,_c,_d,_e,_h);}if(!_i||(nexacro._enabletouchevent&&this._p_enableevent)){_m=_i?this.on_fire_user_ontap:this.on_fire_sys_ontap;_f=_m.call(this,_a,_d,_e,_b,_c,_j[0],_j[1],this,_h);if(_f===false){_f=undefined;}}}_l=this.ontap;if((!_l||!_l.stoppropagation)&&(_f!==true)&&this.parent&&!this.parent._is_application){_k=this._getRecalcCanvasXY(_a,_b,_c);_b=_k[0];_c=_k[1];if(this._is_subcontrol){return this.parent._on_bubble_tap(_a,_b,_c,_d,_e,_f,null,_h,_i);}else{return this.parent._on_bubble_tap(_a,_b,_c,_d,_e,false,this,_h,_i);}}}else{if(this._p_visible&&this._isEnable()&&nexacro._enabletouchevent&&this._p_enableevent){_j=this._getClientXY(_b,_c);_m=_i?this.on_fire_user_ontap:this.on_fire_sys_ontap;_f=_m.call(this,_a,_d,_e,_b,_c,_j[0],_j[1],_g,_h);}_l=this.ontap;if((!_l||!_l.stoppropagation)&&(_f!==true)&&this.parent&&!this.parent._is_application){_k=this._getRecalcCanvasXY(_a,_b,_c);_b=_k[0];_c=_k[1];return this.parent._on_bubble_tap(_a,_b,_c,_d,_e,false,_g,_h,_i);}}};_pComponent.on_tap_basic_action_before=function(){};_pComponent.on_tap_basic_action=function(_a,_b,_c,_d,_e,_f){var _g=this._getWindow();if(this._p_visible&&this._isEnable()&&_f){if(!this._is_focus_accept){this._focus_refer_comp._on_focus(true,"tap");}else{_f._on_focus(true,"tap");}}else{var _h=_g._findComponentForEvent(_a,0,0);if(_h&&_h[0]){_h[0]._on_focus(true,"tap");}}var _i=nexacro._getLbuttonupDelayTime(_a);if(_i>0){nexacro._OnceCallbackTimer.callonce(this,function(){this._on_click(_a,"touch",false,false,false,_b,_c,_d,_e);},_i);}else{this._on_click(_a,"touch",false,false,false,_b,_c,_d,_e);}};_pComponent.on_tap_default_action=function(_a,_b,_c,_d,_e,_f){};_pComponent._on_dbltap=function(_a,_b,_c,_d,_e){var _f,_g,_h;this._on_bubble_dbltap(_a,_b,_c,_d,_e,_f,_g,_h,true);var _i=this._getFromComponent(this);var _j=_i.ondbltap;if(!_j||!_j.defaultprevented){this._on_bubble_dbltap(_a,_b,_c,_d,_e,_f,_g,_h,false);}};_pComponent._on_bubble_dbltap=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._is_alive){return;}var _j,_k;var _l,_m;if(_f===undefined){if(!_h){_h=this;}if(this._p_visible&&this._isEnable()){_j=this._getClientXY(_b,_c);if(_i){this.on_dbltap_basic_action(_a,_b,_c,_d,_e,_h);}else{this.on_dbltap_default_action(_a,_b,_c,_d,_e,_h);}if(!_i||(nexacro._enabletouchevent&&this._p_enableevent)){_m=_i?this.on_fire_user_ondbltap:this.on_fire_sys_ondbltap;_f=_m.call(this,_a,_d,_e,_b,_c,_j[0],_j[1],this,_h);if(_f===false){_f=undefined;}}}_l=this.ondbltap;if((!_l||!_l.stoppropagation)&&(_f!==true)&&this.parent&&!this.parent._is_application){_k=this._getRecalcCanvasXY(_a,_b,_c);_b=_k[0];_c=_k[1];if(this._is_subcontrol){return this.parent._on_bubble_dbltap(_a,_b,_c,_d,_e,_f,null,_h,_i);}else{return this.parent._on_bubble_dbltap(_a,_b,_c,_d,_e,false,this,_h,_i);}}}else{if(this._p_visible&&this._isEnable()&&nexacro._enabletouchevent&&this._p_enableevent){_j=this._getClientXY(_b,_c);_m=_i?this.on_fire_user_ondbltap:this.on_fire_sys_ondbltap;_f=_m.call(this,_a,_d,_e,_b,_c,_j[0],_j[1],_g,_h);}_l=this.ondbltap;if((!_l||!_l.stoppropagation)&&(_f!==true)&&this.parent&&!this.parent._is_application){_k=this._getRecalcCanvasXY(_a,_b,_c);_b=_k[0];_c=_k[1];return this.parent._on_bubble_dbltap(_a,_b,_c,_d,_e,false,_g,_h,_i);}}};_pComponent.on_dbltap_basic_action=function(_a,_b,_c,_d,_e,_f){};_pComponent.on_dbltap_default_action=function(_a,_b,_c,_d,_e,_f){};_pComponent._on_pinchstart=function(_a,_b,_c,_d,_e,_f){var _g,_h,_i;this._on_bubble_pinchstart(_a,_b,_c,_d,_e,_f,_g,_h,_i,true);var _j=this._getFromComponent(this);var _k=_j.onpinchstart;if(!_k||!_k.defaultprevented){if(this._isParentdefaultprevented(_j,"pinchstart")){return true;}this._on_bubble_pinchstart(_a,_b,_c,_d,_e,_f,_g,_h,_i,false);}if(_k&&_k.defaultprevented){return true;}};_pComponent._on_bubble_pinchstart=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){if(!this._is_alive){return;}var _k,_l;if(_g===undefined){if(!_i){_i=this;}if(_j){this.on_pinchstart_basic_action(_a,_b,_c,_d,_e,_f,_i);}else{this.on_pinchstart_default_action(_a,_b,_c,_d,_e,_f,_i);}if(this._p_visible&&this._isEnable()){if(nexacro._enabletouchevent&&(!_j||this._p_enableevent)){_l=_j?this.on_fire_user_onpinchstart:this.on_fire_sys_onpinchstart;_g=_l.call(this,_a,_b,_c,_d,this,_i);if(_g===false){_g=undefined;}}}_k=this.onpinchstart;if((!_k||!_k.stoppropagation)&&(_g!==true)&&this.parent&&!this.parent._is_application){if(this._is_subcontrol){return this.parent._on_bubble_pinchstart(_a,_b,_c,_d,_e,_f,_g,null,_i,_j);}else{return this.parent._on_bubble_pinchstart(_a,_b,_c,_d,_e,_f,false,this,_i,_j);}}}else{if(this._p_visible&&this._isEnable()){if(nexacro._enabletouchevent&&(!_j||this._p_enableevent)){_l=_j?this.on_fire_user_onpinchstart:this.on_fire_sys_onpinchstart;_g=_l.call(this,_a,_b,_c,_d,_h,_i);}}_k=this.onpinchstart;if((!_k||!_k.stoppropagation)&&(_g!==true)&&this.parent&&!this.parent._is_application){return this.parent._on_bubble_pinchstart(_a,_b,_c,_d,_e,_f,false,_h,_i,_j);}}};_pComponent.on_pinchstart_basic_action=function(_a,_b,_c,_d,_e,_f,_g){};_pComponent.on_pinchstart_default_action=function(_a,_b,_c,_d,_e,_f,_g){};_pComponent._on_pinch=function(_a,_b,_c,_d,_e,_f){var _g,_h,_i;this._on_bubble_pinch(_a,_b,_c,_d,_e,_f,_g,_h,_i,true);var _j=this._getFromComponent(this);var _k=_j.onpinch;if(!_k||!_k.defaultprevented){if(this._isParentdefaultprevented(_j,"pinch")){return true;}this._on_bubble_pinch(_a,_b,_c,_d,_e,_f,_g,_h,_i,false);}if(_k&&_k.defaultprevented){return true;}};_pComponent._on_bubble_pinch=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){if(!this._is_alive){return;}var _k,_l;if(_g===undefined){if(!_i){_i=this;}if(_j){this.on_pinch_basic_action(_a,_b,_c,_d,_e,_f,_i);}else{this.on_pinch_default_action(_a,_b,_c,_d,_e,_f,_i);}if(this._p_visible&&this._isEnable()){if(nexacro._enabletouchevent&&(!_j||this._p_enableevent)){_l=_j?this.on_fire_user_onpinch:this.on_fire_sys_onpinch;_g=_l.call(this,_a,_b,_c,_d,_e,_f,this,_i);if(_g===false){_g=undefined;}}}_k=this.onpinch;if((!_k||!_k.stoppropagation)&&(_g!==true)&&this.parent&&!this.parent._is_application){if(this._is_subcontrol){return this.parent._on_bubble_pinch(_a,_b,_c,_d,_e,_f,_g,null,_i,_j);}else{return this.parent._on_bubble_pinch(_a,_b,_c,_d,_e,_f,false,this,_i,_j);}}}else{if(this._p_visible&&this._isEnable()){if(nexacro._enabletouchevent&&(!_j||this._p_enableevent)){_l=_j?this.on_fire_user_onpinch:this.on_fire_sys_onpinch;_g=_l.call(this,_a,_b,_c,_d,_e,_f,_h,_i);}}_k=this.onpinch;if((!_k||!_k.stoppropagation)&&(_g!==true)&&this.parent&&!this.parent._is_application){return this.parent._on_bubble_pinch(_a,_b,_c,_d,_e,_f,false,_h,_i,_j);}}};_pComponent.on_pinch_basic_action=function(_a,_b,_c,_d,_e,_f,_g){};_pComponent.on_pinch_default_action=function(_a,_b,_c,_d,_e,_f,_g){};_pComponent._on_pinchend=function(_a,_b,_c,_d,_e,_f){var _g,_h,_i;this._on_bubble_pinchend(_a,_b,_c,_d,_e,_f,_g,_h,_i,true);var _j=this._getFromComponent(this);var _k=_j.onpinchend;if(!_k||!_k.defaultprevented){this._on_bubble_pinchend(_a,_b,_c,_d,_e,_f,_g,_h,_i,false);}};_pComponent._on_bubble_pinchend=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){if(!this._is_alive){return;}var _k,_l;if(_g===undefined){if(!_i){_i=this;}if(_j){this.on_pinchend_basic_action(_a,_b,_c,_d,_e,_f,_i);}else{this.on_pinchend_default_action(_a,_b,_c,_d,_e,_f,_i);}if(this._p_visible&&this._isEnable()){if(nexacro._enabletouchevent&&(!_j||this._p_enableevent)){_l=_j?this.on_fire_user_onpinchend:this.on_fire_sys_onpinchend;_g=_l.call(this,_a,_b,_c,_d,this,_i);if(_g===false){_g=undefined;}}}_k=this.onpinchend;if((!_k||!_k.stoppropagation)&&(_g!==true)&&this.parent&&!this.parent._is_application){if(this._is_subcontrol){return this.parent._on_bubble_pinchend(_a,_b,_c,_d,_e,_f,_g,null,_i,_j);}else{return this.parent._on_bubble_pinchend(_a,_b,_c,_d,_e,_f,false,this,_i,_j);}}}else{if(this._p_visible&&this._isEnable()){if(nexacro._enabletouchevent&&(!_j||this._p_enableevent)){_l=_j?this.on_fire_user_onpinchend:this.on_fire_sys_onpinchend;_g=_l.call(this,_a,_b,_c,_d,_h,_i);}}_k=this.onpinchend;if((!_k||!_k.stoppropagation)&&(_g!==true)&&this.parent&&!this.parent._is_application){return this.parent._on_bubble_pinchend(_a,_b,_c,_d,_e,_f,false,_h,_i,_j);}}};_pComponent.on_pinchend_basic_action=function(_a,_b,_c,_d,_e,_f,_g){};_pComponent.on_pinchend_default_action=function(_a,_b,_c,_d,_e,_f,_g){};_pComponent._on_flingstart=function(_a,_b,_c,_d,_e,_f,_g){var _h,_i,_j;this._on_bubble_flingstart(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,true);this._on_bubble_flingstart(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,false);};_pComponent._on_bubble_flingstart=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){if(!this._is_alive){return;}var _l=_k?this.on_fire_user_onflingstart:this.on_fire_sys_onflingstart;if(_h===undefined){if(!_j){_j=this;}if(_k){this.on_flingstart_basic_action(_a,_b,_c,_d,_e,_f,_g,_j);}else{this.on_flingstart_default_action(_a,_b,_c,_d,_e,_f,_g,_j);}if(this._p_visible&&this._isEnable()){if(!_k||(nexacro._enabletouchevent&&this._p_enableevent)){_h=_l.call(this,_a,_b,_c,_d,_e,_f,_g,this,_j);if(_h===false){_h=undefined;}}}if(_h!==true&&this.parent&&!this.parent._is_application&&!this._is_track){if(this._is_subcontrol){return this.parent._on_bubble_flingstart(_a,_b,_c,_d,_e,_f,_g,_h,null,_j,_k);}else{return this.parent._on_bubble_flingstart(_a,_b,_c,_d,_e,_f,_g,false,this,_j,_k);}}}else{if(this._p_visible&&this._isEnable()){if(!_k||(nexacro._enabletouchevent&&this._p_enableevent)){_h=_l.call(this,_a,_b,_c,_d,_e,_f,_g,_i,_j);}}if(_h!==true&&this.parent&&!this.parent._is_application&&!this._is_track){return this.parent._on_bubble_flingstart(_a,_b,_c,_d,_e,_f,_g,false,_i,_j,_k);}}};_pComponent.on_flingstart_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h){};_pComponent.on_flingstart_default_action=function(_a,_b,_c,_d,_e,_f,_g,_h){};_pComponent._on_fling=function(_a,_b,_c,_d,_e,_f,_g){var _h,_i,_j;this._on_bubble_fling(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,true);this._on_bubble_fling(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,false);};_pComponent._on_bubble_fling=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){if(!this._is_alive){return;}var _l=_k?this.on_fire_user_onfling:this.on_fire_sys_onfling;if(_h===undefined){if(!_j){_j=this;}if(_k){this.on_fling_basic_action(_a,_b,_c,_d,_e,_f,_g,_j);}else{this.on_fling_default_action(_a,_b,_c,_d,_e,_f,_g,_j);}if(this._p_visible&&this._isEnable()){if(!_k||(nexacro._enabletouchevent&&this._p_enableevent)){_h=_l.call(this,_a,_b,_c,_d,_e,_f,_g,this,_j);if(_h===false){_h=undefined;}}}if(_h!==true&&this.parent&&!this.parent._is_application&&!this._is_track){if(this._is_subcontrol){return this.parent._on_bubble_fling(_a,_b,_c,_d,_e,_f,_g,_h,null,_j,_k);}else{return this.parent._on_bubble_fling(_a,_b,_c,_d,_e,_f,_g,false,this,_j,_k);}}}else{if(this._p_visible&&this._isEnable()){if(!_k||(nexacro._enabletouchevent&&this._p_enableevent)){_h=_l.call(this,_a,_b,_c,_d,_e,_f,_g,_i,_j);}}if(_h!==true&&this.parent&&!this.parent._is_application&&!this._is_track){return this.parent._on_bubble_fling(_a,_b,_c,_d,_e,_f,_g,false,_i,_j,_k);}}};_pComponent.on_fling_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h){};_pComponent.on_fling_default_action=function(_a,_b,_c,_d,_e,_f,_g,_h){};_pComponent._on_flingend=function(_a,_b,_c,_d,_e,_f,_g){var _h,_i,_j;this._on_bubble_flingend(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,true);this._on_bubble_flingend(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,false);this._is_bubble_fling_v=undefined;this._is_bubble_fling_h=undefined;};_pComponent._on_bubble_flingend=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){if(!this._is_alive){return;}var _l=_k?this.on_fire_user_onflingend:this.on_fire_sys_onflingend;if(_h===undefined){if(!_j){_j=this;}if(_k){this.on_flingend_basic_action(_a,_b,_c,_d,_e,_f,_g,_j);}else{this.on_flingend_default_action(_a,_b,_c,_d,_e,_f,_g,_j);}if(this._p_visible&&this._isEnable()){if(!_k||(nexacro._enabletouchevent&&this._p_enableevent)){_h=_l.call(this,_a,_b,_c,_d,_e,_f,_g,this,_j);if(_h===false){_h=undefined;}}}if(_h!==true&&this.parent&&!this.parent._is_application&&!this._is_track){if(this._is_subcontrol){return this.parent._on_bubble_flingend(_a,_b,_c,_d,_e,_f,_g,_h,null,_j,_k);}else{return this.parent._on_bubble_flingend(_a,_b,_c,_d,_e,_f,_g,false,this,_j,_k);}}}else{if(this._p_visible&&this._isEnable()){if(!_k||(nexacro._enabletouchevent&&this._p_enableevent)){_h=_l.call(this,_a,_b,_c,_d,_e,_f,_g,_i,_j);}}if(_h!==true&&this.parent&&!this.parent._is_application&&!this._is_track){return this.parent._on_bubble_flingend(_a,_b,_c,_d,_e,_f,_g,false,_i,_j,_k);}}};_pComponent.on_flingend_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h){var _i=this;var _j=_b._scroll_comp;if(_j&&_i!=_j){_i=_j;}while((!_i._is_frame&&!_i._getScrollable())||!_i._isEnable()){_i=_i.parent;}if(!_i._is_frame){var _k=_i._getVScrollBarType();var _l=_i._getHScrollBarType();if(_i._p_vscrollbar&&_i._p_vscrollbar._p_visible&&_k=="autoindicator"){_i._p_vscrollbar.set_visible(false);}if(_i._p_hscrollbar&&_i._p_hscrollbar._p_visible&&_l=="autoindicator"){_i._p_hscrollbar.set_visible(false);}}};_pComponent.on_flingend_default_action=function(_a,_b,_c,_d,_e,_f,_g,_h){};_pComponent._on_longpress=function(_a,_b){var _c,_d,_e;this._on_bubble_longpress(_a,_b,_c,_d,_e,true);var _f=this._getFromComponent(this);var _g=_f.onlongpress;if(!_g||!_g.defaultprevented){this._on_bubble_longpress(_a,_b,_c,_d,_e,false);}};_pComponent._on_bubble_longpress=function(_a,_b,_c,_d,_e,_f){if(!this._is_alive){return;}var _g,_h;if(_c===undefined){if(!_e){_e=this;}if(_f){this.on_longpress_basic_action(_a,_b,_e);}else{this.on_longpress_default_action(_a,_b,_e);}if(this._p_visible&&this._isEnable()&&(!_f||this._p_enableevent)){_h=_f?this.on_fire_user_onlongpress:this.on_fire_sys_onlongpress;_c=_h.call(this,_a,_b,this,_e);if(_c===false){_c=undefined;}}_g=this.onlongpress;if((!_g||!_g.stoppropagation)&&(_c!==true)&&this.parent&&!this.parent._is_application){if(this._is_subcontrol){return this.parent._on_bubble_longpress(_a,_b,_c,null,_e,_f);}else{return this.parent._on_bubble_longpress(_a,_b,false,this,_e,_f);}}}else{if(this._p_visible&&this._isEnable()&&(!_f||this._p_enableevent)){_h=_f?this.on_fire_user_onlongpress:this.on_fire_sys_onlongpress;_c=_h.call(this,_a,_b,_d,_e);}_g=this.onlongpress;if((!_g||!_g.stoppropagation)&&(_c!==true)&&this.parent&&!this.parent._is_application){return this.parent._on_bubble_longpress(_a,_b,false,_d,_e,_f);}}};_pComponent.on_longpress_basic_action=function(_a,_b,_c){};_pComponent.on_longpress_default_action=function(_a,_b,_c){var _d=this._getWindow();if(this._p_visible&&this._isEnable()&&_c){_c._on_focus(true,"longpress");}else{var _e=_d._findComponentForEvent(_a,0,0);if(_e&&_e[0]){_e[0]._on_focus(true,"longpress");}}};_pComponent._on_slidestart=function(_a,_b,_c,_d,_e,_f,_g){var _h,_i,_j;this._on_bubble_slidestart(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,true);this._on_bubble_slidestart(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,false);};_pComponent._on_bubble_slidestart=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){if(!this._is_alive){return;}var _l=_k?this.on_fire_user_onslidestart:this.on_fire_sys_onslidestart;if(_h===undefined){if(!_j){_j=this;}if(_k){this.on_slidestart_basic_action(_a,_b,_c,_d,_e,_f,_g,_j);}else{this.on_slidestart_default_action(_a,_b,_c,_d,_e,_f,_g,_j);}if(this._p_visible&&this._isEnable()){if(!_k||(nexacro._enabletouchevent&&this._p_enableevent)){_h=_l.call(this,_a,_b,_c,_d,_e,_f,_g,this,_j);if(_h===false){_h=undefined;}}}if(_h!==true&&this.parent&&!this.parent._is_application){if(this._is_subcontrol){return this.parent._on_bubble_slidestart(_a,_b,_c,_d,_e,_f,_g,_h,null,_j,_k);}else{return this.parent._on_bubble_slidestart(_a,_b,_c,_d,_e,_f,_g,false,this,_j,_k);}}}else{if(this._p_visible&&this._isEnable()){if(!_k||(nexacro._enabletouchevent&&this._p_enableevent)){_h=_l.call(this,_a,_b,_c,_d,_e,_f,_g,_i,_j);}}if(_h!==true&&this.parent&&!this.parent._is_application){return this.parent._on_bubble_slidestart(_a,_b,_c,_d,_e,_f,_g,false,_i,_j,_k);}}};_pComponent.on_slidestart_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h){};_pComponent.on_slidestart_default_action=function(_a,_b,_c,_d,_e,_f,_g,_h){};_pComponent._on_slide=function(_a,_b,_c,_d,_e,_f,_g){var _h,_i,_j;this._on_bubble_slide(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,true);this._on_bubble_slide(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,false);};_pComponent._on_bubble_slide=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){if(!this._is_alive){return;}var _l=_k?this.on_fire_user_onslide:this.on_fire_sys_onslide;if(_h===undefined){if(!_j){_j=this;}if(_k){this.on_slide_basic_action(_a,_b,_c,_d,_e,_f,_g,_j);}else{this.on_slide_default_action(_a,_b,_c,_d,_e,_f,_g,_j);}if(this._p_visible&&this._isEnable()){if(!_k||(nexacro._enabletouchevent&&this._p_enableevent)){_h=_l.call(this,_a,_b,_c,_d,_e,_f,_g,this,_j);if(_h===false){_h=undefined;}}}if(_h!==true&&this.parent){if(!this.parent._is_application){if(this._is_subcontrol){return this.parent._on_bubble_slide(_a,_b,_c,_d,_e,_f,_g,_h,null,_j,_k);}else{return this.parent._on_bubble_slide(_a,_b,_c,_d,_e,_f,_g,false,this,_j,_k);}}else{if(!_k&&_b._scroll_comp==null&&!nexacro._cur_track_info){if(nexacro._allow_default_pinchzoom&&_f!=0&&Math.abs(_f)>Math.abs(_g)){_b._scroll_end=true;_b._scroll_direction=(_f>0)?-10:10;}else if(_g!=0){_b._scroll_end=true;_b._scroll_direction=(_g>0)?-1:1;}}}}}else{if(this._p_visible&&this._isEnable()){if(!_k||(nexacro._enabletouchevent&&this._p_enableevent)){_h=_l.call(this,_a,_b,_c,_d,_e,_f,_g,_i,_j);}}if(_h!==true&&this.parent){if(!this.parent._is_application){return this.parent._on_bubble_slide(_a,_b,_c,_d,_e,_f,_g,false,_i,_j,_k);}else{if(!_k&&_b._scroll_comp==null&&!nexacro._cur_track_info){if(nexacro._allow_default_pinchzoom&&_f!=0&&Math.abs(_f)>Math.abs(_g)){_b._scroll_end=true;_b._scroll_direction=(_f>0)?-10:10;}else if(_g!=0){_b._scroll_end=true;_b._scroll_direction=(_g>0)?-1:1;}}}}}};_pComponent.on_slide_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h){};_pComponent.on_slide_default_action=function(_a,_b,_c,_d,_e,_f,_g,_h){};_pComponent._on_slideend=function(_a,_b,_c,_d,_e,_f,_g){var _h,_i,_j;this._on_bubble_slideend(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,true);this._on_bubble_slideend(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,false);};_pComponent._on_bubble_slideend=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){if(!this._is_alive){return;}var _l=_k?this.on_fire_user_onslideend:this.on_fire_sys_onslideend;if(_h===undefined){if(!_j){_j=this;}if(_k){this.on_slideend_basic_action(_a,_b,_c,_d,_e,_f,_g,_j);}else{this.on_slideend_default_action(_a,_b,_c,_d,_e,_f,_g,_j);}if(this._p_visible&&this._isEnable()){if(!_k||(nexacro._enabletouchevent&&this._p_enableevent)){_h=_l.call(this,_a,_b,_c,_d,_e,_f,_g,this,_j);if(_h===false){_h=undefined;}}}if(_h!==true&&this.parent&&!this.parent._is_application){if(this._is_subcontrol){return this.parent._on_bubble_slideend(_a,_b,_c,_d,_e,_f,_g,_h,null,_j,_k);}else{return this.parent._on_bubble_slideend(_a,_b,_c,_d,_e,_f,_g,false,this,_j,_k);}}}else{if(this._p_visible&&this._isEnable()){if(!_k||(nexacro._enabletouchevent&&this._p_enableevent)){_h=_l.call(this,_a,_b,_c,_d,_e,_f,_g,_i,_j);}}if(_h!==true&&this.parent&&!this.parent._is_application){return this.parent._on_bubble_slideend(_a,_b,_c,_d,_e,_f,_g,false,_i,_j,_k);}}};_pComponent.on_slideend_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h){var _i=this;var _j=_b._scroll_comp;if(_j&&_i!=_j){_i=_j;}while((!_i._is_frame&&!_i._getScrollable())||!_i._isEnable()){_i=_i.parent;}if(!_i._is_frame){var _k=false;var _l=_b._touch_session;if(_l&&_l._cur_detector){_k=_l._cur_detector._checkFlingOption();}if(!_k){var _m=_i._getVScrollBarType();var _n=_i._getHScrollBarType();if(_i._p_vscrollbar&&_i._p_vscrollbar._p_visible&&_m=="autoindicator"){_i._p_vscrollbar.set_visible(false);}if(_i._p_hscrollbar&&_i._p_hscrollbar._p_visible&&_n=="autoindicator"){_i._p_hscrollbar.set_visible(false);}}}};_pComponent.on_slideend_default_action=function(_a,_b,_c,_d,_e,_f,_g,_h){};_pComponent._on_accessibilitygesture=function(_a){var _b,_c,_d;var _e=this;var _f=this._on_bubble_accessibilitygesture(_a,_b,_c,_d,true);if(!this._is_alive){return _f;}if(!_e.onaccessibilitygesture||(_e.onaccessibilitygesture&&!_e.onaccessibilitygesture.defaultprevented)){this.on_accessibilitygesture_default_action();_f=this._on_bubble_accessibilitygesture(_a,_b,_c,_d,false);}return _f;};_pComponent._on_bubble_accessibilitygesture=function(_a,_b,_c,_d,_e){if(!this._is_alive){return;}if(_b===undefined){if(!_d){_d=this;}if((this._p_visible&&this._isEnable())||(this._p_visible&&nexacro._enableaccessibility&&nexacro._accessibilitytype==5)){if(_e&&!this._is_hotkey){_b=this.on_fire_user_onaccessibilitygesture(_a,this,_d);}else{_b=this.on_fire_sys_onaccessibilitygesture(_a,this,_d);this._is_hotkey=false;}if(_b===false){_b=undefined;}}if((!this.onaccessibilitygesture||(this.onaccessibilitygesture&&!this.onaccessibilitygesture.stoppropagation))&&_b!==true&&this.parent&&!this.parent._is_application){if(this._is_subcontrol){return this.parent._on_bubble_accessibilitygesture(_a,_b,null,_d,_e);}else{return this.parent._on_bubble_accessibilitygesture(_a,false,this,_d,_e);}}}else{if(this._p_visible&&this._isEnable()){if(_e){_b=this.on_fire_user_onaccessibilitygesture(_a,_c,_d);}else{_b=this.on_fire_sys_onaccessibilitygesture(_a,_c,_d);}}if((!this.accessibilitygesture||(this.accessibilitygesture&&!this.accessibilitygesture.stoppropagation))&&_b!==true&&this.parent&&!this.parent._is_application){return this.parent._on_bubble_accessibilitygesture(_a,false,_c,_d,_e);}}};_pComponent.on_accessibilitygesture_default_action=function(){};_pComponent._on_devicebuttonup=function(_a){var _b,_c,_d;var _e=this._on_bubble_devicebuttonup(_a,_b,_c,_d,true);var _f=this._getFromComponent(this);if(_f&&(!_f.ondevicebuttonup||!_f.ondevicebuttonup.defaultprevented)){this.on_ondevicebuttonup_default_action(_a);_e=this._on_bubble_devicebuttonup(_a,_b,_c,_d,false);}return _e;};_pComponent._on_bubble_devicebuttonup=function(_a,_b,_c,_d,_e){if(!this._is_alive){return;}if(_b===undefined){if(!_d){_d=this;}if(this._p_visible&&this._isEnable()){if(_e){_b=this.on_fire_user_ondevicebuttonup(_a,this,_d);}else{_b=this.on_fire_sys_ondevicebuttonup(_a,this,_d);}if(_b===false){_b=undefined;}}if((!this.ondevicebuttonup||(this.ondevicebuttonup&&!this.ondevicebuttonup.stoppropagation))&&(_b!==true)&&this.parent&&!this.parent._is_application){if(this._is_subcontrol){return this.parent._on_bubble_devicebuttonup(_a,_b,null,_d,_e);}else{return this.parent._on_bubble_devicebuttonup(_a,false,this,_d,_e);}}}else{if(this._p_visible&&this._isEnable()){if(_e){_b=this.on_fire_user_ondevicebuttonup(_a,_c,_d);}else{_b=this.on_fire_sys_ondevicebuttonup(_a,_c,_d);}}if((!this.ondevicebuttonup||(this.ondevicebuttonup&&!this.ondevicebuttonup.stoppropagation))&&(_b!==true)&&this.parent&&!this.parent._is_application){return this.parent._on_bubble_devicebuttonup(_a,false,_c,_d,_e);}}};_pComponent.on_fire_user_ondevicebuttonup=function(_a,_b,_c){if(this.ondevicebuttonup&&this.ondevicebuttonup._has_handlers){var _d=new nexacro.DeviceButtonEventInfo(this,"ondevicebuttonup",_a,_b,_c);return this.ondevicebuttonup._fireUserEvent(this,_d);}return false;};_pComponent.on_fire_sys_ondevicebuttonup=function(_a,_b,_c){if(this.ondevicebuttonup&&this.ondevicebuttonup._has_handlers){var _d=new nexacro.DeviceButtonEventInfo(this,"ondevicebuttonup",_a,_b,_c);return this.ondevicebuttonup._fireSysEvent(this,_d);}return false;};_pComponent.on_fire_ondevicebuttonup=function(_a,_b,_c){if(this.ondevicebuttonup&&this.ondevicebuttonup._has_handlers){var _d=new nexacro.DeviceButtonEventInfo(this,"ondevicebuttonup",_a,_b,_c);return this.ondevicebuttonup._fireEvent(this,_d);}return false;};_pComponent.on_ondevicebuttonup_default_action=function(_a){};_pComponent.on_fire_onclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onclick&&this.onclick._has_handlers){var _n=new nexacro.ClickEventInfo(this,"onclick",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);var _o=this.onclick._fireEvent(this,_n);_n.destroy();return _o;}return false;};_pComponent.on_fire_ondblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.ondblclick&&this.ondblclick._has_handlers){var _n=new nexacro.ClickEventInfo(this,"ondblclick",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);return this.ondblclick._fireEvent(this,_n);}return false;};_pComponent.on_fire_onkillfocus=function(_a,_b){if(this.onkillfocus&&this.onkillfocus._has_handlers){var _c=new nexacro.KillFocusEventInfo(this,"onkillfocus",_a,_b);return this.onkillfocus._fireEvent(this,_c);}return false;};_pComponent.on_fire_onsetfocus=function(_a,_b,_c,_d){if(this.onsetfocus&&this.onsetfocus._has_handlers){var _e=new nexacro.SetFocusEventInfo(this,"onsetfocus",_a,_b,_c,_d);return this.onsetfocus._fireEvent(this,_e);}return false;};_pComponent.on_fire_onkeydown=function(_a,_b,_c,_d,_e,_f,_g){if(this.onkeydown&&this.onkeydown._has_handlers){var _h=new nexacro.KeyEventInfo(this,"onkeydown",_b,_c,_d,_a,_e,_f,_g);return this.onkeydown._fireEvent(this,_h);}return false;};_pComponent.on_fire_sys_onkeydown=function(_a,_b,_c,_d,_e,_f,_g){if(this.onkeydown&&this.onkeydown._has_handlers){var _h=new nexacro.KeyEventInfo(this,"onkeydown",_b,_c,_d,_a,_e,_f,_g);return this.onkeydown._fireSysEvent(this,_h);}return false;};_pComponent.on_fire_user_onkeydown=function(_a,_b,_c,_d,_e,_f,_g){if(this.onkeydown&&this.onkeydown._has_handlers){var _h=new nexacro.KeyEventInfo(this,"onkeydown",_b,_c,_d,_a,_e,_f,_g);return this.onkeydown._fireUserEvent(this,_h);}return false;};_pComponent.on_fire_onkeyup=function(_a,_b,_c,_d,_e,_f,_g){if(this.onkeyup&&this.onkeyup._has_handlers){var _h=new nexacro.KeyEventInfo(this,"onkeyup",_b,_c,_d,_a,_e,_f,_g);return this.onkeyup._fireEvent(this,_h);}return false;};_pComponent.on_fire_sys_onkeyup=function(_a,_b,_c,_d,_e,_f,_g){if(this.onkeyup&&this.onkeyup._has_handlers){var _h=new nexacro.KeyEventInfo(this,"onkeyup",_b,_c,_d,_a,_e,_f,_g);return this.onkeyup._fireSysEvent(this,_h);}return false;};_pComponent.on_fire_user_onkeyup=function(_a,_b,_c,_d,_e,_f,_g){if(this.onkeyup&&this.onkeyup._has_handlers){var _h=new nexacro.KeyEventInfo(this,"onkeyup",_b,_c,_d,_a,_e,_f,_g);return this.onkeyup._fireUserEvent(this,_h);}return false;};_pComponent.on_fire_onimeaction=function(_a,_b,_c,_d,_e,_f,_g){if(this.onimeaction&&this.onimeaction._has_handlers){var _h=new nexacro.KeyEventInfo(this,"onimeaction",_b,_c,_d,_a,_e,_f,_g);return this.onimeaction._fireEvent(this,_h);}return false;};_pComponent.on_fire_sys_onimeaction=function(_a,_b,_c,_d,_e,_f,_g){if(this.onimeaction&&this.onimeaction._has_handlers){var _h=new nexacro.KeyEventInfo(this,"onimeaction",_b,_c,_d,_a,_e,_f,_g);return this.onimeaction._fireSysEvent(this,_h);}return false;};_pComponent.on_fire_user_onimeaction=function(_a,_b,_c,_d,_e,_f,_g){if(this.onimeaction&&this.onimeaction._has_handlers){var _h=new nexacro.KeyEventInfo(this,"onimeaction",_b,_c,_d,_a,_e,_f,_g);return this.onimeaction._fireUserEvent(this,_h);}return false;};_pComponent.on_fire_oninput=function(){if(this.oninput&&this.oninput._has_handlers){var _a=new nexacro.InputEventInfo(this,"oninput");return this.oninput._fireEvent(this,_a);}return false;};_pComponent.on_fire_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onlbuttondown&&this.onlbuttondown._has_handlers){var _n=new nexacro.MouseEventInfo(this,"onlbuttondown",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);return this.onlbuttondown._fireEvent(this,_n);}return false;};_pComponent.on_fire_sys_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onlbuttondown&&this.onlbuttondown._has_handlers){var _n=new nexacro.MouseEventInfo(this,"onlbuttondown",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);return this.onlbuttondown._fireSysEvent(this,_n);}return false;};_pComponent.on_fire_user_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onlbuttondown&&this.onlbuttondown._has_handlers){var _n=new nexacro.MouseEventInfo(this,"onlbuttondown",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);return this.onlbuttondown._fireUserEvent(this,_n);}return false;};_pComponent.on_fire_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onlbuttonup&&this.onlbuttonup._has_handlers){var _n=new nexacro.MouseEventInfo(this,"onlbuttonup",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);return this.onlbuttonup._fireEvent(this,_n);}return false;};_pComponent.on_fire_sys_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(this.onlbuttonup&&this.onlbuttonup._has_handlers){var _o=new nexacro.MouseEventInfo(this,"onlbuttonup",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_n);return this.onlbuttonup._fireSysEvent(this,_o);}return false;};_pComponent.on_fire_user_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(this.onlbuttonup&&this.onlbuttonup._has_handlers){var _o=new nexacro.MouseEventInfo(this,"onlbuttonup",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_n);return this.onlbuttonup._fireUserEvent(this,_o);}return false;};_pComponent.on_fire_onrbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onrbuttondown&&this.onrbuttondown._has_handlers){var _n=new nexacro.MouseEventInfo(this,"onrbuttondown",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);return this.onrbuttondown._fireEvent(this,_n);}return false;};_pComponent.on_fire_sys_onrbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onrbuttondown&&this.onrbuttondown._has_handlers){var _n=new nexacro.MouseEventInfo(this,"onrbuttondown",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);return this.onrbuttondown._fireSysEvent(this,_n);}return false;};_pComponent.on_fire_user_onrbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onrbuttondown&&this.onrbuttondown._has_handlers){var _n=new nexacro.MouseEventInfo(this,"onrbuttondown",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);return this.onrbuttondown._fireUserEvent(this,_n);}return false;};_pComponent.on_fire_onrbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onrbuttonup&&this.onrbuttonup._has_handlers){var _n=new nexacro.MouseEventInfo(this,"onrbuttonup",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);return this.onrbuttonup._fireEvent(this,_n);}return false;};_pComponent.on_fire_sys_onrbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(this.onrbuttonup&&this.onrbuttonup._has_handlers){var _o=new nexacro.MouseEventInfo(this,"onrbuttonup",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_n);return this.onrbuttonup._fireSysEvent(this,_o);}return false;};_pComponent.on_fire_user_onrbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(this.onrbuttonup&&this.onrbuttonup._has_handlers){var _o=new nexacro.MouseEventInfo(this,"onrbuttonup",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_n);return this.onrbuttonup._fireUserEvent(this,_o);}return false;};_pComponent.on_fire_onmouseup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onmouseup&&this.onmouseup._has_handlers){var _n=new nexacro.MouseEventInfo(this,"onmouseup",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);return this.onmouseup._fireEvent(this,_n);}return false;};_pComponent.on_fire_sys_onmouseup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onmouseup&&this.onmouseup._has_handlers){var _n=new nexacro.MouseEventInfo(this,"onmouseup",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);return this.onmouseup._fireSysEvent(this,_n);}return false;};_pComponent.on_fire_user_onmouseup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onmouseup&&this.onmouseup._has_handlers){var _n=new nexacro.MouseEventInfo(this,"onmouseup",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);return this.onmouseup._fireUserEvent(this,_n);}return false;};_pComponent.on_fire_onmousedown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onmousedown&&this.onmousedown._has_handlers){var _n=new nexacro.MouseEventInfo(this,"onmousedown",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);return this.onmousedown._fireEvent(this,_n);}return false;};_pComponent.on_fire_sys_onmousedown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onmousedown&&this.onmousedown._has_handlers){var _n=new nexacro.MouseEventInfo(this,"onmousedown",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);return this.onmousedown._fireSysEvent(this,_n);}return false;};_pComponent.on_fire_user_onmousedown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onmousedown&&this.onmousedown._has_handlers){var _n=new nexacro.MouseEventInfo(this,"onmousedown",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);return this.onmousedown._fireUserEvent(this,_n);}return false;};_pComponent.on_fire_onmouseenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onmouseenter&&this.onmouseenter._has_handlers){var _n=new nexacro.MouseEventInfo(this,"onmouseenter",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);return this.onmouseenter._fireEvent(this,_n);}return false;};_pComponent.on_fire_sys_onmouseenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onmouseenter&&this.onmouseenter._has_handlers){var _n=new nexacro.MouseEventInfo(this,"onmouseenter",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);return this.onmouseenter._fireSysEvent(this,_n);}return false;};_pComponent.on_fire_user_onmouseenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onmouseenter&&this.onmouseenter._has_handlers){var _n=new nexacro.MouseEventInfo(this,"onmouseenter",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);return this.onmouseenter._fireUserEvent(this,_n);}return false;};_pComponent.on_fire_onmouseleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onmouseleave&&this.onmouseleave._has_handlers){var _n=new nexacro.MouseEventInfo(this,"onmouseleave",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);return this.onmouseleave._fireEvent(this,_n);}return false;};_pComponent.on_fire_sys_onmouseleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onmouseleave&&this.onmouseleave._has_handlers){var _n=new nexacro.MouseEventInfo(this,"onmouseleave",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);return this.onmouseleave._fireSysEvent(this,_n);}return false;};_pComponent.on_fire_user_onmouseleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onmouseleave&&this.onmouseleave._has_handlers){var _n=new nexacro.MouseEventInfo(this,"onmouseleave",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);return this.onmouseleave._fireUserEvent(this,_n);}return false;};_pComponent.on_fire_onmousemove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onmousemove&&this.onmousemove._has_handlers){var _n=new nexacro.MouseEventInfo(this,"onmousemove",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);return this.onmousemove._fireEvent(this,_n);}return false;};_pComponent.on_fire_sys_onmousemove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onmousemove&&this.onmousemove._has_handlers){var _n=new nexacro.MouseEventInfo(this,"onmousemove",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);return this.onmousemove._fireSysEvent(this,_n);}return false;};_pComponent.on_fire_user_onmousemove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onmousemove&&this.onmousemove._has_handlers){var _n=new nexacro.MouseEventInfo(this,"onmousemove",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);return this.onmousemove._fireUserEvent(this,_n);}return false;};_pComponent.on_fire_onmousewheel=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o){if(this.onmousewheel&&this.onmousewheel._has_handlers){var _p=new nexacro.MouseWheelEventInfo(this,"onmousewheel",_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_b,_m,_n,_o);return this.onmousewheel._fireEvent(this,_p);}return false;};_pComponent.on_fire_sys_onmousewheel=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o){if(this.onmousewheel&&this.onmousewheel._has_handlers){var _p=new nexacro.MouseWheelEventInfo(this,"onmousewheel",_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_b,_m,_n,_o);return this.onmousewheel._fireSysEvent(this,_p);}return false;};_pComponent.on_fire_user_onmousewheel=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o){if(this.onmousewheel&&this.onmousewheel._has_handlers){var _p=new nexacro.MouseWheelEventInfo(this,"onmousewheel",_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_b,_m,_n,_o);return this.onmousewheel._fireUserEvent(this,_p);}return false;};_pComponent.on_fire_ondrag=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(this.ondrag&&this.ondrag._has_handlers){var _o=this._getDragData();var _p=new nexacro.DragEventInfo(this,"ondrag",_o,null,"text",null,this,_m,_k,_l,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_n);return [this.ondrag._fireEvent(this,_p),this,_m,_o,_p.userdata];}return [false];};_pComponent.on_fire_sys_ondrag=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(this.ondrag&&this.ondrag._has_handlers){var _o=this._getDragData();var _p=this._getRootComponent(_m);var _q=new nexacro.DragEventInfo(this,"ondrag",_o,null,"text",null,_p,_m,_k,_l,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_n);return [this.ondrag._fireSysEvent(this,_q),this,_m,_o,_q.userdata];}return [false];};_pComponent.on_fire_user_ondrag=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(this._selectscrollmode&&(this._selectscrollmode=="scroll")){var _o=nexacro._cur_drag_info;if(_o){_o.isSelfAction=true;}return [true,this,_l,_o.data,_o.userdata];}if(this.ondrag&&this.ondrag._has_handlers){var _p=this._getDragData();var _q=this._getRootComponent(_m);var _r=new nexacro.DragEventInfo(this,"ondrag",_p,null,"text",null,_q,_m,_k,_l,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_n);return [this.ondrag._fireUserEvent(this,_r),this,_m,_p,_r.userdata];}return [false];};_pComponent.on_fire_ondrop=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s){if(this.ondrop&&this.ondrop._has_handlers){var _t=new nexacro.DragEventInfo(this,"ondrop",_c,_d,_e,_f,_a,_b,_q,_r,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_s);return this.ondrop._fireEvent(this,_t);}return false;};_pComponent.on_fire_sys_ondrop=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s){if(this.ondrop&&this.ondrop._has_handlers){var _t=new nexacro.DragEventInfo(this,"ondrop",_c,_d,_e,_f,_a,_b,_q,_r,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_s);return this.ondrop._fireSysEvent(this,_t);}return false;};_pComponent.on_fire_user_ondrop=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s){if(!this._selectscrollmode||(this._selectscrollmode!=="scroll")){if(this.ondrop&&this.ondrop._has_handlers){var _t=new nexacro.DragEventInfo(this,"ondrop",_c,_d,_e,_f,_a,_b,_q,_r,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_s);return this.ondrop._fireUserEvent(this,_t);}}else{return true;}return false;};_pComponent.on_fire_ondragenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s){if(this.ondragenter&&this.ondragenter._has_handlers){var _t=new nexacro.DragEventInfo(this,"ondragenter",_c,_d,_e,_f,_a,_b,_q,_r,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_s);return this.ondragenter._fireEvent(this,_t);}return false;};_pComponent.on_fire_sys_ondragenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s){if(this.ondragenter&&this.ondragenter._has_handlers){var _t=new nexacro.DragEventInfo(this,"ondragenter",_c,_d,_e,_f,_a,_b,_q,_r,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_s);return this.ondragenter._fireSysEvent(this,_t);}return false;};_pComponent.on_fire_user_ondragenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s){if(!this._selectscrollmode||(this._selectscrollmode!=="scroll")){if(this.ondragenter&&this.ondragenter._has_handlers){var _t=new nexacro.DragEventInfo(this,"ondragenter",_c,_d,_e,_f,_a,_b,_q,_r,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_s);return this.ondragenter._fireUserEvent(this,_t);}}else{return true;}return false;};_pComponent.on_fire_ondragleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s){if(this.ondragleave&&this.ondragleave._has_handlers){var _t=new nexacro.DragEventInfo(this,"ondragleave",_c,_d,_e,_f,_a,_b,_q,_r,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_s);return this.ondragleave._fireEvent(this,_t);}return false;};_pComponent.on_fire_sys_ondragleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s){if(this.ondragleave&&this.ondragleave._has_handlers){var _t=new nexacro.DragEventInfo(this,"ondragleave",_c,_d,_e,_f,_a,_b,_q,_r,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_s);return this.ondragleave._fireSysEvent(this,_t);}return false;};_pComponent.on_fire_user_ondragleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s){if(!this._selectscrollmode||(this._selectscrollmode!=="scroll")){if(this.ondragleave&&this.ondragleave._has_handlers){var _t=new nexacro.DragEventInfo(this,"ondragleave",_c,_d,_e,_f,_a,_b,_q,_r,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_s);return this.ondragleave._fireUserEvent(this,_t);}}else{return true;}return false;};_pComponent.on_fire_ondragmove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s){if(this.ondragmove&&this.ondragmove._has_handlers){var _t=new nexacro.DragEventInfo(this,"ondragmove",_c,_d,_e,_f,_a,_b,_q,_r,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_s);return this.ondragmove._fireEvent(this,_t);}return false;};_pComponent.on_fire_sys_ondragmove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s,_t,_u){if(_a&&_a._selectscrollmode&&(_a._selectscrollmode=="scroll")){var _v=0;var _w=false;var _x=false;if(_s!=0&&_a._p_hscrollbar&&_a._p_hscrollbar._p_enable&&(_a.dragscrolltype!="none"&&_a.dragscrolltype!="vert")){if(_s<0){if(_a._p_hscrollbar.pos<_a._p_hscrollbar.max){_w=true;}}else{if(_a._p_hscrollbar.pos>0){_w=true;}}}if(_t!=0&&_a._p_vscrollbar&&_a._p_vscrollbar._p_enable&&(_a.dragscrolltype!="none"&&_a.dragscrolltype!="horz")){if(_t<0){if(_a._p_vscrollbar.pos<_a._p_vscrollbar.max){_x=true;}}else{if(_a._p_vscrollbar.pos>0){_x=true;}}}if(_a.dragscrolltype=="all"&&(_w||_x)){_v=3;}else if(_w&&_x){if(Math.abs(_t)<Math.abs(_s)){_v=2;}else{_v=1;}}else if(_w){_v=2;}else if(_x){_v=1;}if((_v==3||_v==2)&&_s!=0&&_a._p_hscrollbar&&_a._p_hscrollbar._p_enable){_a._p_hscrollbar._setPos(_a._p_hscrollbar.pos-_s);}if((_v==3||_v==1)&&_t!=0&&_a._p_vscrollbar&&_a._p_vscrollbar._p_enable){_a._p_vscrollbar._setPos(_a._p_vscrollbar.pos-_t);}}if(this.ondragmove&&this.ondragmove._has_handlers){var _y=new nexacro.DragEventInfo(this,"ondragmove",_c,_d,_e,_f,_a,_b,_q,_r,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_u);return this.ondragmove._fireSysEvent(this,_y);}return false;};_pComponent.on_fire_user_ondragmove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s){if(!this._selectscrollmode||(this._selectscrollmode!=="scroll")){if(this.ondragmove&&this.ondragmove._has_handlers){var _t=new nexacro.DragEventInfo(this,"ondragmove",_c,_d,_e,_f,_a,_b,_q,_r,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_s);return this.ondragmove._fireUserEvent(this,_t);}}else{return true;}return false;};_pComponent.on_fire_onmove=function(_a,_b){if(this.onmove&&this.onmove._has_handlers){var _c=new nexacro.MoveEventInfo(this,"onmove",_a,_b);return this.onmove._fireEvent(this,_c);}return false;};_pComponent.on_fire_onsize=function(_a,_b){if(this.onsize&&this.onsize._has_handlers){var _c=new nexacro.SizeEventInfo(this,"onsize",_a,_b);return this.onsize._fireEvent(this,_c);}return false;};_pComponent.on_fire_oncontextmenu=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.oncontextmenu&&this.oncontextmenu._has_handlers){var _n=new nexacro.ContextMenuEventInfo(this,"oncontextmenu",_a,_b,_c,_h,_i,_j,_k,_l,_d,_e,_f,_g,_m);return this.oncontextmenu._fireEvent(this,_n);}return false;};_pComponent.on_fire_user_onextendedcommand=function(_a,_b,_c,_d,_e){if(this.onextendedcommand&&this.onextendedcommand._has_handlers){var _f=new nexacro.ExtendedCommandEventInfo(this,"onextended",_c,_b,_d);return this.onextendedcommand._fireUserEvent(this,_f);}return false;};_pComponent.on_fire_sys_onextendedcommand=function(_a,_b,_c,_d,_e){if(this.onextendedcommand&&this.onextendedcommand._has_handlers){var _f=new nexacro.ExtendedCommandEventInfo(this,"onextended",_c,_b,_d);return this.onextendedcommand._fireSysEvent(this,_f);}return false;};_pComponent.on_fire_ontouchstart=function(_a,_b,_c,_d){if(this.ontouchstart&&this.ontouchstart._has_handlers){var _e=new nexacro.TouchEventInfo(this,"ontouchstart",_a,_b,_c,_d);return this.ontouchstart._fireEvent(this,_e);}return false;};_pComponent.on_fire_user_ontouchstart=function(_a,_b,_c,_d){if(this.ontouchstart&&this.ontouchstart._has_handlers){var _e=new nexacro.TouchEventInfo(this,"ontouchstart",_a,_b,_c,_d);return this.ontouchstart._fireUserEvent(this,_e);}return false;};_pComponent.on_fire_sys_ontouchstart=function(_a,_b,_c,_d){if(this.ontouchstart&&this.ontouchstart._has_handlers){var _e=new nexacro.TouchEventInfo(this,"ontouchstart",_a,_b,_c,_d);return this.ontouchstart._fireSysEvent(this,_e);}return false;};_pComponent.on_fire_ontouchmove=function(_a,_b,_c,_d){if(this.ontouchmove&&this.ontouchmove._has_handlers){var _e=new nexacro.TouchEventInfo(this,"ontouchmove",_a,_b,_c,_d);return this.ontouchmove._fireEvent(this,_e);}return false;};_pComponent.on_fire_user_ontouchmove=function(_a,_b,_c,_d){if(this.ontouchmove&&this.ontouchmove._has_handlers){var _e=new nexacro.TouchEventInfo(this,"ontouchmove",_a,_b,_c,_d);return this.ontouchmove._fireUserEvent(this,_e);}return false;};_pComponent.on_fire_sys_ontouchmove=function(_a,_b,_c,_d){if(this.ontouchmove&&this.ontouchmove._has_handlers){var _e=new nexacro.TouchEventInfo(this,"ontouchmove",_a,_b,_c,_d);return this.ontouchmove._fireSysEvent(this,_e);}return false;};_pComponent.on_fire_ontouchend=function(_a,_b,_c,_d){if(this.ontouchend&&this.ontouchend._has_handlers){var _e=new nexacro.TouchEventInfo(this,"ontouchend",_a,_b,_c,_d);return this.ontouchend._fireEvent(this,_e);}return false;};_pComponent.on_fire_user_ontouchend=function(_a,_b,_c,_d){if(this.ontouchend&&this.ontouchend._has_handlers){var _e=new nexacro.TouchEventInfo(this,"ontouchend",_a,_b,_c,_d);return this.ontouchend._fireUserEvent(this,_e);}return false;};_pComponent.on_fire_sys_ontouchend=function(_a,_b,_c,_d){if(this.ontouchend&&this.ontouchend._has_handlers){var _e=new nexacro.TouchEventInfo(this,"ontouchend",_a,_b,_c,_d);return this.ontouchend._fireSysEvent(this,_e);}return false;};_pComponent.on_fire_ontap=function(){return false;};_pComponent.on_fire_user_ontap=function(){return false;};_pComponent.on_fire_sys_ontap=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){return true;};_pComponent.on_fire_ondbltap=function(){if(this.ondbltap&&this.ondbltap._has_handlers){var _a=new nexacro.TapEventInfo(this,"ondbltap");return this.ondbltap._fireEvent(this,_a);}return false;};_pComponent.on_fire_user_ondbltap=_pComponent.on_fire_ondbltap;_pComponent.on_fire_sys_ondbltap=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){this._on_dblclick(_a,"touch",false,false,false,_d,_e,_b,_c);return true;};_pComponent.on_fire_user_onpinchstart=function(_a,_b,_c,_d,_e,_f){return false;};_pComponent.on_fire_sys_onpinchstart=function(_a,_b,_c,_d,_e,_f){if(this.onpinchstart&&this.onpinchstart._has_handlers){var _g=new nexacro.PinchEventInfo(this,"onpinchstart",_b,_c,_d,_e,_f);return this.onpinchstart._fireSysEvent(this,_g);}return false;};_pComponent.on_fire_onpinch=function(){return false;};_pComponent.on_fire_user_onpinch=function(_a,_b,_c,_d,_e,_f,_g,_h){return false;};_pComponent.on_fire_sys_onpinch=function(_a,_b,_c,_d,_e,_f,_g,_h){if(this instanceof nexacro.Form){if(this._is_popup_control){return true;}if(this.parent&&this.parent instanceof nexacro.ChildFrame){var _i=Math.abs(_d)/(_f-_e);var _j=_d>0?1:-1;var _k=(1.0+(_j* _i));var _l=this._getZoom()||100;_l=_l* _k;if(!nexacro._allow_default_pinchzoom){var _m=nexacro._getCurrentScreenID();if(_m){}}this._on_zoom(_l);return true;}}return false;};_pComponent.on_fire_onpinchend=function(_a,_b,_c,_d,_e,_f){if(this.onpinchend&&this.onpinchend._has_handlers){var _g=new nexacro.PinchEventInfo(this,"onpinchend",_b,_c,_d,_e,_f);return this.onpinchend._fireEvent(this,_g);}return false;};_pComponent.on_fire_user_onpinchend=function(_a,_b,_c,_d,_e,_f){if(this.onpinchend&&this.onpinchend._has_handlers){var _g=new nexacro.PinchEventInfo(this,"onpinchend",_b,_c,_d,_e,_f);return this.onpinchend._fireUserEvent(this,_g);}return false;};_pComponent.on_fire_sys_onpinchend=function(_a,_b,_c,_d,_e,_f){if(this.onpinchend&&this.onpinchend._has_handlers){var _g=new nexacro.PinchEventInfo(this,"onpinchend",_b,_c,_d,_e,_f);return this.onpinchend._fireSysEvent(this,_g);}return false;};_pComponent.on_fire_onflingstart=function(){return false;};_pComponent.on_fire_user_onflingstart=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){return false;};_pComponent.on_fire_sys_onflingstart=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(_b){return true;}return this.on_fire_sys_onfling(_a,_b,_c,_d,_e,_f,_g,_h,_i);};_pComponent.on_fire_onfling=function(){return false;};_pComponent.on_fire_user_onfling=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){return false;};_pComponent._use_scrolllimit_fling_stop=false;_pComponent.on_fire_sys_onfling=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){var _j=this._p_hscrollbar;var _k=this._p_vscrollbar;var _l=this._p_dragscrolltype;var _m=_b._scroll_comp;var _n=_b._scroll_mode;var _o=this._getScrollable();if(_m){if(_m!=this){return false;}}else{var _p=false;var _q=false;if(this._scrolltype!="none"){_p=this._getCanHscroll(_j,_l,_e);_q=this._getCanVscroll(_k,_l,_f);_n=0;if(this.dragscrolltype=="all"&&(_p||_q)){_n=3;}else if(_p&&_q){if(Math.abs(_f)<Math.abs(_e)){_n=2;}else{_n=1;}}else if(_p){_n=2;}else if(_q){_n=1;}if(this.selectscrollmode!=undefined){var _r;if(this.selectscrollmode=="default"){_r=(nexacro._isTouchInteraction||nexacro._SupportTouch)?"scroll":"select";}else{_r=this._p_selectscrollmode;}if(_r=="select"){_n=0;}}if(_n>0){_b._scroll_end=false;_b._scroll_comp=this;_b._scroll_mode=_n;}else{return false;}}}if(_n>0){if(_n==1&&_n!=3){_e=0;}else if(_n==2&&_n!=3){_f=0;}var _s=this._vscroll_pos;var _t=this._hscroll_pos;if(_e!=0||_f!=0){this._scrollBy( -_e, -_f,true,false,undefined,"fling");}var _u=this._vscroll_pos;var _v=this._hscroll_pos;if(this._is_bubble_fling_v===undefined&&this._is_bubble_fling_h===undefined){return !(_s==_u&&_t==_v);}if(_e!=0&&_f!=0){if(this._is_bubble_fling_v&&this._is_bubble_fling_h){return false;}}else if(_e!=0){if(this._is_bubble_fling_h){return false;}}else if(_f!=0){if(this._is_bubble_fling_v){return false;}}return true;}return false;};_pComponent.on_fire_onflingend=function(){return false;};_pComponent.on_fire_user_onflingend=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){return false;};_pComponent.on_fire_sys_onflingend=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){return this.on_fire_sys_onfling(_a,_b,_c,_d,_e,_f,_g,_h,_i);};_pComponent.on_fire_onlongpress=function(){return false;};_pComponent.on_fire_user_onlongpress=function(_a,_b,_c,_d){return false;};_pComponent.on_fire_sys_onlongpress=function(_a,_b,_c,_d){if(this.onlongpress&&this.onlongpress._has_handlers){var _e=new nexacro.LongPressEventInfo(this,"onlongpress",_b,_c,_d);return this.onlongpress._fireSysEvent(this,_e);}return false;};_pComponent.on_fire_onslidestart=function(){return false;};_pComponent.on_fire_user_onslidestart=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){return false;};_pComponent.on_fire_sys_onslidestart=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){return this.on_fire_sys_onslide(_a,_b,_c,_d,_e,_f,_g,_h,_i,true);};_pComponent.on_fire_onslide=function(){return false;};_pComponent.on_fire_user_onslide=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){return false;};_pComponent.on_fire_sys_onslide=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){if(nexacro._cur_track_info){if(nexacro._cur_track_info.target._no_slide_scroll==true){return true;}}var _k=_b._scroll_comp;var _l=_b._scroll_mode;if(_k){if(_k!=this){return false;}}else{var _m=this._p_hscrollbar;var _n=this._p_vscrollbar;var _o=this._p_dragscrolltype;var _p=this._p_selectscrollmode;var _q=this._getCanHscroll(_m,_o,_f);var _r=this._getCanVscroll(_n,_o,_g);if(this._p_stepselector){_q=true;}if(Math.abs(_d)<Math.abs(_e)&&(Math.abs(_f)<=5)){_q=false;}else if(Math.abs(_d)>Math.abs(_e)&&(Math.abs(_g)<=5)){_r=false;}if(this._scrolltype=="none"){_q=_r=false;}if(_o=="all"&&(_q||_r)){_l=3;}else if(_q&&_r){if(Math.abs(_g)<Math.abs(_f)){_l=2;}else{_l=1;}}else if(_q){_l=2;}else if(_r){_l=1;}else{_l=-1;}if(_p=="default"&&(!(nexacro._isTouchInteraction||nexacro._SupportTouch))){_l=0;}else if(_p=="select"){_l=0;}if(_l>0){_b._scroll_end=false;_b._scroll_comp=this;_b._scroll_mode=_l;}else{return false;}}if(this._getZoom){var _s=this._getZoom();if(_s!=100){_f/=(_s/100.0);_g/=(_s/100.0);}}var _t=this._hscroll_pos;var _u=this._vscroll_pos;if((_l==3||_l==2)&&_f!=0){_t-=_f;}if((_l==3||_l==1)&&_g!=0){_u-=_g;}var _v=this._vscroll_pos;var _w=this._hscroll_pos;this._scrollTo(_t,_u,true,false,undefined,"slide");var _x=this._vscroll_pos;var _y=this._hscroll_pos;if(_j){this._is_bubble_fling_v=false;this._is_bubble_fling_h=false;if(_f!=0&&_g!=0){if(_v==_x&&_w==_y){this._is_bubble_fling_v=true;this._is_bubble_fling_h=true;}else if(_w==_y){this._is_bubble_fling_h=true;}else if(_v==_x){this._is_bubble_fling_v=true;}}else if(_f!=0){if(_w==_y){this._is_bubble_fling_h=true;}}else if(_g!=0){if(_v==_x){this._is_bubble_fling_v=true;}}}return true;};_pComponent._getCanHscroll=function(_a,_b,_c){var _d=false;var _e=this._scrolltype?this._scrolltype:this._p_scrolltype;if(_c!=0&&_b!="none"&&_b!="vert"&&(_e=="both"||_e=="horizontal")){if(_a&&_a._p_enable){if(_c<0){if(_a._p_pos<_a._p_max){_d=true;}}else{if(_a._p_pos>0){_d=true;}}}else if(this._is_scrollable){var _f=this.getElement();if(_f){var _g=this._hscroll_pos;var _h=_g-_c;var _i=_f.hscroll_limit;if(_h>0&&_h<_i){_d=true;}}}}return _d;};_pComponent._getCanVscroll=function(_a,_b,_c){var _d=false;var _e=this._scrolltype?this._scrolltype:this._p_scrolltype;if(_c!=0&&_b!="none"&&_b!="horz"&&(_e=="both"||_e=="vertical")){if(_a&&_a._p_enable){if(_c<0){if(_a._p_pos<_a._p_max){_d=true;}}else{if(_a._p_pos>0){_d=true;}}}else if(this._is_scrollable){var _f=this.getElement();if(_f){var _g=this._vscroll_pos;var _h=_g-_c;var _i=_f.vscroll_limit;if(_h>0&&_h<_i){_d=true;}}}}return _d;};_pComponent.on_fire_onslideend=function(){return false;};_pComponent.on_fire_user_onslideend=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){return false;};_pComponent.on_fire_sys_onslideend=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){return this.on_fire_sys_onslide(_a,_b,_c,_d,_e,_f,_g,_h,_i,false);};_pComponent.on_fire_onzoom=function(){return false;};_pComponent.on_fire_onorientationchange=function(_a){if(this.onorientationchange&&this.onorientationchange._has_handlers){var _b=new nexacro.OrientationChangeEventInfo(this,"onorientationchange",_a);return this.onorientationchange._fireEvent(this,_b);}return false;};_pComponent.on_fire_user_onaccessibilitygesture=function(_a,_b,_c){};_pComponent.on_fire_sys_onaccessibilitygesture=function(_a,_b,_c){};_pComponent.on_fire_onhscroll=function(_a,_b,_c,_d){if(this.onhscroll&&this.onhscroll._has_handlers){_b=(_b+0.5)|0;var _e=new nexacro.ScrollEventInfo(this,_a,_b,_c,this,this.parent);_e._evtkind=_d;var _f=this.onhscroll._fireEvent(this,_e);return _f;}return true;};_pComponent.on_fire_onvscroll=function(_a,_b,_c,_d){if(this.onvscroll&&this.onvscroll._has_handlers){_b=(_b+0.5)|0;var _e=new nexacro.ScrollEventInfo(this,_a,_b,_c,this,this.parent);_e._evtkind=_d;var _f=this.onvscroll._fireEvent(this,_e);return _f;}return true;};_pComponent._on_extendedcommand=function(_a,_b,_c,_d,_e){var _f=this._on_bubble_extendedcommand(_a,_b,_c,_d,_e,this,true);var _g=(!this.onextendedcommand||(this.onextendedcommand&&!this.onextendedcommand.defaultprevented));if(_g){var _h=nexacro.getEnvironment();var _i=_h.getDeviceAdaptor(_c);if(_i){_i.on_event_default_action(_a,_b,_d);}_f=this._on_bubble_extendedcommand(_a,_b,_c,_d,_e,this,false);}return _f;};_pComponent.on_extendedcommand_basic_action=function(_a,_b,_c){return false;};_pComponent.on_extendedcommand_default_action=function(_a,_b,_c){return false;};_pComponent._on_bubble_extendedcommand=function(_a,_b,_c,_d,_e,_f,_g){var _h;if(_e===undefined){if(_g){_e=this.on_fire_user_onextendedcommand(_a,_b,_c,_d,_f);}else{_e=this.on_fire_sys_onextendedcommand(_a,_b,_c,_d,_f);}if(_e===false){_e=undefined;}if(_g){var _i=this.on_extendedcommand_basic_action(_a,_b,_c,_d,_f);if(_i){return;}else if(_i===false){_e=_i;}}if((!this.onextendedcommand||(this.onextendedcommand&&!this.onextendedcommand.stoppropagation))&&(_e!==true)){_h=this._getParentForm();if(!_h){_h=nexacro.getEnvironment();if(_g){return _h.on_fire_user_onextendedcommand(_a,_b,_c,_d,_f);}else{return _h.on_fire_sys_onextendedcommand(_a,_b,_c,_d,_f);}}else{return _h._on_bubble_extendedcommand(_a,_b,_c,_d,false,_f,_g);}}}else{if(_g){_e=this.on_fire_user_onextendedcommand(_a,_b,_c,_d,_f);}else{_e=this.on_fire_sys_onextendedcommand(_a,_b,_c,_d,_f);}if((!this.onextendedcommand||(this.onextendedcommand&&!this.onextendedcommand.stoppropagation))&&(_e!==true)){_h=this._getParentForm();if(!_h){_h=nexacro.getEnvironment();if(_g){return _h.on_fire_user_onextendedcommand(_a,_b,_c,_d,_f);}else{return _h.on_fire_sys_onextendedcommand(_a,_b,_c,_d,_f);}}else{return _h._on_bubble_extendedcommand(_a,_b,_c,_d,false,_f,_g);}}}};delete _pComponent;}if(!nexacro.Dataset){nexacro._DatasetRuleFuncsSet={};nexacro._DatasetRuleFuncsSet["list"]=["_isInvalidValue","_compareValue","_getSumValue","_getSumExpr","_getRowsSumValue","_getRowsSumExpr","_getCaseSumValue","_getCaseSumExpr","_getAvgValue","_getAvgExpr","_getRowsAvgValue","_getRowsAvgExpr","_getCountValue","_getRowsCountValue"];nexacro._DatasetRuleFuncsSet["2.0"]={"_isInvalidValue":function(_a,_b){if(nexacro._isNull(_a)||_a===""){return false;}var _c="";switch(_b){case 1:break;case 2:case 3:if(!isFinite(_a)||isNaN(_a)){return true;}break;case 4:if(_a instanceof nexacro.Decimal){if(_a.isInfinity()||_a.isNaN()){return true;}}else if(!isFinite(_a)||isNaN(_a)){return true;}break;case 5:case 6:case 7:if(_a._isInvalidDate?_a._isInvalidDate():isNaN(_a.valueOf())){return true;}break;case 8:break;case 9:break;default:break;}return false;},"_compareValue":function(_a,_b,_c,_d,_e){if(_a!=null&&_b!=null){if(_c==4||_c<0){if((_a instanceof nexacro.Decimal)){if(_b instanceof nexacro.Decimal){if(_a.isNaN()){if(_b.isNaN()){return 0;}return 1;}if(_b.isNaN()){return -1;}return (_a.hi==_b.hi)?(_a.lo-_b.lo):(_a.hi-_b.hi);}else{if(_a.isNaN()){if(isNaN(_b)){return 0;}return 1;}if(isNaN(_b)||_b===""){return -1;}var _f=( +_b);return (_a.hi==_f)?_a.lo:(_a.hi-_f);}}else if(_b instanceof nexacro.Decimal){if(isNaN(_a)){if(_b.isNaN()){return 0;}return 1;}if(_b.isNaN()){return -1;}if(_a===""){return 1;}var _g=( +_a);return (_b.hi==_g)? -_b.lo:(_g-_b.hi);}if(isNaN(_a)){if(isNaN(_b)){return 0;}return 1;}if(isNaN(_b)){return -1;}if(_a===""){if(_b===""){return 0;}return 1;}if(_b===""){return -1;}if(_c==4){var _h=new nexacro.Decimal(_a);var _i=new nexacro.Decimal(_b);var _j=(_h.hi==_i.hi)?(_h.lo-_i.lo):(_h.hi-_i.hi);_h=null;_i=null;return _j;}return (_a==_b)?0:(_a>_b?1:-1);}else if(_c>=5&&_c<=7){var _h=_a.date?_a.date.valueOf():_a;var _i=_b.date?_b.date.valueOf():_b;if(isNaN(_h)&&isNaN(_i)){return 0;}if(isNaN(_h)){return 1;}if(isNaN(_i)){return -1;}if(_h===""||_i===""){if(_h==_i){return 0;}if(_h===""){return 1;}return -1;}return _h-_i;}else if(_c>=2&&_c<=3){if(isNaN(_a)){if(isNaN(_b)){return 0;}return 1;}if(isNaN(_b)){return -1;}if(_a===""){if(_b===""){return 0;}return 1;}if(_b===""){return -1;}if( +_a== +_b){return 0;}return ( +_a> +_b?1:-1);}else if(_c==1){var _k=this._p_collation;if(!_d&&(_k=="none"||!_k)){if(_a==_b){return 0;}if(_a===""){return -1;}if(_b===""){return 1;}return (_a>_b?1:-1);}else{if(!_d){if(_k=="currentlocale"){_d=this._getLocale().replace("_","-");}else if(_k=="systemlanguage"){;}else{_d=_k.replace("_","-");}}return nexacro._localeCompare(_a,_b,_d,_e);}}else{return (_a==_b)?0:(_a>_b?1:-1);}}else if((_a!=null)||_a===""){return -1;}else if((_b!=null)||_b===""){return 1;}else{return 0;}},"_getSumValue":function(_a,_b,_c,_d,_e){if(_e!=2&&_e!=3&&_e!=4){return 0;}var _f;if(_e==4){_f=new nexacro.Decimal();function __Decimal_loopFn(_g){var _h=this.__getParsedRow(_a[_g]);if(_h._rtype&7){var _i=_h[_b];if(_i){if(_i instanceof nexacro.Decimal){_f.addDecimal(_i);}else{_f.addDouble( +_i);}}}}nexacro.__forLoop(this,_c,_d,__Decimal_loopFn);return _f;}else{_f=0;function __Value_loopFn(_g){var _h=this.__getParsedRow(_a[_g]);if(_h._rtype&7){var _i=_h[_b];if(_i){_f+=( +_i);}}}nexacro.__forLoop(this,_c,_d,__Value_loopFn);return (typeof _f=="number")?_f:_f|0;}},"_getSumExpr":function(_a,_b,_c,_d,_e){var _f=0;var _g=false;function __Expr_loopFn(_h){var _i=this.__getParsedRow(_a[_h]);if(_i._rtype&7){var _j=_b.call(this,_h,_h,null,this,_a,_i,_e);if(_j){if(_g){if(_j instanceof nexacro.Decimal){_f.addDecimal(_j);}else{_f.addDouble(_j);}}else{if(_j instanceof nexacro.Decimal){_f=new nexacro.Decimal(_f);_f.addDecimal(_j);_g=true;}else{_f+=(_j);}}}}}nexacro.__forLoop(this,_c,_d,__Expr_loopFn);if(_g){return _f;}return (typeof _f=="number")?_f:_f|0;},"_getRowsSumValue":function(_a,_b,_c,_d){if(_d!=2&&_d!=3&&_d!=4){return 0;}var _e;if(_d==4){_e=new nexacro.Decimal();function __Decimal_loopFn(_f){var _g=_b[_f];var _h=this.__getParsedRow(_a[_g]);if(_h&&(_h._rtype&7)){var _i=_h[_c];if(_i){if(_i instanceof nexacro.Decimal){_e.addDecimal(_i);}else{_e.addDouble( +_i);}}}}nexacro.__forLoop(this,0,_b.length,__Decimal_loopFn);return _e;}else{_e=0;function __Value_loopFn(_f){var _g=_b[_f];var _h=this.__getParsedRow(_a[_g]);if(_h&&(_h._rtype&7)){var _i=_h[_c];if(_i){_e+=( +_i);}}}nexacro.__forLoop(this,0,_b.length,__Value_loopFn);return (typeof _e=="number")?_e:_e|0;}},"_getRowsSumExpr":function(_a,_b,_c,_d){var _e=0;var _f=false;function __Expr_loopFn(_g){var _h=_b[_g];var _i=this.__getParsedRow(_a[_h]);if(_i&&(_i._rtype&15)){var _j=_c.call(this,_h,_h,null,this,_a,_i,_d);if(_j){if(_f){if(_j instanceof nexacro.Decimal){_e.addDecimal(_j);}else{_e.addDouble(_j);}}else{if(_j instanceof nexacro.Decimal){_e=new nexacro.Decimal(_e);_e.addDecimal(_j);_f=true;}else{_e+=(_j);}}}}}nexacro.__forLoop(this,0,_b.length,__Expr_loopFn);if(_f){return _e.isNaN()?0:_e;}return (typeof _e=="number"&&!isNaN(_e))?_e:_e|0;},"_getCaseSumValue":function(_a,_b,_c,_d,_e,_f,_g){if(_f!=2&&_f!=3&&_f!=4){return 0;}if(_f==4){var _h=new nexacro.Decimal();function __Decimal_loopFn(_i){var _j=this.__getParsedRow(_a[_i]);if(_j._rtype&7){var _k=_b.call(this,_i,_i,null,this,_a,_j,_g);if(_k){var _l=_j[_c];if(_l){if(_l instanceof nexacro.Decimal){_h.addDecimal(_l);}else{_h.addDouble( +_l);}}}}}nexacro.__forLoop(this,_d,_e,__Decimal_loopFn);return _h;}else{var _h=0;function __Value_loopFn(_i){var _j=this.__getParsedRow(_a[_i]);if(_j._rtype&7){var _k=_b.call(this,_i,_i,null,this,_a,_j,_g);if(_k){var _l=_j[_c];if(_l){_h+=( +_l);}}}}nexacro.__forLoop(this,_d,_e,__Value_loopFn);return (typeof _h=="number")?_h:_h|0;}},"_getCaseSumExpr":function(_a,_b,_c,_d,_e,_f,_g){var _h=0;var _i=false;function __Expr_loopFn(_j){var _k=this.__getParsedRow(_a[_j]);if(_k._rtype&7){var _l=_b.call(this,_j,_j,null,this,_a,_k,_f);if(_l){var _m=_c.call(this,_j,_j,null,this,_a,_k,_g);if(_m){if(_i){if(_m instanceof nexacro.Decimal){_h.addDecimal(_m);}else{_h.addDouble(_m);}}else{if(_m instanceof nexacro.Decimal){_h=new nexacro.Decimal(_h);_h.addDecimal(_m);_i=true;}else{_h+=(_m);}}}}}}nexacro.__forLoop(this,_d,_e,__Expr_loopFn);if(_i){return _h;}return (typeof _h=="number")?_h:_h|0;},"_getAvgExpr":function(_a,_b,_c,_d,_e,_f){var _g=0;var _h=0;var _i=false;function __Expr_loopFn(_j){var _k=this.__getParsedRow(_a[_j]);if(_k._rtype&15){var _l=_b.call(this,_j,_k._rawidx,null,this,_a,_k,_f);if(!_e){_g++ ;}else{if(_l){if(_l instanceof nexacro.Decimal){if(!_l.isNaN()){_g++ ;}}else{_g++ ;}}else{if(_l===0){_g++ ;}}}if(_l){if(_i){if(_l instanceof nexacro.Decimal){_h.addDecimal(_l);}else{_h.addDouble(_l);}}else{if(_l instanceof nexacro.Decimal){_h=new nexacro.Decimal(_h);_h.addDecimal(_l);_i=true;}else{_h+=(_l);}}}}}nexacro.__forLoop(this,_c,_d,__Expr_loopFn);if(_g==0||_h!=_h){return NaN;}if(_i){_h.divDouble(_g);return _h;}return _h/_g;},"_getRowsAvgValue":function(_a,_b,_c,_d,_e){if(_d!=2&&_d!=3&&_d!=4){return 0;}if(_d==4){var _f=0;var _g=new nexacro.Decimal();function __Decimal_loopFn(_h){var _i=_b[_h];var _j=this.__getParsedRow(_a[_i]);if(_j&&(_j._rtype&7)){var _k=_j[_c];if(!_e){_f++ ;}else{if(_k){if(_k instanceof nexacro.Decimal){if(!_k.isNaN()){_f++ ;}}else{_f++ ;}}else{if(_k===0){_f++ ;}}}if(_k){if(_k instanceof nexacro.Decimal){_g.addDecimal(_k);}else{_g.addDouble( +_k);}}}}nexacro.__forLoop(this,0,_b.length,__Decimal_loopFn);if(_f==0||_g.isNaN()){return NaN;}_g.divDouble(_f);return _g;}else{var _f=0;var _g=0;function __Value_loopFn(_h){var _i=_b[_h];var _j=this.__getParsedRow(_a[_i]);if(_j&&(_j._rtype&7)){var _k=_j[_c];if(_k){_g+=( +_k);_f++ ;}else{if(!_e||_k===0){_f++ ;}}}}nexacro.__forLoop(this,0,_b.length,__Value_loopFn);if(_f==0||_g!=_g){return NaN;}return _g/_f;}},"_getRowsAvgExpr":function(_a,_b,_c,_d,_e){var _f=0;var _g=0;var _h=false;function __Expr_loopFn(_i){var _j=_b[_i];var _k=this.__getParsedRow(_a[_j]);if(_k&&(_k._rtype&15)){var _l=_c.call(this,_j,_j,null,this,_a,_k,_e);if(!_d||(_l!=null&&!isNaN(_l)&&(_l!==""||_l===0))){_f++ ;}if(_l){if(_h){if(_l instanceof nexacro.Decimal){_g.addDecimal(_l);}else{_g.addDouble(_l);}}else{if(_l instanceof nexacro.Decimal){_g=new nexacro.Decimal(_g);_g.addDecimal(_l);_h=true;}else{_g+=(_l);}}}}}nexacro.__forLoop(this,0,_b.length,__Expr_loopFn);if(_f==0||_g!=_g){return NaN;}if(_h){_g.divDouble(_f);return _g;}return (typeof _g=="number"&&!isNaN(_g))?_g/_f:0;},"_getCountValue":function(_a,_b,_c,_d,_e){var _f=0;function __Value_loopFn(_g){var _h=this.__getParsedRow(_a[_g]);if(_h._rtype&7){if(_b<0){_f++ ;}else{var _i=_h[_b];if(_i){if(!((_e==5||_e==6||_e==7)&&isNaN(_i.valueOf()))){_f++ ;}}else{if((_e==1&&_i==="")||_i===0){_f++ ;}}}}}nexacro.__forLoop(this,_c,_d,__Value_loopFn);return _f;},"_getRowsCountValue":function(_a,_b,_c,_d){var _e=0;function __loopFn(_f){var _g=_b[_f];var _h=this.__getParsedRow(_a[_g]);if(_h&&(_h._rtype&7)){var _i=_h[_c];if(_i){if(!((_d==5||_d==6||_d==7)&&isNaN(_i.valueOf()))){_e++ ;}}else{if((_d==1&&_i==="")||_i===0){_e++ ;}}}}nexacro.__forLoop(this,0,_b.length,__loopFn);return _e;}};nexacro._getXMLTagData=function(_a,_b,_c,_d){var _e=_a.indexOf(_c,_b);if(_e>-1){var _f=_e+_c.length;var _g=_a.indexOf(_d,_f),_h;if(_g>-1){_h=_a.substring(_f,_g);return [_h,"",_e,_g+_d.length];}else{_h=_a.substring(_f);return [_h,"",_e,_a.length];}}return null;};nexacro._getXMLTagData2=function(_a,_b,_c,_d){var _e=_a.indexOf(_c,_b);if(_e>-1){var _f;var _g=_e+_c.length;var _h=_a.indexOf(">",_g);if(_h<0){return null;}else if(_h>0&&_a.charAt(_h -1)=='/'){_f=_a.substring(_g,_h -1).trim();return ["",_f,_e,_h];}else{_f=_a.substring(_g,_h).trim();}_h++ ;var _i=_a.indexOf(_d,_h),_j;if(_i>-1){_j=_a.substring(_h,_i);return [_j,_f,_e,_i+_d.length];}else{_j=_a.substring(_h);return [_j,_f,_e,_a.length];}}return null;};nexacro._getXMLTagData3=function(_a,_b,_c,_d){var _e=_a.indexOf(_c,_b);if(_e>-1){var _f=_e+_c.length;var _g,_h,_i;if(_a.charAt(_f)==" "){var _j;var _k=_f+1;_g=_a.indexOf(">",_k);if(_g<0){return null;}else if(_g>0&&_a.charAt(_g -1)=='/'){_j=_a.substring(_k,_g -1).trim();return ["",_j,_e,_g];}else{_j=_a.substring(_k,_g).trim();}_g++ ;_h=_a.indexOf(_d,_g);if(_h>-1){_i=_a.substring(_g,_h);return [_i,_j,_e,_h+_d.length];}else{_i=_a.substring(_g);return [_i,_j,_e,_a.length];}}else if(_a.charAt(_f)=="/"){_f=_f+1;if(_a.charAt(_f)==">"){return ["","",_e,_f];}}else{if(_a.charAt(_e+1)==">"){_e=_e+1;}_g=_e+_c.length;_h=_a.indexOf(_d,_g);if(_h>-1){_i=_a.substring(_g,_h);return [_i,"",_e,_h+_d.length];}else{_i=_a.substring(_g);return [_i,"",_e,_a.length];}}}return null;};nexacro._getXMLTagData4=function(_a,_b,_c){var _d=_a.indexOf(_c,_b);if(_d>-1){var _e=_d+_c.length;var _f=_a.indexOf("/>",_e),_g;if(_f>-1){_g=_a.substring(_e,_f).trim();return ["",_g,_e,_f+2];}else{_g=_a.substring(_e).trim();return ["",_g,_e,_a.length];}}return null;};nexacro._getXMLAttributeID=function(_a){var _b=_a.indexOf("id=\"");if(_b>-1){var _c=_b+4;var _d=_a.indexOf("\"",_c);if(_d>-1){return _a.substring(_c,_d);}return "";}return null;};nexacro._getXMLAttributeType=function(_a){var _b=_a.indexOf("type=\"");if(_b>-1){var _c=_b+6;var _d=_a.indexOf("\"",_c);if(_d>-1){return _a.substring(_c,_d);}return "";}return null;};nexacro._getXMLAttributeData=function(_a,_b){var _c=_a.indexOf(_b+"=\"");if(_c>-1){var _d=_c+_b.length+2;var _e=_a.indexOf("\"",_d);if(_e>-1){return _a.substring(_d,_e);}return "";}return null;};nexacro._appendCommContext=function(_a){if(!_a){return;}nexacro._comm_contextlist.push(_a);};nexacro._removeCommContext=function(_a){if(!_a){return;}var _b=nexacro._comm_contextlist;var _c=_b.length;for(var _e=0;_e<_c;_e++ ){var _d=_b[_e];if(_d==_a){for(var _f=_e;_f<_c -1;_f++ ){_b[_f]=_b[_f+1];}_b[_c -1]=null;_b.length=_b.length-1;break;}}};nexacro.__whileLoop=function(_a,_b){while(true){if(_b.call(_a)){break;}}};nexacro.__forLoop=function(_a,_b,_c,_d){for(;_b<_c;_b++ ){if(_d.call(_a,_b)){return _b;}}return _b;};nexacro.__reverseForLoop=function(_a,_b,_c,_d){for(;_b>=_c;_b-- ){if(_d.call(_a,_b)){return _b;}}return _b;};nexacro.Date=function(_a,_b,_c,_d,_e,_f,_g){if(nexacro._getDatatypeRule()=="2.0"){if(arguments.length>0&&_a===undefined){this.date=new Date(undefined);return;}}var _h=true;if(_a==null){this._timecheck=true;this.date=new Date();_h=false;}else if(_b==null&&(typeof _a=="string"||_a>9999)){this._timecheck=true;this.date=new Date(_a);_h=false;}else if(_c==null){_a=(parseInt(_a,10)|0);_b=(parseInt(_b,10)|0);this.date=new Date(_a,_b);}else if(_d==null){_a=(parseInt(_a,10)|0);_b=(parseInt(_b,10)|0);_c=(parseInt(_c,10)|0);this.date=new Date(_a,_b,_c);}else if(_e==null){this._timecheck=true;_a=(parseInt(_a,10)|0);_b=(parseInt(_b,10)|0);_c=(parseInt(_c,10)|0);_d=(parseInt(_d,10)|0);this.date=new Date(_a,_b,_c,_d);}else if(_f==null){this._timecheck=true;_a=(parseInt(_a,10)|0);_b=(parseInt(_b,10)|0);_c=(parseInt(_c,10)|0);_d=(parseInt(_d,10)|0);_e=(parseInt(_e,10)|0);this.date=new Date(_a,_b,_c,_d,_e);}else if(_g==null){this._timecheck=true;_a=(parseInt(_a,10)|0);_b=(parseInt(_b,10)|0);_c=(parseInt(_c,10)|0);_d=(parseInt(_d,10)|0);_e=(parseInt(_e,10)|0);_f=(parseInt(_f,10)|0);this.date=new Date(_a,_b,_c,_d,_e,_f);}else{this._timecheck=true;_a=(parseInt(_a,10)|0);_b=(parseInt(_b,10)|0);_c=(parseInt(_c,10)|0);_d=(parseInt(_d,10)|0);_e=(parseInt(_e,10)|0);_f=(parseInt(_f,10)|0);_g=(parseInt(_g,10)|0);this.date=new Date(_a,_b,_c,_d,_e,_f,_g);}if(_h){if(_a<=99&&_a>=0){var _i=new Date(0,0,1);var _j=_i.getFullYear();var _k=this.date.getFullYear();var _l=_k-_j;this.date.setFullYear(_l);}}return;};var _pDate=nexacro._createPrototype(nexacro.Object,nexacro.Date);nexacro.Date.prototype=_pDate;_pDate._type_name="Date";_pDate._timecheck=false;_pDate._timeonly=false;_pDate.getFullYear=function(){return this.date.getFullYear();};_pDate.setFullYear=function(_a,_b,_c){if(_c!=null){this.date.setFullYear(_a,_b,_c);}else if(_b!=null){this.date.setFullYear(_a,_b);}else{this.date.setFullYear(_a);}};_pDate.getYear=function(){return this.date.getYear();};_pDate.setYear=function(_a,_b,_c){if(_c!=null){this.date.setYear(_a,_b,_c);}else if(_b!=null){this.date.setYear(_a,_b);}else{this.date.setYear(_a);}};_pDate.getMonth=function(){return this.date.getMonth();};_pDate.setMonth=function(_a,_b){if(_b==null){this.date.setMonth(_a);}else{this.date.setMonth(_a,_b);}};_pDate.getDate=function(){return this.date.getDate();};_pDate.setDate=function(_a){this.date.setDate(_a);};_pDate.getDay=function(){return this.date.getDay();};_pDate.getHours=function(){return this.date.getHours();};_pDate.getHalfHours=function(){var _a=this.date.getHours();if(_a>12){_a-=12;}else if(_a==0){_a=12;}return _a;};_pDate.setHours=function(_a,_b,_c,_d){if(_d!=null){this._timecheck=true;this.date.setHours(_a,_b,_c,_d);}else if(_c!=null){this._timecheck=true;this.date.setHours(_a,_b,_c);}else if(_b!=null){this._timecheck=true;this.date.setHours(_a,_b);}else{this._timecheck=(_a!=null);this.date.setHours(_a);}};_pDate.getMinutes=function(){return this.date.getMinutes();};_pDate.setMinutes=function(_a,_b,_c){if(_c!=null){this._timecheck=true;this.date.setMinutes(_a,_b,_c);}else if(_b!=null){this._timecheck=true;this.date.setMinutes(_a,_b);}else{this._timecheck=(_a!=null);this.date.setMinutes(_a);}};_pDate.getSeconds=function(){return this.date.getSeconds();};_pDate.setSeconds=function(_a,_b){if(_b!=null){this._timecheck=true;this.date.setSeconds(_a,_b);}else{this._timecheck=(_a!=null);this.date.setSeconds(_a);}};_pDate.getMilliseconds=function(){return this.date.getMilliseconds();};_pDate.setMilliseconds=function(_a){this._timecheck=(_a!=null);this.date.setMilliseconds(_a);};_pDate.getTime=function(){return this.date.getTime();};_pDate.setTime=function(_a){this._timecheck=(_a!=null);this.date.setTime(_a);};_pDate.getTimezoneOffset=function(){return this.date.getTimezoneOffset();};_pDate.getUTCFullYear=function(){return this.date.getUTCFullYear();};_pDate.setUTCFullYear=function(_a,_b,_c){if(_c!=null){this.date.setUTCFullYear(_a,_b,_c);}else if(_b!=null){this.date.setUTCFullYear(_a,_b);}else{this.date.setUTCFullYear(_a);}};_pDate.getUTCMonth=function(){return this.date.getUTCMonth();};_pDate.setUTCMonth=function(_a,_b){if(_b==null){this.date.setUTCMonth(_a);}else{this.date.setUTCMonth(_a,_b);}};_pDate.getUTCDate=function(){return this.date.getUTCDate();};_pDate.setUTCDate=function(_a){this.date.setUTCDate(_a);};_pDate.getUTCDay=function(){return this.date.getUTCDay();};_pDate.getUTCHours=function(){return this.date.getUTCHours();};_pDate.setUTCHours=function(_a,_b,_c,_d){if(_d!=null){this._timecheck=true;this.date.setUTCHours(_a,_b,_c,_d);}else if(_c!=null){this._timecheck=true;this.date.setUTCHours(_a,_b,_c);}else if(_b!=null){this._timecheck=true;this.date.setUTCHours(_a,_b);}else{this._timecheck=(_a!=null);this.date.setUTCHours(_a);}};_pDate.getUTCMinutes=function(){return this.date.getUTCMinutes();};_pDate.setUTCMinutes=function(_a,_b,_c){if(_c!=null){this._timecheck=true;this.date.setUTCMinutes(_a,_b,_c);}else if(_b!=null){this._timecheck=true;this.date.setUTCMinutes(_a,_b);}else{this._timecheck=(_a!=null);this.date.setUTCMinutes(_a);}};_pDate.getUTCSeconds=function(){return this.date.getUTCSeconds();};_pDate.setUTCSeconds=function(_a,_b){if(_b==null){this._timecheck=(_a!=null);this.date.setUTCSeconds(_a);}else{this._timecheck=true;this.date.setUTCSeconds(_a,_b);}};_pDate.getUTCMilliseconds=function(){return this.date.getUTCMilliseconds();};_pDate.setUTCMilliseconds=function(_a){this._timecheck=(_a!=null);this.date.setUTCMilliseconds(_a);};_pDate.parse=function(_a){return Date.parse(_a);};_pDate.UTC=function(_a,_b,_c,_d,_e,_f,_g){if(!_b){return Date.UTC(_a);}else if(!_c){return Date.UTC(_a,_b);}else if(!_d){return Date.UTC(_a,_b,_c);}else if(!_e){return Date.UTC(_a,_b,_c,_d);}else if(!_f){return Date.UTC(_a,_b,_c,_d,_e);}else if(!_g){return Date.UTC(_a,_b,_c,_d,_e,_f);}else{return Date.UTC(_a,_b,_c,_d,_e,_f,_g);}};_pDate.valueOf=function(){return this.toString();};_pDate.toGMTString=function(){return this.date.toGMTString();};_pDate.toDateString=function(){return this.date.toDateString();};_pDate.toTimeString=function(){return this.date.toTimeString();};_pDate.toLocaleDateString=function(_a){var _b=nexacro.Locale.getLocaleInfo(_a);var _c=this.getLocaleFormatString(_a,_b.date_format);return _c;};_pDate.toLocaleTimeString=function(_a){var _b=nexacro.Locale.getLocaleInfo(_a);var _c=this.getLocaleFormatString(_a,_b.time_format);return _c;};_pDate.toString=function(){if(!this.date||isNaN(this.date.valueOf())){return "Invalid Date";}var _a=this.getFullYear();var _b=this.getMonth()+1;var _c=this.getDate();var _d=this.getHours();var _e=this.getMinutes();var _f=this.getSeconds();var _g=this.getMilliseconds();_a=_a!==null?this.toZeroDigitString(_a,4):"0000";_b=_b?this.toZeroDigitString(_b,2):_b;_c=_c!==null?this.toZeroDigitString(_c,2):_c;_d=_d!==null?this.toZeroDigitString(_d,2):_d;_e=_e!==null?this.toZeroDigitString(_e,2):_e;_f=_f!==null?this.toZeroDigitString(_f,2):_f;_g=_g!==null?this.toZeroDigitString(_g,3):_g;if(this._timecheck){if(this._timeonly){return ""+_d+_e+_f+_g;}else{return ""+_a+_b+_c+_d+_e+_f+_g;}}else{return ""+_a+_b+_c;}};_pDate.toLocaleString=function(_a){var _b=nexacro.Locale.getLocaleInfo(_a);var _c=this.getLocaleFormatString(_a,_b.date_time_format);return _c;};_pDate.toUTCString=function(){return this.date.toUTCString();};_pDate.toZeroDigitString=function(_a,_b){var _c="";_a=_a.toString();if(_a.length<_b){for(var _d=0;_d<_b-_a.length;_d++ ){_c+="0";}}return _c+_a;};_pDate.getLocaleFormatString=function(_a,_b,_c){var _d=nexacro.Locale.getLocaleInfo(_a);var _e=_b;_e=_e.replace(/%r/g,_d.time_format_ampm);_e=_e.replace(/%x/g,_d.date_format);_e=_e.replace(/%X/g,_d.time_format);_e=_e.replace(/%T/g,"%H:%M:%S");if(_c===true){_e=_e.replace(/%Y/g,"\u200E%Y");_e=_e.replace(/%y/g,"\u200E%y");_e=_e.replace(/%d/g,"\u200E%d");_e=_e.replace(/%e/g,"\u200E%e");}_e=_e.replace(/%a/g,this.toLocaleWeekDayString(_a,"short"));_e=_e.replace(/%A/g,this.toLocaleWeekDayString(_a,"long"));_e=_e.replace(/%b/g,this.toLocaleMonthString(_a,"short"));_e=_e.replace(/%B/g,this.toLocaleMonthString(_a,"long"));_e=_e.replace(/%p/g,this.toLocaleAMPMString(_a));_e=_e.replace(/%y/g,this.getYear());_e=_e.replace(/%Y/g,this.getFullYear());_e=_e.replace(/%n/g,this.getMonth()+1);_e=_e.replace(/%m/g,nexacro._toString(this.getMonth()+1).padLeft(2,"0"));_e=_e.replace(/%d/g,nexacro._toString(this.getDate()).padLeft(2,"0"));_e=_e.replace(/%e/g,this.getDate());_e=_e.replace(/%H/g,this.getHours());_e=_e.replace(/%l/g,this.getHours());_e=_e.replace(/%I/g,this.getHalfHours());_e=_e.replace(/%M/g,this.getMinutes());_e=_e.replace(/%S/g,this.getSeconds());_e=_e.replace(/\\a/g,"a");_e=_e.replace(/\\m/g,"m");_e=_e.replace(/\\d/g,"d");return _e;};_pDate._getLocaleFormatString2=function(_a,_b){var _c=nexacro.Locale.getLocaleInfo(_a);var _d=_b;_d=_d.replace(/yyyy/g,this.getFullYear());_d=_d.replace(/yy/g,nexacro._toString(this.getFullYear()).substr(2,2));_d=_d.replace(/MMMM/g,this.toLocaleMonthString(_a,"long"));_d=_d.replace(/MMM/g,this.toLocaleMonthString(_a,"short"));_d=_d.replace(/MM/g,nexacro._toString(this.getMonth()+1).padLeft(2,"0"));_d=_d.replace(/M/g,this.getMonth()+1);_d=_d.replace(/dddd/g,this.toLocaleWeekDayString(_a,"long"));_d=_d.replace(/ddd/g,this.toLocaleWeekDayString(_a,"short"));_d=_d.replace(/dd/g,nexacro._toString(this.getDate()).padLeft(2,"0"));_d=_d.replace(/d/g,this.getDate());_d=_d.replace(/aa/g,this.toLocaleAMPMString(_a));_d=_d.replace(/HH/g,nexacro._toString(this.getHours()).padLeft(2,"0"));_d=_d.replace(/H/g,this.getHours());_d=_d.replace(/hh/g,nexacro._toString(this.getHalfHours()).padLeft(2,"0"));_d=_d.replace(/h/g,this.getHalfHours());_d=_d.replace(/mm/g,nexacro._toString(this.getMinutes()).padLeft(2,"0"));_d=_d.replace(/m/g,this.getMinutes());_d=_d.replace(/ss/g,nexacro._toString(this.getSeconds()).padLeft(2,"0"));_d=_d.replace(/s/g,this.getSeconds());return _d;};_pDate.toLocaleWeekDayString=function(_a,_b){var _c=nexacro.Locale.getLocaleInfo(_a);var _d=this.getDay();var _e="";switch(_b){case "short":{_e=_c.weekday_names_short[_d];}break;case "narrow":{_e=_c.weekday_names_narrow[_d];}break;case "long":default:{_e=_c.weekday_names_long[_d];}break;}return _e;};_pDate.toLocaleMonthString=function(_a,_b){var _c=nexacro.Locale.getLocaleInfo(_a);var _d=this.getMonth();var _e="";switch(_b){case "short":{_e=_c.month_names_short[_d];}break;case "narrow":{_e=_c.month_names_narrow[_d];}break;case "long":default:{_e=_c.month_names_long[_d];}break;}return _e;};_pDate.toLocaleAMPMString=function(_a){var _b=nexacro.Locale.getLocaleInfo(_a);var _c=this.getHours();var _d="";if(_c>=12){_d=_b.ampm[1];if(!_d){_d="PM";}}else{_d=_b.ampm[0];if(!_d){_d="AM";}}return _d;};_pDate.addYear=function(_a){return this.date.setFullYear(this.date.getFullYear()+_a);};_pDate.addMonth=function(_a){return this.date.setMonth(this.date.getMonth()+_a);};_pDate.addDate=function(_a){return this.date.setDate(this.date.getDate()+_a);};_pDate.addHours=function(_a){this._timecheck=(_a!=null);return this.date.setHours(this.date.getHours()+_a);};_pDate.addMinutes=function(_a){this._timecheck=(_a!=null);return this.date.setMinutes(this.date.getMinutes()+_a);};_pDate.addSeconds=function(_a){this._timecheck=(_a!=null);return this.date.setSeconds(this.date.getSeconds()+_a);};_pDate.addMilliseconds=function(_a){this._timecheck=(_a!=null);return this.date.setMilliseconds(this.date.getMilliseconds()+_a);};_pDate._isInvalidDate=function(){if(!this.date||isNaN(this.date.valueOf())){return true;}var _a=this.date.getFullYear();if(_a<0||_a>9999){return true;}return false;};_pDate.clone=function(){var _a=new nexacro.Date();_a.date=new Date(this.date.getTime());_a._timecheck=this._timecheck;_a._timeonly=this._timeonly;return _a;};delete _pDate;nexacro.DataUtilsSet={"1.0":{_undefined_type:0,_string_type:1,_int_type:2,_float_type:3,_bicdecimal_type:4,_dete_type:5,_time_type:6,_datetime_type:7,_bolb_type:8,_variant_type:9,_typecodes:{"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,"string":1,"int":2,"float":3,"double":3,"decimal":3,"bigdecimal":4,"date":5,"time":6,"datetime":7,"blob":8,"variant":9},_typeint:{"string":1,"int":2,"float":3,"double":3,"decimal":4,"bigdecimal":4,"date":5,"time":6,"datetime":7,"blob":8,"variant":9},_typeenums:["string","int","float","bigdecimal","date","time","datetime","blob"],_typenames:["undefined","string","int","double","bigdecimal","date","time","datetime","blob","variant"],_default_sizes:[8,256,4,8,16,6,9,17,256,0],_default_values:[undefined,"",0,0.0,0.0,null,null,null,null,null],_boolean_values:{"false":false,"False":false,"FALSE":false,"no":false,"No":false,"NO":false,"n":false,"N":false,"off":false,"Off":false,"OFF":false,"0":false,"true":true,"True":true,"TRUE":true,"yes":true,"Yes":true,"YES":true,"y":true,"Y":true,"on":true,"On":true,"ON":true,"1":true},_init_date:new Date(0),_MAX_MILLISECONDS:100000000* 24* 60* 60* 1000,_MIN_MILLISECONDS:-100000000* 24* 60* 60* 1000,getDefaultValue:function(_a){return nexacro.DataUtils._default_values[_a.toLowerCase()];},getDefaultSize:function(_a){return nexacro.DataUtils._default_sizes[_a.toLowerCase()];},toTypeCode:function(_a){var _b=nexacro.DataUtils._typeint[_a.toLowerCase()];return (_b==null)?0:_b;},toTypeName:function(_a){var _b=nexacro.DataUtils._typenames[_a];return (_b==null)?"undefined":_b;},findDataType:function(_a){if((typeof _a)=="object"){return (_a instanceof Date)?7:0;}var _b=nexacro.DataUtils._typenames[_a];return (_b==null)?0:_b;},isBinary:function(_a){return (_a==12);},toString:function(_a){if(_a==null){return _a;}if(_a instanceof Date){return nexacro.DataUtils._formatDateTime(_a);}return _a.toString();},toStringFromText:function(_a){return _a;},toStringFromXMLText:function(_a){return nexacro._decodeXml(_a);},toTextFromString:function(_a){return _a;},toXMLTextFromString:function(_a){return nexacro._encodeXml(_a);},toInt:function(_a){if(_a==null){return undefined;}else if(_a===""||isNaN( +_a)){return "";}else{return (_a|0);}},toIntFromText:function(_a){if(_a==null){return undefined;}else if(_a===""||isNaN( +_a)){return "";}else{return (_a|0);}},toTextFromInt:function(_a){return (_a==null)?undefined:_a+"";},toBoolean:function(_a){if(typeof _a=="string"){_a=this._boolean_values[_a];}return (_a?true:false);},toBooleanFromText:function(_a){_a=this._boolean_values[_a];return (_a?true:false);},toTextFromBoolean:function(_a){return (_a==null)?_a:_a+"";},toFloat:function(_a){if(_a==null){return undefined;}else if(_a===""||isNaN( +_a)){return "";}else{return ( +_a);}},toFloatFromText:function(_a){if(_a==null){return undefined;}else if(_a===""||isNaN( +_a)){return "";}else{return ( +_a);}},toTextFromFloat:function(_a){return (_a==null)?undefined:(_a+"");},toNumber:function(_a){if(_a==null){return undefined;}else if(_a===""||isNaN( +_a)){return "";}else{return ( +_a);}},toNumberFromText:function(_a){if(_a==null){return undefined;}else if(_a===""||isNaN( +_a)){return "";}else{return ( +_a);}},toTextFromNumber:function(_a){return (_a==null)?undefined:(_a+"");},toDecimal:function(_a){if(_a==null){return undefined;}else if(_a===""||isNaN( +_a)){return "";}else if(_a instanceof Date){return new nexacro.Decimal(_a.getTime());}return (isFinite(_a))?new nexacro.Decimal(_a):"";},toDecimalFromText:function(_a){if(_a==null||isNaN( +_a)){return undefined;}else if(_a==""){return "";}else{return new nexacro.Decimal(_a);}},toTextFromDecimal:function(_a){return (_a==null)?undefined:_a.toString();},toDate:function(_a){if(_a==null){return undefined;}else if(_a===""){return "";}if((typeof _a)=="string"){return nexacro.DataUtils._parseDateTime(_a,"date");}if(_a instanceof Date){return nexacro.DataUtils._datetimeToDate(_a);}if((typeof _a)=="number"&&nexacro.DataUtils._isValidTime(_a)){return nexacro.DataUtils._datetimeToDate(new Date(_a));}if(_a instanceof nexacro.Date){return _a;}return null;},toDateFromText:function(_a){if(_a===undefined){return undefined;}return (_a=="")?null:nexacro.DataUtils._parseDateTime(_a,"date");},toTextFromDate:function(_a){return (_a==null)?null:nexacro.DataUtils._formatDate(_a);},toTime:function(_a){if(_a==null||_a==""){return null;}if((typeof _a)=="string"){return nexacro.DataUtils._parseDateTime(_a,"time");}if(_a instanceof Date){return nexacro.DataUtils._datetimeToTime(_a);}if((typeof _a)=="number"&&nexacro.DataUtils._isValidTime(_a)){return nexacro.DataUtils._datetimeToTime(new Date(_a));}if(_a instanceof nexacro.Date){return _a;}return null;},toTimeFromText:function(_a){if(_a===undefined){return undefined;}return (_a=="")?null:nexacro.DataUtils._parseDateTime(_a,"time");},toTextFromTime:function(_a){if(_a===null){return null;}if(_a===undefined){return undefined;}if(_a==""){return "";}return nexacro.DataUtils._formatTime(_a);},toDateTime:function(_a){if(_a==null){return undefined;}if(_a===""){return "";}if((typeof _a)=="string"){if(isNaN( +_a)){return "";}return nexacro.DataUtils._parseDateTime(_a,"datetime");}if(_a instanceof Date){return _a;}if((typeof _a)=="number"&&nexacro.DataUtils._isValidTime(_a)){return nexacro.DataUtils._datetimeToTime(new Date(_a));}if(_a instanceof nexacro.Date){return _a;}return null;},toDateTimeFromText:function(_a){if(_a===undefined){return undefined;}return (_a=="")?null:nexacro.DataUtils._parseDateTime(_a,"datetime");},toTextFromDateTime:function(_a){if(_a===null){return null;}if(_a===undefined){return undefined;}if(_a==""){return "";}return nexacro.DataUtils._formatDateTime(_a);},toBlob:function(_a){return _a;},toBlobFromText:function(_a){return _a;},toTextFromBlob:function(_a){return _a;},toVariant:function(_a){return _a;},toVariantFromText:function(_a){return _a;},toVariantFromXMLText:function(_a){return nexacro._decodeXml(_a);},toTextFromVariant:function(_a){return (_a==null)?_a:(_a+"");},toXMLTextFromVariant:function(_a){return (_a==null)?_a:nexacro._encodeXml(_a+"");},convert:function(_a,_b){switch(_b){case 1:return this.toString(_a);case 2:return this.toInt(_a);case 3:return this.toFloat(_a);case 4:return this.toDecimal(_a);case 5:return this.toDate(_a);case 6:return this.toTime(_a);case 7:return this.toDateTime(_a);case 8:return this.toBlob(_a);default:return this.toVariant(_a);}},_datetimeToDate:function(_a){_a.setHours(0);_a.setMinutes(0);_a.setSeconds(0);_a.setMilliseconds(0);return _a;},_datetimeToTime:function(_a){return nexacro.DataUtils._toTime(_a.getHours(),_a.getMinutes(),_a.getSeconds(),_a.getMilliseconds());},_parseDateTime:function(_a,_b){_a=_a.trim();var _c,_d,_e,_f,_g,_h,_i;switch(_b){case "datetime":_c=_a.substring(0,4);_d=_a.substring(4,6)||"01";_e=_a.substring(6,8)||"01";_f=_a.substring(8,10);_g=_a.substring(10,12);_h=_a.substring(12,14);_i=_a.substring(14,17);return nexacro.DataUtils._toDateTime(_c,_d,_e,_f,_g,_h,_i);case "date":_c=_a.substring(0,4);_d=_a.substring(4,6)||"01";_e=_a.substring(6,8)||"01";return nexacro.DataUtils._toDate(_c,_d,_e);case "time":_f=_a.substring(0,2);_g=_a.substring(2,4);_h=_a.substring(4,6);_i=_a.substring(6,9);return nexacro.DataUtils._toTime(_f,_g,_h,_i);}return "";},_formatDate:function(_a){if(!_a){return undefined;}return this._leftPad(_a.getFullYear()* 10000+(_a.getMonth()+1)* 100+_a.getDate(),8);},_formatTime:function(_a){if(!_a){return undefined;}var _b="";var _c=_a.getMilliseconds();_b=this._leftPad(_c,3);return this._leftPad(_a.getHours()* 10000+_a.getMinutes()* 100+_a.getSeconds(),6)+_b;},_formatDateTime:function(_a){if(!_a){return undefined;}var _b=this._leftPad(_a.getFullYear()* 10000+(_a.getMonth()+1)* 100+_a.getDate(),8);var _c="";var _d=_a.getMilliseconds();_c=this._leftPad(_d,3);var _e=this._leftPad(_a.getHours()* 10000+_a.getMinutes()* 100+_a.getSeconds(),6)+_c;return _b+_e;},_toDate:function(_a,_b,_c){var _d=new nexacro.Date(_a,_b -1,_c);if(!isNaN(_d.date)){var _e=_d.getFullYear();if(_e>9999){_d.setFullYear(9999);_d.setMonth(11);_d.setDate(31);}else if(_e<0){_d.setFullYear(0);_d.setMonth(0);_d.setDate(1);}return _d;}else{return undefined;}},_toTime:function(_a,_b,_c,_d){var _e=new nexacro.Date(0,0,1,_a,_b,_c,_d);var _f= +_e.date;if(_f!=_f){return undefined;}_e._timeonly=true;return _e;},_toDateTime:function(_a,_b,_c,_d,_e,_f,_g){var _h=new nexacro.Date(_a,_b -1,_c,_d,_e,_f,_g);if(!isNaN(_h.date)){var _i=_h.getFullYear();if(_i>9999){_h.setFullYear(9999);_h.setMonth(11);_h.setDate(31);}else if(_i<0){_h.setFullYear(0);_h.setMonth(0);_h.setDate(1);}return _h;}else{return undefined;}},_isValidTime:function(_a){return (_a<=this._MAX_MILLISECONDS&&_a>=this._MIN_MILLISECONDS);},_leftPad:function(_a,_b){_a=_a+"";var _c=_b-_a.length;switch(_c){case 0:return _a;case 1:return "0"+_a;case 2:return "00"+_a;case 3:return "000"+_a;case 4:return "0000"+_a;case 5:return "00000"+_a;}return _a;}},"2.0":{_undefined_type:0,_string_type:1,_int_type:2,_float_type:3,_bicdecimal_type:4,_dete_type:5,_time_type:6,_datetime_type:7,_bolb_type:8,_variant_type:9,_typecodes:{"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,"string":1,"int":2,"float":3,"double":3,"decimal":3,"bigdecimal":4,"date":5,"time":6,"datetime":7,"blob":8,"variant":9},_typeint:{"string":1,"int":2,"float":3,"double":3,"decimal":4,"bigdecimal":4,"date":5,"time":6,"datetime":7,"blob":8,"variant":9},_typeenums:["string","int","float","bigdecimal","date","time","datetime","blob"],_typenames:["undefined","string","int","double","bigdecimal","date","time","datetime","blob","variant"],_default_sizes:[8,256,4,8,16,6,9,17,256,0],_default_values:[undefined,"",0,0.0,0.0,null,null,null,null,null],_boolean_values:{"false":false,"False":false,"FALSE":false,"no":false,"No":false,"NO":false,"n":false,"N":false,"off":false,"Off":false,"OFF":false,"0":false,"true":true,"True":true,"TRUE":true,"yes":true,"Yes":true,"YES":true,"y":true,"Y":true,"on":true,"On":true,"ON":true,"1":true},_init_date:new Date(0),_MAX_MILLISECONDS:100000000* 24* 60* 60* 1000,_MIN_MILLISECONDS:-100000000* 24* 60* 60* 1000,getDefaultValue:function(_a){return nexacro.DataUtils._default_values[_a.toLowerCase()];},getDefaultSize:function(_a){return nexacro.DataUtils._default_sizes[_a.toLowerCase()];},toTypeCode:function(_a){var _b=nexacro.DataUtils._typeint[_a.toLowerCase()];return (_b==null)?0:_b;},toTypeName:function(_a){var _b=nexacro.DataUtils._typenames[_a];return (_b==null)?"undefined":_b;},findDataType:function(_a){if((typeof _a)=="object"){return (_a instanceof Date)?7:0;}var _b=nexacro.DataUtils._typenames[_a];return (_b==null)?0:_b;},isBinary:function(_a){return (_a==12);},toString:function(_a){if(_a==null){return undefined;}if(_a instanceof Date){return nexacro.DataUtils._formatDateTime(_a);}return _a.toString();},toStringFromText:function(_a){return _a;},toStringFromXMLText:function(_a){return nexacro._decodeXml(_a);},toTextFromString:function(_a){return _a;},toXMLTextFromString:function(_a){return nexacro._encodeXml(_a);},toInt:function(_a){if(_a&&(typeof _a=="string")){_a=_a.trim();}if(_a==null){return undefined;}else if(_a===""){return "";}else if(!isFinite( +_a)){if(_a==="Infinity"||_a==="-Infinity"){return NaN;}else{return  +_a;}}return _a|0;},toIntFromText:function(_a){if(_a&&(typeof _a=="string")){_a=_a.trim();}if(_a==null){return undefined;}else if(_a===""){return "";}else if(!isFinite( +_a)){if(_a==="Infinity"||_a==="-Infinity"){return NaN;}else{return  +_a;}}return (_a|0);},toTextFromInt:function(_a){return (_a==null)?undefined:_a+"";},toBoolean:function(_a){if(typeof _a=="string"){_a=this._boolean_values[_a];}return (_a?true:false);},toBooleanFromText:function(_a){_a=this._boolean_values[_a];return (_a?true:false);},toTextFromBoolean:function(_a){return (_a==null)?_a:_a+"";},toFloat:function(_a){if(_a&&(typeof _a=="string")){_a=_a.trim();}if(_a==null){return undefined;}else if(_a===""){return "";}else if(!isFinite( +_a)){if(_a==="Infinity"||_a==="-Infinity"){return NaN;}else{return  +_a;}}return ( +_a);},toFloatFromText:function(_a){if(_a&&(typeof _a=="string")){_a=_a.trim();}if(_a==null){return undefined;}else if(_a===""){return "";}return ( +_a);},toTextFromFloat:function(_a){return (_a==null)?undefined:(_a+"");},toNumber:function(_a){if(_a==null){return undefined;}else if(_a===""||isNaN( +_a)){return "";}else{return ( +_a);}},toNumberFromText:function(_a){if(_a==null){return undefined;}else if(_a===""||isNaN( +_a)){return "";}else{return ( +_a);}},toTextFromNumber:function(_a){return (_a==null)?undefined:(_a+"");},toDecimal:function(_a){if(_a&&(typeof _a=="string")){_a=_a.trim();}if(_a==null){return undefined;}else if(_a===""){return "";}else if(isNaN( +_a)){return NaN;}else if(!isFinite( +_a)){if(_a==="Infinity"||_a==="-Infinity"){return NaN;}}else if(_a instanceof Date){return new nexacro.Decimal(_a.getTime());}return new nexacro.Decimal(_a);},toDecimalFromText:function(_a){if(_a&&(typeof _a=="string")){_a=_a.trim();}if(_a===null||_a===undefined){return undefined;}else if(_a===""){return "";}else if(isNaN( +_a)||!isFinite( +_a)){_a= +_a;}return new nexacro.Decimal(_a);},toTextFromDecimal:function(_a){return (_a==null)?undefined:_a.toString();},toDate:function(_a){var _b;if(!nexacro.DataUtils._isValidPackedDate(_a)){if((typeof _a)!="number"){if(_a===""||_a===undefined){return _a;}if(_a===null){return undefined;}if(!/[^0-9]/.test(_a)&&_a.length<3){return new nexacro.Date(_a,0,1);}else{_b=new Date(_a);}if(isNaN(_b.valueOf())){return new nexacro.Date(undefined);}else{_a=_b;}}}if((typeof _a)=="number"){_b=new Date(_a);if(nexacro.DataUtils._isValidTime(_a)){_a=nexacro.DataUtils._datetimeToDate(_b);return nexacro.DataUtils._toDate(_a.getFullYear(),_a.getMonth()+1,_a.getDate());}else{if(isNaN(_b.valueOf())){return new nexacro.Date(undefined);}else{_a=_b;}}}if(_a instanceof Date||_a instanceof nexacro.Date){return nexacro.DataUtils._toDate(_a.getFullYear(),_a.getMonth()+1,_a.getDate());}if((typeof _a)=="string"){return nexacro.DataUtils._parseDateTime(_a,"date");}return null;},toDateFromText:function(_a){var _b,_c;if(!nexacro.DataUtils._isValidPackedDate(_a)){if(_a===""||_a===undefined){return _a;}if(_a===null){return undefined;}if(!/[^0-9]/.test(_a)&&_a.length<3){_b=new nexacro.Date(_a,0,1);}else{_b=new Date(_a);}if(isNaN(_b.valueOf())){return new nexacro.Date(undefined);}else{_c=nexacro.DataUtils._toDate(_b.getFullYear(),_b.getMonth()+1,_b.getDate());}}else{_c=nexacro.DataUtils._parseDateTime(_a,"date");}if(!_c||_c._isInvalidDate()){return new nexacro.Date(undefined);}return _c;},toTextFromDate:function(_a){if(_a===""){return "";}return (_a==null)?null:nexacro.DataUtils._formatDate(_a);},toTime:function(_a){var _b;if(!nexacro.DataUtils._isValidPackedTime(_a)){if((typeof _a)!="number"){if(_a===""||_a===undefined){return _a;}if(_a===null){return undefined;}_b=new Date(_a);if(isNaN(_b.valueOf())){return new nexacro.Date(undefined);}else{_a=_b;}}}if((typeof _a)=="number"){_b=new Date(_a);if(nexacro.DataUtils._isValidTime(_a)){_a=nexacro.DataUtils._datetimeToTime(_b);return nexacro.DataUtils._toTime(_a.getHours(),_a.getMinutes(),_a.getSeconds(),_a.getMilliseconds());}else{if(isNaN(_b.valueOf())){return new nexacro.Date(undefined);}else{_a=_b;}}}if(_a instanceof Date||_a instanceof nexacro.Date){return nexacro.DataUtils._toTime(_a.getHours(),_a.getMinutes(),_a.getSeconds(),_a.getMilliseconds());}if((typeof _a)=="string"){return nexacro.DataUtils._parseDateTime(_a,"time");}return null;},toTimeFromText:function(_a){if(!nexacro.DataUtils._isValidPackedTime(_a)){if(_a===""||_a===undefined){return _a;}if(_a===null){return undefined;}var _b=new Date(_a);if(isNaN(_b.valueOf())){return new nexacro.Date(undefined);}else{return nexacro.DataUtils._toTime(_b.getHours(),_b.getMinutes(),_b.getSeconds(),_b.getMilliseconds());}}return (_a=="")?null:nexacro.DataUtils._parseDateTime(_a,"time");},toTextFromTime:function(_a){if(_a===null){return null;}if(_a===undefined){return undefined;}if(_a==""){return "";}return nexacro.DataUtils._formatTime(_a);},toDateTime:function(_a){var _b;if(!nexacro.DataUtils._isValidPackedDateTime(_a)){if((typeof _a)!="number"){if(_a===""||_a===undefined){return _a;}if(_a===null){return undefined;}if(!/[^0-9]/.test(_a)&&_a.length<3){return new nexacro.Date(_a,0,1,0,0,0);}else{_b=new Date(_a);}if(isNaN(_b.valueOf())){return new nexacro.Date(undefined);}else{_a=_b;}}}if((typeof _a)=="number"){_b=new Date(_a);if(isNaN(_b.valueOf())){return new nexacro.Date(undefined);}else{_a=_b;}}if(_a instanceof Date||_a instanceof nexacro.Date){return nexacro.DataUtils._toDateTime(_a.getFullYear(),_a.getMonth()+1,_a.getDate(),_a.getHours(),_a.getMinutes(),_a.getSeconds(),_a.getMilliseconds());}if((typeof _a)=="string"){return nexacro.DataUtils._parseDateTime(_a,"datetime");}return null;},toDateTimeFromText:function(_a){var _b,_c;if(!nexacro.DataUtils._isValidPackedDateTime(_a)){if(_a===""||_a===undefined){return _a;}if(_a===null){return undefined;}if(!/[^0-9]/.test(_a)&&_a.length<3){_b=new nexacro.Date(_a,0,1,0,0,0);}else{_b=new Date(_a);}if(isNaN(_b.valueOf())){return new nexacro.Date(undefined);}else{_c=nexacro.DataUtils._toDateTime(_b.getFullYear(),_b.getMonth()+1,_b.getDate(),_b.getHours(),_b.getMinutes(),_b.getSeconds(),_b.getMilliseconds());}}else{_c=nexacro.DataUtils._parseDateTime(_a,"datetime");}if(!_c||_c._isInvalidDate()){return new nexacro.Date(undefined);}return _c;},toTextFromDateTime:function(_a){if(_a===null){return null;}if(_a===undefined){return undefined;}if(_a==""){return "";}return nexacro.DataUtils._formatDateTime(_a);},toBlob:function(_a){return _a;},toBlobFromText:function(_a){return _a;},toTextFromBlob:function(_a){return _a;},toVariant:function(_a){return _a;},toVariantFromText:function(_a){return _a;},toVariantFromXMLText:function(_a){return nexacro._decodeXml(_a);},toTextFromVariant:function(_a){return (_a==null)?_a:(_a+"");},toXMLTextFromVariant:function(_a){return (_a==null)?_a:nexacro._encodeXml(_a+"");},convert:function(_a,_b){switch(_b){case 1:return this.toString(_a);case 2:return this.toInt(_a);case 3:return this.toFloat(_a);case 4:return this.toDecimal(_a);case 5:return this.toDate(_a);case 6:return this.toTime(_a);case 7:return this.toDateTime(_a);case 8:return this.toBlob(_a);default:return this.toVariant(_a);}},_datetimeToDate:function(_a){_a.setHours(0);_a.setMinutes(0);_a.setSeconds(0);_a.setMilliseconds(0);return _a;},_datetimeToTime:function(_a){return nexacro.DataUtils._toTime(_a.getHours(),_a.getMinutes(),_a.getSeconds(),_a.getMilliseconds());},_parseDateTime:function(_a,_b){_a=_a.trim();var _c,_d,_e,_f,_g,_h,_i;var _j=4;switch(_b){case "datetime":_c=_a.substring(0,_j);_d=_a.substring(_j,_j+2)||"01";_e=_a.substring(_j+2,_j+4)||"01";_f=_a.substring(_j+4,_j+6);_g=_a.substring(_j+6,_j+8);_h=_a.substring(_j+8,_j+10);_i=_a.substring(_j+10,_j+13);return nexacro.DataUtils._toDateTime(_c,_d,_e,_f,_g,_h,_i);case "date":_c=_a.substring(0,_j);_d=_a.substring(_j,_j+2)||"01";_e=_a.substring(_j+2,_j+4)||"01";return nexacro.DataUtils._toDate(_c,_d,_e);case "time":_f=_a.substring(0,2);_g=_a.substring(2,4);_h=_a.substring(4,6);_i=_a.substring(6,9);return nexacro.DataUtils._toTime(_f,_g,_h,_i);}return "";},_formatDate:function(_a){if(!_a){return undefined;}if(_a._isInvalidDate?_a._isInvalidDate():isNaN(_a.valueOf())){return "Invalid Date";}return this._leftPad(_a.getFullYear()* 10000+(_a.getMonth()+1)* 100+_a.getDate(),8);},_formatTime:function(_a){if(!_a){return undefined;}if(_a._isInvalidDate?_a._isInvalidDate():isNaN(_a.valueOf())){return "Invalid Date";}var _b="";var _c=_a.getMilliseconds();_b=this._leftPad(_c,3);return this._leftPad(_a.getHours()* 10000+_a.getMinutes()* 100+_a.getSeconds(),6)+_b;},_formatDateTime:function(_a){if(!_a){return undefined;}if(_a._isInvalidDate?_a._isInvalidDate():isNaN(_a.valueOf())){return "Invalid Date";}var _b=this._leftPad(_a.getFullYear()* 10000+(_a.getMonth()+1)* 100+_a.getDate(),8);var _c="";var _d=_a.getMilliseconds();_c=this._leftPad(_d,3);var _e=this._leftPad(_a.getHours()* 10000+_a.getMinutes()* 100+_a.getSeconds(),6)+_c;return _b+_e;},_toDate:function(_a,_b,_c){var _d=new nexacro.Date(_a,_b -1,_c);var _e= +_d.date;return (_e!=_e)?undefined:_d;},_toTime:function(_a,_b,_c,_d){var _e=new nexacro.Date(0,0,1,_a,_b,_c,_d);var _f= +_e.date;if(_f!=_f){return undefined;}_e._timeonly=true;return _e;},_toDateTime:function(_a,_b,_c,_d,_e,_f,_g){var _h=new nexacro.Date(_a,_b -1,_c,_d,_e,_f,_g);var _i= +_h.date;return (_i!=_i)?undefined:_h;},_isValidTime:function(_a){return (_a<=this._MAX_MILLISECONDS&&_a>=this._MIN_MILLISECONDS);},_isValidPackedDate:function(_a){if(!_a){return false;}if(_a instanceof Date||_a instanceof nexacro.Date){return true;}else{_a=_a.toString();if(_a.length!=8){return false;}if(/[^0-9]/.test(_a)){return false;}}return true;},_isValidPackedDateTime:function(_a){if(!_a){return false;}if(_a instanceof Date||_a instanceof nexacro.Date){return true;}else{_a=_a.toString();switch(_a.length){case 17:case 14:break;default:return false;}if(/[^0-9]/.test(_a)){return false;}}return true;},_isValidPackedTime:function(_a){if(!_a){return false;}if(_a instanceof Date||_a instanceof nexacro.Date){return true;}else{_a=_a.toString();if(_a.length!=9&&_a.length!=6){return false;}if(/[^0-9]/.test(_a)){return false;}}return true;},_leftPad:function(_a,_b){_a=_a+"";var _c=_b-_a.length;switch(_c){case 0:return _a;case 1:return "0"+_a;case 2:return "00"+_a;case 3:return "000"+_a;case 4:return "0000"+_a;case 5:return "00000"+_a;}return _a;}}};nexacro.DataUtils=nexacro.DataUtilsSet["1.0"];nexacro.ExprParser=function(){this.output=[];this._itemidx=-1;this._itempos=0;this._prevtype=-1;};var _pExprParser=nexacro._createPrototype(nexacro.Object,nexacro.ExprParser);nexacro.ExprParser.prototype=_pExprParser;_pExprParser.whitespace=nexacro._gen_arrmap("\n\r\t ".split(''));_pExprParser._replace_whitespace=nexacro._gen_arrmap("\\n,\\r,\\t,\\s".split(','));_pExprParser.wordchars=nexacro._gen_arrmap("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_$".split(''));_pExprParser.punct=nexacro._gen_arrmap("+ - * / % & ++ -- = += -= *= /= %= == === != <> !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! !! , : ? ^ ^= |= ::".split(' '));_pExprParser.line_starters=nexacro._gen_arrmap("continue,try,throw,return,var,if,switch,case,default,for,while,break,function".split(','));_pExprParser.regexp_hanja=/[\u2E80-\u2EFF]|[\u31C0-\u31EF]|[\u3200-\u32FF]|[\u3400-\u4DBF]|[\u4E00-\u9FBF]|[\uF900-\uFAFF]/;_pExprParser.regexp_nipon=/[\u3040-\u309F]|[\u30A0-\u30FF]|[\u31F0-\u31FF]|[\uFF01-\uFFEF]|[\u3000-\u3002]|[\u300C]|[\u300D]|[\u309B]|[\u309C]|[\u2010-\u201F]/;_pExprParser.regexp_greek=/[\u0370-\u03FF]/;_pExprParser.regexp_hangul=/[-]|[-]|[-]/;_pExprParser.regexp_num=/^[0-9]+[Ee]$/;_pExprParser.append=function(_a,_b){var _c=this.output;var _d=_c.length;if(_b==2&&this._prevtype==2){_c[_d -1].tok+=_a;return;}if(_b==10){if(this._prevtype==2){_c[_d -1].tok+=_a;return;}else if(_d==0){_c[_d]={type:2,tok:_a,pos:-1};this._prevtype=1;return;}}else if(_b==4){this._itempos=0;}else if(_b==5&&this._prevtype==0){_c[_d -1].type=1;this._itempos=0;}var _e={type:_b,tok:_a,pos:this._itempos};_c[_d]=_e;if(_b==10&&this._prevtype==0){if(this._itempos>=0){this._itempos++ ;}}else if(_b==5||_b==7||_b==9){this._itempos=0;}else if(_b==6||_b==8){this._itempos=-1;}this._prevtype=_b;};_pExprParser.tokenizeExpr=function(_a){this.input=_a;var _b=this.output;var _c=_a+"";var _d=_c.length;var _e=0;if(_e>=_d){return 0;}while(true){if(_e>=_d){return _b.length;}var _f,_g;var _h=_c.charAt(_e);_e++ ;while(_h in this.whitespace){if(_e>=_d){return _b.length;}_h=_c.charAt(_e);_e++ ;}if(_h in this.wordchars||this.regexp_hangul.test(_h)||this.regexp_hanja.test(_h)||this.regexp_nipon.test(_h)||this.regexp_greek.test(_h)){if(_e<_d){_f=_c.charAt(_e);while(_f in this.wordchars||this.regexp_hangul.test(_f)||this.regexp_hanja.test(_f)||this.regexp_nipon.test(_f)||this.regexp_greek.test(_f)){_h+=_f;_e++ ;if(_e>=_d){break;}_f=_c.charAt(_e);}}if(_e<_d&&this.regexp_num.test(_h)&&(_f==='-'||_f==='+')){_e+=1;this.parse_pos=_e;_f=_c.charAt(_e);while(_f in this.wordchars||this.regexp_hangul.test(_f)||this.regexp_hanja.test(_f)||this.regexp_nipon.test(_f)||this.regexp_greek.test(_f)){_h+=_f;_e++ ;if(_e>=_d){break;}_f=_c.charAt(_e);}this.append(_h,3);continue;}if(_h=='in'){this.append(_h,4);}else{var _i=parseFloat(_h);if(isFinite(_i)){this.append(_h,2);}else{this.append(_h,0);}}continue;}if(_h=='('){this.append(_h,5);var _j=_c.charAt(_e);if(_j=="/"){_h=_j;_e++ ;while(_e<_d){_g='/';_k=false;_f=_c.charAt(_e);_h+=_f;_e++ ;while(_k||_f!=_g){if(!_k){_k=(_f=='/');}else{_k=false;}_f=_c.charAt(_e);if(_f=="\\"){break;}_h+=_f;_e++ ;if(_e>=_d){break;}}if(_f==_g||_f=="\\"){this.append(_h,3);break;}}}continue;}if(_h==')'){this.append(_h,6);continue;}if(_h=='['){this.append(_h,7);continue;}if(_h==']'){this.append(_h,8);continue;}if(_h==','){this.append(_h,9);continue;}if(_h=='{'){this.append(_h,10);continue;}if(_h=='}'){this.append(_h,11);continue;}if(_h==';'){this.append(_h,12);continue;}if(_h=="\\"){_h+=_c.charAt(_e);_e++ ;this.append(_h,4);continue;}var _k;if(_h=="'"||_h=='"'){if(_e<_d){_g=_h;_k=false;_f=_c.charAt(_e);_h+=_f;_e++ ;while(_k||_f!=_g){if(!_k){_k=(_f=='\\');}else{_k=false;}_f=_c.charAt(_e);_h+=_f;_e++ ;if(_e>=_d){break;}}if(_f==_g){this.append(_h,3);continue;}return -1;}continue;}if(_h=='/'){_f=_c.charAt(_e);if(_f=='*'){_h+=_f;_e++ ;while(_e<_d){_f=_c.charAt(_e);_h+=_f;_e++ ;if(_f=='*'){if(_e>=_d){break;}_f=_c.charAt(_e);_h+=_f;_e++ ;if(_f=='/'){continue;}}}return -1;}if(_f=='/'){_h+=_f;_e++ ;_f=_c.charAt(_e);while(_e<_d){_f=_c.charAt(_e);if(_f=="\r"||_f=="\n"){_e+=1;continue;}_h+=_f;_e++ ;}continue;}if([-1,4,5,7,9].indexOf(_b._prevtype)>=0){if(_e<_d){_k=false;var _l=false;_f=_c.charAt(_e);_h+=_f;_e++ ;while(_k||_l||_f!='/'){if(!_k){_k=(_f=='\\');if(_f=='['){_l=true;}else if(_f==']'){_l=false;}}else{_k=false;}_f=_c.charAt(_e);_h+=_f;_e++ ;}if(_f!='/'){return -1;}_f=_c.charAt(_e);while(_e<_d&&(_f in this.wordchars||this.regexp_hangul.test(_h)||this.regexp_hanja.test(_h)||this.regexp_nipon.test(_h)||this.regexp_greek.test(_h))){_h+=_f;_e++ ;_f=_c.charAt(_e);}this.append(_h,3);}continue;}}if(_h in this.punct){while(_e<_d){_f=_c.charAt(_e);if((_h+_f) in this.punct){_h+=_f;_e++ ;}else{break;}}if(_h.charAt(0)=='='){if(_h!='=='&&_h!='==='){if(_e>=_d){return -1;}}}this.append(_h,4);continue;}if(_h=='.'){this.append(_h,10);continue;}return -1;}};_pExprParser.makeSubExpr=function(_a,_b,_c){var _d="";var _e=this.output;var _f=_a.colinfos;var _g=_b;while(_g<_c){var _h=_e[_g];if(_g!=0&&_h.type==4){_d+=_h.tok;}else{if(_h.type==0&&_h.pos==0){var _i=_h.tok;if(_i=="currow"||_i=="rowidx"||_i=="comp"||_i=="dataset"||_i=="_records_"||_i=="_row_"||_i=="_args_"){_d+=_i;}else if(_i[0]=='$'){var _j= +(_i.substring(1,_i.length));if(_j>=0){_d+="(_args_["+_j+"])";}else{_d+=_i;}}else{if(_a.getColIndex){var _k=_a.getColIndex(_i);if(_k>=0){if(_g<(_c -1)&&_e[_g+1].type==7){var _l;if(_l<_c&&_l>(_g+2)){var _m=this.makeSubExpr(_a,_g+2,_l);if(_m!=null){if(_k>=_f.length){_d+="(dataset._constVars["+(_k-_f.length)+"].value)";}else{_d+="(dataset.__getParsedRow(_records_["+_m+"])["+_k+"])";}_g=_l;}else{return null;}}else{return null;}}else{if(_k>=_f.length){_d+="(dataset._constVars["+(_k-_f.length)+"].value)";}else{_d+="(_row_["+_k+"])";}}}else if(_i=="new"){_d+=_i+" ";}else{_d+=_i;}}else if(_i=="new"){_d+=_i+" ";}else{_d+=_i;}}}else if(_h.type==1){var _i=_h.tok;if(_i=="TEXT"){_d+="nexacro._getStringResourceValue";}else{_d+=_i;}}else{_d+=_h.tok;}}_g++ ;}return _d;};_pExprParser.makeExpr=function(_a,_b){this.tokenizeExpr(_b);var _c=this.makeSubExpr(_a,0,this.output.length);return _c;};_pExprParser.makeSubEval=function(_a,_b,_c){var _d="";var _e=this.output;var _f=_b;_c=_c>_e.length?_e.length:_c;while(_f<_c){var _g=_e[_f];if(_f!=0&&_g.type==4){_d+=' ';_d+=_g.tok;_d+=' ';}else{var _h;if(_g.type==0&&_g.pos==0){_h=_g.tok;if(_h!="var"){_d+=_h;}}else if(_g.type==1&&_g.pos==0){_h=_g.tok;_d+=_h;}else{_d+=_g.tok;}}_f++ ;}return _d;};_pExprParser.makeEval=function(_a,_b){this.tokenizeExpr(_b);var _c=this.makeSubEval(_a,0,this.output.length);return _c;};_pExprParser._transferWhitespace=function(_a){var _b;var _c;if(Object.keys){_b=Object.keys(this.whitespace);_c=Object.keys(this._replace_whitespace);}else{_b=[];for(var _f in this.whitespace){_b.push(_f);}_c=[];for(var _f in this._replace_whitespace){_c.push(_f);}}var _d;var _e="";for(var _g=0;_g<_a.length;_g++ ){_d=_a.charAt(_g);for(var _h=0;_h<_b.length;_h++ ){if(_d==_b[_h]){_e+=_c[_h];break;}}_e+=_d;}return _e;};delete _pExprParser;nexacro.Variable=function(_a,_b,_c,_d,_e,_f){this.id=_a;this.value=_b;this.type=_c;this.ntype=_d;this.size=_e;this._index=_f;};var _pVariable=nexacro._createPrototype(nexacro.Object,nexacro.Variable);nexacro.Variable.prototype=_pVariable;_pVariable._type_name="Variable";_pVariable.id=null;_pVariable.type=null;_pVariable.ntype=0;_pVariable.size=null;_pVariable._index=-1;nexacro.VariableList=function(){nexacro.Collection.call(this);};var _pVariableList=nexacro._createPrototype(nexacro.Collection,nexacro.VariableList);nexacro.VariableList.prototype=_pVariableList;_pVariableList._type_name="VariableList";_pVariableList._updateID=function(_a,_b){var _c=this[_a];if(_c&&_c.id!=_b){_c.set_id(_b);return this.update_id(_a,_b);}return false;};_pVariableList.deleteItem=function(_a){return this.delete_item(_a);};_pVariableList.getValue=function(_a){var _b=this.get_item(_a);return _b?_b.value:undefined;};delete _pVariableList;nexacro.ConstColumnVariable=function(_a,_b,_c,_d,_e,_f,_g){this.id=_a;this.value=_b;this.type=_c;this.ntype=_d;this.size=_e;this.datapath=_f;this._index=_g;};var _pConstColumnVariable=nexacro._createPrototype(nexacro.Variable,nexacro.Variable);nexacro.ConstColumnVariable.prototype=_pVariable;_pConstColumnVariable._type_name="Variable";_pConstColumnVariable.id=null;_pConstColumnVariable.type=null;_pConstColumnVariable.ntype=0;_pConstColumnVariable.size=null;_pConstColumnVariable.datapath=null;_pConstColumnVariable._index=-1;delete _pConstColumnVariable;nexacro.DSColumnInfo=function(_a,_b,_c,_d,_e,_f,_g,_h){this.id=_a;this._p_name=_a;this._p_type=_b;this._p_size=_d;this._p_prop=_e;this._p_sumtext=_f;this._p_datapath=_g;this.ntype=_c;this._index=_h;this._on_apply_columntype();};var _pDSColumnInfo=nexacro._createPrototype(nexacro.Object,nexacro.DSColumnInfo);nexacro.DSColumnInfo.prototype=_pDSColumnInfo;_pDSColumnInfo._type_name="DSColumnInfo";_pDSColumnInfo.set_name=nexacro._emptyFn;_pDSColumnInfo.set_size=function(_a){_a= +_a;if(isFinite(_a)&&this._p_size!=_a){this._p_size=_a|0;}};_pDSColumnInfo.set_type=function(_a){if(this._p_type!=_a){_a=nexacro._toString(_a);var _b=_a.toLowerCase();if(nexacro.DataUtils._typeenums.indexOf(_b)==-1){return;}this._p_type=_a;this.ntype=nexacro.DataUtils._typeint[_b];this._on_apply_columntype();}};_pDSColumnInfo.set_prop=function(_a){_a=nexacro._toString(_a);if(this._p_prop!=_a){this._p_prop=_a;}};_pDSColumnInfo.set_sumtext=function(_a){_a=nexacro._toString(_a);if(this._p_sumtext!=_a){this._p_sumtext=_a;}};_pDSColumnInfo.set_datapath=function(_a){_a=nexacro._toString(_a);if(this._p_datapath!=_a){this._p_datapath=_a;this.on_apply_datapath();}};_pDSColumnInfo.on_apply_datapath=function(){this._value=undefined;};_pDSColumnInfo._on_apply_columntype=function(){var _a=this.ntype;switch(_a){case 1:this._toText=nexacro.DataUtils.toTextFromString;this._fromText=nexacro.DataUtils.toStringFromText;this._fromVal=nexacro.DataUtils.toString;this._toXMLText=nexacro.DataUtils.toXMLTextFromString;this._fromXMLText=nexacro.DataUtils.toStringFromXMLText;break;case 2:this._toText=nexacro.DataUtils.toTextFromInt;this._fromText=nexacro.DataUtils.toIntFromText;this._fromVal=nexacro.DataUtils.toInt;this._toXMLText=nexacro.DataUtils.toTextFromInt;this._fromXMLText=nexacro.DataUtils.toIntFromText;break;case 3:this._toText=nexacro.DataUtils.toTextFromFloat;this._fromText=nexacro.DataUtils.toFloatFromText;this._fromVal=nexacro.DataUtils.toFloat;this._toXMLText=nexacro.DataUtils.toTextFromFloat;this._fromXMLText=nexacro.DataUtils.toFloatFromText;break;case 4:this._toText=nexacro.DataUtils.toTextFromDecimal;this._fromText=nexacro.DataUtils.toDecimalFromText;this._fromVal=nexacro.DataUtils.toDecimal;this._toXMLText=nexacro.DataUtils.toTextFromDecimal;this._fromXMLText=nexacro.DataUtils.toDecimalFromText;break;case 5:this._toText=nexacro.DataUtils.toTextFromDate;this._fromText=nexacro.DataUtils.toDateFromText;this._fromVal=nexacro.DataUtils.toDate;this._toXMLText=nexacro.DataUtils.toTextFromDate;this._fromXMLText=nexacro.DataUtils.toDateFromText;break;case 6:this._toText=nexacro.DataUtils.toTextFromTime;this._fromText=nexacro.DataUtils.toTimeFromText;this._fromVal=nexacro.DataUtils.toTime;this._toXMLText=nexacro.DataUtils.toTextFromTime;this._fromXMLText=nexacro.DataUtils.toTimeFromText;break;case 7:this._toText=nexacro.DataUtils.toTextFromDateTime;this._fromText=nexacro.DataUtils.toDateTimeFromText;this._fromVal=nexacro.DataUtils.toDateTime;this._toXMLText=nexacro.DataUtils.toTextFromDateTime;this._fromXMLText=nexacro.DataUtils.toDateTimeFromText;break;case 8:this._toText=nexacro.DataUtils.toTextFromBlob;this._fromText=nexacro.DataUtils.toBlobFromText;this._fromVal=nexacro.DataUtils.toBlob;this._toXMLText=nexacro.DataUtils.toTextFromBlob;this._fromXMLText=nexacro.DataUtils.toBlobFromText;break;default:this._toText=nexacro.DataUtils.toTextFromVariant;this._fromText=nexacro.DataUtils.toVariantFromText;this._fromVal=nexacro.DataUtils.toVariant;this._toXMLText=nexacro.DataUtils.toXMLTextFromVariant;this._fromXMLText=nexacro.DataUtils.toVariantFromXMLText;break;}};_pDSColumnInfo._properties=[{name:"name"},{name:"size"},{name:"type"},{name:"prop"},{name:"sumtext"},{name:"datapath"}];nexacro._defineProperties(_pDSColumnInfo,_pDSColumnInfo._properties);delete _pDSColumnInfo;nexacro.DSColumnInfoList=function(){nexacro.Collection.apply(this);};var _pDSColumnInfoList=nexacro._createPrototype(nexacro.Collection,nexacro.DSColumnInfoList);nexacro.DSColumnInfoList.prototype=_pDSColumnInfoList;_pDSColumnInfoList._type_name="DSColumnInfoList";_pDSColumnInfoList._updateID=function(_a,_b){var _c=this[_a];if(_c&&_c.id!=_b){_c.set_id(_b);return this.update_id(_a,_b);}return false;};_pDSColumnInfoList.deleteItem=function(_a){return this.delete_item(_a);};delete _pDSColumnInfoList;nexacro.DSColChangeEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h){this.id=this.eventid=_b||"oncolumnchanged";this.fromobject=this.fromreferenceobject=_a;this.row=_c;this.col=_d;this.colidx=_e;this.columnid=_f;this.oldvalue=_g;this.newvalue=_h;};var _pDSColChangeEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.DSColChangeEventInfo);nexacro.DSColChangeEventInfo.prototype=_pDSColChangeEventInfo;_pDSColChangeEventInfo._type_name="DSColChangeEventInfo";_pDSColChangeEventInfo.set_newvalue=function(_a){if(this.newvalue!=_a){this.newvalue=_a;}};delete _pDSColChangeEventInfo;nexacro.DSLoadEventInfo=function(_a,_b,_c,_d,_e,_f){this.id=this.eventid=_b||"onload";this.fromobject=this.fromreferenceobject=_a;this.errorcode=_c;this.errormsg=_d;this.reason=_e;this.progressload=(_f===true)?true:false;};var _pDSLoadEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.DSLoadEventInfo);nexacro.DSLoadEventInfo.prototype=_pDSLoadEventInfo;_pDSLoadEventInfo._type_name="DSLoadEventInfo";delete _pDSLoadEventInfo;nexacro.DSRowPosChangeEventInfo=function(_a,_b,_c,_d,_e){this.id=this.eventid=_b||"onrowposchanged";this.fromobject=this.fromreferenceobject=_a;this.newrow=_d;this.oldrow=_c;this.reason=_e;};var _pDSRowPosChangeEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.DSRowPosChangeEventInfo);nexacro.DSRowPosChangeEventInfo.prototype=_pDSRowPosChangeEventInfo;_pDSRowPosChangeEventInfo._type_name="DSRowPosChangeEventInfo";delete _pDSRowPosChangeEventInfo;nexacro.DSRowsetChangeEventInfo=function(_a,_b,_c,_d,_e){this.id=this.eventid=_b||"onrowsetchanged";this.fromobject=this.fromreferenceobject=_a;this.row=_c;this.count=_d;this.reason=_e;};var _pDSRowsetChangeEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.DSRowsetChangeEventInfo);nexacro.DSRowsetChangeEventInfo.prototype=_pDSRowsetChangeEventInfo;_pDSRowsetChangeEventInfo._type_name="DSRowsetChangeEventInfo";delete _pDSRowsetChangeEventInfo;nexacro.Dataset=function(_a,_b){nexacro._EventSinkObject.call(this,_a,_b);this._p_colinfos=new nexacro.DSColumnInfoList();this._constVars=new nexacro.VariableList();this._rawRecords=[];this._viewRecords=this._rawRecords;this._deletedRecords=[];this._keycols=[];this._keycols.max_keylevel=0;this._exprFuncs={};this._dirtylist=[];this._initDatasetRuleFuncs(nexacro._getDatatypeRule());};var _pDataset=nexacro._createPrototype(nexacro._EventSinkObject,nexacro.Dataset);nexacro.Dataset.prototype=_pDataset;_pDataset._type_name="Dataset";_pDataset._isData=true;_pDataset.loadstatus=false;_pDataset.firefirstcount=0;_pDataset.firenextcount=0;_pDataset.lazyParsing=true;_pDataset._p_colcount=0;_pDataset._p_constcount=0;_pDataset._p_colinfos=null;_pDataset._p_rowcount=0;_pDataset._p_arguments="";_pDataset._p_rowposition=-1;_pDataset._p_enableevent=true;_pDataset._p_updatecontrol=true;_pDataset._p_keystring="";_pDataset._p_collation=undefined;_pDataset._p_filterstr="";_pDataset._p_loadkeymode="keep";_pDataset._p_loadfiltermode="keep";_pDataset._p_reversesubsum=false;_pDataset._p_useclientlayout=false;_pDataset._p_savenan=undefined;_pDataset._p_saveinfinity=undefined;_pDataset._p_saveinvaliddate=undefined;_pDataset._p_binddataobject=null;_pDataset._p_dataobjectpath=undefined;_pDataset._p_dataobjectbindmode=undefined;_pDataset._event_list={"onload":1,"cancolumnchange":1,"oncolumnchanged":1,"onvaluechanged":1,"canrowposchange":1,"onrowposchanged":1,"onrowsetchanged":1,"onworkcompleted":1};_pDataset._defaultKeyStr="";_pDataset._defaultFilterStr="";_pDataset._eventstat=true;_pDataset._is_reftype=false;_pDataset._dataType="";_pDataset._colInfoLines=null;_pDataset._cachedConvertFn=null;nexacro.Dataset.LOADMODE_KEEP=0;nexacro.Dataset.LOADMODE_RESET=1;nexacro.Dataset._LOADMODE_ENUM={"keep":0,"reset":1};_pDataset._isDataset=function(){return true;};_pDataset.destroy=function(){if(!this._is_reftype){if(this.colinfos){this.colinfos.clear();}if(this._constVars){this._constVars.clear();}}if(this._viewRecords!=this._rawRecords){this._viewRecords.length=0;}if(this._rawRecords&&this._rawRecords.length){this._clearRecordData(this._rawRecords);}if(this._deletedRecords&&this._deletedRecords.length){this._clearRecordData(this._deletedRecords);}if(this._keycols){this._keycols.length=0;}this._clearAllExprs();this._p_rowcount=0;this.on_fire_sys_onload(0,"",91);this._viewRecords=null;this._rawRecords=null;this._deletedRecords=null;this._event_list=null;this._exprFuncs=null;this._filterFn=null;this.__loadConvertFn=null;this.__lazyParseRecordFn=null;this._keycols=null;this._p_colinfos=null;this._constVars=null;this._is_created=null;this._binddataobject=null;if(this._keycol_levels){this._keycol_levels.length=null;this._keycol_levels=null;}if(this.parent){this.parent.removeChild(this.id);}this.parent=null;nexacro._EventSinkObject.prototype.destroy.call(this);};_pDataset.set_arguments=function(_a){};_pDataset.set_binddataobject=function(_a){};_pDataset.set_enableevent=function(_a){_a=nexacro._toBoolean(_a);if(this._p_enableevent!=_a){this._p_enableevent=_a;this._eventstat=(_a&&!this.loadstatus);if(_a){this.on_fire_onrowsetchanged(-1,-1,41);if(this.onvaluechanged&&this.onvaluechanged._has_handlers){var _b=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",this._p_rowposition,-1,-1,"",undefined,undefined);this.on_fire_onvaluechanged(_b);}}}};_pDataset.set_updatecontrol=function(_a){this._p_updatecontrol=nexacro._toBoolean(_a);};_pDataset.set_rowposition=function(_a){_a= +_a;if(isFinite(_a)){this._setRowPosition(_a,51);}return this._p_rowposition;};_pDataset.set_keystring=function(_a){_a=nexacro._toString(_a);this._p_keystring=_a;this.on_apply_keystring();return this._p_keystring;};_pDataset.on_apply_keystring=function(){this.updateSortGroup(this._p_keystring,true);};_pDataset.set_filterstr=function(_a){var _b=nexacro._toString(_a);if(_b!=this._p_filterstr){this.filter(_b);}return this._p_filterstr;};_pDataset.set_loadkeymode=function(_a){_a=nexacro._toString(_a).toLowerCase();if(this._p_loadkeymode!=_a){this._p_loadkeymode=_a;}};_pDataset.set_loadfiltermode=function(_a){_a=nexacro._toString(_a).toLowerCase();if(this._p_loadfiltermode!=_a){this._p_loadfiltermode=_a;}};_pDataset.set_reversesubsum=function(_a){_a=nexacro._toBoolean(_a);if(this._p_reversesubsum!=_a){this._p_reversesubsum=_a;this.on_apply_reversesubsum();}};_pDataset.on_apply_reversesubsum=function(){if(this._p_keystring){this.updateSortGroup(this._p_keystring);}};_pDataset.set_useclientlayout=function(_a){_a=nexacro._toBoolean(_a);this._p_useclientlayout=_a;};_pDataset.set_savenan=function(_a){if(!_a){return;}var _b=["exclude","include"];_a=_a.toString().toLowerCase();if(_b.indexOf(_a)>=0){this._p_savenan=_a;}};_pDataset.set_saveinfinity=function(_a){if(!_a){return;}var _b=["exclude","include"];_a=_a.toString().toLowerCase();if(_b.indexOf(_a)>=0){this._p_saveinfinity=_a;}};_pDataset.set_saveinvaliddate=function(_a){if(!_a){return;}var _b=["exclude","include"];_a=_a.toString().toLowerCase();if(_b.indexOf(_a)>=0){this._p_saveinvaliddate=_a;}};_pDataset.getSaveNan=function(_a){_a=this._p_savenan;var _b=nexacro.getEnvironment();return _a?_a:_b.datasetsavenan;};_pDataset.getSaveInfinity=function(_a){_a=this._p_saveinfinity;var _b=nexacro.getEnvironment();return _a?_a:_b.datasetsaveinfinity;};_pDataset.getSaveInvalidDate=function(_a){_a=this._p_saveinvaliddate;var _b=nexacro.getEnvironment();return _a?_a:_b.datasetsaveinvaliddate;};_pDataset.set_collation=function(_a){var _b=["none","systemlanguage","currentlocale"];if(_b.indexOf(_a)==-1&&(_a&&(_a.indexOf("_")==-1&&_a.indexOf("-")==-1))){return;}if(this._p_collation!=_a){this._p_collation=_a;this.on_apply_collation();}};_pDataset.on_apply_collation=function(_a){this.updateSortGroup(this._p_keystring,true);};_pDataset._properties=[{name:"dataobjectbindmode"},{name:"dataobjectpath"},{name:"enableevent"},{name:"updatecontrol"},{name:"rowposition"},{name:"keystring"},{name:"filterstr"},{name:"loadkeymode"},{name:"loadfiltermode"},{name:"reversesubsum"},{name:"useclientlayout"},{name:"savenan"},{name:"saveinfinity"},{name:"saveinvaliddate"},{name:"collation"},{name:"colinfos",readonly:true},{name:"colcount",readonly:true},{name:"constcount",readonly:true},{name:"rowcount",readonly:true}];nexacro._defineProperties(_pDataset,_pDataset._properties);_pDataset.on_fire_onload=function(_a,_b,_c,_d){if(_a>=0){_a=0;_b="SUCCESS";}var _e=this.onload;if(_e&&_e._has_handlers){var _f=new nexacro.DSLoadEventInfo(this,"onload",_a,_b,_c,_d);_e._fireEvent(this,_f);}};_pDataset.on_fire_sys_onload=function(_a,_b,_c,_d){var _e=this.onload;if(_e&&_e._has_handlers){var _f=new nexacro.DSLoadEventInfo(this,"onload",_a,_b,_c,_d);_e._fireSysEvent(this,_f);}};_pDataset.on_fire_onrowsetchanged=function(_a,_b,_c){var _d=this.onrowsetchanged;if(_d&&_d._has_handlers){var _e=new nexacro.DSRowsetChangeEventInfo(this,"onrowsetchanged",_a,_b,_c);_d._fireEvent(this,_e);}};_pDataset.on_fire_canrowposchange=function(_a){var _b=this.canrowposchange;if(_b&&_b._has_handlers){_a.eventid="canrowposchange";var _c=_b._fireCheckEvent(this,_a);if(_c===undefined){_c=true;}_c=nexacro._toBoolean(_c);if(_c){this._p_rowposition=_a.newrow;}return _c;}return true;};_pDataset.on_fire_onrowposchanged=function(_a){var _b=this.onrowposchanged;if(_b&&_b._has_handlers){_a.eventid="onrowposchanged";_b._fireEvent(this,_a);}};_pDataset.on_fire_cancolumnchange=function(_a){var _b=this.cancolumnchange;if(_b&&_b._has_handlers){if(!_b._firestat){_a.eventid="cancolumnchange";_b._firestat=true;var _c=_b._fireCheckEvent(this,_a);_b._firestat=false;return (_c==undefined)?true:_c;}else if(_b._firestat){return false;}else{return false;}}return true;};_pDataset.on_fire_oncolumnchanged=function(_a){var _b=this.oncolumnchanged;if(_b&&_b._has_handlers){if(!_b._firestat){_b._firestat=true;_a.eventid="oncolumnchanged";_b._fireEvent(this,_a);_b._firestat=false;}else{_a.eventid="oncolumnchanged";_b._fireSysEvent(this,_a);}}};_pDataset.on_fire_onvaluechanged=function(_a){var _b=this.onvaluechanged;if(_b&&_b._has_handlers){_a.eventid="onvaluechanged";_b._fireEvent(this,_a);}};_pDataset.clear=function(){var _a=this._p_rowposition;var _b=this._p_rowcount;this._clearAll();if(this._eventstat){this.on_fire_onrowsetchanged(-1,-1,24);if(_a>=0&&_a==this._p_rowposition){this._forcesetRowPosition(-1,51);}}else{this._p_rowposition=-1;}return _b;};_pDataset.getColCount=function(){return this._p_colcount;};_pDataset.getConstCount=function(){return this._constVars.length;};_pDataset.getRowCount=function(){return this._viewRecords.length;};_pDataset.getRowCountNF=function(){return this._rawRecords.length;};_pDataset.getDeletedRowCount=function(){return this._deletedRecords.length;};_pDataset.getDeletedRowset=function(){return this._deletedRecords;};_pDataset.setContents=function(_a){return this._setContents(_a);};_pDataset._setLayout=function(_a){this._p_colinfos=_a.colinfos;this._constVars=_a._constVars;};_pDataset._setRawData=function(_a,_b){this._rawRecords=_a;this._viewRecords=this._rawRecords;this._deletedRecords=_b;};_pDataset._createExprFunc=function(_a){var _b=new nexacro.ExprParser();var _c=_b.makeExpr(this,_a);if(_c==null){return nexacro._NullFn;}var _d=nexacro._createInlineFunc(_c,["currow","rowidx","comp","dataset","_records_","_row_","_args_"]);return _d;};_pDataset._getColumnSize=function(_a){var _b=( +_a);var _c,_d;if(_b!=_b){_c=this.colinfos[_a];if(_c){return _c.size;}_d=this._constVars[_a];if(_d){return _d.size;}if(typeof (_a)=="string"){return undefined;}_c=this.colinfos[0];if(_c){return _c.size;}}else{if(_b>=0&&_b<this.colinfos.length){return this.colinfos[_b].size;}if(_b>=0&&_b<=this._p_colcount){return this._constVars[_b-this.colinfos.length].size;}else{_c=this.colinfos[_a];if(_c){return _c.size;}_d=this._constVars[_a];if(_d){return _d.size;}}}return undefined;};_pDataset._getColumnType=function(_a){var _b=( +_a);var _c,_d;if(_b!=_b){_c=this.colinfos[_a];if(_c){return _c.ntype;}_d=this._constVars[_a];if(_d){return _d.ntype;}if(typeof (_a)=="string"){return undefined;}_c=this.colinfos[0];if(_c){return _c.ntype;}}else{if(_b>=0&&_b<this.colinfos.length){return this.colinfos[_b].ntype;}if(_b>=0&&_b<=this._p_colcount){return this._constVars[_b-this.colinfos.length].ntype;}else{_c=this.colinfos[_a];if(_c){return _c.ntype;}_d=this._constVars[_a];if(_d){return _d.ntype;}}}return undefined;};_pDataset._isConstColumn=function(_a){var _b=( +_a);if(_b!=_b){return (this._constVars[_a])?true:false;}else{var _c=_b-this.colinfos.length;return (_c>=0&&_c<this._constVars.length)?true:false;}};_pDataset._addConstColumn=function(_a,_b,_c,_d,_e){if(_a in this.colinfos){return -1;}var _f;if(_c){_f=nexacro.DataUtils._typeint[nexacro._toString(_c).toLowerCase()];}else{_c=(typeof _b);if(_c=="number"){_f=2;}else{_f=nexacro.DataUtils._typecodes[_c];}}if(_f==null){_c="variant";_f=9;}var _g=this._constVars[_a];if(_g){if(_b!=_g.value){_g.value=nexacro.DataUtils.convert(_b,_f);return this._constVars.indexOf(_a);}else{return -1;}}this._p_constcount++ ;this._p_colcount++ ;return this._constVars.add(_a,new nexacro.ConstColumnVariable(_a,_b,_c,_f,_d,_e,this._constVars.length));};_pDataset.addConstColumn=function(_a,_b,_c,_d,_e){var _f=this._addConstColumn(_a,_b,_c,_d,_e);if(_f>=0&&this._eventstat){this.on_fire_onrowsetchanged(-1,-1,34);}return _f;};_pDataset._addColumn=function(_a,_b,_c,_d,_e,_f){if((_a in this.colinfos)||(_a in this._constVars)){return -1;}_c=_c|0;var _g=undefined;if(_b){_g=nexacro.DataUtils._typeint[nexacro._toString(_b).toLowerCase()];}if(_g==null){_g=1;_b="STRING";}if(_c==0){_c=nexacro.DataUtils._default_sizes[_g];}var _h=this.colinfos.length;var _i=new nexacro.DSColumnInfo(_a,_b,_g,_c,_d,_e,_f,_h);this._p_colcount++ ;return this.colinfos.add(_a,_i);};_pDataset.addColumn=function(_a,_b,_c,_d){var _e=this._addColumn(_a,_b,_c,undefined,undefined,_d);if(_e>=0){this._clearAllExprs();if(this._eventstat){this.on_fire_onrowsetchanged(-1,-1,34);}}return _e;};_pDataset._addColumnInfo=function(_a,_b){if((_a in this.colinfos)||(_a in this._constVars)){return -1;}var _c=new nexacro.DSColumnInfo(_a,_b.type,_b.ntype,_b.size,_b.prop,_b.sumtext,_b.datapath,this.colinfos.length);this._p_colcount++ ;return this.colinfos.add(_a,_c);};_pDataset.addColumnInfo=function(_a,_b){var _c=this._addColumnInfo(_a,_b);if(_c>=0){this._clearAllExprs();if(this._eventstat){this.on_fire_onrowsetchanged(-1,-1,34);}}return _c;};_pDataset._appendColList=function(_a){if(_a._type_name=="DSColumnInfoList"){var _b=0;function __appendColList_loopFn(_c){var _d=_a[_c];var _e=_d.id;if((_e in this.colinfos)||(_e in this._constVars)){return;}var _f=new nexacro.DSColumnInfo(_e,_d.type,_d.ntype,_d.size,_d.prop,_d.sumtext,_d.datapath,this.colinfos.length);this.colinfos.add(_e,_f);_b++ ;}nexacro.__forLoop(this,0,_a.length,__appendColList_loopFn);if(_b>0){this._p_colcount+=_b;}return _b;}return 0;};_pDataset.appendColList=function(_a){var _b=this._appendColList(_a);if(_b>0){this._clearAllExprs();if(this._eventstat){this.on_fire_onrowsetchanged(-1,-1,34);}}return _b;};_pDataset._deleteColumn_Row=function(_a,_b){var _c=_b.length;function __deleteColumm_Row_loopFn(_d){var _e=this.__getParsedRow(_b[_d]);if(_e){_e.splice(_a,1);if(_e._orgrow){_e._orgrow.splice(_a,1);}}}nexacro.__forLoop(this,0,_c,__deleteColumm_Row_loopFn);};_pDataset._deleteColumn=function(_a){if(this._p_updatecontrol){return false;}var _b=this.getColIndex(_a);if(_b<0){return false;}var _c=this.colinfos;if(_b>=_c.length){var _d=this._constVars;_b=_b-_c.length;if(_d.delete_item(_b)>=0){function __adjustConstIdx_loopFn(_g){_d[_g]._index=_g;}nexacro.__forLoop(this,_b,_d.length,__adjustConstIdx_loopFn);this._p_constcount-- ;this._p_colcount-- ;}}else{var _e=this._viewRecords;var _f=this._rawRecords;if(_f==_e){this._deleteColumn_Row(_b,_f);}else{this._deleteColumn_Row(_b,_e);this._deleteColumn_Row(_b,_f);}if(_c.delete_item(_b)>=0){function __adjustColIdx_loopFn(_g){_c[_g]._index=_g;}nexacro.__forLoop(this,_b,_c.length,__adjustColIdx_loopFn);this._p_colcount-- ;}}return true;};_pDataset.deleteColumn=function(_a){var _b=this._deleteColumn(_a);if(_b){this._clearAllExprs();if(this.colinfos.length==0){this._clearData();}var _c=this._constVars.length+this.colinfos.length;var _d=this._p_rowposition;if(this._eventstat){this.on_fire_onrowsetchanged(-1,-1,34);if(_c==0&&_d>=0){this._forcesetRowPosition(-1,51);}}else if(_c==0&&_d>=0){this._p_rowposition=-1;}}return _b;};_pDataset.getColID=function(_a){_a=_a|0;var _b=this.colinfos;if(_a>=_b.length){return this._constVars.get_id(_a-_b.length);}else{return _b.get_id(_a);}};_pDataset.getColIndex=function(_a){var _b=this.colinfos;var _c=this._constVars;var _d=_b.length;var _e=_c.length;if(_d<=0&&_e<=0){return -1;}var _f=_b[_a];if(_f){return _f._index;}var _g=( +_a);if(_g!=_a){var _h=_c.indexOf(_a);return _h>=0?_h+_d:-1;}return (_g>=0&&_g<_e+_d)?_g:-1;};_pDataset.getConstColID=function(_a){_a=_a|0;return this._constVars.get_id(_a);};_pDataset.getConstColIndex=function(_a){var _b=this._constVars[_a];return (_b)?_b._index:-1;};_pDataset.getColumnInfo=function(_a){if(this.colinfos[_a]){return this.colinfos[_a];}var _b= +(_a);if(_b!=_a){if(typeof (_a)=="string"){return undefined;}return this.colinfos[0];}return undefined;};_pDataset.updateColID=function(_a,_b){var _c=this.colinfos;var _d=this._constVars;var _e;var _f;_a=this.getColIndex(_a);if(_a<0){return -1;}else if(_a<_c.length){_e=_c._updateID(_a,_b);if(_e){this._clearAllExprs();if(this._eventstat){this.on_fire_onrowsetchanged(-1,-1,34);_f=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",this._p_rowposition,-1,-1,"",undefined,undefined);this.on_fire_onvaluechanged(_f);}return _a;}}else{_e=_d._updateID(_a-_c.length,_b);if(_e){this._clearAllExprs();if(this._eventstat){this.on_fire_onrowsetchanged(-1,-1,34);_f=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",this._p_rowposition,-1,-1,"",undefined,undefined);this.on_fire_onvaluechanged(_f);}return _a;}}return -1;};_pDataset.updateConstColID=function(_a,_b){var _c=this._constVars;var _d=_c[_a];if(_d){var _e=_c._updateID(_d._index,_b);if(_e){if(this._eventstat){this.on_fire_onrowsetchanged(-1,-1,34);var _f=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",this._p_rowposition,-1,-1,"",undefined,undefined);this.on_fire_onvaluechanged(_f);}return _d._index;}}return -1;};_pDataset._copyRowData=function(_a,_b){var _c=this.colinfos;function __copyRowData_loopFn(_e){_a[_e]=_b[_e];}var _d=_b.length<_c.length?_b.length:_c.length;if(_d>0){nexacro.__forLoop(this,0,_d,__copyRowData_loopFn);if(_d!=_a.length){_a.splice(_d,_a.length);}}else{_a.splice(0,_a.length);}};_pDataset._copyConvRowData=function(_a,_b){var _c=this.colinfos;function __copyConvRowData_loopFn(_e){var _f=_c[_e]._fromVal(_b[_e]);_a[_e]=_f;}var _d=_b.length<_c.length?_b.length:_c.length;nexacro.__forLoop(this,0,_d,__copyConvRowData_loopFn);};_pDataset._copyTextData=function(_a,_b){var _c=this.colinfos;function __copyTextRowData_loopFn(_e){var _f=_c[_e]._fromText(_b[_e]);_a[_e]=_f;}var _d=_b.length<_c.length?_b.length:_c.length;nexacro.__forLoop(this,0,_d,__copyTextRowData_loopFn);};_pDataset.__getParsedRow=function(_a){if(_a&&_a._data){if(this.__lazyParseRecordFn===undefined||this.__lazyParseRecordFn===null){this.__loadConvertFn=this._cachedConvertFn;if(this._dataType=="CSV"){if(nexacro._Array2DataUtil.isTypedArray(_a._data)){this.__lazyParseRecordFn=this._lazyParseRecordFromCSVLine_with_Uint8Array;}else{this.__lazyParseRecordFn=this._lazyParseRecordFromCSVLine;}if(this.__loadConvertFn===null){this.__loadConvertFn=this._setColInfoFromCSVLine(this._colInfoLines,this._p_useclientlayout);}}else if(this._dataType=="SSV"){if(nexacro._Array2DataUtil.isTypedArray(_a._data)){this.__lazyParseRecordFn=this._lazyParseRecordFromSSVLine_with_Uint8Array;}else{this.__lazyParseRecordFn=this._lazyParseRecordFromSSVLine;}if(this.__loadConvertFn===null){this.__loadConvertFn=this._setColInfoFromSSVLines(this._colInfoLines,this._p_useclientlayout);}}else if(this._dataType=="BIN"){this.__lazyParseRecordFn=this._lazyParseRecordFromBINLine_with_Uint8Array;}}this.__lazyParseRecordFn(_a,this.__loadConvertFn);}return _a;};_pDataset._makeIndexMap=function(_a,_b){if(_a==null){return false;}if(_a._isDataset&&!_a._isDataset()){return false;}var _c=this.colinfos;var _d=_a.colinfos;var _e=[];var _f;var _g;if(_b!=null&&_b.length>0){var _h=_b.split(',');function __makeIndexMap_fromStr_loopFn(_i){var _j=_h[_i].split('=');if(_j.length>1){_f=_c.indexOf(_j[0].trim());_g=_d.indexOf(_j[1].trim());if(_f>=0&&_g>=0){_e[_e.length]={dest:_f,src:_g};}}else{var _k=_j[0].trim();_f=_c.indexOf(_k);_g=_d.indexOf(_k);if(_f>=0&&_g>=0){_e[_e.length]={dest:_f,src:_g};}}}nexacro.__forLoop(this,0,_h.length,__makeIndexMap_fromStr_loopFn);}else{function __makeIndexMap_fromCol_loopFn(_i){var _f=_c.indexOf(_d[_i].id);if(_f>=0){_e[_e.length]={dest:_f,src:_i};}}nexacro.__forLoop(this,0,_d.length,__makeIndexMap_fromCol_loopFn);}return (_e.length>0)?_e:null;};_pDataset._copyMappingRowData=function(_a,_b,_c){if(_c){var _d=this.colinfos;function __copyMappingRowData_loopFn(_e){var _f=_c[_e];var _g=_f.dest;var _h=_d[_g]._fromVal(_b[_f.src]);_a[_g]=_h;}nexacro.__forLoop(this,0,_c.length,__copyMappingRowData_loopFn);}};_pDataset._copyMappingRowDataRowType=function(_a,_b,_c,_d){if(_c){var _e=this.colinfos;var _f=1;if(this._p_updatecontrol){_f=_a._rtype;if(_a._rtype==1){var _g=[];this._copyRowData(_g,_a);_a._orgrow=_g;_f=4;}}function __copyMappingRowData_loopFn(_i){var _j=_c[_i];var _k=_j.dest;var _l=_e[_k]._fromVal(_b[_j.src]);_a[_k]=_l;}nexacro.__forLoop(this,0,_c.length,__copyMappingRowData_loopFn);if(this._p_updatecontrol){if(_a._rtype==4){if(_a._orgrow){var _h=this._isEqualRow(_a._orgrow,_a,-1);if(_h){_a._orgrow.length=0;delete _a._orgrow;_f=1;}}}}_a._rtype=_f;if(_d>=0){this._updateGroupRowData(_d);}}};_pDataset._adjustRawIdx=function(_a,_b){var _c=this._rawRecords;if(_a>=0&&_b>_a){function __adjustRawIdx_loopFn(_d){_c[_d]._rawidx=_d;}_b=_b>_c.length?_c.length:_b;nexacro.__forLoop(this,_a,_b,__adjustRawIdx_loopFn);}};_pDataset._removeRawRow=function(_a){var _b=this._rawRecords;var _c=_a._rawidx;if(_c>=0){_b.splice(_c,1);this._adjustRawIdx(_c,_b.length);if(this._p_updatecontrol&&this._isTwowayDataobjectBindMode()){this._addDirtyindex(_c,"delete");}}};_pDataset._removeEmptyRawRows=function(){var _a=this._rawRecords;var _b=-1;function __removeEmptyRawRows_loopFn(_c){var _d=_a[_c];if(_d._rtype==0){_d.length=0;_a.splice(_c,1);_b=_c;}}nexacro.__reverseForLoop(this,_a.length-1,0,__removeEmptyRawRows_loopFn);if(_b>=0){this._adjustRawIdx(_b,_a.length);}};_pDataset._removeDeleteRawRows=function(){var _a=this._rawRecords;var _b=-1;function __removeDeleteRawRows_loopFn(_c){var _d=_a[_c];if(_d._rtype==8){_a.splice(_c,1);_b=_c;}}nexacro.__reverseForLoop(this,_a.length-1,0,__removeDeleteRawRows_loopFn);if(_b>=0){this._adjustRawIdx(_b,_a.length);}};_pDataset._clearRecordData=function(_a){function __clearRecordData_loopFn(_b){var _c=_a[_b];if(_c._orgrow){_c._orgrow.splice(0,_c._orgrow.length);_c._orgrow=null;}if(_c._data){_c._data=null;}if(_c._orgdata){_c._orgdata=null;}_c.splice(0,_c.length);_c.length=0;}nexacro.__forLoop(this,0,_a.length,__clearRecordData_loopFn);_a.splice(0,_a.length);_a.length=0;};_pDataset._initDatasetRuleFuncs=function(_a){var _b=nexacro._DatasetRuleFuncsSet[_a];if(!_b){return;}var _c=nexacro._DatasetRuleFuncsSet.list;var _d=_c.length;var _e,_f;for(var _g=0;_g<_d;_g++ ){_e=_c[_g];_f=_b[_e];if(_f){this[_e]=_f;}}};_pDataset._compareValue=function(_a,_b,_c,_d,_e,_f){if(_a!=null&&_b!=null){if(_c==4||_c<0){if((_a instanceof nexacro.Decimal)){if(_b instanceof nexacro.Decimal){return (_a.hi==_b.hi)?(_a.lo-_b.lo):(_a.hi-_b.hi);}else{var _g=( +_b);return (_a.hi==_g)?_a.lo:(_a.hi-_g);}}else if(_b instanceof nexacro.Decimal){var _h=( +_a);return (_b.hi==_h)? -_b.lo:(_h-_b.hi);}else if(_c==4){var _i=new nexacro.Decimal(_a);var _j=new nexacro.Decimal(_b);var _k=(_i.hi==_j.hi)?(_i.lo-_j.lo):(_i.hi-_j.hi);_i=null;_j=null;return _k;}return ( +_a== +_b)?0:( +_a> +_b?1:-1);}else if(_c>=5&&_c<=7){if(_a===""||_b===""){return _a>_b?1:-1;}return _a.date.valueOf()-_b.date.valueOf();}else if(_c>=2&&_c<=3){return ( +_a== +_b)?0:( +_a> +_b?1:-1);}else{var _l=this._p_collation;if(!_d&&(_l=="none"||!_l)&&!_f){return (_a==_b)?0:(_a>_b?1:-1);}else{if(!_d){if(_l=="currentlocale"){_d=this._getLocale().replace("_","-");}else if(_l=="systemlanguage"){;}else if(_l){_d=_l.replace("_","-");}}return nexacro._localeCompare(_a,_b,_d,_e);}}}else if(_a){if((_a instanceof nexacro.Decimal)&&_a.isZero()){return 0;}return 1;}else if(_b){if((_b instanceof nexacro.Decimal)&&_b.isZero()){return 0;}return -1;}else{return 0;}};_pDataset._isEqualValue=function(_a,_b,_c){if(_a===_b){return true;}if(_a&&_b){if(_c==4){if(_b instanceof nexacro.Decimal){return (_a.hi==_b.hi)&&(_a.lo==_b.lo);}else{return (_a.hi==( +_b)&&_a.lo==0);}}else if(_c>=5&&_c<=7){if(_b instanceof nexacro.Date){return ((_a.date?_a.date.valueOf():null)==_b.date.valueOf());}else{return (_a.date==_b);}}}return false;};_pDataset._isInvalidValue=function(_a,_b){return false;};_pDataset._isLikeValue=function(_a,_b){if(_a){_a=_a.toString();if(nexacro._isString(_b)){if(_b.length==0){return false;}if(_a.slice(0,_b.length)==_b){return true;}}}return false;};_pDataset._isEqualRow=function(_a,_b,_c,_d){var _e=this.colinfos;var _f=_e.length;function _isEqualRow_loop(_h){var _i=_e[_h].ntype;var _j=_a[_h];var _k=(_h==_c)?_d:_b[_h];if(_i==4&&_j&&_k){if((_j.hi!=_k.hi)||(_j.lo!=_k.lo)){return true;}return false;}else if(_i>=5&&_i<=7&&_j&&_k){if((_j.date?_j.date.valueOf():_j)!=(_k.date?_k.date.valueOf():_k)){return true;}}else if(_j!==_k){return true;}}var _g=nexacro.__forLoop(this,0,_f,_isEqualRow_loop);return (_g>=_f)?true:false;};_pDataset._clearAllExprs=function(){this._exprFuncs={};};_pDataset._clearAll=function(){var _a=this._p_rowcount;this.colinfos.clear();this._constVars.clear();if(this._viewRecords!=this._rawRecords){this._viewRecords.splice(0,this._viewRecords.length);this._viewRecords.length=0;}if(this._rawRecords.length){this._clearRecordData(this._rawRecords);this._rawRecords.length=0;}this._viewRecords=this._rawRecords;if(this._deletedRecords.length){this._clearRecordData(this._deletedRecords);this._deletedRecords.length=0;}this._p_colcount=0;this._p_constcount=0;this._p_rowcount=0;this._clearKeyCols();if(this._is_created){if(this._p_loadkeymode=="reset"){this._p_keystring=this._defaultKeyStr;}if(this._p_loadfiltermode=="reset"){this._p_filterstr=this._defaultFilterStr;}}this._filterFn=null;this.__loadConvertFn=null;this.__lazyParseRecordFn=null;this._clearAllExprs();return _a;};_pDataset.getRowType=function(_a){if(isNaN(_a= +_a)){_a=0;}var _b=this._viewRecords[_a];return _b?_b._rtype:0;};_pDataset.getRowTypeNF=function(_a){if(isNaN(_a= +_a)){_a=0;}var _b=this._rawRecords[_a];return _b?_b._rtype:0;};_pDataset.getRowLevel=function(_a){var _b=this._viewRecords[_a];return _b?_b._level:0;};_pDataset.getRowLevelNF=function(_a){var _b=this._rawRecords[_a];return _b?_b._level:0;};_pDataset.getGroupRangeStart=function(_a){_a=_a|0;if(_a<0||_a>=this._p_rowcount){return -1;}var _b=this._viewRecords[_a];return (_b._rtype==16)?_b._grpstart:_a;};_pDataset.getGroupRangeCount=function(_a){_a=_a|0;if(_a<0||_a>=this._p_rowcount){return 0;}var _b=this._viewRecords[_a];return (_b._rtype==16)?(_b._grpend-_b._grpstart):1;};_pDataset._setRowType=function(_a,_b){var _c=-1;switch(_b){case 0:case 1:case 2:case 4:case 8:case 16:_c=_b;break;default:switch(_b.toString()[0].toUpperCase()){case 'E':_c=0;break;case 'I':_c=2;break;case 'U':_c=4;break;case 'D':_c=8;break;case 'G':_c=16;break;default:_c=1;break;}break;}if(_a._rtype==_c){return false;}if(_a._rtype==4){if(_a._orgrow){_a._orgrow.length=0;delete _a._orgrow;}else if(_a._orgdata){_a._data=_a._orgdata;delete _a._orgdata;}}else{if(_c==4){_a=this.__getParsedRow(_a);var _d=[];this._copyRowData(_d,_a);_a._orgrow=_d;}}_a._rtype=_c;return true;};_pDataset.setRowType=function(_a,_b){_a=_a|0;if(_a<0||_a>=this._p_rowcount){return false;}if(_b==null||this._p_updatecontrol==true){return false;}var _c=this._viewRecords[_a];var _d=false;if(_c){_d=this._setRowType(_c,_b);}if(_d&&this._p_enableevent){this.on_fire_onrowsetchanged(_a,1,40);}return true;};_pDataset.setRowTypeNF=function(_a,_b){_a=_a|0;if(_a<0||_a>=this._rawRecords.length){return false;}if(_b==null||this._p_updatecontrol==true){return false;}var _c=this._rawRecords[_a];var _d=false;if(_c){_d=this._setRowType(_c,_b);}if(_d&&this._p_enableevent){var _e=this._viewRecords.indexOf(_c);this.on_fire_onrowsetchanged(_e,1,40);}return true;};_pDataset._appendRow=function(){var _a=this._rawRecords;var _b=this._viewRecords;var _c=_b.length;var _d=[];_d._rawidx=_a.length;_d._rtype=(this._p_updatecontrol?2:1);_d._level=0;if(_b!=_a){_b[_b.length]=_d;}var _e=_a.length;_a[_e]=_d;if(this._p_updatecontrol&&this._isTwowayDataobjectBindMode()){this._addDirtyindex(_d._rawidx,"add",_d);}this._p_rowcount=_b.length;return _c;};_pDataset.appendRow=function(){if(this.colinfos.length<=0){return -1;}var _a=this._appendRow();if(_a>=0){if(this._eventstat){var _b=this._p_rowposition;this.on_fire_onrowsetchanged(_a,1,this._is_data_updating?43:12);if(_b==this._p_rowposition){this._setRowPosition(_a,51);}}else{this._p_rowposition=_a;}if(this._p_updatecontrol==false&&this._isTwowayDataobjectBindMode()){if(this._binddataobject){this._binddataobject.addDataInPath(this.dataobjectpath,null,_a,this.id);}}}return _a;};_pDataset.addRow=_pDataset.appendRow;_pDataset._insertRow=function(_a){var _b=this._viewRecords;var _c=this._rawRecords;if(_a>=_b.length){return this._appendRow();}var _d=[];_d._rawidx=_a;_d._rtype=(this._p_updatecontrol?2:1);_d._level=0;var _e;if(this._p_updatecontrol){if(_b==_c){_b=this._viewRecords=_c.slice(0,_c.length);}_e=_b[_a]._rawidx;_b.splice(_a,0,_d);_c.splice(_e,0,_d);this._adjustRawIdx(_e,_c.length);if(this._isTwowayDataobjectBindMode()){this._addDirtyindex(_a,"insert",_d);}}else{if(_b==_c){_c.splice(_a,0,_d);this._adjustRawIdx(_a,_c.length);}else{_e=_b[_a]._rawidx;_b.splice(_a,0,_d);_c.splice(_e,0,_d);this._adjustRawIdx(_e,_c.length);}}this._p_rowcount=_b.length;return _a;};_pDataset.insertRow=function(_a){_a=_a|0;if(_a<0||this.colinfos.length<=0){return -1;}var _b=this._insertRow(_a);if(_b>=0){if(this._eventstat){var _c=this._p_rowposition;this.on_fire_onrowsetchanged(_b,1,this._is_data_updating?43:12);var _d=this._p_rowposition;if(_c==_d){if(_c==_b){this._setRowPosition(_b,53,true);}else{this._setRowPosition(_b,51,true);}}}else{this._p_rowposition=_b;}if(this._p_updatecontrol==false&&this._isTwowayDataobjectBindMode()&&this._binddataobject){var _e=this._rowToData(this._rawRecords[_b]);this._binddataobject.insertDataInPath(this.dataobjectpath,_e,_b,this.id);}}return _b;};_pDataset._deleteRow=function(_a){var _b=this._viewRecords;var _c=this._rawRecords;var _d=this._deletedRecords;var _e=_b[_a];if(this._p_updatecontrol){if(_e){if(_e._rtype==1){_e._rtype=8;_d[_d.length]=_e;this._removeRawRow(_e);}else if(_e._rtype==2||_e._rtype==16){_e._rtype=0;_e.length=0;this._removeRawRow(_e);}else if(_e._rtype==4){if(_e._orgrow){this._copyRowData(_e,_e._orgrow);_e._orgrow.length=0;delete _e._orgrow;}else if(_e._orgdata){_e._data=_e._orgdata;delete _e._orgdata;}_e._rtype=8;_d[_d.length]=_e;this._removeRawRow(_e);}else{return -1;}if(_b!=_c){_b.splice(_a,1);}}}else{if(_e){if(_e._rtype==4){if(_e._orgrow){_e._orgrow.length=0;delete _e._orgrow;}else if(_e._orgdata){_e._data=_e._orgdata=null;}_e._rtype=0;}if(_b==_c){_e.length=0;this._removeRawRow(_e);}else{_e.length=0;_b.splice(_a,1);this._removeRawRow(_e);}}}this._p_rowcount=_b.length;return _a;};_pDataset.deleteRow=function(_a){_a=_a|0;if(_a<0||_a>=this._p_rowcount){return false;}var _b=this._deleteRow(_a);var _c;var _d;if(_b>=0){if(this._eventstat){_c=this._p_rowposition;this.on_fire_onrowsetchanged(_b,1,this._is_data_updating?43:20);_d=this._p_rowposition;if(_c==_d){if(_d==_b){if(this._p_rowcount==0){this._forcesetRowPosition(-1,51);}else{if(_d==this._p_rowcount){this._forcesetRowPosition(this._p_rowcount-1,51);}else{this._setRowPosition(_d,53,true);}}}else if(_d>_b){this._setRowPosition(_d -1,52);}}}else{_d=this._p_rowposition;if(_d==_b){if(this._p_rowcount==0){this._p_rowposition=-1;}else{if(_d==this._p_rowcount){this._p_rowposition=this._p_rowcount-1;}}}else if(_d>_b){this._p_rowposition=_d -1;}}if(this._p_updatecontrol==false&&this._isTwowayDataobjectBindMode()&&this._binddataobject){this._binddataobject.deleteDataInPath(this._p_dataobjectpath,null,_b,this.id);}}return _b>=0?true:false;};_pDataset._deleteAll=function(){var _a=this._viewRecords;var _b=this._rawRecords;var _c=this._deletedRecords;var _d=0;if(this._p_updatecontrol){_c=this._deletedRecords;function __deleteAll_updatectrl_loopFn(_e){var _f=_a[_e];if(_f){_d++ ;if(_f._rtype==1){_f._rtype=8;_c[_c.length]=_f;}else if(_f._rtype==2){_f._rtype=0;}else if(_f._rtype==4){if(_f._orgrow){this._copyRowData(_f,_f._orgrow);_f._orgrow.length=0;delete _f._orgrow;}else if(_f._orgdata){_f._data=_f._orgdata;delete _f._orgdata;}_f._rtype=8;_c[_c.length]=_f;}else if(_f._rtype==16){_f._rtype=0;}}}nexacro.__forLoop(this,0,_a.length,__deleteAll_updatectrl_loopFn);if(this._isTwowayDataobjectBindMode()){for(var _e=0,_f=_b.length;_e<_f;_e++ ){this._addDirtyindex(0,"delete");}}_c.sort(function(_g,_h){return (_g._orgidx-_h._orgidx);});}else{function __deleteAll_direct_loopFn(_e){var _g=_a[_e];if(_g){_d++ ;if(_g._rtype==4){if(_g._orgrow){_g._orgrow.length=0;delete _g._orgrow;}else if(_g._orgdata){_g._data=_g._orgdata=null;}}_g._rtype=0;}}nexacro.__forLoop(this,0,_a.length,__deleteAll_direct_loopFn);}if(_d>0){this._removeEmptyRawRows();this._removeDeleteRawRows();}if(_a!=_b){_a.length=0;}this._p_rowcount=0;return _d;};_pDataset.deleteAll=function(){var _a=this._p_rowposition;var _b=this._deleteAll();if(_b>0){if(this._eventstat){this.on_fire_onrowsetchanged(-1,-1,22);if(_a>=0&&_a==this._p_rowposition){this._forcesetRowPosition(-1,51);}}else{this._p_rowposition=-1;}}return _b;};_pDataset._clearData=function(){var _a=this._p_rowcount;if(this._viewRecords!=this._rawRecords){this._viewRecords.splice(0,this._viewRecords.length);this._viewRecords.length=0;}if(this._rawRecords.length){this._clearRecordData(this._rawRecords);this._rawRecords.length=0;}this._viewRecords=this._rawRecords;if(this._deletedRecords.length){this._clearRecordData(this._deletedRecords);this._deletedRecords.length=0;}this._clearKeyCols();if(this._is_created){if(this._p_loadkeymode=="reset"){this._p_keystring=this._defaultKeyStr;}if(this._p_loadfiltermode=="reset"){this._p_filterstr=this._defaultFilterStr;}}this._filterFn=null;this._p_rowcount=0;return _a;};_pDataset.clearData=function(){var _a=this._p_rowposition;var _b=this._clearData();if(_b>0){if(this._eventstat){this.on_fire_onrowsetchanged(-1,-1,23);if(_a>=0&&_a==this._p_rowposition){this._forcesetRowPosition(-1,51);}}else{this._p_rowposition=-1;}}return _b;};_pDataset._deleteMultiRows=function(_a){var _b=this._viewRecords;var _c=this._rawRecords;var _d=this._deletedRecords;var _e=0;if(this._p_updatecontrol){function _deleteMultiRows_loop1(_f){var _g=_b[_a[_f]];if(_g){_e++ ;if(_g._rtype==1){_g._rtype=8;_d[_d.length]=_g;this._removeRawRow(_g);}else if(_g._rtype==2||_g._rtype==16){_g._rtype=0;_g.length=0;}else if(_g._rtype==4){if(_g._orgrow){this._copyRowData(_g,_g._orgrow);_g._orgrow.length=0;delete _g._orgrow;}else if(_g._orgdata){_g._data=_g._orgdata;delete _g._orgdata;}_g._rtype=8;_d[_d.length]=_g;this._removeRawRow(_g);}else{return -1;}if(_b!=_c){_b.splice(_a[_f],1);}}}nexacro.__reverseForLoop(this,_a.length-1,0,_deleteMultiRows_loop1);}else{function _deleteMultiRows_loop2(_f){var _g=_b[_a[_f]];if(_g){_e++ ;if(_g._rtype==4){if(_g._orgrow){_g._orgrow.length=0;delete _g._orgrow;}_g._rtype=0;}else{_g._rtype=0;}if(_b!=_c){_b.splice(_a[_f],1);}if(this._isTwowayDataobjectBindMode()&&this._binddataobject){this._binddataobject.deleteDataInPath(this._p_dataobjectpath,null,_a[_f],this.id);}}}nexacro.__reverseForLoop(this,_a.length-1,0,_deleteMultiRows_loop2);}if(_e>0){this._removeEmptyRawRows();this._p_rowcount=_b.length;}return _e;};_pDataset.deleteMultiRows=function(_a){if(!(_a instanceof Array)){return 0;}var _b=this._p_rowposition;var _c=this._viewRecords[_b];var _d=_a.reduce(function(_h,_i){if(_h.indexOf(_i)<0){_h.push(_i);}return _h;},[]);_d.sort(function(_h,_i){return _h-_i;});var _e=this._deleteMultiRows(_d);if(_e>0){var _f=-1;if(_c!=null){_f=this._viewRecords.indexOf(_c);}if(this._eventstat){this._deleteRows=_a;this.on_fire_onrowsetchanged(-1,_e,this._is_data_updating?43:20);if(_b==this._p_rowposition){if(_f<_b){if(this._p_rowcount<=0){this._forcesetRowPosition(-1,51);}else if(_f==-1){if(_b>=0&&_b<this._p_rowcount){this._setRowPosition(_b,53);if(this.onvaluechanged&&this.onvaluechanged._has_handlers){var _g=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",this._p_rowposition,-1,-1,"",undefined,undefined);this.on_fire_onvaluechanged(_g);}}else{this._forcesetRowPosition(-1,51);}}else{this._setRowPosition(_f,52);}}}}else{if(_c!=null){_f=this._viewRecords.indexOf(_c);}if(_f<_b){if(this._p_rowcount<=0){this._p_rowposition=-1;}else if(_f==-1){if(_b>=0&&_b<this._p_rowcount){this._p_rowposition=_b;}else{this._p_rowposition=-1;}}else{this._p_rowposition=_f;}}}}return _e;};_pDataset._moveRow=function(_a,_b){var _c=this._viewRecords;var _d=this._rawRecords;function _getInsertRawRecordIdx(_i,_j){var _k=_c[_i];var _l=_k._rtype;var _m;if(_l!=8&&_l!=16){return _k._rawidx;}if(_j<0){_m=_i -1;_k=_c[_m];while(_k){_l=_k._rtype;if(_l!=8&&_l!=16){return _k._rawidx+1;}_k=_c[_m-- ];}}else{_m=_i+1;_k=_c[_m];while(_k){_l=_k._rtype;if(_l!=8&&_l!=16){return _k._rawidx-1;}_k=_c[_m++ ];}}return -1;}if(_c==_d){_c=this._viewRecords=_d.slice(0,_d.length);}var _e,_f,_g;_e=_c[_a];if(_e){_f=_e._rawidx;}if(this._isTwowayDataobjectBindMode()){if(this._p_updatecontrol){this._addDirtyindex(_a,"delete",_d[_a]);this._addDirtyindex(_b,"insert",_d[_a]);}else{if(this._binddataobject){var _h=this._rowToData(_d[_a]);this._binddataobject.deleteDataInPath(this._p_dataobjectpath,_h,_a,this.id);this._binddataobject.insertData(this._p_dataobjectpath,_h,_b,this.id);}}}if(_b<_a){_g=_getInsertRawRecordIdx(_b,-1);if(!nexacro._isNull(_f)){if(_g<0){_g=0;}_d.splice(_f,1);_d.splice(_g,0,_e);this._adjustRawIdx(_g,_f+1);}_c.splice(_a,1);_c.splice(_b,0,_e);}else{if(!nexacro._isNull(_f)){_g=_getInsertRawRecordIdx(_b,1);if(_g<0){_g=_d.length-1;}_d.splice(_g+1,0,_e);_d.splice(_f,1);this._adjustRawIdx(_f,_g+1);}_c.splice(_b+1,0,_e);_c.splice(_a,1);}return _b;};_pDataset.moveRow=function(_a,_b){_a=_a|0;_b=_b|0;if(_a<0||_a>=this._p_rowcount||_b<0||_b>=this._p_rowcount||_a==_b){return -1;}var _c=this._moveRow(_a,_b);if(_c>=0){var _d=this._p_rowposition;if(this._eventstat){var _e,_f;if(_a>_b){_e=_b;_f=(_a-_b+1);}else{_e=_a;_f=(_b-_a+1);}this.on_fire_onrowsetchanged(_e,_f,32);if(_d==this._p_rowposition){if(_d==_a){this._setRowPosition(_b,52);}else if(_a>_b&&_d>=_b&&_d<_a){this._setRowPosition(_d+1,52);}else if(_a<_b&&_d>_a&&_d<_b){this._setRowPosition(_d -1,52);}}}else{if(_d==_a){this._p_rowposition=_b;}else if(_a>_b&&_d>=_b&&_d<_a){this._p_rowposition=_d+1;}else if(_a<_b&&_d>_a&&_d<_b){this._p_rowposition=_d -1;}}}return _c;};_pDataset._exchangeRow=function(_a,_b){var _c=this._viewRecords;var _d=this._rawRecords;if(_d.length<=0){return -1;}if(_a>=_c.length||_b>=_c.length||_a==_b){return false;}if(this._isTwowayDataobjectBindMode()){if(this._p_updatecontrol){var _e=_d[_a];var _f=_d[_b];this._addDirtyindex(_a,"update",_f);this._addDirtyindex(_b,"update",_e);}else{if(this._isTwowayDataobjectBindMode()){var _e=this._rowToData(_d[_a]);var _f=this._rowToData(_d[_b]);this._binddataobject.setDataInPath(this._p_dataobjectpath,_e,_b,this.id);this._binddataobject.setDataInPath(this._p_dataobjectpath,_f,_a,this.id);}}}var _g,_h,_i,_j;if(_c==_d){_g=_d[_a];_h=_d[_b];_g._rawidx=_b;_h._rawidx=_a;_d[_a]=_h;_d[_b]=_g;}else{_g=_c[_a];_h=_c[_b];_i=_g._rawidx;_j=_h._rawidx;_g._rawidx=_j;_h._rawidx=_i;_d[_i]=_h;_d[_j]=_g;_c[_a]=_h;_c[_b]=_g;}return true;};_pDataset.exchangeRow=function(_a,_b){_a=_a|0;_b=_b|0;if(_a<0||_a>=this._p_rowcount||_b<0||_b>=this._p_rowcount){return false;}if(this._exchangeRow(_a,_b)){if(this._eventstat){var _c=this._p_rowposition;this.on_fire_onrowsetchanged(_a,1,33);this.on_fire_onrowsetchanged(_b,1,33);if(_c==this._p_rowposition){if(_c==_a){this._setRowPosition(_b,52);}else if(_c==_b){this._setRowPosition(_a,52);}}return true;}else{if(this._p_rowposition==_a){this._p_rowposition=_b;}else if(this._p_rowposition==_b){this._p_rowposition=_a;}}}return false;};_pDataset._filterRow=function(_a){var _b=this._viewRecords;if(_a<0||_a>=_b.length){return false;}if(_b==this._rawRecords){_b=this._viewRecords=this._rawRecords.slice(0,this._rawRecords.length);_b.splice(_a,1);}else{_b.splice(_a,1);this._adjustGroupRowData(_a);}this._p_rowcount=_b.length;return true;};_pDataset.filterRow=function(_a){_a=_a|0;if(_a<0||_a>=this._p_rowcount){return;}var _b=this._p_rowposition;var _c=this._filterRow(_a);if(_c){if(this._eventstat){this.on_fire_onrowsetchanged(_a,1,31);if(_b==this._p_rowposition){if(_b>_a){this._setRowPosition(_b -1,52);}else if(_b==_a){if(this._p_rowcount==0){this._forcesetRowPosition(-1,51);}else{if(_b==this._p_rowcount){this._forcesetRowPosition(this._p_rowcount-1,51);}else{this._setRowPosition(_b,53);}}}}}else{if(_b>_a){this._p_rowposition=(_b -1);}else if(_b==_a){if(_b>this._p_rowcount){this._p_rowposition=this._p_rowcount-1;}else{this._p_rowposition=_b;}}}}};_pDataset._forcesetRowPosition=function(_a,_b){if(_a<0||_a>=this._p_rowcount){_a=-1;}var _c=this._p_rowposition;var _d;if(_a!=_c&&_a<this._p_rowcount){if(this.onrowposchanged&&this.onrowposchanged._has_handlers){_d=new nexacro.DSRowPosChangeEventInfo(this,"onrowposchanged",_c,_a,_b);this._p_rowposition=_a;this.on_fire_onrowposchanged(_d);}else{this._p_rowposition=_a;}}if(this.onvaluechanged&&this.onvaluechanged._has_handlers){_d=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",_a,-1,-1,"",undefined,undefined);this.on_fire_onvaluechanged(_d);}};_pDataset._setRowPosition=function(_a,_b,_c){if(_a<0||_a>=this._p_rowcount){_a=-1;}var _d=this._p_rowposition;var _e;if(_a!=_d||_b==53){if((this.canrowposchange&&this.canrowposchange._has_handlers)||(this.onrowposchanged&&this.onrowposchanged._has_handlers)){_e=new nexacro.DSRowPosChangeEventInfo(this,"canrowposchange",_d,_a,_b);if(this.canrowposchange&&this.canrowposchange._has_handlers&&this._eventstat&&(_d>=-1&&_d<this._p_rowcount)){var _f=this.on_fire_canrowposchange(_e);if(_f==false){return;}if(_a!=_e.newrow){_a=_e.newrow;}if(_a>=0||_a<this._p_rowcount){this._p_rowposition=_a;if(this.onrowposchanged&&this.onrowposchanged._has_handlers){this.on_fire_onrowposchanged(_e);}if(this.onvaluechanged&&this.onvaluechanged._has_handlers){_e=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",this._p_rowposition,-1,-1,"",undefined,undefined);this.on_fire_onvaluechanged(_e);}}}else{if(_a>=0||_a<this._p_rowcount){this._p_rowposition=_a;if(this._eventstat){if(this.onrowposchanged&&this.onrowposchanged._has_handlers){this.on_fire_onrowposchanged(_e);}if(this.onvaluechanged&&this.onvaluechanged._has_handlers){_e=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",this._p_rowposition,-1,-1,"",undefined,undefined);this.on_fire_onvaluechanged(_e);}}}}}else{this._p_rowposition=_a;if(this._eventstat&&this.onvaluechanged&&this.onvaluechanged._has_handlers){_e=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",this._p_rowposition,-1,-1,"",undefined,undefined);this.on_fire_onvaluechanged(_e);}}}else if(_c){if(this.onvaluechanged&&this.onvaluechanged._has_handlers){_e=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",this._p_rowposition,-1,-1,"",undefined,undefined);this.on_fire_onvaluechanged(_e);}}return this._p_rowposition;};_pDataset.__splitKeyCols=function(_a){var _b=[];var _c,_d;if(_a.charAt(0)!='+'&&_a.charAt(0)!='-'){_a='+'+_a;}_c=_a.indexOf('+');_d=_a.indexOf('-');var _e=(_c>=0&&_d>=0)?(_d<_c?_d:_c):(_c>_d?_c:_d);var _f=0;while(_e>=0){_c=_a.indexOf('+',_e+1);_d=_a.indexOf('-',_e+1);var _g=(_c>=0&&_d>=0)?(_d<_c?_d:_c):(_c>_d?_c:_d);if(_g<0){_b[_f]=_a.substr(_e);_f++ ;}else{_b[_f]=_a.substr(_e,_g-_e);_f++ ;}_e=_g;}return _b;};_pDataset._clearKeyCols=function(){this._keycols.length=0;this._keycols.max_keylevel=0;if(this._keycol_levels){this._keycol_levels.length=null;this._keycol_levels=null;}};_pDataset.__splitLocaleString=function(_a,_b){var _c="";var _d=2;var _e=1;var _f=_a.lastIndexOf("}");var _g=_a.lastIndexOf("]");var _h=_f>_g?_f:_g;var _i=_a.length;if(_f>-1||_g>-1){if(_h==_i -1){_c=_a.substr(_b+_d,_i-_b+_d);_a=_a.substr(0,_b-_e);}else if(_b==0){_c=_a.substr(_d,_h-_e);_a=_a.substr(_h+_d,_i-_h+_e);}else{_c=_a.substr(_b+_d,_h-_b-_e);_a=_a.substr(0,_b).concat(_a.substr(_h+_d,_i-_h));}}else{_h=_a.indexOf(",",_b);if(_h==-1){_c=_a.substr(_b+_d,_i);_a=_a.substr(0,_b-_e);}else if(_b==0){_a=_a.substr(_h+_e,_i-_h);}else{_a=_a.substr(0,_b).concat(_a.substr(_h+_e,_i-_h));}}return [_a,_c];};_pDataset.__parseLocaleString=function(_a){var _b=this._keycols;var _c=_a.indexOf('[');var _d=_a.indexOf('{');var _e=(_c>=0&&_d>=0)?(_c<_d?_c:_d):(_c>_d?_c:_d);var _f=0,_g=0,_h=0;var _i,_j,_k;if(_e>-1){while(_e>=0&&_h<100){if(_c>-1&&_d>-1&&_c<_d){_f=_a.indexOf(']',_g);_i=_a.substr(_g,_c-_g);_j=_a.substr(_c+1,_f-_c -1);if(_f+1==_d){_f=_a.indexOf('}',_g);_k=_a.substr(_d,_f-_d+1);}}else if(_d<0){_f=_a.indexOf(']',_g);_i=_a.substr(_g,_c-_g);_j=_a.substr(_c+1,_f-_c -1);}else{_f=_a.indexOf('}',_g);_i=_a.substr(_g,_d-_g);_k=_a.substr(_d,_f-_d+1);}_g=_f+1;_c=_a.indexOf('[',_g);_d=_a.indexOf('{',_g);_e=(_c>=0&&_d>=0)?(_c<_d?_c:_d):(_c>_d?_c:_d);for(var _o=0,_p=_b.length;_o<_p;_o++ ){var _l=_b[_o];if(_l.colid==_i){try{if(_j){var _m=_j.replace(/[\"\']/gi,"").replace("_","-");var _n=nexacro._supportedLocalesOf(_m);if(_n&&_n.length<1){nexacro._onSystemWarning(this,"msg_locale_notsupported",_m);}_l.locale=_m;}if(_k){_l.localeoption=_k.replace(/[\']/gi,"\"");}}catch(e){nexacro._settracemsg(e);}break;}}_i=undefined;_j=undefined;_k=undefined;_h++ ;}}else{for(var _o=0,_p=_b.length;_o<_p;_o++ ){var _l=_b[_o];if(_a.indexOf(_l.colid)>-1){_l._use_syslang=true;}else if(_l._use_syslang){_l._use_syslang=undefined;}}}};_pDataset._parseKeyCols=function(){var _a=this._keycols.length;if(_a>0){return _a;}var _b=this._p_keystring;var _c="";var _d=0;if(_b.length>0){var _e=_b.indexOf("O:");if(_e>-1){var _f=this.__splitLocaleString(_b,_e);_b=_f[0];_c=_f[1];}var _g=_b.split(',');function _parseKeyCols_loop(_h){var _i=_g[_h];_i=_i.trim();if(_i.length==0){return;}var _j=_i.indexOf(':');if(_j<=0||(_i.charAt(0)!='S'&&_i.charAt(0)!='s')){_d++ ;}var _k;if(_j>=0){_k=this.__splitKeyCols(_i.substr(_j+1));}else{_k=this.__splitKeyCols(_i);}function _parseKeyCols_loop2(_l){var _m=_k[_l];_m=_m.trim();if(_m.length==0){return;}var _n;var _o=-1;var _p=false;if(_m.charAt(0)=='-'){_n=_m.substr(1);_o=this.colinfos.indexOf(_n);_p=true;}else if(_m.charAt(0)=='+'){_n=_m.substr(1);_o=this.colinfos.indexOf(_n);}else{_n=_m;_o=this.colinfos.indexOf(_n);}if(_o>=0){this._keycols[_a]={level:_d,colid:_n,colidx:_o,descending:_p};_a++ ;}}nexacro.__reverseForLoop(this,_k.length-1,0,_parseKeyCols_loop2);}nexacro.__reverseForLoop(this,_g.length-1,0,_parseKeyCols_loop);if(_c){this.__parseLocaleString(_c);}}this._keycols.max_keylevel=_d;return _a;};_pDataset._getLocale=function(){var _a=nexacro.getEnvironment();var _b=_a.locale?_a.locale:nexacro._getLocale();var _c=this;while(_c){if(_c._locale){_b=_c._locale;break;}_c=_c.parent;}if(_b.indexOf("_")>-1){_b=_b.substr(0,2);}return _b;};_pDataset.__createSortFunc=function(){var _a=this._keycols;var _b=this.colinfos;var _c=this;return function(_d,_e){_d=_c.__getParsedRow(_d);_e=_c.__getParsedRow(_e);var _f=0;function __sort_compare_loopFn(_g){var _h=_a[_g];var _i=_d[_h.colidx];var _j=_e[_h.colidx];var _k=_h.locale;var _l=_h.localeoption;_f=this._compareValue(_i,_j,_b[_h.colidx].ntype,_k,_l,_h._use_syslang);if(_f!=0){_f=(_h.descending)? -_f:_f;return true;}}nexacro.__reverseForLoop(_c,_a.length-1,0,__sort_compare_loopFn);return _f==0?((_d._rawidx>_e._rawidx)?1:-1):_f;};};_pDataset._sortData=function(){var _a=this._viewRecords;if(this._keycols.length>0&&_a.length>0){if(_a==this._rawRecords){_a=this._viewRecords=this._rawRecords.slice(0,this._rawRecords.length);}var _b=this.__createSortFunc();_a.sort(_b);}};_pDataset._sortRawData=function(){var _a=this._rawRecords;if(this._keycols.length>0&&_a.length>0){var _b=this.__createSortFunc();_a.sort(_b);this._adjustRawIdx(0,_a.length);}};_pDataset._reFilter=function(){var _a;if(this._p_filterstr.length>0){_a=[];if(this._filterFn==null){var _b=this._createExprFunc(this._p_filterstr);if(typeof _b=="function"){this._filterFn=_b;}}if(this._filterFn){var _c=this._filterFn;var _d=this._rawRecords;function __reFilter_loopFn(_e){var _f=this.__getParsedRow(_d[_e]);var _g=_c.call(this,_e,_e,null,this,_d,_f,[]);if(_g){_a[_a.length]=_f;}}nexacro.__forLoop(this,0,_d.length,__reFilter_loopFn);this._viewRecords=_a;}}else{_a=this._viewRecords;if(_a!=this._rawRecords){_a.length=0;}this._viewRecords=this._rawRecords;}this._p_rowcount=this._viewRecords.length;};_pDataset.filter=function(_a){if(arguments.length==1){this._p_filterstr=nexacro._toString(_a);}this._filterFn=null;if(!this.loadstatus&&this._rawRecords.length>0){var _b=this._p_rowposition;var _c=this._viewRecords;var _d=_c[_b];this._reFilter();this._resetSortGroup();var _e=this._viewRecords.indexOf(_d);if(this._eventstat){this.on_fire_onrowsetchanged(-1,-1,31);if(_b==this._p_rowposition){if(this._p_rowcount){if(_e==-1){this._forcesetRowPosition(-1,51);}else if(_b>=0&&_b!=_e){this._setRowPosition(_e,52);}else{this._forcesetRowPosition(_e,51);}}else{this._forcesetRowPosition(-1,51);}}}else{this._p_rowposition=_e;}}else if(!this.loadstatus){this._defaultFilterStr=this._p_filterstr;}};_pDataset._deleteAllGroupData=function(){var _a=this._viewRecords;var _b=_a.length;if(this._keycols.length<=0||_b<=0){return;}function _deleteAllGroupData_loop(_c){var _d=_a[_c];if(_d._level>0){_d.length=0;_a.splice(_c,1);}}nexacro.__reverseForLoop(this,_a.length-1,0,_deleteAllGroupData_loop);};_pDataset._calcGroupData=function(_a,_b){var _c=this.colinfos;var _d=_a._grpstart;var _e=_a._grpend;var _f=_a._level;var _g=this._viewRecords;var _h=_g[_d];function _calcGroupData_loop(_i){var _j=_c[_i];var _k=_j.prop;if(_k){_k=_k.toLowerCase();}var _l=_j.ntype;switch(_k){case "count":_a[_i]=this._getCountValue(_g,-1,_d,_e,_l);break;case "sum":_a[_i]=this._getSumValue(_g,_i,_d,_e,_l);break;case "max":_a[_i]=this._getMaxValue(_g,_i,_d,_e,_l);break;case "min":_a[_i]=this._getMinValue(_g,_i,_d,_e,_l);break;case "avg":_a[_i]=this._getAvgValue(_g,_i,_d,_e,_l,true);break;case "text":_a[_i]=_j.sumtext;break;case "key":_a[_i]=_h[_i];break;default:if(_b[_i]>=_f){_a[_i]=_h[_i];}else{switch(_l){case 2:case 3:case 4:_a[_i]=this._getSumValue(_g,_i,_d,_e,_l);break;default:break;}}break;}}nexacro.__forLoop(this,0,_c.length,_calcGroupData_loop);};_pDataset._createGroupData=function(){var _a=this._keycols;var _b=_a.max_keylevel;if(_b==0||this._viewRecords.length==0){return;}var _c=this.colinfos;var _d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var _e=_a.length;var _f=this._keycol_levels;if(_f){_f.length=0;}else{this._keycol_levels=_f=[];}function __createGroupData_keycollevel_loopFn(_k){var _l=_a[_k];_f[_l.colidx]=_l.level;}nexacro.__forLoop(this,0,_a.length,__createGroupData_keycollevel_loopFn);var _g=this._viewRecords;var _h=_g.length;var _i=_g[0];var _j=1;function __createGroupData_loopFn(){if(_j<_h){var _k=this._viewRecords[_j];var _l=0;function __createGroupData_compare_loopFn(_m){var _n=_a[_m];if(_n.level==0){return false;}var _o=_n.colidx;if(!this._isEqualValue(_k[_o],_i[_o],_c[_o].ntype)){_l=_n.level;return true;}}nexacro.__reverseForLoop(this,_e -1,0,__createGroupData_compare_loopFn);if(_l>0){if(this._p_reversesubsum){function __createGroupData_reversegrp_loopFn(_m){var _n=[];_n._rtype=16;_n._level=_m;_n._grpstart=_d[_m]+(_m -1);_n._grpend=_j+(_m -1);this._calcGroupData(_n,_f);_g.splice(_d[_m],0,_n);_n._grpstart+=1+(_b-_m);_n._grpend=_j+_b;}nexacro.__forLoop(this,1,_l+1,__createGroupData_reversegrp_loopFn);_h+=_l;_j+=_l;}else{function __createGroupData_forwardgrp_loopFn(_m){var _n=[];_n._rtype=16;_n._level=_m;_n._grpstart=_d[_m];_n._grpend=_j;this._calcGroupData(_n,_f);_g.splice(_j+_m -1,0,_n);}nexacro.__forLoop(this,1,_l+1,__createGroupData_forwardgrp_loopFn);_h+=_l;_j+=_l;}_i=_k;function _updateLevelIndex_loopFn(_m){_d[_m]=_j;}nexacro.__forLoop(this,1,_l+1,_updateLevelIndex_loopFn);}_j++ ;return false;}return true;}nexacro.__whileLoop(this,__createGroupData_loopFn);if(this._p_reversesubsum){function __createGroupData_reverselast_loopFn(_k){var _l=[];_l._rtype=16;_l._level=_k;_l._grpstart=_d[_k]+(_k -1);_l._grpend=_j+(_k -1);this._calcGroupData(_l,_f);_g.splice(_d[_k],0,_l);_l._grpstart+=1+(_b-_k);_l._grpend=_j+_b;}nexacro.__forLoop(this,1,_b+1,__createGroupData_reverselast_loopFn);}else{function __createGroupData_forwardlast_loopFn(_k){var _l=[];_l._rtype=16;_l._level=_k;_l._grpstart=_d[_k];_l._grpend=_j;this._calcGroupData(_l,_f);_g[_g.length]=_l;}nexacro.__forLoop(this,1,_b+1,__createGroupData_forwardlast_loopFn);}};_pDataset._resetSortGroup=function(){var _a=this._viewRecords;var _b=this._rawRecords;if(this._parseKeyCols()>0&&_b.length>0){if(_b!=_a){if(_a.length==0){return false;}this._deleteAllGroupData();}else{_a=this._viewRecords=this._rawRecords.slice(0,this._rawRecords.length);}this._sortData();this._createGroupData();this._p_rowcount=_a.length;return true;}return false;};_pDataset._adjustGroupRowData=function(_a){var _b=this._keycols;if(_b.max_keylevel==0){return false;}var _c=this._keycol_levels;var _d=this._viewRecords;var _e=1;var _f=_d.length;var _g;if(this._p_reversesubsum){_g=_a -1;function __removeEmptyGroup_reverse_loopFn(){if(_g>=0){var _h=_d[_g];if(_h&&_h._rtype==16&&_h._grpstart>=(_a-_e)&&_h._grpend<=_a){_d.splice(_g,1);_h.length=0;_e++ ;_f-- ;_g-- ;return false;}}return true;}nexacro.__whileLoop(this,__removeEmptyGroup_reverse_loopFn);function __adjustGroupRowData_reverse1_loopFn(){if(_g>=0){var _h=_d[_g];if(_h&&_h._rtype==16){if(_h._grpstart<=(_a-_e)&&_h._grpend>_a){_h._grpend-=_e;this._calcGroupData(_h,_c);}else{if(_h._grpend>=(_a+_e)){_h._grpend-=_e;}}}_g-- ;return false;}return true;}nexacro.__whileLoop(this,__adjustGroupRowData_reverse1_loopFn);_g=_a-_e+1;function __adjustGroupRowData_reverse2_loopFn(){if(_g<_f){var _h=_d[_g];if(_h&&_h._rtype==16){if(_h._grpstart>=(_a+_e)){_h._grpstart-=_e;}if(_h._grpend>=(_a+_e)){_h._grpend-=_e;}}_g++ ;return false;}return true;}nexacro.__whileLoop(this,__adjustGroupRowData_reverse2_loopFn);}else{_g=_a;function __removeEmptyGroup_forward_loopFn(){if(_g<_f){var _h=_d[_g];if(_h&&_h._rtype==16&&_h._grpstart>=_a&&_h._grpend<=(_a+_e)){_d.splice(_a,1);_h.length=0;_e++ ;_f-- ;return false;}}return true;}nexacro.__whileLoop(this,__removeEmptyGroup_forward_loopFn);function __adjustGroupRowData_forward_loopfn(){if(_g<_f){var _h=_d[_g];if(_h&&_h._rtype==16){if(_h._grpstart<=_a&&_h._grpend>(_a+_e)){_h._grpend-=_e;this._calcGroupData(_h,_c);}else{if(_h._grpstart>=(_a+_e)){_h._grpstart-=_e;}if(_h._grpend>=(_a+_e)){_h._grpend-=_e;}}}_g++ ;return false;}return true;}nexacro.__whileLoop(this,__adjustGroupRowData_forward_loopfn);}return true;};_pDataset._updateGroupRowData=function(_a){var _b=this._keycols;if(_b.length<=0||_b.max_keylevel==0){return false;}var _c=this._viewRecords;var _d=this._keycol_levels;function __updateGroupRowData_loopFn(_e){var _f=_c[_e];if(_f._rtype==16&&_f._grpstart<=_a&&_f._grpend>=_a){this._calcGroupData(_f,_d);}}if(this._p_reversesubsum){nexacro.__reverseForLoop(this,_a -1,0,__updateGroupRowData_loopFn);}else{nexacro.__forLoop(this,_a,_c.length,__updateGroupRowData_loopFn);}return true;};_pDataset.updateSortGroup=function(_a,_b){var _c=true;if(arguments.length<2){if(_a){_a=_a.toString();this._p_keystring=_a;}else{if(!this._p_keystring){_c=false;}}}else{if(!_b){_c=false;}}if(_c){var _d=false;if(this._p_keystring==""||this._p_keystring=="S:"||this._p_keystring=="G:"||this._p_keystring=="O:"){_d=true;}var _e,_f,_g;if(this._p_keystring&&!_d){_e=this._viewRecords;_f=this._p_rowposition;if(_e){_g=_e[_f];}if(!this.loadstatus&&this._rawRecords.length>0){this._clearKeyCols();this._resetSortGroup();}else if(!this.loadstatus&&this._rawRecords.length==0&&_e.length>0){this._deleteAllGroupData();this._clearKeyCols();this._p_rowcount=_e.length;}}else{_e=this._viewRecords;_f=this._p_rowposition;_g=_e[_f];this._deleteAllGroupData();this._clearKeyCols();if(!this.loadstatus&&this._rawRecords.length>0){this._viewRecords=this._rawRecords;this._reFilter();}}var _h=this._viewRecords.indexOf(_g);if(this._p_enableevent){this.on_fire_onrowsetchanged(-1,-1,30);if(_f==this._p_rowposition){if(_f>=0&&_f!=_h){this._setRowPosition(_h,52);}}}else{this._p_rowposition=_h;}}return _c;};_pDataset._isValidColumn=function(_a){var _b=this.colinfos[_a];if(_b){return true;}var _c=( +_a);if(_c!=_a){var _d=this._constVars[_a];if(_d){return true;}else{if(typeof (_a)=="string"){return false;}_b=this.colinfos[0];if(_b){return true;}}}return false;};_pDataset.getConstColumn=function(_a){var _b=this._constVars[_a];if(_b){var _c=this._getConstValueByDatapath(_b,this._binddataobject);if(_c!=undefined){return _c;}else{return _b.value;}}return undefined;};_pDataset.getColumn=function(_a,_b){_a=_a|0;var _c=this.colinfos[_b];var _d,_e;var _f;if(_c){_f=_c.ntype;_d=this.__getParsedRow(this._viewRecords[_a]);if(_d){if(_f>=4&&_f<=7){return nexacro._cloneObject(_d[_c._index]);}return _d[_c._index];}return undefined;}var _g=( +_b);if(_g!=_b){_e=this._constVars[_b];if(_e){var _h=this._binddataobject;if(_h&&_e.datapath){return this._getConstValueByDatapath(_e,_h);}if(_e.value){return _e.value;}}else{if(typeof (_b)=="string"){return undefined;}_c=this.colinfos[0];if(_c){_f=_c.ntype;_d=this.__getParsedRow(this._viewRecords[_a]);if(_d){if(_f>=4&&_f<=7){return nexacro._cloneObject(_d[_c._index]);}return _d[_c._index];}return undefined;}}return undefined;}else{_e=this._constVars[_g-this.colinfos.length];if(_e){return _e.value;}else{_e=this._constVars[_b];return _e?_e.value:undefined;}}};_pDataset.getColumnNF=function(_a,_b){_a=_a|0;var _c=this.colinfos[_b];var _d;var _e;var _f;if(_c){_f=_c.ntype;_d=this.__getParsedRow(this._rawRecords[_a]);if(_d){if(_f>=4&&_f<=7){return nexacro._cloneObject(_d[_c._index]);}return _d[_c._index];}return undefined;}var _g=( +_b);if(_g!=_b){_e=this._constVars[_b];if(_e){return _e.value;}else{if(typeof (_b)=="string"){return undefined;}_c=this.colinfos[0];if(_c){_f=_c.ntype;_d=this.__getParsedRow(this._rawRecords[_a]);if(_d){if(_f>=4&&_f<=7){return nexacro._cloneObject(_d[_c._index]);}return _d[_c._index];}return undefined;}}return undefined;}else{_e=this._constVars[_g-this.colinfos.length];if(_e){return _e.value;}else{_e=this._constVars[_b];return _e?_e.value:undefined;}}};_pDataset.getOrgColumn=function(_a,_b){_a=_a|0;var _c=this.colinfos[_b];var _d;var _e;var _f;var _g;if(_c){_f=_c.ntype;_d=this.__getParsedRow(this._viewRecords[_a]);if(_d){_g=_d._orgrow?_d._orgrow[_c._index]:_d[_c._index];if(_f>=4&&_f<=7){return nexacro._cloneObject(_g);}return _g;}return undefined;}var _h=( +_b);if(_h!=_b){_e=this._constVars[_b];if(_e){return _e.value;}else{if(typeof (_b)=="string"){return undefined;}_c=this.colinfos[0];if(_c){_f=_c.ntype;_d=this.__getParsedRow(this._viewRecords[_a]);if(_d){_g=_d._orgrow?_d._orgrow[_c._index]:_d[_c._index];if(_f>=4&&_f<=7){return nexacro._cloneObject(_g);}return _g;}return undefined;}}return undefined;}else{_e=this._constVars[_h-this.colinfos.length];if(_e){return _e.value;}else{_e=this._constVars[_b];return _e?_e.value:undefined;}}};_pDataset.getOrgColumnNF=function(_a,_b){_a=_a|0;var _c=this.colinfos[_b];var _d;var _e;var _f;var _g;if(_c){_f=_c.ntype;_d=this.__getParsedRow(this._rawRecords[_a]);if(_d){_g=_d._orgrow?_d._orgrow[_c._index]:_d[_c._index];if(_f>=4&&_f<=7){return nexacro._cloneObject(_g);}return _g;}return undefined;}var _h=( +_b);if(_h!=_b){_e=this._constVars[_b];if(_e){return _e.value;}else{if(typeof (_b)=="string"){return undefined;}_c=this.colinfos[0];if(_c){_f=_c.ntype;_d=this.__getParsedRow(this._rawRecords[_a]);if(_d){_g=_d._orgrow?_d._orgrow[_c._index]:_d[_c._index];if(_f>=4&&_f<=7){return nexacro._cloneObject(_g);}return _g;}return undefined;}}return undefined;}else{_e=this._constVars[_h-this.colinfos.length];if(_e){return _e.value;}else{_e=this._constVars[_b];return _e?_e.value:undefined;}}};_pDataset.getDeletedColumn=function(_a,_b){_a=_a|0;var _c=this.colinfos[_b];var _d,_e;if(_c){_d=this.__getParsedRow(this._deletedRecords[_a]);if(_d){return _d[_c._index];}return undefined;}var _f=( +_b);if(_f!=_b){_e=this._constVars[_b];if(_e){return _e.value;}else{if(typeof (_b)=="string"){return undefined;}_c=this.colinfos[0];if(_c){_d=this.__getParsedRow(this._deletedRecords[_a]);if(_d){return _d[_c._index];}return undefined;}}return undefined;}else{_e=this._constVars[_f-this.colinfos.length];if(_e){return _e.value;}else{_e=this._constVars[_b];return _e?_e.value:undefined;}}};_pDataset.getColumnSet=function(){return null;};_pDataset.setConstColumn=function(_a,_b){var _c=this._constVars[_a];if(_c==null||_c.value===_b){return false;}if(_c._value){_c._value=undefined;}if(this._eventstat&&((this.cancolumnchange&&this.cancolumnchange._has_handlers)||(this.oncolumnchanged&&this.oncolumnchanged._has_handlers)||(this.onvaluechanged&&this.onvaluechanged._has_handlers))){var _d=new nexacro.DSColChangeEventInfo(this,"cancolumnchange",-1,_c._index+this.colinfos.length,-1,_c.id,_c.value,_b);if(this.on_fire_cancolumnchange(_d)){_b=_d.newvalue;if(_b!==_c.value){_c.value=_b;_c._value=_b;this.on_fire_oncolumnchanged(_d);this.on_fire_onvaluechanged(_d);if(_c.datapath&&this._isTwowayDataobjectBindMode()){this._binddataobject.setDataValue(this._p_dataobjectpath,_b,-1,_c.datapath,this.id);}return true;}}return false;}else{_c.value=_b;return true;}};_pDataset._updateColumn=function(_a,_b,_c,_d){var _e=_c._index;var _f=_c.ntype;var _g=_b[_e];if(_g===_d||_b._rtype==16){return false;}if(this._isInvalidValue(_d,_f)){return false;}if(this._p_updatecontrol){if(_b._rtype==1){var _h=[];this._copyRowData(_h,_b);_b._orgrow=_h;_b._rtype=4;}else if(_b._rtype==4){if(_b._orgrow){var _i=this._isEqualRow(_b._orgrow,_b,_e,_d);if(_i){_b._orgrow.length=0;delete _b._orgrow;_b._rtype=1;}}}}_b[_e]=_d;if(_a>=0){this._updateGroupRowData(_a);}return true;};_pDataset._setColumn=function(_a,_b,_c,_d,_e){var _f=_c.ntype;var _g=_c._fromVal(_d);var _h=_b[_c._index];if(this._isEqualValue(_h,_g,_f)){return false;}if(this._isInvalidValue(_g,_f)){return false;}if(_a>=0&&this._eventstat&&((this.cancolumnchange&&this.cancolumnchange._has_handlers)||(this.oncolumnchanged&&this.oncolumnchanged._has_handlers)||(this.onvaluechanged&&this.onvaluechanged._has_handlers))){var _i=new nexacro.DSColChangeEventInfo(this,"cancolumnchange",_a,_c._index,-1,_c.id,_h,_g);if((this.cancolumnchange&&this.cancolumnchange._has_handlers)){if(this.on_fire_cancolumnchange(_i)){_g=_c._fromVal(_i.newvalue);if(this._updateColumn(_a,_b,_c,_g)){_i.newvalue=_g;this.on_fire_oncolumnchanged(_i);this.on_fire_onvaluechanged(_i);if(this._isTwowayDataobjectBindMode()){if(this._p_updatecontrol){this._addDirtyindex(_b._rawidx,"update",_b);}else{this._binddataobject.setDataValue(this._p_dataobjectpath,_d,_b._rawidx,this._getPathFromColinfo(_c),this.id);}}return true;}}else{if(_e){_e.status="cancolumnchange";}}}else{if(this._updateColumn(_a,_b,_c,_g)){_i.newvalue=_g;this.on_fire_oncolumnchanged(_i);this.on_fire_onvaluechanged(_i);if(this._isTwowayDataobjectBindMode()){if(this._p_updatecontrol){this._addDirtyindex(_b._rawidx,"update",_b);}else{this._binddataobject.setDataValue(this._p_dataobjectpath,_d,_b._rawidx,this._getPathFromColinfo(_c),this.id);}}return true;}}}else{this._updateColumn(_a,_b,_c,_g);return true;}return false;};_pDataset.setColumn=function(_a,_b,_c){_a=_a|0;var _d,_e;if(_a<0||_a>=this._p_rowcount){return false;}var _f=arguments[3];var _g=this.colinfos[_b];if(_g){_d=this.__getParsedRow(this._viewRecords[_a]);if(_d){return this._setColumn(_a,_d,_g,_c,_f);}}var _h=( +_b);if(_h!=_b){_e=this._constVars[_b];if(_e){return this.setConstColumn(_b,_c);}else{if(typeof (_b)=="string"){return false;}_g=this.colinfos[0];if(_g){_d=this.__getParsedRow(this._viewRecords[_a]);if(_d){return this._setColumn(_a,_d,_g,_c,_f);}}}return false;}else{_e=this._constVars[_h-this.colinfos.length];if(_e){return this.setConstColumn(_h-this.colinfos.length,_c);}else{return this.setConstColumn(_b,_c);}}};_pDataset.setColumnNF=function(_a,_b,_c){_a=_a|0;var _d,_e,_f;if(_a<0||_a>=this._rawRecords.length){return false;}var _g=this.colinfos[_b];if(_g){_d=this.__getParsedRow(this._rawRecords[_a]);if(_d){if(this._viewRecords!=this._rawRecords){_f=this._viewRecords.indexOf(_d);if(_f>=0){return this._setColumn(_f,_d,_g,_c,null);}else{return this._updateColumn(_f,_d,_g,_g._fromVal(_c));}}else{return this._setColumn(_a,_d,_g,_c,null);}}}var _h=( +_b);if(_h!=_b){_e=this._constVars[_b];if(_e){return this.setConstColumn(_b,_c);}else{if(typeof (_b)=="string"){return false;}_g=this.colinfos[0];if(_g){_d=this.__getParsedRow(this._rawRecords[_a]);if(_d){if(this._viewRecords!=this._rawRecords){_f=this._viewRecords.indexOf(_d);if(_f>=0){return this._setColumn(_f,_d,_g,_c,null);}else{return this._updateColumn(_f,_d,_g,_g._fromVal(_c));}}else{return this._setColumn(_a,_d,_g,_c,null);}}}}return false;}else{_e=this._constVars[_h-this.colinfos.length];if(_e){return this.setConstColumn(_h-this.colinfos.length,_c);}else{return this.setConstColumn(_b,_c);}}};_pDataset._copyConstColList=function(_a){var _b=0;if(_a._type_name=="VariableList"&&_a.length>0){function __copyConstColList_loopFn(_c){var _d=_a[_c];if((_d.id in this.colinfos)||(_d.id in this._constVars)){return;}this._constVars.add(_d.id,new nexacro.Variable(_d.id,_d.value,_d.type,_d.ntype,_d.size,this._constVars.length));_b++ ;}nexacro.__forLoop(this,0,_a.length,__copyConstColList_loopFn);if(_b>0){this.count+=_b;this._p_constcount+=_b;}}return _b;};_pDataset._appendConstColList=function(_a,_b){if(_a._type_name=="VariableList"){var _c=this._constVars;var _d=0;if(_b){function __appendConstColList_chkcol_loopFn(_f){var _g=_c.get_id(_f);var _h=_a.indexOf(_g);if(_h!=null){var _i=_a[_h];_c.set_item(_f,new nexacro.Variable(_i.id,_i.value,_i.type,_i.ntype,_i.size,_c.length));_d++ ;}}nexacro.__forLoop(this,0,_c.length,__appendConstColList_chkcol_loopFn);}else{var _e=Math.min(_c.length,_a.length);function __appendConstColList_loopFn(_f){_c.set_item(_f,_a[_f]);_d++ ;}nexacro.__forLoop(this,0,_e,__appendConstColList_loopFn);}return _d;}return 0;};_pDataset._copyRowList=function(_a,_b){var _c=this._viewRecords;var _d=this._rawRecords;var _e=0;var _f=this._p_updatecontrol;function __copyRowList_loopFn(_g){var _h=_b[_g];if((_h._level==0)&&(_h._rtype&7)){var _i=[];_i._level=0;_i._rawidx=_d.length;_i._rtype=1;if(_h&&_h._data){_i._data=_h._data;}else{this._copyRowData(_i,_h);}if(_c!=_d){_c[_c.length]=_i;}var _j=_d.length;_d[_j]=_i;if(this._isTwowayDataobjectBindMode()){if(_f){this._addDirtyindex(_j,"add",_i);}else{if(this._binddataobject){this._binddataobject.addDataInPath(this._p_dataobjectpath,this._rowToData(_i),_j,this.id);}}}_e++ ;}}nexacro.__forLoop(this,0,_b.length,__copyRowList_loopFn);return _e;};_pDataset._appendRowList=function(_a,_b){var _c=this._viewRecords;var _d=this._rawRecords;var _e=_a._viewRecords;var _f=null;if(_b==true||_b=="true"){_f=this._makeIndexMap(_a);}var _g=0;var _h=this._p_updatecontrol;function __appendRowList_loopFn(_i){var _j=_a.__getParsedRow(_e[_i]);if((_j._level==0)&&(_j._rtype&7)){var _k=[];_k._level=0;_k._rawidx=_d.length;_k._rtype=1;if(_f){this._copyMappingRowData(_k,_j,_f);}else{this._copyConvRowData(_k,_j);}if(_c!=_d){_c[_c.length]=_k;}var _l=_d.length;_d[_l]=_k;if(this._isTwowayDataobjectBindMode()){if(_h){this._addDirtyindex(_l,"add",_k);}else{if(this._binddataobject){this._binddataobject.addDataInPath(this._p_dataobjectpath,null,_l,this.id);}}}_g++ ;}}nexacro.__forLoop(this,0,_e.length,__appendRowList_loopFn);return _g;};_pDataset._copyData=function(_a,_b){if(this._p_name==undefined){this.id=this._p_name=_a.id;}this._copyConstColList(_a._constVars);this._appendColList(_a.colinfos);if(_b==true){if(_a._viewRecords.length>0){this._copyRowList(_a,_a._viewRecords,true);}}else{if(_a._rawRecords.length>0){this._copyRowList(_a,_a._rawRecords,true);}}this._p_constcount=this._constVars.length;this._p_colcount=this.colinfos.length+this._p_constcount;this._p_rowcount=this._viewRecords.length;};_pDataset._appendData=function(_a,_b,_c){if(this._p_colcount==0){this._appendColList(_a.colinfos);if(_c==true&&_a._constVars.length>0){this._copyConstColList(_a._constVars);}}else{if(_c==true&&_a._constVars.length>0){this._appendConstColList(_a._constVars,_b);}}if(_a._viewRecords.length>0){this._appendRowList(_a,_b);}this._p_constcount=this._constVars.length;this._p_colcount=this.colinfos.length+this._p_constcount;this._p_rowcount=this._viewRecords.length;};_pDataset.copyRow=function(_a,_b,_c,_d){if(_b==null){return false;}_a=_a|0;_c=_c|0;if(_a<0||_a>=this._p_rowcount){return false;}if(_b._isDataset&&!_b._isDataset()){return false;}if(_c<0||_c>=_b.rowcount){return false;}var _e=this._viewRecords[_a];var _f=_b.__getParsedRow(_b._viewRecords[_c]);if(_e&&_f){var _g=this._makeIndexMap(_b,_d);if(_g){this._copyMappingRowDataRowType(_e,_f,_g,_a);if(this._eventstat&&((this.oncolumnchanged&&this.oncolumnchanged._has_handlers)||(this.onvaluechanged&&this.onvaluechanged._has_handlers))){var _h=new nexacro.DSColChangeEventInfo(this,"oncolumnchanged",_a,-1,-1,"",undefined,"");this.on_fire_oncolumnchanged(_h);this.on_fire_onvaluechanged(_h);if(this._isTwowayDataobjectBindMode()){if(this._p_updatecontrol){this._addDirtyindex(_a,"update",_e);}else{this._binddataobject.setDataInPath(this._p_dataobjectpath,this._rowToData(_e),_a,this.id);}}}return true;}}return false;};_pDataset.copyData=function(_a,_b){if(!_a||(_a._isDataset&&!_a._isDataset())){return -1;}_b=nexacro._toBoolean(_b);var _c=(this._p_filterstr==null||this._p_filterstr=="")?false:true;var _d=(this._p_keystring==""||this._p_keystring=="S:"||this._p_keystring=="G:")?false:true;var _e=this._p_rowposition;this._clearAll();this._copyData(_a,_b);var _f=_a.lazyParsing;if(_f){this.lazyParsing=_f;this.__loadConvertFn=_a.__loadConvertFn;this.__lazyParseRecordFn=_a.__lazyParseRecordFn;}this._eventstat=!this.loadstatus&&this._p_enableevent;if(_c){this._filterFn=null;}if(_d){this._deleteAllGroupData();this._clearKeyCols();}if(_c){this._reFilter();}if(_d){this._resetSortGroup();}if(this._eventstat){this.on_fire_onrowsetchanged(-1,this._p_rowcount,11);}if(_e==this._p_rowposition){if(this._p_rowcount>0){if(_e!=0){this._setRowPosition(0,51);}else if(this.id!=_a.id){this._p_rowposition=-1;this._setRowPosition(_e,53);}else{if(this.onvaluechanged&&this.onvaluechanged._has_handlers){var _g=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",0,-1,-1,"",undefined,undefined);this.on_fire_onvaluechanged(_g);}}}else if(_e>-1){this._forcesetRowPosition(-1,51);}}this.loadstatus=false;this._eventstat=this._p_enableevent;return this._p_rowcount;};_pDataset._mergeData=function(_a){var _b=this._makeIndexMap(_a);if(_b==null){return 0;}var _c=this._viewRecords;var _d=this._rawRecords;var _e=_a._rawRecords;var _f=0;var _g=this._p_updatecontrol;function __mergeData_loopFn(_h){var _i=_a.__getParsedRow(_e[_h]);if((_i._level==0)&&(_i._rtype&7)){var _j=[];_j._level=0;_j._rawidx=_d.length;_j._rtype=1;this._copyMappingRowData(_j,_i,_b);if(_c!=_d){_c[_c.length]=_j;}var _k=_d.length;_d[_k]=_j;if(this._isTwowayDataobjectBindMode()){if(_g){this._addDirtyindex(_k,"add",_j);}else{if(this._binddataobject){this._binddataobject.addDataInPath(this._p_dataobjectpath,null,_k,this.id);}}}_f++ ;}}nexacro.__forLoop(this,0,_e.length,__mergeData_loopFn);if(_f>0){this._p_rowcount+=_f;}return _f;};_pDataset.mergeData=function(_a){if(!_a||(_a._isDataset&&!_a._isDataset())){return -1;}var _b=0;if(_a._rawRecords.length>0){var _c=this.loadstatus;this.loadstatus=true;this._eventstat=false;_b=this._mergeData(_a);this.loadstatus=_c;this._eventstat=!this.loadstatus&&this._p_enableevent;if(this._eventstat){var _d=this._p_rowposition;this.on_fire_onrowsetchanged(-1,_b,13);if(_d==this._p_rowposition&&_d==-1&&_b>0){this._setRowPosition(0,51);}}}return this._p_rowcount;};_pDataset.appendData=function(_a,_b,_c){if(!_a||(_a._isDataset&&!_a._isDataset())){return -1;}if(_a._viewRecords.length>0){var _d=this.loadstatus;this.loadstatus=true;this._eventstat=!this.loadstatus&&this._p_enableevent;this._appendData(_a,_b,_c);this.loadstatus=_d;this._eventstat=!this.loadstatus&&this._p_enableevent;var _e=this._p_rowposition;if(this._eventstat){this.on_fire_onrowsetchanged(-1,this._p_rowcount,12);}if(_e==this._p_rowposition&&_e==-1&&this._p_rowcount>0){this._setRowPosition(0,51);}this.loadstatus=false;this._eventstat=this._p_enableevent;return this._p_rowcount;}return 0;};_pDataset.applyChange=function(){var _a=this._rawRecords;var _b=0;if(this.binddataobject){this._refreshDirty();}function applyChange_loop(_c){if(_c>=0){var _d=_a[_c];if(_d._rtype==0||_d._rtype==8||_d._rtype==16){_a.splice(_c,1);_d.length=0;_b++ ;}else{_d._rtype=1;if(_d._orgrow){_d._orgrow.length=0;delete _d._orgrow;}else if(_d._orgdata){delete _d._orgdata;}}_c-- ;return false;}return true;}nexacro.__reverseForLoop(this,_a.length-1,0,applyChange_loop);if(this._deletedRecords){this._clearRecordData(this._deletedRecords);}if(_b>0){this._adjustRawIdx(0,_a.length);}if(this._p_enableevent){this.on_fire_onrowsetchanged(-1,_a.length,40);}};_pDataset.reset=function(){this.loadstatus=true;this._eventstat=this._p_enableevent;var _a=this._rawRecords;var _b=false;function __reset_loopFn(_d){var _e=_a[_d];if(_e._rtype==0||_e._rtype==2||_e._rtype==16){_a.splice(_d,1);_b=true;}else if(_e._rtype==4){_e._rtype=1;if(_e._orgrow){this._copyRowData(_e,_e._orgrow);_e._orgrow.length=0;delete _e._orgrow;}else if(_e._orgdata){_e._data=_e._orgdata;delete _e._orgdata;}}else if(_e._rtype==8){_e._rtype=1;}}nexacro.__reverseForLoop(this,_a.length-1,0,__reset_loopFn);var _c=this._deletedRecords;if(_c.length>0){function __reset_del_loopFn(_d){_c[_d]._rtype=1;_a[_a.length]=_c[_d];}nexacro.__reverseForLoop(this,_c.length-1,0,__reset_del_loopFn);_c.splice(0,_c.length);_b=true;}if(_b){_a.sort(function(_d,_e){return (_d._orgidx-_e._orgidx);});this._adjustRawIdx(0,_a.length);}if(this._viewRecords!=this._rawRecords){this._viewRecords.length=0;}this._viewRecords=this._rawRecords;this._reFilter();this.loadstatus=false;this._eventstat=this._p_enableevent;this._p_rowcount=this._viewRecords.length;if(this._eventstat){this._bWorkingstatus=true;this.on_fire_onload(0,"",2);if(this._p_rowposition>=this._p_rowcount&&this._p_rowcount>0){this._forcesetRowPosition(0,51);}else{this._forcesetRowPosition(this._p_rowposition,51);}this._bWorkingstatus=false;}};_pDataset._assignRowList=function(_a,_b){var _c=0;var _d=this._viewRecords;var _e=this._rawRecords;var _f=this._deletedRecords;function __assignRowList_loopFn(_g){var _h=_a.__getParsedRow(_b[_g]);var _i;if(_h._level==0){if(_h._rtype&7){_i=[];_i._level=0;_i._rawidx=_e.length;_i._rtype=_h._rtype;this._copyRowData(_i,_h);if(_h._orgrow){var _j=_h._orgrow;var _k=[];this._copyRowData(_k,_j);_i._orgrow=_k;}if(_d!=_e){_d[_d.length]=_i;}_e[_e.length]=_i;_c++ ;}else if(_h._rtype==8){_i=[];_i._level=0;_i._rawidx=-1;_i._rtype=8;this._copyRowData(_i,_h);_f[_f.length]=_i;_c++ ;}}}nexacro.__forLoop(this,0,_b.length,__assignRowList_loopFn);return _c;};_pDataset._assign=function(_a){this._copyConstColList(_a._constVars);this._appendColList(_a.colinfos);this._assignRowList(_a,_a._rawRecords);if(_a._deletedRecords.length){this._assignRowList(_a,_a._deletedRecords);}this._p_constcount=this._constVars.length;this._p_colcount=this.colinfos.length+this._p_constcount;this._p_rowcount=this._viewRecords.length;};_pDataset.assign=function(_a){if(!_a||(_a._isDataset&&!_a._isDataset())){return -1;}this._eventstat=this._p_enableevent;var _b=this._p_rowposition;this._clearAll();this._assign(_a);if(this._p_filterstr){this.filter(this._p_filterstr);}if(this._p_keystring){this.on_apply_keystring();}if(this._eventstat){this.on_fire_onrowsetchanged(-1,this._p_rowcount,10);}if(_b==this._p_rowposition){if(this._p_rowcount>0){if(_b!=0){this._setRowPosition(0,51);}else if(this.id!=_a.id){this._p_rowposition=-1;this._setRowPosition(_b,53);}else{if(this.onvaluechanged&&this.onvaluechanged._has_handlers){var _c=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",0,-1,-1,"",undefined,undefined);this.on_fire_onvaluechanged(_c);}}}else if(_b>-1){this._forcesetRowPosition(-1,51);}}return this._p_rowcount;};_pDataset._identifyExpr=function(_a){if(typeof (_a)!="string"){return _a;}var _b=_a.substr(0,4).toUpperCase();if(_b=="EXPR"||_b=="BIND"){var _c=_a.substr(4).trim();if(/^expr(\s*):|^bind(\s*):/.test(_a)){_a=_c.substr(1);}else{_a=_c.substring(1,_c.length-1);}var _d=this._exprFuncs[_a];if(_d==null){_d=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _d=="function"){_a=_d.call(null,this._p_rowposition,this._p_rowposition,this,this,this._viewRecords,this._viewRecords[this._p_rowposition],[]);}}return _a;};_pDataset._findRowColValue=function(_a,_b,_c,_d,_e){var _f=this.colinfos[_b];if(!_f){return -1;}_c=_f._fromVal(_c);function __findRowColValue_loopFn(_h){var _i=this.__getParsedRow(_a[_h]);if(_i._rtype&7){if(this._isEqualValue(_i[_b],_c,_f.ntype)){return true;}}}_e=_e>_a.length?_a.length:_e;var _g=nexacro.__forLoop(this,_d,_e,__findRowColValue_loopFn);return (_g<_e)?_g:-1;};_pDataset._findRowValueArgs=function(_a,_b,_c,_d,_e,_f){function __findRowValueArgs_loopFn(_h){var _i=this.__getParsedRow(_a[_h]);if(_i._rtype&15){var _j=_b.call(this,_h,_h,null,this,_a,_i,_f);var _k=this.colinfos[_j];if(_k){_c=_k._fromVal(_c);if(this._isEqualValue(_i[_k._index],_c,_k.ntype)){return true;}}}}_e=_e>_a.length?_a.length:_e;var _g=nexacro.__forLoop(this,_d,_e,__findRowValueArgs_loopFn);return (_g<_e)?_g:-1;};_pDataset._findRowExpr=function(_a,_b,_c,_d,_e){function __findRowExpr_loopFn(_g){var _h=this.__getParsedRow(_a[_g]);if(_h._rtype&15){var _i=_b.call(this,_g,_g,null,this,_a,_h,_e);if(_i){return true;}}}_d=_d>_a.length?_a.length:_d;var _f=nexacro.__forLoop(this,_c,_d,__findRowExpr_loopFn);return (_f<_d)?_f:-1;};_pDataset.findRow=function(_a,_b,_c,_d,_e){return this._findRow(this._viewRecords,_a,_b,_c,_d,_e);};_pDataset._findRow=function(_a,_b,_c,_d,_e,_f){_d=_d|0;if(_d<0){_d=0;}_e=(_e==null)?_a.length:(_e|0);if(_e<0||_e>_a.length){_e=_a.length;}if(_d>=_e){return -1;}var _g=this.colinfos[_b];if(_g){return this._findRowColValue(_a,_g._index,_c,_d,_e);}var _h=( +_b);var _i;if(_h!=_b){_i=this._constVars[_b];if(_i){return (_i.value==_c)?_d:-1;}else{if(typeof (_b)=="string"){var _j=this._exprFuncs[_b];if(_j==null){_j=this._exprFuncs[_b]=this._createExprFunc(_b);}if(typeof _j!="function"||_b.indexOf("$")==-1){return -1;}return this._findRowValueArgs(_a,_j,_c,_d,_e,((_f instanceof Array)?_f:[]));}_g=this.colinfos[0];if(_g){return this._findRowColValue(_a,_g._index,_c,_d,_e);}}return -1;}else{_i=this._constVars[_h-this.colinfos.length];if(_i){return (_i.value==_c)?_d:-1;}else{_i=this._constVars[_b];return (_i&&_i.value==_c)?_d:-1;}}};_pDataset.findRowNF=function(_a,_b,_c,_d,_e){return this._findRow(this._rawRecords,_a,_b,_c,_d,_e);};_pDataset.findRowExpr=function(_a,_b,_c,_d){var _e=this._viewRecords;_b=_b|0;if(_b<0){_b=0;}_c=(_c==null)?_e.length:(_c|0);if(_c<0||_c>_e.length){_c=_e.length;}if(_b>=_c){return -1;}var _f=this._exprFuncs[_a];if(_f==null){_f=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _f!="function"){return -1;}return this._findRowExpr(_e,_f,_b,_c,((_d instanceof Array)?_d:[]));};_pDataset.findRowExprNF=function(_a,_b,_c,_d){var _e=this._rawRecords;_b=_b|0;if(_b<0){_b=0;}_c=(_c==null)?_e.length:(_c|0);if(_c<0||_c>_e.length){_c=_e.length;}if(_b>=_c){return -1;}var _f=this._exprFuncs[_a];if(_f==null){_f=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _f!="function"){return -1;}return this._findRowExpr(_e,_f,_b,_c,((_d instanceof Array)?_d:[]));};_pDataset._findRowAsValue=function(_a,_b,_c,_d,_e){var _f=this.colinfos[_b];if(!_f){return -1;}_c=_c+"";function __findRowAsValue_loopFn(_h){var _i=this.__getParsedRow(_a[_h]);if(_i._rtype&7){if(this._isLikeValue(_i[_b],_c)){return true;}}}_e=_e>_a.length?_a.length:_e;var _g=nexacro.__forLoop(this,_d,_e,__findRowAsValue_loopFn);return (_g<_e)?_g:-1;};_pDataset._findRowAsValueArgs=function(_a,_b,_c,_d,_e,_f){_c=_c+"";function __findRowAsValueArgs_loopFn(_h){var _i=this.__getParsedRow(_a[_h]);if(_i._rtype&15){var _j=_b.call(this,_h,_h,null,this,_a,_i,_f);var _k=this.colinfos[_j];if(_k){_c=_k._fromVal(_c);if(this._isLikeValue(_i[_k._index],_c)){return true;}}}}_e=_e>_a.length?_a.length:_e;var _g=nexacro.__forLoop(this,_d,_e,__findRowAsValueArgs_loopFn);return (_g<_e)?_g:-1;};_pDataset._findRowAsExpr=function(_a,_b,_c,_d,_e,_f){_c=_c+"";function __findRowAsExpr_loopFn(_h){var _i=this.__getParsedRow(_a[_h]);if(_i._rtype&15){var _j=_b.call(this,_h,_h,null,this,_a,_i,_f);if(this._isLikeValue(_j,_c)){return true;}}}_e=_e>_a.length?_a.length:_e;var _g=nexacro.__forLoop(this,_d,_e,__findRowAsExpr_loopFn);return (_g<_e)?_g:-1;};_pDataset.findRowAs=function(_a,_b,_c,_d,_e){return this._findRowAs(this._viewRecords,_a,_b,_c,_d,_e);};_pDataset._findRowAs=function(_a,_b,_c,_d,_e,_f){_d=_d|0;if(_d<0){_d=0;}_e=(_e==null)?_a.length:(_e|0);if(_e<0||_e>_a.length){_e=_a.length;}if(_d>=_e){return -1;}var _g=this.colinfos[_b];if(_g){return this._findRowAsValue(_a,_g._index,_c,_d,_e);}var _h=( +_b);var _i;if(_h!=_b){_i=this._constVars[_b];if(_i){if(this._isLikeValue(_i.value,_c)){return _d;}else{return -1;}}else{if(typeof (_b)=="string"){var _j=this._exprFuncs[_b];if(_j==null){_j=this._exprFuncs[_b]=this._createExprFunc(_b);}if(typeof _j!="function"||_b.indexOf("$")==-1){return -1;}return this._findRowAsValueArgs(_a,_j,_c,_d,_e,((_f instanceof Array)?_f:[]));}_g=this.colinfos[0];if(_g){return this._findRowAsValue(_a,_g._index,_c,_d,_e);}}return -1;}else{_i=this._constVars[_h-this.colinfos.length];if(_i){if(this._isLikeValue(_i.value,_c)){return _d;}else{return -1;}}else{_i=this._constVars[_b];if(_i){if(this._isLikeValue(_i.value,_c)){return _d;}else{return -1;}}}}return -1;};_pDataset.findRowAsNF=function(_a,_b,_c,_d,_e){return this._findRowAs(this._rawRecords,_a,_b,_c,_d,_e);};_pDataset.findNFRowIndex=function(_a){if(this._viewRecords&&this._viewRecords[_a]){return this._viewRecords[_a]._rawidx;}return -1;};_pDataset.lookup=function(_a,_b,_c,_d){_a=this._identifyExpr(_a);var _e=this.findRow(_a,_b,0,this._viewRecords.length,_d);return (_e==-1)?undefined:this.getColumn(_e,_c);};_pDataset.lookupNF=function(_a,_b,_c,_d){_a=this._identifyExpr(_a);var _e=this.findRowNF(_a,_b,0,this._rawRecords.length,_d);return (_e<0)?undefined:this.getColumnNF(_e,_c);};_pDataset.lookupAs=function(_a,_b,_c,_d){_a=this._identifyExpr(_a);var _e=this._findRowAs(this._viewRecords,_a,_b,0,this._viewRecords.length,_d);return (_e<0)?undefined:this.getColumn(_e,_c);};_pDataset.lookupAsNF=function(_a,_b,_c,_d){_a=this._identifyExpr(_a);var _e=this._findRowAs(this._rawRecords,_a,_b,0,this._rawRecords.length,_d);return (_e<0)?undefined:this.getColumnNF(_e,_c);};_pDataset._extractRowsExpr=function(_a,_b,_c,_d,_e){var _f=[];function __loopFn(_g){var _h=this.__getParsedRow(_a[_g]);if(_h._rtype&15){var _i=_b.call(this,_g,_g,null,this,_a,_h,_e);if(_i){_f[_f.length]=_g;}}}nexacro.__forLoop(this,_c,_d,__loopFn);return _f;};_pDataset.__extractRows=function(_a,_b,_c,_d,_e){_c=_c|0;if(_c<0){_c=0;}_d=(_d==null)?_a.length:(_d|0);if(_d<0||_d>_a.length){_d=_a.length;}if(_c>=_d){return -1;}var _f=this._exprFuncs[_b];if(_f==null){_f=this._exprFuncs[_b]=this._createExprFunc(_b);}if(typeof _f!="function"){return -1;}return this._extractRowsExpr(_a,_f,_c,_d,((_e instanceof Array)?_e:[]));};_pDataset.extractRows=function(_a,_b,_c,_d){return this.__extractRows(this._viewRecords,_a,_b,_c,_d);};_pDataset.extractRowsNF=function(_a,_b,_c,_d){return this.__extractRows(this._rawRecords,_a,_b,_c,_d);};_pDataset.__getCount=function(_a,_b,_c,_d,_e){if(_b!==0&&!_b){return _a.length;}_c=_c|0;if(_c<0){_c=0;}_d=(_d==null)?_a.length:(_d|0);if(_d<0||_d>_a.length){_d=_a.length;}var _f=this.colinfos[_b];if(_f){return this._getCountValue(_a,_f._index,_c,_d,_f.ntype);}var _g=( +_b);var _h;if(_g!=_b){_h=this._constVars[_b];if(_h){return (_h.value!=null)?(_d-_c):0;}}else{_h=this._constVars[_g-this.colinfos.length];if(_h){return (_h.value!=null)?(_d-_c):0;}else{_h=this._constVars[_b];return (_h&&_h.value!=null)?(_d-_c):0;}}return 0;};_pDataset.getCount=function(_a,_b,_c,_d){return this.__getCount(this._viewRecords,_a,_b,_c,_d);};_pDataset.getCountNF=function(_a,_b,_c,_d){return this.__getCount(this._rawRecords,_a,_b,_c,_d);};_pDataset.__getRowsCount=function(_a,_b,_c,_d){if(!(_b instanceof Array)||_b.length<=0){return 0;}var _e= +_c;if(_e==_e){return _b.length;}var _f=this.colinfos[_c];if(_f){return this._getRowsCountValue(_a,_b,_f._index,_f.ntype);}var _g=this._constVars[_c];if(_g){return (_g.value!=null)?(_b.length):0;}var _h=this._exprFuncs[_c];if(_h==null){_h=this._exprFuncs[_c]=this._createExprFunc(_c);}if(typeof _h!="function"){return 0;}return this._getRowsCountExpr(_a,_b,_h,((_d instanceof Array)?_d:[]));};_pDataset.getRowsCount=function(_a,_b,_c){return this.__getRowsCount(this._viewRecords,_a,_b,_c);};_pDataset.getRowsCountNF=function(_a,_b,_c){return this.__getRowsCount(this._rawRecords,_a,_b,_c);};_pDataset.__getCaseCount=function(_a,_b,_c,_d,_e){_c=_c|0;if(_c<0){_c=0;}_d=(_d==null)?_a.length:(_d|0);if(_d<0||_d>_a.length){_d=_a.length;}var _f= +_b;if(_f==_f){return (_f)?(_d-_c):0;}var _g=this._constVars[_b];if(_g){return _g.value?(_d-_c):0;}var _h=this.colinfos[_b];if(_h){return this._getTrueCount(_a,_h._index,_c,_d);}var _i=this._exprFuncs[_b];if(_i==null){_i=this._exprFuncs[_b]=this._createExprFunc(_b);}if(typeof _i!="function"){return 0;}return this._getCaseCount(_a,_i,_c,_d,((_e instanceof Array)?_e:[]));};_pDataset.getCaseCount=function(_a,_b,_c,_d){return this.__getCaseCount(this._viewRecords,_a,_b,_c,_d);};_pDataset.getCaseCountNF=function(_a,_b,_c,_d){return this.__getCaseCount(this._rawRecords,_a,_b,_c,_d);};_pDataset.__getTrueCount=function(_a,_b,_c,_d,_e){_c=_c|0;if(_c<0){_c=0;}_d=(_d==null)?_a.length:(_d|0);if(_d<0||_d>_a.length){_d=_a.length;}var _f= +_b;if(_f==_f){return (_f)?(_d-_c):0;}var _g=this.colinfos[_b];if(_g){return this._getTrueCountValue(_a,_g._index,_c,_d);}var _h=this._constVars[_b];if(_h){return (_h.value)?(_d-_c):0;}var _i=this._exprFuncs[_b];if(_i==null){_i=this._exprFuncs[_b]=this._createExprFunc(_b);}if(typeof _i!="function"){return 0;}return this._getTrueCountExpr(_a,_i,_c,_d,((_e instanceof Array)?_e:[]));};_pDataset.getTrueCount=function(_a,_b,_c,_d){return this.__getTrueCount(this._viewRecords,_a,_b,_c,_d);};_pDataset.getTrueCountNF=function(_a,_b,_c,_d){return this.__getTrueCount(this._rawRecords,_a,_b,_c,_d);};_pDataset.__getRowsTrueCount=function(_a,_b,_c,_d){if(!(_b instanceof Array)||_b.length<=0){return 0;}var _e= +_c;if(_e==_e){return (_e)?(_b.length):0;}var _f=this.colinfos[_c];if(_f){return this._getRowsTrueCountValue(_a,_b,_f._index);}var _g=this._constVars[_c];if(_g){return (_g.value)?(_b.length):0;}var _h=this._exprFuncs[_c];if(_h==null){_h=this._exprFuncs[_c]=this._createExprFunc(_c);}if(typeof _h!="function"){return 0;}return this._getRowsTrueCountExpr(_a,_b,_h,((_d instanceof Array)?_d:[]));};_pDataset.getRowsTrueCount=function(_a,_b,_c){return this.__getRowsTrueCount(this._viewRecords,_a,_b,_c);};_pDataset.getRowsTrueCountNF=function(_a,_b,_c){return this.__getRowsTrueCount(this._rawRecords,_a,_b,_c);};_pDataset._getCountValue=function(_a,_b,_c,_d,_e){var _f=0;function __Value_loopFn(_g){var _h=this.__getParsedRow(_a[_g]);if(_h._rtype&7){if(_b<0||_h[_b]!=null){_f++ ;}}}nexacro.__forLoop(this,_c,_d,__Value_loopFn);return _f;};_pDataset._getCountExpr=function(_a,_b,_c,_d,_e){var _f=0;function __Expr_loopFn(_g){var _h=this.__getParsedRow(_a[_g]);if(_h._rtype&15){var _i=_b.call(this,_g,_g,null,this,_a,_h,_e);if(_i){_f++ ;}}}nexacro.__forLoop(this,_c,_d,__Expr_loopFn);return _f|0;};_pDataset._getRowsCountValue=function(_a,_b,_c,_d){var _e=0;function __loopFn(_f){var _g=_b[_f];var _h=this.__getParsedRow(_a[_g]);if(_h&&(_h._rtype&7)){if(_h[_c]!=null){_e++ ;}}}nexacro.__forLoop(this,0,_b.length,__loopFn);return _e;};_pDataset._getRowsCountExpr=function(_a,_b,_c,_d){var _e=0;function __loopFn(_f){var _g=_b[_f];var _h=this.__getParsedRow(_a[_g]);if(_h&&(_h._rtype&15)){var _i=_c.call(this,_g,_g,null,this,_a,_h,_d);if(_i){_e++ ;}}}nexacro.__forLoop(this,0,_b.length,__loopFn);return _e|0;};_pDataset._getCaseCount=function(_a,_b,_c,_d,_e){var _f=0;function __loopFn(_g){var _h=this.__getParsedRow(_a[_g]);if(_h._rtype&15){var _i=_b.call(this,_g,_g,null,this,_a,_h,_e);if(_i){_f++ ;}}}nexacro.__forLoop(this,_c,_d,__loopFn);return _f;};_pDataset._getTrueCountValue=function(_a,_b,_c,_d){var _e=0;function __loopFn(_f){var _g=this.__getParsedRow(_a[_f]);if(_g._rtype&7){if(_g[_b]){_e++ ;}}}nexacro.__forLoop(this,_c,_d,__loopFn);return _e;};_pDataset._getTrueCountExpr=function(_a,_b,_c,_d,_e){var _f=0;function __loopFn(_g){var _h=this.__getParsedRow(_a[_g]);if(_h._rtype&15){var _i=_b.call(this,_g,_g,null,this,_a,_h,_e);if(_i){_f++ ;}}}nexacro.__forLoop(this,_c,_d,__loopFn);return _f|0;};_pDataset._getRowsTrueCountValue=function(_a,_b,_c){var _d=0;function __Value_loopFn(_e){var _f=_b[_e];var _g=this.__getParsedRow(_a[_f]);if(_g&&(_g._rtype&7)){if(_g[_c]){_d++ ;}}}nexacro.__forLoop(this,0,_b.length,__Value_loopFn);return _d;};_pDataset._getRowsTrueCountExpr=function(_a,_b,_c,_d){var _e=0;function __Expr_loopFn(_f){var _g=_b[_f];var _h=this.__getParsedRow(_a[_g]);if(_h&&(_h._rtype&15)){var _i=_c.call(this,_g,_g,null,this,_a,_h,_d);if(_i){_e++ ;}}}nexacro.__forLoop(this,0,_b.length,__Expr_loopFn);return _e|0;};_pDataset.__getSum=function(_a,_b,_c,_d,_e){_c=_c|0;if(_c<0){_c=0;}_d=(_d==null)?_a.length:(_d|0);if(_d<0||_d>_a.length){_d=_a.length;}var _f= +_b;if(_f==_f){return _f* (_d-_c);}var _g=this.colinfos[_b];if(_g){return this._getSumValue(_a,_g._index,_c,_d,_g.ntype);}var _h=this._constVars[_b];if(_h){_f=_h.value|0;if(_f==_f){return 0;}return _f* (_d-_c);}var _i=this._exprFuncs[_b];if(_i==null){_i=this._exprFuncs[_b]=this._createExprFunc(_b);}if(typeof _i!="function"){return 0;}return this._getSumExpr(_a,_i,_c,_d,((_e instanceof Array)?_e:[]));};_pDataset.getSum=function(_a,_b,_c,_d){return this.__getSum(this._viewRecords,_a,_b,_c,_d);};_pDataset.getSumNF=function(_a,_b,_c,_d){return this.__getSum(this._rawRecords,_a,_b,_c,_d);};_pDataset.__getRowsSum=function(_a,_b,_c,_d){if(!(_b instanceof Array)||_b.length<=0){return 0;}var _e= +_c;if(_e==_e){return _e* (_b.length);}var _f=this.colinfos[_c];if(_f){return this._getRowsSumValue(_a,_b,_f._index,_f.ntype);}var _g=this._constVars[_c];if(_g){_e=_g.value|0;if(_e==_e){return 0;}return _e* (_b.length);}var _h=this._exprFuncs[_c];if(_h==null){_h=this._exprFuncs[_c]=this._createExprFunc(_c);}if(typeof _h!="function"){return 0;}return this._getRowsSumExpr(_a,_b,_h,((_d instanceof Array)?_d:[]));};_pDataset.getRowsSum=function(_a,_b,_c){return this.__getRowsSum(this._viewRecords,_a,_b,_c);};_pDataset.getRowsSumNF=function(_a,_b,_c){return this.__getRowsSum(this._rawRecords,_a,_b,_c);};_pDataset.__getCaseSum=function(_a,_b,_c,_d,_e,_f,_g){_d=_d|0;if(_d<0){_d=0;}_e=(_e==null)?_a.length:(_e|0);if(_e<0||_e>_a.length){_e=_a.length;}var _h= +_b;if(_h==_h){if(_h){return this.__getSum(_a,_c,_d,_e,_g);}return 0;}var _i=this._constVars[_b];if(_i){if(_i.value){return this.__getSum(_a,_c,_d,_e,_g);}return 0;}var _j=this.colinfos[_b];if(_j){_b=_j.id;}var _k=this._exprFuncs[_b];if(_k==null){_k=this._exprFuncs[_b]=this._createExprFunc(_b);}if(typeof _k!="function"){return 0;}_h= +_c;if(_h==_h){if(_h){var _l=this._getCaseCount(_a,_k,_d,_e,((_f instanceof Array)?_f:[]));return _h* _l;}return 0;}_i=this._constVars[_c];if(_i){if(_i.value){return _i.value* this._getCaseCount(_a,_k,_d,_e,((_f instanceof Array)?_f:[]));}return 0;}_j=this.colinfos[_c];if(_j){return this._getCaseSumValue(_a,_k,_j._index,_d,_e,_j.ntype,((_f instanceof Array)?_f:[]));}var _m=this._exprFuncs[_c];if(_m==null){_m=this._exprFuncs[_c]=this._createExprFunc(_c);}if(typeof _m!="function"){return 0;}return this._getCaseSumExpr(_a,_k,_m,_d,_e,((_f instanceof Array)?_f:[]),((_g instanceof Array)?_g:[]));};_pDataset.getCaseSum=function(_a,_b,_c,_d,_e,_f){return this.__getCaseSum(this._viewRecords,_a,_b,_c,_d,_e,_f);};_pDataset.getCaseSumNF=function(_a,_b,_c,_d,_e,_f){return this.__getCaseSum(this._rawRecords,_a,_b,_c,_d,_e,_f);};_pDataset._getSumValue=function(_a,_b,_c,_d,_e){if(_e!=2&&_e!=3&&_e!=4){return 0;}var _f;if(_e==4){_f=new nexacro.Decimal();function __Decimal_loopFn(_g){var _h=this.__getParsedRow(_a[_g]);if(_h._rtype&7){var _i=_h[_b];if(_i){if(_i instanceof nexacro.Decimal){_f.addDecimal(_i);}else{_f.addDouble( +_i);}}}}nexacro.__forLoop(this,_c,_d,__Decimal_loopFn);return _f.isNaN()?0:_f;}else{_f=0;function __Value_loopFn(_g){var _h=this.__getParsedRow(_a[_g]);if(_h._rtype&7){var _i=_h[_b];if(_i){_f+=( +_i);}}}nexacro.__forLoop(this,_c,_d,__Value_loopFn);return (typeof _f=="number"&&!isNaN(_f))?_f:_f|0;}};_pDataset._getSumExpr=function(_a,_b,_c,_d,_e){var _f=0;var _g=false;function __Expr_loopFn(_h){var _i=this.__getParsedRow(_a[_h]);if(_i._rtype&15){var _j=_b.call(this,_h,_h,null,this,_a,_i,_e);if(_j){if(_g){if(_j instanceof nexacro.Decimal){_f.addDecimal(_j);}else{_f.addDouble(_j);}}else{if(_j instanceof nexacro.Decimal){_f=new nexacro.Decimal(_f);_f.addDecimal(_j);_g=true;}else{_f+=(_j);}}}}}nexacro.__forLoop(this,_c,_d,__Expr_loopFn);if(_g){return _f.isNaN()?0:_f;}return (typeof _f=="number"&&!isNaN(_f))?_f:_f|0;};_pDataset._getRowsSumValue=function(_a,_b,_c,_d){if(_d!=2&&_d!=3&&_d!=4){return 0;}var _e;if(_d==4){_e=new nexacro.Decimal();function __Decimal_loopFn(_f){var _g=_b[_f];var _h=this.__getParsedRow(_a[_g]);if(_h&&(_h._rtype&7)){var _i=_h[_c];if(_i){if(_i instanceof nexacro.Decimal){_e.addDecimal(_i);}else{_e.addDouble( +_i);}}}}nexacro.__forLoop(this,0,_b.length,__Decimal_loopFn);return _e.isNaN()?0:_e;}else{_e=0;function __Value_loopFn(_f){var _g=_b[_f];var _h=this.__getParsedRow(_a[_g]);if(_h&&(_h._rtype&7)){var _i=_h[_c];if(_i){_e+=( +_i);}}}nexacro.__forLoop(this,0,_b.length,__Value_loopFn);return (typeof _e=="number"&&!isNaN(_e))?_e:_e|0;}};_pDataset._getRowsSumExpr=function(_a,_b,_c,_d){var _e=0;var _f=false;function __Expr_loopFn(_g){var _h=_b[_g];var _i=this.__getParsedRow(_a[_h]);if(_i&&(_i._rtype&7)){var _j=_c.call(this,_h,_h,null,this,_a,_i,_d);if(_j){if(_f){if(_j instanceof nexacro.Decimal){_e.addDecimal(_j);}else{_e.addDouble(_j);}}else{if(_j instanceof nexacro.Decimal){_e=new nexacro.Decimal(_e);_e.addDecimal(_j);_f=true;}else{_e+=(_j);}}}}}nexacro.__forLoop(this,0,_b.length,__Expr_loopFn);if(_f){return _e;}return (typeof _e=="number")?_e:_e|0;};_pDataset._getCaseSumValue=function(_a,_b,_c,_d,_e,_f,_g){if(_f!=2&&_f!=3&&_f!=4){return 0;}var _h;if(_f==4){_h=new nexacro.Decimal();function __Decimal_loopFn(_i){var _j=this.__getParsedRow(_a[_i]);if(_j._rtype&7){var _k=_b.call(this,_i,_i,null,this,_a,_j,_g);if(_k){var _l=_j[_c];if(_l){if(_l instanceof nexacro.Decimal){_h.addDecimal(_l);}else{_h.addDouble( +_l);}}}}}nexacro.__forLoop(this,_d,_e,__Decimal_loopFn);return _h.isNaN()?0:_h;}else{_h=0;function __Value_loopFn(_i){var _j=this.__getParsedRow(_a[_i]);if(_j._rtype&7){var _k=_b.call(this,_i,_i,null,this,_a,_j,_g);if(_k){var _l=_j[_c];if(_l){_h+=( +_l);}}}}nexacro.__forLoop(this,_d,_e,__Value_loopFn);return (typeof _h=="number"&&!isNaN(_h))?_h:_h|0;}};_pDataset._getCaseSumExpr=function(_a,_b,_c,_d,_e,_f,_g){var _h=0;var _i=false;function __Expr_loopFn(_j){var _k=this.__getParsedRow(_a[_j]);if(_k._rtype&7){var _l=_b.call(this,_j,_j,null,this,_a,_k,_f);if(_l){var _m=_c.call(this,_j,_j,null,this,_a,_k,_g);if(_m){if(_i){if(_m instanceof nexacro.Decimal){_h.addDecimal(_m);}else{_h.addDouble(_m);}}else{if(_m instanceof nexacro.Decimal){_h=new nexacro.Decimal(_h);_h.addDecimal(_m);_i=true;}else{_h+=(_m);}}}}}}nexacro.__forLoop(this,_d,_e,__Expr_loopFn);if(_i){return _h.isNaN()?0:_h;}return (typeof _h=="number"&&!isNaN(_h))?_h:_h|0;};_pDataset.__getMin=function(_a,_b,_c,_d,_e){_c=_c|0;if(_c<0){_c=0;}_d=(_d==null)?_a.length:(_d|0);if(_d<0||_d>_a.length){_d=_a.length;}var _f= +_b;if(_f==_f){return _f;}var _g=this.colinfos[_b];if(_g){return this._getMinValue(_a,_g._index,_c,_d,_g.ntype);}var _h=this._constVars[_b];if(_h){return _h.value;}var _i=this._exprFuncs[_b];if(_i==null){_i=this._exprFuncs[_b]=this._createExprFunc(_b);}if(typeof _i!="function"){return undefined;}var _j=this._getMinExpr(_a,_i,_c,_d,((_e instanceof Array)?_e:[]));if(_j instanceof nexacro.Decimal){return _j.isNaN()?undefined:_j;}var _k= +_j;return _k!=_k?undefined:_j;};_pDataset.getMin=function(_a,_b,_c,_d){return this.__getMin(this._viewRecords,_a,_b,_c,_d);};_pDataset.getMinNF=function(_a,_b,_c,_d){return this.__getMin(this._rawRecords,_a,_b,_c,_d);};_pDataset.__getRowsMin=function(_a,_b,_c,_d){if(!(_b instanceof Array)||_b.length<=0){return undefined;}var _e= +_c;if(_e==_e){return _e;}var _f=this.colinfos[_c];if(_f){return this._getRowsMinValue(_a,_b,_f._index,_f.ntype);}var _g=this._constVars[_c];if(_g){return _g.value;}var _h=this._exprFuncs[_c];if(_h==null){_h=this._exprFuncs[_c]=this._createExprFunc(_c);}if(typeof _h!="function"){return undefined;}var _i=this._getRowsMinExpr(_a,_b,_h,((_d instanceof Array)?_d:[]));if(_i instanceof nexacro.Decimal){return _i.isNaN()?undefined:_i;}var _j= +_i;return _j!=_j?undefined:_i;};_pDataset.getRowsMin=function(_a,_b,_c){return this.__getRowsMin(this._viewRecords,_a,_b,_c);};_pDataset.getRowsMinNF=function(_a,_b,_c){return this.__getRowsMin(this._rawRecords,_a,_b,_c);};_pDataset.__getCaseMin=function(_a,_b,_c,_d,_e,_f,_g){_d=_d|0;if(_d<0){_d=0;}_e=(_e==null)?_a.length:(_e|0);if(_e<0||_e>_a.length){_e=_a.length;}var _h= +_b;if(_h==_h){if(_h){return this.__getMin(_a,_c,_d,_e,_g);}return undefined;}var _i=this._constVars[_b];if(_i){if(_i.value){return this.__getMin(_a,_c,_d,_e,_g);}return undefined;}var _j=this.colinfos[_b];if(_j){_b=_j.id;}var _k=this._exprFuncs[_b];if(_k==null){_k=this._exprFuncs[_b]=this._createExprFunc(_b);}if(typeof _k!="function"){return undefined;}_h= +_c;var _l;if(_h==_h){if(_h){_l=this._findRowExpr(_a,_k,_d,_e,((_f instanceof Array)?_f:[]));if(_l>=0){return _h;}}return undefined;}_i=this._constVars[_c];if(_i){if(_i.value){_l=this._findRowExpr(_a,_k,_d,_e,((_f instanceof Array)?_f:[]));if(_l>=0){return _i.value;}}return undefined;}_j=this.colinfos[_c];if(_j){return this._getCaseMinValue(_a,_k,_j._index,_d,_e,_j.ntype,((_f instanceof Array)?_f:[]));}var _m=this._exprFuncs[_c];if(_m==null){_m=this._exprFuncs[_c]=this._createExprFunc(_c);}if(typeof _m!="function"){return undefined;}return this._getCaseMinExpr(_a,_k,_m,_d,_e,((_f instanceof Array)?_f:[]),((_g instanceof Array)?_g:[]));};_pDataset.getCaseMin=function(_a,_b,_c,_d,_e,_f){return this.__getCaseMin(this._viewRecords,_a,_b,_c,_d,_e,_f);};_pDataset.getCaseMinNF=function(_a,_b,_c,_d,_e,_f){return this.__getCaseMin(this._rawRecords,_a,_b,_c,_d,_e,_f);};_pDataset._getMinValue=function(_a,_b,_c,_d,_e){var _f;var _g=this.colinfos[_b];if(_e==4){function __Decimal_loopFn(_h){var _i=this.__getParsedRow(_a[_h]);if(_i._rtype&7){var _j=_g._fromVal(_i[_b]);if(_j&&_j instanceof nexacro.Decimal){if(_f==null||(_j.hi<_f.hi||(_j.hi==_f.hi&&_j.lo<_f.lo))){_f=_j;}}}}nexacro.__forLoop(this,_c,_d,__Decimal_loopFn);}else{function __Value_loopFn(_h){var _i=this.__getParsedRow(_a[_h]);if(_i._rtype&7){var _j=_g._fromVal(_i[_b]);if(_j===0||_j){if(_f==null||_j<_f){_f=_j;}}}}nexacro.__forLoop(this,_c,_d,__Value_loopFn);}return _f;};_pDataset._getMinExpr=function(_a,_b,_c,_d,_e){var _f=undefined;function __Expr_loopFn(_g){var _h=this.__getParsedRow(_a[_g]);if(_h._rtype&15){var _i=_b.call(this,_g,_g,null,this,_a,_h,_e);if(_i===0||_i){if(_f==null||this._compareValue(_i,_f)<0){_f=_i;}}}}nexacro.__forLoop(this,_c,_d,__Expr_loopFn);return _f;};_pDataset._getRowsMinValue=function(_a,_b,_c,_d){var _e;var _f=this.colinfos[_c];if(_d==4){function __Decimal_loopFn(_g){var _h=_b[_g];var _i=this.__getParsedRow(_a[_h]);if(_i&&(_i._rtype&7)){var _j=_f._fromVal(_i[_c]);if(_j&&_j instanceof nexacro.Decimal){if(_e==null||(_j.hi<_e.hi||(_j.hi==_e.hi&&_j.lo<_e.lo))){_e=_j;}}}}nexacro.__forLoop(this,0,_b.length,__Decimal_loopFn);}else{function __Value_loopFn(_g){var _h=_b[_g];var _i=this.__getParsedRow(_a[_h]);if(_i&&(_i._rtype&7)){var _j=_f._fromVal(_i[_c]);if(_j===0||_j){if(_e==null||_j<_e){_e=_j;}}}}nexacro.__forLoop(this,0,_b.length,__Value_loopFn);}return _e;};_pDataset._getRowsMinExpr=function(_a,_b,_c,_d){var _e;function __Expr_loopFn(_f){var _g=_b[_f];var _h=this.__getParsedRow(_a[_g]);if(_h&&(_h._rtype&15)){var _i=_c.call(this,_g,_g,null,this,_a,_h,_d);if(_i===0||_i){if(_e==null||this._compareValue(_i,_e)<0){_e=_i;}}}}nexacro.__forLoop(this,0,_b.length,__Expr_loopFn);return _e;};_pDataset._getCaseMinValue=function(_a,_b,_c,_d,_e,_f,_g){var _h;var _i=this.colinfos[_c];if(_f==4){function __Decimal_loopFn(_j){var _k=this.__getParsedRow(_a[_j]);if(_k._rtype&15){var _l=_b.call(this,_j,_j,null,this,_a,_k,_g);if(_l){var _m=_i._fromVal(_k[_c]);if(_m&&_m instanceof nexacro.Decimal){if(_h==null||(_m.hi<_h.hi||(_m.hi==_h.hi&&_m.lo<_h.lo))){_h=_m;}}}}}nexacro.__forLoop(this,_d,_e,__Decimal_loopFn);}else{function __Value_loopFn(_j){var _k=this.__getParsedRow(_a[_j]);if(_k._rtype&15){var _l=_b.call(this,_j,_j,null,this,_a,_k,_g);if(_l){var _m=_i._fromVal(_k[_c]);if(_m===0||_m){if(_h==null||_m<_h){_h=_m;}}}}}nexacro.__forLoop(this,_d,_e,__Value_loopFn);}return _h;};_pDataset._getCaseMinExpr=function(_a,_b,_c,_d,_e,_f,_g){var _h;function __Expr_loopFn(_i){var _j=this.__getParsedRow(_a[_i]);if(_j._rtype&15){var _k=_b.call(this,_i,_i,null,this,_a,_j,_f);if(_k){var _l=_c.call(this,_i,_i,null,this,_a,_j,_g);if(_l===0||_l){if(_h==null||this._compareValue(_l,_h)<0){_h=_l;}}}}}nexacro.__forLoop(this,_d,_e,__Expr_loopFn);return _h;};_pDataset.__getMax=function(_a,_b,_c,_d,_e){_c=_c|0;if(_c<0){_c=0;}_d=(_d==null)?_a.length:(_d|0);if(_d<0||_d>_a.length){_d=_a.length;}var _f= +_b;if(_f==_f){return _f;}var _g=this.colinfos[_b];if(_g){return this._getMaxValue(_a,_g._index,_c,_d,_g.ntype);}var _h=this._constVars[_b];if(_h){return _h.value;}var _i=this._exprFuncs[_b];if(_i==null){_i=this._exprFuncs[_b]=this._createExprFunc(_b);}if(typeof _i!="function"){return undefined;}var _j=this._getMaxExpr(_a,_i,_c,_d,((_e instanceof Array)?_e:[]));if(_j instanceof nexacro.Decimal){return _j.isNaN()?undefined:_j;}var _k= +_j;return _k!=_k?undefined:_j;};_pDataset.getMax=function(_a,_b,_c,_d){return this.__getMax(this._viewRecords,_a,_b,_c,_d);};_pDataset.getMaxNF=function(_a,_b,_c,_d){return this.__getMax(this._rawRecords,_a,_b,_c,_d);};_pDataset.__getRowsMax=function(_a,_b,_c,_d){if(!(_b instanceof Array)||_b.length<=0){return undefined;}var _e= +_c;if(_e==_e){return _e;}var _f=this.colinfos[_c];if(_f){return this._getRowsMaxValue(_a,_b,_f._index,_f.ntype);}var _g=this._constVars[_c];if(_g){return _g.value;}var _h=this._exprFuncs[_c];if(_h==null){_h=this._exprFuncs[_c]=this._createExprFunc(_c);}if(typeof _h!="function"){return undefined;}var _i=this._getRowsMaxExpr(_a,_b,_h,((_d instanceof Array)?_d:[]));if(_i instanceof nexacro.Decimal){return _i.isNaN()?undefined:_i;}var _j= +_i;return _j!=_j?undefined:_i;};_pDataset.getRowsMax=function(_a,_b,_c){return this.__getRowsMax(this._viewRecords,_a,_b,_c);};_pDataset.getRowsMaxNF=function(_a,_b,_c){return this.__getRowsMax(this._rawRecords,_a,_b,_c);};_pDataset.__getCaseMax=function(_a,_b,_c,_d,_e,_f,_g){_d=_d|0;if(_d<0){_d=0;}_e=(_e==null)?_a.length:(_e|0);if(_e<0||_e>_a.length){_e=_a.length;}var _h= +_b;if(_h==_h){if(_h){return this.__getMax(_a,_c,_d,_e,_g);}return undefined;}var _i=this._constVars[_b];if(_i){if(_i.value){return this.__getMax(_a,_c,_d,_e,_g);}return undefined;}var _j=this.colinfos[_b];if(_j){_b=_j.id;}var _k=this._exprFuncs[_b];if(_k==null){_k=this._exprFuncs[_b]=this._createExprFunc(_b);}if(typeof _k!="function"){return undefined;}var _l;_h= +_c;if(_h==_h){if(_h){_l=this._findRowExpr(_a,_k,_d,_e,((_f instanceof Array)?_f:[]));if(_l>=0){return _h;}}return undefined;}_i=this._constVars[_c];if(_i){if(_i.value){_l=this._findRowExpr(_a,_k,_d,_e,((_f instanceof Array)?_f:[]));if(_l>=0){return _i.value;}}return undefined;}_j=this.colinfos[_c];if(_j){return this._getCaseMaxValue(_a,_k,_j._index,_d,_e,_j.ntype,((_f instanceof Array)?_f:[]));}var _m=this._exprFuncs[_c];if(_m==null){_m=this._exprFuncs[_c]=this._createExprFunc(_c);}if(typeof _m!="function"){return undefined;}return this._getCaseMaxExpr(_a,_k,_m,_d,_e,((_f instanceof Array)?_f:[]),((_g instanceof Array)?_g:[]));};_pDataset.getCaseMax=function(_a,_b,_c,_d,_e,_f){return this.__getCaseMax(this._viewRecords,_a,_b,_c,_d,_e,_f);};_pDataset.getCaseMaxNF=function(_a,_b,_c,_d,_e,_f){return this.__getCaseMax(this._rawRecords,_a,_b,_c,_d,_e,_f);};_pDataset._getMaxValue=function(_a,_b,_c,_d,_e){var _f;var _g=this.colinfos[_b];if(_e==4){function __Decimal_loopFn(_h){var _i=this.__getParsedRow(_a[_h]);if(_i._rtype&7){var _j=_g._fromVal(_i[_b]);if(_j&&_j instanceof nexacro.Decimal){if(_f==null||(_j.hi>_f.hi||(_j.hi==_f.hi&&_j.lo>_f.lo))){_f=_j;}}}}nexacro.__forLoop(this,_c,_d,__Decimal_loopFn);}else{function __Value_loopFn(_h){var _i=this.__getParsedRow(_a[_h]);if(_i._rtype&7){var _j=_g._fromVal(_i[_b]);if(_j===0||_j){if(_f==null||_j>_f){_f=_j;}}}}nexacro.__forLoop(this,_c,_d,__Value_loopFn);}return _f;};_pDataset._getMaxExpr=function(_a,_b,_c,_d,_e){var _f;function __Expr_loopFn(_g){var _h=this.__getParsedRow(_a[_g]);if(_h._rtype&15){var _i=_b.call(this,_g,_g,null,this,_a,_h,_e);if(_i===0||_i){if(_f==null||this._compareValue(_i,_f)>0){_f=_i;}}}}nexacro.__forLoop(this,_c,_d,__Expr_loopFn);return _f;};_pDataset._getRowsMaxValue=function(_a,_b,_c,_d){var _e;var _f=this.colinfos[_c];if(_d==4){function __Decimal_loopFn(_g){var _h=_b[_g];var _i=this.__getParsedRow(_a[_h]);if(_i&&(_i._rtype&7)){var _j=_f._fromVal(_i[_c]);if(_j&&_j instanceof nexacro.Decimal){if(_e==null||(_j.hi>_e.hi||(_j.hi==_e.hi&&_j.lo>_e.lo))){_e=_j;}}}}nexacro.__forLoop(this,0,_b.length,__Decimal_loopFn);}else{function __Value_loopFn(_g){var _h=_b[_g];var _i=this.__getParsedRow(_a[_h]);if(_i&&(_i._rtype&7)){var _j=_f._fromVal(_i[_c]);if(_j===0||_j){if(_e==null||_j>_e){_e=_j;}}}}nexacro.__forLoop(this,0,_b.length,__Value_loopFn);}return _e;};_pDataset._getRowsMaxExpr=function(_a,_b,_c,_d){var _e;function __Expr_loopFn(_f){var _g=_b[_f];var _h=this.__getParsedRow(_a[_g]);if(_h&&(_h._rtype&15)){var _i=_c.call(this,_g,_g,null,this,_a,_h,_d);if(_i===0||_i){if(_e==null||this._compareValue(_i,_e)>0){_e=_i;}}}}nexacro.__forLoop(this,0,_b.length,__Expr_loopFn);return _e;};_pDataset._getCaseMaxValue=function(_a,_b,_c,_d,_e,_f,_g){var _h;var _i=this.colinfos[_c];if(_f==4){function __Decimal_loopFn(_j){var _k=this.__getParsedRow(_a[_j]);if(_k._rtype&15){var _l=_b.call(this,_j,_j,null,this,_a,_k,_g);if(_l){var _m=_i._fromVal(_k[_c]);if(_m&&_m instanceof nexacro.Decimal){if(_h==null||(_m.hi>_h.hi||(_m.hi==_h.hi&&_m.lo>_h.lo))){_h=_m;}}}}}nexacro.__forLoop(this,_d,_e,__Decimal_loopFn);}else{function __Value_loopFn(_j){var _k=this.__getParsedRow(_a[_j]);if(_k._rtype&15){var _l=_b.call(this,_j,_j,null,this,_a,_k,_g);if(_l){var _m=_i._fromVal(_k[_c]);if(_m===0||_m){if(_h==null||_m>_h){_h=_m;}}}}}nexacro.__forLoop(this,_d,_e,__Value_loopFn);}return _h;};_pDataset._getCaseMaxExpr=function(_a,_b,_c,_d,_e,_f,_g){var _h;function __Expr_loopFn(_i){var _j=this.__getParsedRow(_a[_i]);if(_j._rtype&15){var _k=_b.call(this,_i,_i,null,this,_a,_j,_f);if(_k){var _l=_c.call(this,_i,_i,null,this,_a,_j,_g);if(_l===0||_l){if(_h==null||this._compareValue(_l,_h)>0){_h=_l;}}}}}nexacro.__forLoop(this,_d,_e,__Expr_loopFn);return _h;};_pDataset.__getAvg=function(_a,_b,_c,_d,_e,_f){_c=_c|0;if(_c<0){_c=0;}_d=(_d==null)?_a.length:(_d|0);if(_d<0||_d>_a.length){_d=_a.length;}var _g= +_b;if(_g==_g){return _g;}_e=nexacro._toBoolean(_e);var _h=this.colinfos[_b];if(_h){return this._getAvgValue(_a,_h._index,_c,_d,_h.ntype,_e);}var _i=this._constVars[_b];if(_i){return _i.value;}var _j=this._exprFuncs[_b];if(_j==null){_j=this._exprFuncs[_b]=this._createExprFunc(_b);}if(typeof _j!="function"){return 0;}return this._getAvgExpr(_a,_j,_c,_d,_e,((_f instanceof Array)?_f:[]));};_pDataset.getAvg=function(_a,_b,_c,_d,_e){return this.__getAvg(this._viewRecords,_a,_b,_c,((_d||_d===false)?_d:true),_e);};_pDataset.getAvgNF=function(_a,_b,_c,_d,_e){return this.__getAvg(this._rawRecords,_a,_b,_c,((_d||_d===false)?_d:true),_e);};_pDataset.__getRowsAvg=function(_a,_b,_c,_d,_e){if(!(_b instanceof Array)||_b.length<=0){return 0;}var _f= +_c;if(_f==_f){return _f;}_d=nexacro._toBoolean(_d);var _g=this.colinfos[_c];if(_g){return this._getRowsAvgValue(_a,_b,_g._index,_g.ntype,_d);}var _h=this._constVars[_c];if(_h){return _h.value;}var _i=this._exprFuncs[_c];if(_i==null){_i=this._exprFuncs[_c]=this._createExprFunc(_c);}if(typeof _i!="function"){return 0;}return this._getRowsAvgExpr(_a,_b,_i,_d,((_e instanceof Array)?_e:[]));};_pDataset.getRowsAvg=function(_a,_b,_c,_d){return this.__getRowsAvg(this._viewRecords,_a,_b,((_c||_c===false)?_c:true),_d);};_pDataset.getRowsAvgNF=function(_a,_b,_c,_d){return this.__getRowsAvg(this._rawRecords,_a,_b,((_c||_c===false)?_c:true),_d);};_pDataset.__getCaseAvg=function(_a,_b,_c,_d,_e,_f,_g,_h){_d=_d|0;if(_d<0){_d=0;}_e=(_e==null)?_a.length:(_e|0);if(_e<0||_e>_a.length){_e=_a.length;}_f=nexacro._toBoolean(_f);var _i= +_b;if(_i==_i){if(_i){return this.__getAvg(_a,_c,_d,_e,_f,_h);}return NaN;}var _j=this._constVars[_b];if(_j){if(_j.value){return this.__getAvg(_a,_c,_d,_e,_f,_h);}return NaN;}var _k=this.colinfos[_b];if(_k){_b=_k.id;}var _l=this._exprFuncs[_b];if(_l==null){_l=this._exprFuncs[_b]=this._createExprFunc(_b);}if(typeof _l!="function"){return NaN;}var _m;_i= +_c;if(_i==_i){if(_i){_m=this._findRowExpr(_a,_l,_d,_e,((_g instanceof Array)?_g:[]));if(_m>=0){return _i;}}return NaN;}_j=this._constVars[_c];if(_j){if(_j.value){_m=this._findRowExpr(_a,_l,_d,_e,((_g instanceof Array)?_g:[]));if(_m>=0){return _j.value;}}return 0;}_k=this.colinfos[_c];if(_k){return this._getCaseAvgValue(_a,_l,_k._index,_d,_e,_k.ntype,_f,((_g instanceof Array)?_g:[]));}var _n=this._exprFuncs[_c];if(_n==null){_n=this._exprFuncs[_c]=this._createExprFunc(_c);}if(typeof _n!="function"){return 0;}return this._getCaseAvgExpr(_a,_l,_n,_d,_e,_f,((_g instanceof Array)?_g:[]),((_h instanceof Array)?_h:[]));};_pDataset.getCaseAvg=function(_a,_b,_c,_d,_e,_f,_g){return this.__getCaseAvg(this._viewRecords,_a,_b,_c,_d,((_e||_e===false)?_e:true),_f,_g);};_pDataset.getCaseAvgNF=function(_a,_b,_c,_d,_e,_f,_g){return this.__getCaseAvg(this._rawRecords,_a,_b,_c,_d,((_e||_e===false)?_e:true),_f,_g);};_pDataset._getAvgValue=function(_a,_b,_c,_d,_e,_f){if(_e!=2&&_e!=3&&_e!=4){return 0;}var _g;var _h=0;if(_e==4){_g=new nexacro.Decimal();function __Decimal_loopFn(_i){var _j=this.__getParsedRow(_a[_i]);if(_j._rtype&7){var _k=_j[_b];if(!_f||(_k!=null&&_k!=="")){_h++ ;}if(_k){if(_k instanceof nexacro.Decimal){_g.addDecimal(_k);}else{_g.addDouble( +_k);}}}}nexacro.__forLoop(this,_c,_d,__Decimal_loopFn);if(_h==0||_g.isNaN()){return NaN;}_g.divDouble(_h);return _g;}else{_g=0;function __Value_loopFn(_i){var _j=this.__getParsedRow(_a[_i]);if(_j._rtype&7){var _k=_j[_b];if(!_f||(_k!=null&&_k!=="")){_h++ ;}if(_k){_g+=( +_k);}}}nexacro.__forLoop(this,_c,_d,__Value_loopFn);if(_h==0||_g!=_g){return NaN;}return _g/_h;}};_pDataset._getAvgExpr=function(_a,_b,_c,_d,_e,_f){var _g=0;var _h=0;var _i=false;function __Expr_loopFn(_j){var _k=this.__getParsedRow(_a[_j]);if(_k._rtype&15){var _l=_b.call(this,_j,_k._rawidx,null,this,_a,_k,_f);if(!_e||(_l!=null&&!isNaN(_l)&&_l!=="")){_g++ ;}if(_l){if(_i){if(_l instanceof nexacro.Decimal){_h.addDecimal(_l);}else{_h.addDouble(_l);}}else{if(_l instanceof nexacro.Decimal){_h=new nexacro.Decimal(_h);_h.addDecimal(_l);_i=true;}else{_h+=(_l);}}}}}nexacro.__forLoop(this,_c,_d,__Expr_loopFn);if(_g==0||_h!=_h){return NaN;}if(_i){_h.divDouble(_g);return _h;}return (typeof _h=="number"&&!isNaN(_h))?_h/_g:0;};_pDataset._getRowsAvgValue=function(_a,_b,_c,_d,_e){if(_d!=2&&_d!=3&&_d!=4){return 0;}var _f;var _g=0;if(_d==4){_f=new nexacro.Decimal();function __Decimal_loopFn(_h){var _i=_b[_h];var _j=this.__getParsedRow(_a[_i]);if(_j&&(_j._rtype&7)){var _k=_j[_c];if(!_e||(_k!=null&&_k!=="")){_g++ ;}if(_k){if(_k instanceof nexacro.Decimal){_f.addDecimal(_k);}else{_f.addDouble( +_k);}}}}nexacro.__forLoop(this,0,_b.length,__Decimal_loopFn);if(_g==0||_f.isNaN()){return NaN;}_f.divDouble(_g);return _f;}else{_f=0;function __Value_loopFn(_h){var _i=_b[_h];var _j=this.__getParsedRow(_a[_i]);if(_j&&(_j._rtype&7)){var _k=_j[_c];if(!_e||(_k!=null&&_k!=="")){_g++ ;}if(_k){_f+=( +_k);}}}nexacro.__forLoop(this,0,_b.length,__Value_loopFn);if(_g==0||_f!=_f){return NaN;}return _f/_g;}};_pDataset._getRowsAvgExpr=function(_a,_b,_c,_d,_e){var _f=0;var _g=0;var _h=false;function __Expr_loopFn(_i){var _j=_b[_i];var _k=this.__getParsedRow(_a[_j]);if(_k&&(_k._rtype&15)){var _l=_c.call(this,_j,_j,null,this,_a,_k,_e);if(!_d){_f++ ;}else{if(_l){if(_l instanceof nexacro.Decimal){if(!_l.isNaN()){_f++ ;}}else{_f++ ;}}else{if(_l===0){_f++ ;}}}if(_l){if(_h){if(_l instanceof nexacro.Decimal){_g.addDecimal(_l);}else{_g.addDouble(_l);}}else{if(_l instanceof nexacro.Decimal){_g=new nexacro.Decimal(_g);_g.addDecimal(_l);_h=true;}else{_g+=(_l);}}}}}nexacro.__forLoop(this,0,_b.length,__Expr_loopFn);if(_f==0||_g!=_g){return NaN;}if(_h){_g.divDouble(_f);return _g;}return _g/_f;};_pDataset._getCaseAvgValue=function(_a,_b,_c,_d,_e,_f,_g,_h){if(_f!=2&&_f!=3&&_f!=4){return 0;}var _i;var _j=0;if(_f==4){_i=new nexacro.Decimal();function __Decimal_loopFn(_k){var _l=this.__getParsedRow(_a[_k]);if(_l._rtype&15){var _m=_b.call(this,_k,_k,null,this,_a,_l,_h);if(_m){var _n=_l[_c];if(!_g||(_n!=null&&_n!=="")){_j++ ;}if(_n){if(_n instanceof nexacro.Decimal){_i.addDecimal(_n);}else{_i.addDouble( +_n);}}}}}nexacro.__forLoop(this,_d,_e,__Decimal_loopFn);if(_j==0||_i.isNaN()){return NaN;}_i.divDouble(_j);return _i;}else{_i=0;function __Value_loopFn(_k){var _l=this.__getParsedRow(_a[_k]);if(_l._rtype&15){var _m=_b.call(this,_k,_k,null,this,_a,_l,_h);if(_m){var _n=_l[_c];if(!_g||(_n!=null&&_n!=="")){_j++ ;}if(_n){_i+=( +_n);}}}}nexacro.__forLoop(this,_d,_e,__Value_loopFn);if(_j==0||_i!=_i){return NaN;}return _i/_j;}};_pDataset._getCaseAvgExpr=function(_a,_b,_c,_d,_e,_f,_g,_h){var _i=0;var _j=0;var _k=false;function __Expr_loopFn(_l){var _m=this.__getParsedRow(_a[_l]);if(_m._rtype&15){var _n=_b.call(this,_l,_l,null,this,_a,_m,_g);if(_n){var _o=_c.call(this,_l,_l,null,this,_a,_m,_h);if(!_f||(_o!=null&&!isNaN(_o)&&_o!=="")){_i++ ;}if(_o){if(_k){if(_o instanceof nexacro.Decimal){_j.addDecimal(_o);}else{_j.addDouble(_o);}}else{if(_o instanceof nexacro.Decimal){_j=new nexacro.Decimal(_j);_j.addDecimal(_o);_k=true;}else{_j+=(_o);}}}}}}_e=_a.length<_e?_a.length:_e;nexacro.__forLoop(this,_d,_e,__Expr_loopFn);if(_i==0||_j!=_j){return NaN;}if(_k){_j.divDouble(_i);return _j;}return _j/_i;};_pDataset.__findMaxLengthRow=function(_a,_b,_c,_d){_c=_c|0;if(_c<0){_c=0;}_d=(_d==null)?_a.length:(_d|0);if(_d<0||_d>_a.length){_d=_a.length;}var _e=this.getColIndex(_b);if(_e>=0){if(_e<this.colinfos.length){return this._findMaxLengthRow(_a,_e,_c,_d);}else{return _c;}}return -1;};_pDataset.findMaxLengthRow=function(_a,_b,_c){return this.__findMaxLengthRow(this._viewRecords,_a,_b,_c);};_pDataset.findMaxLengthRowNF=function(_a,_b,_c){return this.__findMaxLengthRow(this._rawRecords,_a,_b,_c);};_pDataset._findMaxLengthRow=function(_a,_b,_c,_d){var _e;var _f=-1;function __loopFn(_g){var _h=this.__getParsedRow(_a[_g]);if(_h._rtype&7){var _i=_h[_b];if(_i){var _j=_i.toString().length;if(_e==null||_j>_e){_e=_j;_f=_g;}}}}nexacro.__forLoop(this,_c,_d,__loopFn);return _f;};_pDataset.__createKeyRowsSortFunc=function(_a,_b){var _c=this;return function(_d,_e){var _f=0;function __loopFn(_g){var _h=_d[_g];var _i=_e[_g];_f=_c._compareValue(_h,_i,_a[_g].ntype);if(_f!=0){return true;}}nexacro.__forLoop(_c,0,_b,__loopFn);return _f==0?((_d._rawidx>_e._rawidx)?1:-1):_f;};};_pDataset._createDataset=function(_a,_b,_c,_d,_e,_f){if(!_b||!(_c instanceof Array)||_c.length<=0){return null;}_e=_e|0;if(_e<0){_e=0;}_f=(_f==null)?_a.length:(_f|0);if(_f<0||_f>_a.length){_f=_a.length;}var _g=this.colinfos;var _h=this._constVars;var _i=[];var _j,_k;var _l,_m;function __parse_selct_loopFn(_q){var _r=_c[_q];var _s=_r.indexOf(":");if(_s>0){_j=_r.substring(0,_s).trim();_k=_r.substring(_s+1).trim();_m=this.getColIndex(_k);if(_m){_i[_i.length]={id:_j,type:"column",colid:_k,colidx:_m};return false;}_l=_h[_k];if(_l){_i[_i.length]={id:_j,type:"const",colid:_k,colval:_l.value};return false;}var _t=null;if(_k&&_k!=""){_t=this._exprFuncs[_k];if(_t==null){_t=this._exprFuncs[_k]=this._createExprFunc(_k);}if(typeof _t=="function"){_i[_i.length]={id:_j,type:"expr",exprFn:_t};return false;}}_i[_i.length]={id:_j,type:"null"};}else{_j=_r.trim();_m=_g[_j];if(_m){_i[_i.length]={id:_j,type:"column",colid:_j,colidx:_m._index};return false;}_l=_h[_j];if(_l){_i[_i.length]={id:_j,type:"const",colid:_j,colval:_l.value};return false;}_i[_i.length]={id:_j,type:"null"};}}nexacro.__forLoop(this,0,_c.length,__parse_selct_loopFn);if(_i.length<=0){return null;}var _n=new nexacro.NormalDataset(_b,this.parent);_n._p_enableevent=false;_n._p_updatecontrol=true;_n._p_useclientlayout=true;_n.lazyParsing=false;_n._eventstat=false;function __create_colinfo_loopFn(_q){var _r=_i[_q];if(_r.type=="column"){_n._addColumnInfo(_r.id,_g[_r.colid]);}else if(_r.type=="const"){var _l=_h[_r.colid];_n._addConstColumn(_r.id,_r.colval,_l.type,_l.size);}else{_n._addColumn(_r.id,"variant",0);}}nexacro.__forLoop(this,0,_i.length,__create_colinfo_loopFn);var _o=null;if(_d&&_d!=""){_o=this._exprFuncs[_d];if(_o==null){_o=this._exprFuncs[_d]=this._createExprFunc(_d);}if(typeof _o!="function"){_o=null;}}var _p=_n._rawRecords;function __createDataset_rowdata_loopFn(_q){var _r=this.__getParsedRow(_a[_q]);if(_o){var _s=_o.call(this,_q,_q,null,this,_a,_r,[]);if(!_s){return false;}}var _t=[];_t._rtype=1;_t._rawidx=_q;_t._orgidx=_r._rawidx;_t._level=0;var _u=0;function __create_coldata_loopFn(_v){var _w=_i[_v];if(_w.type=="column"){_t[_u]=_r[_w.colidx];}else if(_w.type=="const"){return;}else if(_w.type=="expr"){var _x=_w.exprFn.call(this,_q,_q,null,this,_a,_r,[]);_t[_u]=_x;}_u++ ;}nexacro.__forLoop(this,0,_i.length,__create_coldata_loopFn);_p[_p.length]=_t;}nexacro.__forLoop(this,_e,_f,__createDataset_rowdata_loopFn);_i.length=0;_n._viewRecords=_n._rawRecords;_n._p_constcount=_n._constVars.length;_n._p_colcount=_n.colinfos.length+_n._p_constcount;_n._p_rowcount=_n._viewRecords.length;return _n;};_pDataset.createDataset=function(_a,_b,_c,_d,_e){return this._createDataset(this._viewRecords,_a,_b,_c,_d,_e);};_pDataset.createDatasetNF=function(_a,_b,_c,_d,_e){return this._createDataset(this._rawRecords,_a,_b,_c,_d,_e);};_pDataset._createGrouppingDataset=function(_a,_b,_c,_d,_e,_f,_g){if(!_b||!(_c instanceof Array)||_c.length<=0||!_e){return null;}_f=_f|0;if(_f<0){_f=0;}_g=(_g==null)?_a.length:(_g|0);if(_g<0||_g>_a.length){_g=_a.length;}var _h=this.colinfos;var _i=this._constVars;var _j=[];function __parse_selct_loopFn(_w){var _x=_c[_w];var _y=_x.indexOf(":");var _z;var _aa;var _ab;var _ac;if(_y>0){_aa=_x.substring(0,_y).trim();_ab=_x.substring(_y+1).trim();var _ad="sum";_y=_ab.indexOf(":");if(_y>0){_ad=_ab.substring(0,_y).trim().toLowerCase();if(_ad=="key"||_ad=="count"||_ad=="sum"||_ad=="min"||_ad=="max"||_ad=="avg"){_ab=_ab.substring(_y+1).trim();}}_z=this.getColIndex(_ab);if(_z){_j[_j.length]={id:_aa,type:"column",colid:_ab,colidx:_z._index,ntype:_z.ntype,aggtype:_ad};return false;}_ac=_i[_ab];if(_ac){_j[_j.length]={id:_aa,type:"const",colid:_ab,colval:_ac.value};return false;}var _ae=null;if(_ab&&_ab!=""){_ae=this._exprFuncs[_ab];if(_ae==null){_ae=this._exprFuncs[_ab]=this._createExprFunc(_ab);}if(typeof _ae=="function"){_j[_j.length]={id:_aa,type:"expr",exprFn:_ae,ntype:-1,aggtype:_ad};return false;}}_j[_j.length]={id:_aa,type:"null"};}else{_aa=_x.trim();_z=_h[_aa];if(_z){_j[_j.length]={id:_aa,type:"column",colid:_aa,colidx:_z._index,ntype:_z.ntype,aggtype:"sum"};return false;}_ac=_i[_aa];if(_ac){_j[_j.length]={id:_aa,type:"const",colid:_aa,colval:_ac.value};return false;}_j[_j.length]={id:_aa,type:"null"};}}nexacro.__forLoop(this,0,_c.length,__parse_selct_loopFn);if(_j.length<=0){return null;}var _k=null;if(_e&&_e!=null&&_e!=""){var _l=_e.split(",");_k=[];function __parse_group_loopFn(_w){var _x=_l[_w].trim();function __createDataset_parsegroup_find_loopFn(_aa){if(_j[_aa].id==_x){return true;}}var _y=nexacro.__forLoop(this,0,_j.length,__createDataset_parsegroup_find_loopFn);if(_y<_j.length){if(_j[_y].type=="const"||_j[_y].type=="null"){return false;}var _z=_j[_y];_z.key=_k.length;_k[_k.length]={id:_z.id,idx:_y,ntype:_z.ntype};}}nexacro.__forLoop(this,0,_l.length,__parse_group_loopFn);}var _m=new nexacro.NormalDataset(_b,this.parent);_m._p_enableevent=false;_m._p_updatecontrol=true;_m._p_useclientlayout=true;_m.lazyParsing=false;_m._eventstat=false;function __create_colinfo_loopFn(_w){var _x=_j[_w];var _y;if(_x.key>=0){if(_x.type=="column"){_m._addColumnInfo(_x.id,_h[_x.colid]);}else if(_x.type=="const"){_y=_i[_x.colid];_m._addConstColumn(_x.id,_x.colval,_y.type,_y.size);}else{_m._addColumn(_x.id,"variant",0);}}else{if(_x.type=="const"){_y=_i[_x.colid];_m._addConstColumn(_x.id,_x.colval,_y.type,_y.size);}else{_m._addColumn(_x.id,"variant",0);}}}nexacro.__forLoop(this,0,_j.length,__create_colinfo_loopFn);var _n=null;if(_d&&_d!=""){_n=this._exprFuncs[_d];if(_n==null){_n=this._exprFuncs[_d]=this._createExprFunc(_d);}if(typeof _n!="function"){_n=null;}}var _o=[];function __create_keydata_loopFn(_w){var _x=this.__getParsedRow(_a[_w]);if(_n){var _y=_n.call(this,_w,_w,null,this,_a,_x,[]);if(!_y){return false;}}var _z=_k.length;if(_z>0){var _aa=[];_aa._orgidx=_w;function __group_keycol_loopFn(_ab){var _ac=_k[_ab];var _ad=_j[_ac.idx];if(_ad.type=="column"){_aa[_ab]=_x[_ad.colidx];}else if(_ad.type=="expr"){var _ae=_ad.exprFn.call(this,_w,_w,null,this,_a,_x,[]);_aa[_ab]=_ae;}}nexacro.__forLoop(this,0,_z,__group_keycol_loopFn);_o[_o.length]=_aa;}}nexacro.__forLoop(this,_f,_g,__create_keydata_loopFn);if(_k){var _p=this.__createKeyRowsSortFunc(_k,_k.length);_o.sort(_p);}var _q=_m._rawRecords;var _r=_o[0];var _s=_a[_r._orgidx];var _t=[];_t[0]=_r._orgidx;function __create_grpdata_loopFn(_w){var _x=_o[_w];var _y=_a[_x._orgidx];var _z=0;function __comparegrp_loopFn(_aa){var _ab=_r[_aa];var _ac=_x[_aa];_z=this._compareValue(_ab,_ac,_k[_aa].ntype);if(_z!=0){return true;}}nexacro.__forLoop(this,0,_k.length,__comparegrp_loopFn);if(_z!=0){var _u=[];_u._rtype=1;_u._rawidx=_q.length;_u._orgidx=_q.length;_u._level=0;var _v=0;function __create_grpcoldata_loopFn(_aa){var _ab=_j[_aa];if(_ab.key>=0){_u[_v]=_r[_ab.key];}else if(_ab.type=="const"){return;}else{if(_ab.type=="null"){_u[_v]=null;}else if(_ab.type=="column"){if(_ab.aggtype=="key"){_u[_v]=_s[_ab.colidx];}else if(_ab.aggtype=="count"){_u[_v]=_t.length;}else if(_ab.aggtype=="sum"){_u[_v]=this._getRowsSumValue(_a,_t,_ab.colidx,_ab.ntype);}else if(_ab.aggtype=="min"){_u[_v]=this._getRowsMinValue(_a,_t,_ab.colidx,_ab.ntype);}else if(_ab.aggtype=="max"){_u[_v]=this._getRowsMaxValue(_a,_t,_ab.colidx,_ab.ntype);}else if(_ab.aggtype=="avg"){_u[_v]=this._getRowsAvgValue(_a,_t,_ab.colidx,_ab.ntype,true);}else{_u[_v]=this._getRowsSumValue(_a,_t,_ab.colidx,_ab.ntype);}}else if(_ab.type=="expr"){if(_ab.aggtype=="key"){_u[_v]=_ab.exprFn.call(this,_r._orgidx,_r._orgidx,null,this,_a,_s,[]);}else if(_ab.aggtype=="count"){_u[_v]=_t.length;}else if(_ab.aggtype=="sum"){_u[_v]=this._getRowsSumExpr(_a,_t,_ab.exprFn,[]);}else if(_ab.aggtype=="min"){_u[_v]=this._getRowsMinExpr(_a,_t,_ab.exprFn,[]);}else if(_ab.aggtype=="max"){_u[_v]=this._getRowsMaxExpr(_a,_t,_ab.exprFn,[]);}else if(_ab.aggtype=="avg"){_u[_v]=this._getRowsAvgExpr(_a,_t,_ab.exprFn,true,[]);}else{_u[_v]=this._getRowsSumExpr(_a,_t,_ab.exprFn,[]);}}}_v++ ;}nexacro.__forLoop(this,0,_j.length,__create_grpcoldata_loopFn);_q[_q.length]=_u;_r=_x;_s=_y;_t.length=0;_t[0]=_x._orgidx;}else{_t[_t.length]=_x._orgidx;}}nexacro.__forLoop(this,1,_o.length,__create_grpdata_loopFn);if(_t.length>0){var _u=[];_u._rtype=1;_u._rawidx=_q.length;_u._orgidx=_q.length;_u._level=0;var _v=0;function __create_last_grpcoldata_loopFn(_w){var _x=_j[_w];if(_x.key>=0){_u[_v]=_r[_x.key];}else if(_x.type=="const"){return;}else{if(_x.type=="null"){_u[_v]=null;}else if(_x.type=="column"){if(_x.aggtype=="key"){_u[_v]=_s[_x.colidx];}else if(_x.aggtype=="count"){_u[_v]=_t.length;}else if(_x.aggtype=="sum"){_u[_v]=this._getRowsSumValue(_a,_t,_x.colidx,_x.ntype);}else if(_x.aggtype=="min"){_u[_v]=this._getRowsMinValue(_a,_t,_x.colidx,_x.ntype);}else if(_x.aggtype=="max"){_u[_v]=this._getRowsMaxValue(_a,_t,_x.colidx,_x.ntype);}else if(_x.aggtype=="avg"){_u[_v]=this._getRowsAvgValue(_a,_t,_x.colidx,_x.ntype,true);}else{_u[_v]=this._getRowsSumValue(_a,_t,_x.colidx,_x.ntype);}}else if(_x.type=="expr"){if(_x.aggtype=="key"){_u[_v]=_x.exprFn.call(this,_r._orgidx,_s._rawidx,null,this,_a,_s,[]);}else if(_x.aggtype=="count"){_u[_v]=_t.length;}else if(_x.aggtype=="sum"){_u[_v]=this._getRowsSumExpr(_a,_t,_x.exprFn,[]);}else if(_x.aggtype=="min"){_u[_v]=this._getRowsMinExpr(_a,_t,_x.exprFn,[]);}else if(_x.aggtype=="max"){_u[_v]=this._getRowsMaxExpr(_a,_t,_x.exprFn,[]);}else if(_x.aggtype=="avg"){_u[_v]=this._getRowsAvgExpr(_a,_t,_x.exprFn,true,[]);}else{_u[_v]=this._getRowsSumExpr(_a,_t,_x.exprFn,[]);}}}_v++ ;}nexacro.__forLoop(this,0,_j.length,__create_last_grpcoldata_loopFn);_q[_q.length]=_u;_r=null;_s=null;_t.length=0;_t=null;}this._clearRecordData(_o);_o=null;_j.length=0;if(_k){_k.length=0;}_m._viewRecords=_m._rawRecords;_m._p_constcount=_m._constVars.length;_m._p_colcount=_m.colinfos.length+_m._p_constcount;_m._p_rowcount=_m._viewRecords.length;return _m;};_pDataset.createGrouppingDataset=function(_a,_b,_c,_d,_e,_f){return this._createGrouppingDataset(this._viewRecords,_a,_b,_c,_d,_e,_f);};_pDataset.createGrouppingDatasetNF=function(_a,_b,_c,_d,_e,_f){return this._createGrouppingDataset(this._rawRecords,_a,_b,_c,_d,_e,_f);};_pDataset._bWorkingstatus=false;_pDataset._endLoad=function(_a,_b,_c){this._bWorkingstatus=true;this._reFilter();this._resetSortGroup();if(this._eventstat){this.on_fire_onload(_a,_b,_c);if(this._viewRecords&&this._viewRecords.length>0){var _d=0;if(_d>=this._p_rowcount){_d=-1;}var _e=this._p_rowposition;var _f;if(_d!=_e){if(this.onrowposchanged&&this.onrowposchanged._has_handlers){_f=new nexacro.DSRowPosChangeEventInfo(this,"onrowposchanged",_e,_d,51);if(_d>=0||_d<this._p_rowcount){this._p_rowposition=_d;this.on_fire_onrowposchanged(_f);}}else{this._p_rowposition=_d;}}if(this.onvaluechanged&&this.onvaluechanged._has_handlers){_f=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",this._p_rowposition,-1,-1,"",undefined,undefined);this.on_fire_onvaluechanged(_f);}}}else if(this._viewRecords.length>0){this._p_rowposition=0;}this._bWorkingstatus=false;};_pDataset._setContents=function(_a){var _b=false;if(_a){if(typeof _a=="string"&&_a.length){_b=this._loadFromXMLStr(_a,undefined,undefined,undefined,true);}else{_b=this._loadFromJSONObj(_a,true,false,undefined,"",true);}this._p_rowposition=-1;if(this.binddataobject){this._loadDataObject(false);}this.updateSortGroup();if(this.parent&&(!this.parent._is_application&&this.parent._is_form==false)){this.on_created();}}return nexacro._toBoolean(_b);};_pDataset._loadFromDOM=function(_a,_b,_c,_d,_e){this.loadstatus=true;this._eventstat=!this.loadstatus&&this._p_enableevent;if(_e){if(_d){this._clearData();}else{this._clearAll();}}if(_a==null){this.loadstatus=false;this._eventstat=this._p_enableevent;return 0;}if(!_b){_b=0;}if(!_c){_c=-1;}this._setColInfoFromDOM(_a,_d);_b=this._loadRecordFromDOM(_a,_b,_c);var _f=this._viewRecords;this._p_constcount=this._constVars.length;this._p_colcount=this.colinfos.length+this._p_constcount;this._p_rowcount=_f.length;this.loadstatus=false;this._eventstat=this._p_enableevent;return _b;};_pDataset._setColInfoFromDOM=function(_a,_b){if(!_b){var _c=_a.getElementsByTagName("ConstColumn");function __loadFromDOM_const_loopFn(_e){var _f=_c[_e];var _g=_f.getAttribute("id");if(_g.length){this._addConstColumn(_g,_f.getAttribute("value"),_f.getAttribute("type"));}}var _d=(_c?_c.length:0);nexacro.__forLoop(this,0,_d,__loadFromDOM_const_loopFn);_c=_a.getElementsByTagName("Column");function __loadFromDOM_col_loopFn(_e){var _f=_c[_e];var _g=_f.getAttribute("id");if(_g.length){this._addColumn(_g,_f.getAttribute("type"),_f.getAttribute("size"),_f.getAttribute("prop"),_f.getAttribute("sumtext"),_f.getAttribute("datapath"));}}_d=(_c?_c.length:0);nexacro.__forLoop(this,0,_d,__loadFromDOM_col_loopFn);}};_pDataset._loadRecordFromDOM=function(_a,_b,_c){var _d=this.colinfos;var _e=_a.getElementsByTagName("Row");var _f=(_e?_e.length:0);var _g=this._rawRecords;var _h=this._deletedRecords;var _i=_d.length;var _j=new Array(_i);function __loadRecordFromDOM_temp_loopFn(_k){var _l=_d[_k];if(_l.ntype>=4&&_l.ntype<=7){_j[_l._index]=null;}}nexacro.__forLoop(this,0,_i,__loadRecordFromDOM_temp_loopFn);function __loadFromDOM_row_loopFn(_k){var _l=_j.slice(0,_i);_l._orgidx=_k;_l._rawidx=_g.length;_l._level=0;var _m=_e[_k];var _n=_m.getAttribute("type");if(_n==null){_l._rtype=1;}else if(_n.charAt(0)=='I'||_n.charAt(0)=='i'){_l._rtype=2;}else if(_n.charAt(0)=='U'||_n.charAt(0)=='u'){_l._rtype=4;}else if(_n.charAt(0)=='D'||_n.charAt(0)=='d'){_l._rtype=8;}else{_l._rtype=1;}var _o=_m.getElementsByTagName("Col");var _p=(_o?_o.length:0);if(_p>0){function __loadRecordFromDOM_coldata_loopFn(_t){var _u=_o[_t];var _v=_u.getAttribute("id");var _w=_d[_v];if(_w){var _x=_u.firstChild;if(_x){_l[_w._index]=_w._fromText(_x.nodeValue);}else{_l[_w._index]=_w._fromText("");}}}nexacro.__forLoop(this,0,_p,__loadRecordFromDOM_coldata_loopFn);}if(_l._rtype==4){var _q=_m.getElementsByTagName("OrgRow");var _r=(_q?_q.length:0);if(_r){var _s=_j.slice(0,_i);_o=_q[0].getElementsByTagName("Col");_p=(_o?_o.length:0);if(_p>0){function __loadRecordFromDOM_orgcoldata_loopFn(_t){var _u=_o[_t];var _v=_u.getAttribute("id");var _w=_d[_v];if(_w){var _x=_u.firstChild;if(_x){_s[_w._index]=_w._fromText(_x.nodeValue);}else{_s[_w._index]=_w._fromText("");}}}nexacro.__forLoop(this,0,_p,__loadRecordFromDOM_orgcoldata_loopFn);}_l._orgrow=_s;}}if(_l._rtype==8){_h[_h.length]=_l;}else{_g[_g.length]=_l;}if(_c>0&&(_g.length-_h.length)==_c){return true;}}_b=nexacro.__forLoop(this,_b,_f,__loadFromDOM_row_loopFn);_j.length=0;_j=null;return _b;};_pDataset.loadFromDOM=function(_a,_b,_c,_d,_e){if(_b==null){_b=true;}_b=nexacro._toBoolean(_b);var _f=this._p_useclientlayout;if(_a!=null){this._bWorkingstatus=true;var _g;if(_a.nodeName=="Dataset"){_g=_a;}else{var _h=_a.getElementsByTagName("Dataset");_g=_h[0];}if(_c){_b=false;if(this.colinfos&&this.colinfos.length>0){_f=true;}}var _i=0;if(nexacro._use_firefirstcount&&_b&&this.firefirstcount>0){_i=this._loadFromDOM(_g,_i,this.firefirstcount,_f,_b);if(this.firefirstcount==this._p_rowcount){this._reFilter();this._resetSortGroup();this.on_fire_onload(_d,_e,1);this._forcesetRowPosition(0,51);this._p_rowposition=0;this._loadFromDOM(_g,_i,-1,_f,false);}}else{this._loadFromDOM(_g,_i,-1,_f,_b);}if(this.colinfos){this._reFilter();this._resetSortGroup();}if(this._eventstat){this.on_fire_onload(_d,_e,_b?0:12);if(this._viewRecords&&this._viewRecords.length>0){this._forcesetRowPosition(0,51);}else{this._forcesetRowPosition(-1,51);}}else if(this._viewRecords&&this._viewRecords.length>0){this._p_rowposition=0;}this._bWorkingstatus=false;return this._p_rowcount;}};_pDataset._setConstColInfoFromXMLStr=function(_a,_b){var _c=0;var _d=nexacro._getXMLTagData(_a,_c,"<ColumnInfo>","</ColumnInfo>");if(_d){_c=_d[3];var _e=_d[0];var _f=0;function __loadFromXMLStr_const_loopFn(){var _g=nexacro._getXMLTagData2(_e,_f,"<ConstColumn ","</ConstColumn>");if(_g==null){return true;}_f=_g[3];var _h=_g[1];var _i=nexacro._getXMLAttributeID(_h);if(_b&&!(_i in this._constVars)){return false;}var _j=nexacro._getXMLAttributeData(_h,"value");if(_i.length){var _k=nexacro._getXMLAttributeType(_h);var _l=nexacro._getXMLAttributeData(_h,"size");var _m=nexacro._getXMLAttributeData(_h,"datapath");this._addConstColumn(_i,nexacro._decodeXml(_j),_k,_l,_m);}return false;}nexacro.__whileLoop(this,__loadFromXMLStr_const_loopFn);}return _c;};_pDataset._setColInfoFromXMLStr=function(_a){var _b=0;var _c=nexacro._getXMLTagData(_a,_b,"<ColumnInfo>","</ColumnInfo>");if(_c){_b=_c[3];var _d=_c[0];var _e=0;function __loadFromXMLStr_const_loopFn(){var _g=nexacro._getXMLTagData2(_d,_e,"<ConstColumn ","</ConstColumn>");if(_g==null){return true;}_e=_g[3];var _h=_g[1];var _i=nexacro._getXMLAttributeID(_h);var _j=nexacro._getXMLAttributeData(_h,"value");if(_i.length){var _k=nexacro._getXMLAttributeType(_h);var _l=nexacro._getXMLAttributeData(_h,"size");var _m=nexacro._getXMLAttributeData(_h,"datapath");this._addConstColumn(_i,nexacro._decodeXml(_j),_k,_l,_m);}return false;}nexacro.__whileLoop(this,__loadFromXMLStr_const_loopFn);var _f=0;function __loadFromXMLStr_col_loopFn(){var _c=nexacro._getXMLTagData4(_d,_f,"<Column ");if(_c==null){return true;}_f=_c[3];var _g=_c[1];var _h=nexacro._getXMLAttributeID(_g);if(_h&&_h.length){var _i=nexacro._getXMLAttributeType(_g);var _j=nexacro._getXMLAttributeData(_g,"size");var _k=nexacro._getXMLAttributeData(_g,"prop");var _l=nexacro._getXMLAttributeData(_g,"sumtext");var _m=nexacro._getXMLAttributeData(_g,"datapath");this._addColumn(_h,_i,_j,_k,_l,_m);}}nexacro.__whileLoop(this,__loadFromXMLStr_col_loopFn);}return _b;};_pDataset._loadRecordFromXMLStr=function(_a,_b,_c){var _d=this.colinfos;var _e=this._rawRecords;var _f=this._deletedRecords;var _g=_d.length;var _h=new Array(_g);function __loadRecordFromDOM_temp_loopFn(_j){var _k=_d[_j];if(_k.ntype>=4&&_k.ntype<=7){_h[_k._index]=undefined;}}nexacro.__forLoop(this,0,_g,__loadRecordFromDOM_temp_loopFn);var _i=_e.length+_f.length;if(_b>-1){function __loadFromXMLStr_row_loopFn(){var _j=nexacro._getXMLTagData3(_a,_b,"<Row","</Row>");if(_j==null){return true;}_b=_j[3];var _k=_j[0];var _l=_j[1];var _m=_h.slice(0,_g);_m._orgidx=_i;_m._rawidx=_e.length;_m._level=0;_i++ ;if(_l){var _n=nexacro._getXMLAttributeType(_l);if(!_n){_m._rtype=1;}else{var _o=_n.charAt(0);if(_o=='I'||_o=='i'){_m._rtype=2;}else if(_o=='U'||_o=='u'){_m._rtype=4;}else if(_o=='D'||_o=='d'){_m._rtype=8;}else{_m._rtype=1;}}}else{_m._rtype=1;}if(_m._rtype==4){var _p=nexacro._getXMLTagData(_k,0,"<OrgRow>","</OrgRow>");if(_p){_k=_k.substring(0,_p[2])+_k.substring(_p[3]);var _q=_p[0];var _r=_h.slice(0,_g);var _s=0;function __loadFromXMLStr_orgcolvalue_loopFn(){var _u=nexacro._getXMLTagData2(_q,_s,"<Col ","</Col>");if(_u==null){return true;}_s=_u[3];var _l=_u[1];var _v=nexacro._getXMLAttributeID(_l);var _w=_d[_v];if(_w){_r[_w._index]=_w._fromXMLText(_u[0]);}}nexacro.__whileLoop(this,__loadFromXMLStr_orgcolvalue_loopFn);_m._orgrow=_r;}}var _t=0;function __loadFromXMLStr_colvalue_loopFn(){if(_k){var _u=nexacro._getXMLTagData2(_k,_t,"<Col ","</Col>");if(_u==null){return true;}_t=_u[3];var _l=_u[1];var _v=nexacro._getXMLAttributeID(_l);var _w=_d[_v];if(_w){_m[_w._index]=_w._fromXMLText(_u[0]);}return false;}return true;}nexacro.__whileLoop(this,__loadFromXMLStr_colvalue_loopFn);if(_m._rtype==8){_f[_f.length]=_m;}else{_e[_e.length]=_m;}if(_c>0&&(_e.length-_f.length)==_c){return true;}}nexacro.__whileLoop(this,__loadFromXMLStr_row_loopFn);}return _b;};_pDataset._loadFromXMLStr=function(_a,_b,_c,_d,_e){this.loadstatus=true;this._eventstat=!this.loadstatus&&this._p_enableevent;if(!_b){_b=0;}if(!_c){_c=-1;}if(_e){if(_d){this._clearData();}else{this._clearAll();}}if(!_a){this.loadstatus=false;this._eventstat=this._p_enableevent;return 0;}if(_d){if(_b<=0){this._setConstColInfoFromXMLStr(_a,_d);_b=_a.indexOf("<Rows>");if(_b>-1){_b+=6;}}}else{if(_b<=0){_b=this._setColInfoFromXMLStr(_a);_b=_a.indexOf("<Rows>",_b);if(_b>-1){_b+=6;}}}if(_b>-1){_b=this._loadRecordFromXMLStr(_a,_b,_c);}this._p_constcount=this._constVars.length;this._p_colcount=this.colinfos.length+this._p_constcount;this._p_rowcount=this._viewRecords.length;this.loadstatus=false;this._eventstat=this._p_enableevent;return _b;};_pDataset.loadFromXMLStr=function(_a,_b,_c,_d,_e){if(_b==null){_b=true;}_b=nexacro._toBoolean(_b);var _f=this._p_useclientlayout;this._bWorkingstatus=true;if(_a){this._bWorkingstatus=true;if(_c){_b=false;if(this.colinfos&&this.colinfos.length>0){_f=true;}}var _g;if(nexacro._use_firefirstcount&&_b&&this.firefirstcount>0){_g=this._loadFromXMLStr(_a,0,this.firefirstcount,_f,_b);if(this.firefirstcount==this._p_rowcount){this._reFilter();this._resetSortGroup();this.on_fire_onload(_d,_e,1);this._forcesetRowPosition(0,51);this._p_rowposition=0;this._loadFromXMLStr(_a,_g,-1,_f,false);}}else{this._loadFromXMLStr(_a,0,-1,_f,_b);}if(this.colinfos){this._reFilter();this._resetSortGroup();}if(this._eventstat){this.on_fire_onload(_d,_e,_b?0:12);if(this._viewRecords&&this._viewRecords.length>0){this._forcesetRowPosition(0,51);}else{this._forcesetRowPosition(-1,51);}}else if(this._viewRecords&&this._viewRecords.length>0){this._p_rowposition=0;}this._bWorkingstatus=false;return this._p_rowcount;}};_pDataset.loadXML=function(_a,_b){return this.loadFromXMLStr(_a,_b);};_pDataset._TABS=["","\t","\t\t","\t\t\t","\t\t\t\t","\t\t\t\t\t","\t\t\t\t\t\t","\t\t\t\t\t\t\t"];_pDataset.__writeXMLData=function(_a,_b,_c){_a.push(this._TABS[_c]+_b);};_pDataset.__writeXMLNormalRow=function(_a,_b,_c){this.__writeXMLData(_a,"<Row>",_c++ );this.__writeXMLRowData(_a,_b,_c);this.__writeXMLData(_a,"</Row>", --_c);};_pDataset.__writeXMLCrudRow=function(_a,_b,_c){var _d="<Row";switch(_b._rtype){case 1:break;case 2:_d+=" type=\"insert\"";break;case 4:_d+=" type=\"update\"";break;case 8:_d+=" type=\"delete\"";break;}_d+=">";this.__writeXMLData(_a,_d,_c++ );this.__writeXMLRowData(_a,_b,_c);if(_b._rtype==4&&_b._orgrow){this.__writeXMLData(_a,"<OrgRow>",_c++ );this.__writeXMLRowData(_a,_b._orgrow,_c);this.__writeXMLData(_a,"</OrgRow>", --_c);}this.__writeXMLData(_a,"</Row>", --_c);};_pDataset.__writeXMLRowData=function(_a,_b,_c){var _d=this.colinfos;function __writeColData_loopFn(_e){var _f=_d[_e];var _g=_f.id;var _h=_f._index;var _i=_b[_h];_i=this._convertValueBySaveProp(_i);_i=_f._toXMLText(_i);if(_i!=null){if(_i.length==0){this.__writeXMLData(_a,"<Col id=\""+_g+"\" />",_c);}else{this.__writeXMLData(_a,"<Col id=\""+_g+"\">"+_i+"</Col>",_c);}}}nexacro.__forLoop(this,0,_d.length,__writeColData_loopFn);};_pDataset._saveXML=function(_a,_b,_c,_d,_e,_f){if(!_c){_c=0;}var _g=(_a?_a:this.id);var _h="N";switch(_b){case "A":case "a":case "all":case "All":_h="A";break;case "U":case "u":case "update":case "Update":_h="U";break;case "N":case "n":case "normal":case "Normal":_h="N";break;case "V":case "v":case "view":case "View":_h="V";break;}this._setSaveProp(_d,_e,_f);var _i=[];this.__writeXMLData(_i,"<Dataset id=\""+_g+"\">",_c++ );var _j=this._constVars;var _k=this.colinfos;if(_j.length+_k.length){this.__writeXMLData(_i,"<ColumnInfo>",_c++ );if(_j.length){function __saveXML_constcol_loopFn(_o){var _p=_j[_o];var _q=this._constVars.get_id(_o);var _r=nexacro._encodeXml(_p.value);var _s=_p.ntype;var _t=_p.size;var _u="";if(_s!=null&&_s!=9){_u+=" type=\""+_p.type+"\"";}if(_t>0){_u+=" size=\""+_t+"\"";}_r=this._convertValueBySaveProp(_r);if(_r!=null){this.__writeXMLData(_i,"<ConstColumn id=\""+_q+"\""+_u+" value=\""+_r+(_p.datapath?"\" datapath=\""+_p.datapath:"")+"\" />",_c);}else{this.__writeXMLData(_i,"<ConstColumn id=\""+_q+"\""+_u+(_p.datapath?" datapath=\""+_p.datapath+"\"":"")+" />",_c);}}nexacro.__forLoop(this,0,_j.length,__saveXML_constcol_loopFn);}function __saveXML_colinfo_loopFn(_o){var _p=_k[_o];var _q=_p.id;var _r=_p.ntype==9?"STRING":_p.type?_p.type:nexacro.DataUtils.toTypeName(_p.ntype);var _s=_p.ntype==9?nexacro.DataUtils._default_sizes[1]:_p.size;var _t=_p.prop;var _u=_p.datapath?"\" datapath=\""+_p.datapath:"";if(_t=="NONE"||_t==null||(typeof _t)=="number"||_t==""){this.__writeXMLData(_i,"<Column id=\""+_q+"\" type=\""+_r+"\" size=\""+_s+_u+"\" />",_c);}else{var _v=_p.sumtext;if(_v){this.__writeXMLData(_i,"<Column id=\""+_q+"\" type=\""+_r+"\" size=\""+_s+"\" prop=\""+_t+"\" sumtext=\""+_v+_u+"\" />",_c);}else{this.__writeXMLData(_i,"<Column id=\""+_q+"\" type=\""+_r+"\" size=\""+_s+"\" prop=\""+_t+_u+"\" />",_c);}}}nexacro.__forLoop(this,0,_k.length,__saveXML_colinfo_loopFn);this.__writeXMLData(_i,"</ColumnInfo>", --_c);}else{this.__writeXMLData(_i,"<ColumnInfo />",_c);}var _l=this._viewRecords;var _m=this._rawRecords;var _n=this._deletedRecords;if(_m.length+_n.length){this.__writeXMLData(_i,"<Rows>",_c++ );if(_n.length>0&&(_h=="A"||_h=="U")){function __saveXML_delrows_loopFn(_o){var _p=this.__getParsedRow(_n[_o]);if(_p._rtype&15){this.__writeXMLCrudRow(_i,_p,_c);}}nexacro.__forLoop(this,0,_n.length,__saveXML_delrows_loopFn);}if(_h=="A"){function __saveXML_allrow_loopFn(_o){var _p=this.__getParsedRow(_m[_o]);if(_p._rtype&15){this.__writeXMLCrudRow(_i,_p,_c);}}nexacro.__forLoop(this,0,_m.length,__saveXML_allrow_loopFn);}else if(_h=="U"){function __saveXML_updaterow_loopFn(_o){var _p=this.__getParsedRow(_m[_o]);if(_p._rtype&14){this.__writeXMLCrudRow(_i,_p,_c);}}nexacro.__forLoop(this,0,_m.length,__saveXML_updaterow_loopFn);}else if(_h=="V"){function __saveXML_viewrow_loopFn(_o){var _p=this.__getParsedRow(_l[_o]);this.__writeXMLNormalRow(_i,_p,_c);}nexacro.__forLoop(this,0,_l.length,__saveXML_viewrow_loopFn);}else{function __saveXML_normalrow_loopFn(_o){var _p=this.__getParsedRow(_m[_o]);if(_p._rtype&7){this.__writeXMLNormalRow(_i,_p,_c);}}nexacro.__forLoop(this,0,_m.length,__saveXML_normalrow_loopFn);}this.__writeXMLData(_i,"</Rows>", --_c);}else{this.__writeXMLData(_i,"<Rows>",_c);this.__writeXMLData(_i,"</Rows>",_c);}this.__writeXMLData(_i,"</Dataset>", --_c);return _i.join("\n");};_pDataset.saveXML=function(_a,_b,_c,_d,_e){return this._saveXML(_a,_b,0,_c,_d,_e);};_pDataset._saveJSON=function(_a,_b,_c,_d,_e,_f){if(!_c){_c=0;}var _g=(_a?_a:this.id);var _h="N";switch(_b){case "A":case "a":case "all":case "All":_h="A";break;case "U":case "u":case "update":case "Update":_h="U";break;case "N":case "n":case "normal":case "Normal":_h="N";break;case "V":case "v":case "view":case "View":_h="V";break;}this._setSaveProp(_d,_e,_f);var _i="";var _j=[];this.__writeJSONData(_j,"{",_c++ );this.__writeJSONData(_j,"\"id\": \""+_g+"\",",_c);var _k=this._constVars;var _l=this.colinfos;if(_k.length+_l.length){this.__writeJSONData(_j,"\"ColumnInfo\" :",_c);this.__writeJSONData(_j,"{",_c++ );if(_k.length){this.__writeJSONData(_j,"\"ConstColumn\":",_c);this.__writeJSONData(_j,"[",_c++ );function __saveJSON_constcol_loopFn(_r){var _s=_k[_r];var _t=this._constVars.get_id(_r);var _u=_s.value;var _v=_s.ntype;var _w=_s.size;var _x="";if(_v!=null&&_v!=9){_x+="\"type\":\""+_s.type+"\"";}if(_w>0){_x+=", \"size\":\""+_w+"\"";}_u=this._convertValueBySaveProp(_u);_i="";if(_r<_k.length-1){_i=",";}if(_u!=null){if(typeof _u=="string"){_u=_u.replace(/[\\]/gi,'\\\\');_u=_u.replace(/[\"]/gi,'\\"');}this.__writeJSONData(_j,"{\"id\":\""+_t+"\","+_x+", \"value\":\""+_u+"\"}"+_i,_c);}else{this.__writeJSONData(_j,"{\"id\":\""+_t+"\","+_x+"}"+_i,_c);}}nexacro.__forLoop(this,0,_k.length,__saveJSON_constcol_loopFn);this.__writeJSONData(_j,"],", --_c);}this.__writeJSONData(_j,"\"Column\":",_c);this.__writeJSONData(_j,"[",_c++ );function __saveJSON_colinfo_loopFn(_r){var _s=_l[_r];var _t=_s.id;var _u=_s.ntype==9?"STRING":_s.type?_s.type:nexacro.DataUtils.toTypeName(_s.ntype);var _v=_s.ntype==9?nexacro.DataUtils._default_sizes[1]:_s.size;var _w=_s.prop;_i="";if(_r<_l.length-1){_i=",";}if(_w=="NONE"||_w==null||(typeof _w)=="number"||_w==""){this.__writeJSONData(_j,"{ \"id\":\""+_t+"\", \"type\":\""+_u+"\", \"size\":\""+_v+"\" }"+_i,_c);}else{var _x=_s.sumtext;if(_x){this.__writeJSONData(_j,"{ \"id\":\""+_t+"\", \"type\":\""+_u+"\", \"size\":\""+_v+"\", \"prop\":\""+_w+"\", \"sumtext\":\""+_x+"\" }"+_i,_c);}else{this.__writeJSONData(_j,"{ \"id\":\""+_t+"\", \"type\":\""+_u+"\", \"size\":\""+_v+"\", \"prop\":\""+_w+"\" }"+_i,_c);}}}nexacro.__forLoop(this,0,_l.length,__saveJSON_colinfo_loopFn);this.__writeJSONData(_j,"]", --_c);this.__writeJSONData(_j,"}", --_c);}var _m=this._viewRecords;var _n=this._rawRecords;var _o=this._deletedRecords;if(_n.length+_o.length){this.__addStringJSONData(_j,",");var _p=false;this.__writeJSONData(_j,"\"Rows\":",_c);this.__writeJSONData(_j,"[",_c++ );if(_o.length>0&&(_h=="A"||_h=="U")){function __saveJSON_delrows_loopFn(_r){var _s=this.__getParsedRow(_o[_r]);if(_s._rtype&15){this.__writeJSONCrudRow(_j,_s,_c);if(_r<_o.length-1){this.__addStringJSONData(_j,",");}_p=true;}}nexacro.__forLoop(this,0,_o.length,__saveJSON_delrows_loopFn);}if(_h=="A"){if(_p&&_n.length>0){this.__addStringJSONData(_j,",");}function __saveJSON_allrow_loopFn(_r){var _s=this.__getParsedRow(_n[_r]);if(_s._rtype&15){this.__writeJSONCrudRow(_j,_s,_c);if(_r<_n.length-1){this.__addStringJSONData(_j,",");}}}nexacro.__forLoop(this,0,_n.length,__saveJSON_allrow_loopFn);}else if(_h=="U"){if(_p&&_n.length>0){this.__addStringJSONData(_j,",");}var _q=false;function __saveJSON_updaterow_loopFn(_r){var _s=this.__getParsedRow(_n[_r]);if(_s._rtype&14){if(_q){this.__addStringJSONData(_j,",");}this.__writeJSONCrudRow(_j,_s,_c);if(_q===false){_q=true;}}}nexacro.__forLoop(this,0,_n.length,__saveJSON_updaterow_loopFn);}else if(_h=="V"){if(_p&&_m.length>0){this.__addStringJSONData(_j,",");}function __saveJSON_viewrow_loopFn(_r){_i="";var _s=this.__getParsedRow(_m[_r]);if(_r<_m.length-1){_i=",";}this.__writeJSONData(_j,"{",_c);this.__writeJSONNormalRow(_j,_s,_c);this.__writeJSONData(_j,"}"+_i,_c);}nexacro.__forLoop(this,0,_m.length,__saveJSON_viewrow_loopFn);}else{if(_p&&_n.length>0){this.__addStringJSONData(_j,",");}function __saveJSON_normalrow_loopFn(_r){var _s=this.__getParsedRow(_n[_r]);if(_s._rtype&7){_i="";if(_r<_n.length-1){_i=",";}this.__writeJSONData(_j,"{",_c);this.__writeJSONNormalRow(_j,_s,_c);this.__writeJSONData(_j,"}"+_i,_c);}}nexacro.__forLoop(this,0,_n.length,__saveJSON_normalrow_loopFn);}this.__writeJSONData(_j,"]", --_c);}this.__writeJSONData(_j,"}", --_c);return _j.join("\n");};_pDataset.__writeJSONData=function(_a,_b,_c){_a.push(this._TABS[_c]+_b);};_pDataset.__addStringJSONData=function(_a,_b,_c){_a[_a.length-1]+=_b;};_pDataset.__writeJSONNormalRow=function(_a,_b,_c){this.__writeJSONRowData(_a,"",_b,_c);};_pDataset.__writeJSONCrudRow=function(_a,_b,_c){var _d="{";this.__writeJSONData(_a,_d,_c++ );var _e="";if(_b.length>0){_e=",";}switch(_b._rtype){case 1:_d="";break;case 2:_d="\"_RowType_\":\"I\""+_e;break;case 4:_d="\"_RowType_\":\"U\""+_e;break;case 8:_d="\"_RowType_\":\"D\""+_e;break;}this.__writeJSONRowData(_a,_d,_b,_c);this.__writeJSONData(_a,"}", --_c);if(_b._rtype==4&&_b._orgrow){_e="";for(var _f=0,_g=_b._orgrow.length;_f<_g;_f++ ){if(_b._orgrow[_f]){_e=",";break;}}this.__addStringJSONData(_a,",");this.__writeJSONData(_a,"{",_c++ );_d="\"_RowType_\":\"O\""+_e;this.__writeJSONRowData(_a,_d,_b._orgrow,_c);this.__writeJSONData(_a,"}", --_c);}};_pDataset.__writeJSONRowData=function(_a,_b,_c,_d){var _e=this.colinfos;var _f=false;var _g="";var _h=_b;function __writeColData_loopFn(_i){var _j=_e[_i];var _k=_j.id;var _l=_j._index;var _m=_c[_l];_m=this._convertValueBySaveProp(_m);_m=_j._toText(_m);if(_m){_m=_m.replace(/\n/gi,'\\n');_m=_m.replace(/\t/gi,'\\t');_m=_m.replace(/[\\]/gi,'\\\\');_m=_m.replace(/[\"]/gi,'\\"');}if(_m!=null){if(_f&&_i<_e.length){_g=",";}_h+=_g+" \""+_k+"\":\""+_m+"\"";_f=true;}}nexacro.__forLoop(this,0,_e.length,__writeColData_loopFn);this.__writeJSONData(_a,_h,_d);};_pDataset.saveJSON=function(_a,_b,_c,_d,_e){return this._saveJSON(_a,_b,0,_c,_d,_e);};_pDataset.loadFromDataObject=function(){var _a=this._binddataobject;if(_a){this._loadFromJSONObject(_a.data,this._p_dataobjectpath);this._endLoad(0,"SUCCESS",0);}};_pDataset._loadFromJSONObject=function(_a,_b){this.loadstatus=true;this._eventstat=!this.loadstatus&&this._p_enableevent;var _c=this.__makeJSONDataMappingFunc;this._loadRecordFromJSONObj(_a,_b,_c);this._p_constcount=this._constVars.length;this._p_colcount=this.colinfos.length+this._p_constcount;this._p_rowcount=this._viewRecords.length;this.loadstatus=false;this._eventstat=this._p_enableevent;this._rootpathcache=null;};_pDataset._loadRecordFromJSONObj=function(_a,_b,_c){var _d=this.colinfos;var _e=_b?_b:this._p_dataobjectpath;var _f=this._rawRecords;var _g=this._deletedRecords;var _h=this._indexRecords?this._indexRecords:this._indexRecords=[];var _i=_d.length;if(this.lazyParsing){this.__loadConvertFn=_c;this.__lazyParseRecordFn=this._lazyParseRecordFromJSONObject;}var _j=new Array(_i);function __loadRecordFromDOM_temp_loopFn(_o){var _p=_d[_o];if(_p.ntype>=4&&_p.ntype<=7){_j[_p._index]=undefined;}}nexacro.__forLoop(this,0,_i,__loadRecordFromDOM_temp_loopFn);var _k=nexacro._JSONPath(_a,_e);if(_k){this._clearData();function __makeDatapathColumnArr_temp_loopFn(_o){var _p=_d[_o];var _q=_p.datapath;if(_q){_p._datapath=_q.match(/[^\]\[.]+/g);}}nexacro.__forLoop(this,0,_i,__makeDatapathColumnArr_temp_loopFn);for(var _o=0,_p=_k.length;_o<_p;_o++ ){var _l=_k[_o];var _m=_j.slice(0,_i);_m._orgidx=_o;_m._rawidx=_o;_m._level=0;_m._rtype=1;if(this.lazyParsing){_m._data=JSON.parse(JSON.stringify(_l));if(!this._datarootpath){var _n=_l?_l._path:undefined;if(_n){this._datarootpath=_n.slice(0,_n.lastIndexOf("["));}}}else{this.__parseRecordFromJSONObject(_m,_l);}_h[_o]=_f[_o]=_m;}}else{for(var _q=0,_r=_f.length;_q<_r;_q++ ){_g[_q]=_f[_q];}_f.splice(0,_q);}this._reFilter();this._resetSortGroup();};_pDataset._getConstValueByDatapath=function(_a,_b){if(!_b){return undefined;}var _c=_a.datapath;if(_c){if(_a._value&&!this._is_data_updating){return _a._value;}if(_c[0]=="$"&&_b.getObject()){return _a.value=_a._value=nexacro._JSONPath(_b.getObject(),_a.datapath)[0];}else if(_c[0]=="@"){var _d=nexacro._JSONPath(_b.getObject(),this._p_dataobjectpath)[0];if(_d){var _e=_c.match(/[^\]\[.]+/g);for(var _f=1,_g=_e.length;_f<_g;_f++ ){_d=_d[_e[_f]];if(!_d){break;}}}if(_d&&_d!="object"){_d=this._getValueByColtype(_d,_a.ntype);}return _a.value=_a._value=_d?_d:"";}}return undefined;};_pDataset._isTwowayDataobjectBindMode=function(){if(this._p_dataobjectbindmode=="twoway"&&!this._is_data_updating&&this._binddataobject){return true;}return false;};_pDataset.loadJSON=function(_a,_b){return this._loadFromJSONStr(_a,_b);};_pDataset._loadFromJSONStr=function(_a,_b,_c,_d,_e){if(_b==null){_b=true;}_b=nexacro._toBoolean(_b);var _f=this._p_useclientlayout;this._bWorkingstatus=true;if(_a){this._bWorkingstatus=true;if(_c){_b=false;if(this.colinfos&&this.colinfos.length>0){_f=true;}}this.__loadFromJSONStr(_a,0,-1,_f,_b);if(this.colinfos){this._reFilter();this._resetSortGroup();}if(this._eventstat){this.on_fire_onload(_d,_e,_b?0:12);if(this._viewRecords&&this._viewRecords.length>0){this._forcesetRowPosition(0,51);}else{this._forcesetRowPosition(-1,51);}}else if(this._viewRecords&&this._viewRecords.length>0){this._p_rowposition=0;}this._bWorkingstatus=false;return this._p_rowcount;}};_pDataset._loadFromJSONObj=function(_a,_b,_c,_d,_e,_f){if(_b==null){_b=true;}_b=nexacro._toBoolean(_b);var _g=_f?false:this._p_useclientlayout;this._bWorkingstatus=true;if(_a){this._bWorkingstatus=true;if(_c){_b=false;if(this.colinfos&&this.colinfos.length>0){_g=true;}}var _h;this.__loadFromJSONObj(_a,0,-1,_g,_b,_f);if(this.colinfos){this._reFilter();this._resetSortGroup();}if(this._eventstat){this.on_fire_onload(_d,_e,_b?0:12);if(this._viewRecords&&this._viewRecords.length>0){this._forcesetRowPosition(0,51);}else{this._forcesetRowPosition(-1,51);}}else if(this._viewRecords&&this._viewRecords.length>0){this._p_rowposition=0;}this._bWorkingstatus=false;return this._p_rowcount;}};_pDataset.__loadFromJSONStr=function(_a,_b,_c,_d,_e){this.loadstatus=true;this._eventstat=!this.loadstatus&&this._p_enableevent;var _f=JSON.parse(_a);if(!_b){_b=0;}if(!_c){_c=-1;}if(_e){if(_d){this._clearData();}else{this._clearAll();}}if(!_a){this.loadstatus=false;this._eventstat=this._p_enableevent;return 0;}var _g=null;if(_d){this._setConstColInfoFromJSONObj(_f,_d);}else{this._setColInfoFromJSONObj(_f);}_g=_f.Rows;this._loadRecordFromJSONObject(_g);this._p_constcount=this._constVars.length;this._p_colcount=this.colinfos.length+this._p_constcount;this._p_rowcount=this._viewRecords.length;this.loadstatus=false;this._eventstat=this._p_enableevent;return _b;};_pDataset.__loadFromJSONObj=function(_a,_b,_c,_d,_e,_f){this.loadstatus=true;this._eventstat=!this.loadstatus&&this._p_enableevent;if(!_c){_c=-1;}if(_e){if(_d){this._clearData();}else{this._clearAll();}}if(!_a){this.loadstatus=false;this._eventstat=this._p_enableevent;return 0;}var _g=null;if(_d){this._setConstColInfoFromJSONObj(_a,_d);}else{this._setColInfoFromJSONObj(_a);}_g=_a.Rows;if(_g){this._loadRecordFromJSONObject(_g,_f);}this._p_constcount=this._constVars.length;this._p_colcount=this.colinfos.length+this._p_constcount;this._p_rowcount=this._viewRecords.length;this.loadstatus=false;this._eventstat=this._p_enableevent;return _b;};_pDataset._setConstColInfoFromJSONObj=function(_a,_b){var _c=0;var _d=_a.ColumnInfo;if(_d){var _e=0;function ___loadFromJSONObj_const_loopFn(){var _f=_d.ConstColumn;if(nexacro._isArray(_f)){_f=_f[_e++ ];}if(_f==null){return true;}var _g=_f.id;if(_b&&!(_g in this._constVars)){return false;}var _h=_f.value;if(_g.length){var _i=_f.type;var _j=_f.size;var _k=_f.datapath;this._addConstColumn(_g,_h,_i,_j,_k);}return false;}nexacro.__whileLoop(this,___loadFromJSONObj_const_loopFn);}return _c;};_pDataset._setColInfoFromJSONObj=function(_a){var _b=0;var _c=_a.ColumnInfo;if(_c){var _d=0;function ___loadFromJSONObj_const_loopFn(){var _f=_c.ConstColumn;if(nexacro._isArray(_f)){_f=_f[_d++ ];}if(_f==null){return true;}var _g=_f.id;var _h=_f.value;if(_g.length){var _i=_f.type;var _j=_f.size;var _k=_f.datapath;this._addConstColumn(_g,_h,_i,_j,_k);}return false;}nexacro.__whileLoop(this,___loadFromJSONObj_const_loopFn);var _e=0;function __loadFromJSONObj_col_loopFn(){var _f=_c.Column;if(nexacro._isArray(_f)){_f=_f[_e++ ];}if(_f==null){return true;}var _g=_f.id;if(_g&&_g.length){var _h=_f.type;var _i=_f.size;var _j=_f.prop;var _k=_f.sumtext;var _l=_f.datapath;this._addColumn(_g,_h,_i,_j,_k,_l);}}nexacro.__whileLoop(this,__loadFromJSONObj_col_loopFn);}return _b;};_pDataset._loadRecordFromJSONObject=function(_a,_b){var _c=this.colinfos;var _d=this._rawRecords;var _e=this._deletedRecords;var _f=_c.length;var _g=new Array(_f);function __loadRecord_temp_loopFn(_i){var _j=_c[_i];if(_j.ntype>=4&&_j.ntype<=7){_g[_j._index]=undefined;}}nexacro.__forLoop(this,0,_f,__loadRecord_temp_loopFn);var _h=_d.length+_e.length;var _i=0;function __loadFromJSONObj_row_loopFn(){var _j=_a[_i];if(_j==null){return true;}var _k,_l=[];for(var _q in _j){if(_q=="_RowType_"){_k=_j[_q];}else{var _m=_j[_q];if(_m&&nexacro._isString(_m)&&!_b){_m=_m.replace(/\\n/gi,'\n');_m=_m.replace(/\\t/gi,'\t');}_l.push({"id":_q,"value":_m});}}var _n=_g.slice(0,_f);_n._orgidx=_h;_n._rawidx=_d.length;_n._level=0;_h++ ;_i++ ;if(!_k){_n._rtype=1;}else{var _o=_k;if(_o=='I'||_o=='i'){_n._rtype=2;}else if(_o=='U'||_o=='u'){_n._rtype=4;}else if(_o=='O'||_o=='o'){_n._rtype=-1;}else if(_o=='D'||_o=='d'){_n._rtype=8;}else{_n._rtype=1;}}var _p=0;function __loadFromJSONObj_colvalue_loopFn(){if(_l){var _r=_l[_p++ ];if(_r==null){return true;}var _s=_r.id;var _t=_c[_s];if(_t){_n[_t._index]=_t._fromText(_r.value);}return false;}return true;}nexacro.__whileLoop(this,__loadFromJSONObj_colvalue_loopFn);if(_n._rtype==8){_e[_e.length]=_n;}else if(_n._rtype==-1){_d[_d.length-1]._orgrow=_n;}else{_d[_d.length]=_n;}}nexacro.__whileLoop(this,__loadFromJSONObj_row_loopFn);return _h;};_pDataset._getValueFromDataObject=function(_a,_b,_c){var _d;var _e=_c.ntype;if(_b[0]=="$"){var _f=this._binddataobject;var _g=_c.datapath;var _h=_f.data;if(_h){_d=this._getValueFromRootJSON(_h,_g,_e);}}else if(_b[0]=="@"){_d=this._getValueFromArray(_a,_b,_e);}return _d;};_pDataset._getValueByColtype=function(_a,_b){var _c=_a;switch(_b){case 1:_c=""+_c;break;case 2:_c=nexacro.DataUtils.toIntFromText(_c);break;case 3:_c=nexacro.DataUtils.toFloatFromText(_c);break;case 4:_c=nexacro.DataUtils.toDecimalFromText(_c);break;case 5:_c=nexacro.DataUtils.toDateFromText(_c);break;case 6:_c=nexacro.DataUtils.toTimeFromText(_c);break;case 7:_c=nexacro.DataUtils.toDateTimeFromText(_c);break;case 8:_c=nexacro.DataUtils.toBlobFromText(_c);break;default:_c=nexacro.DataUtils.toTextFromVariant(_c);break;}return _c;};_pDataset._getValueFromArray=function(_a,_b,_c){var _d=_a;for(var _e=1,_f=_b.length;_e<_f;_e++ ){if(_d){_d=_d[_b[_e]];}}if(_d!=null){if(_c==1&&typeof _d=="object"){_d=JSON.stringify(_d);}_d=this._getValueByColtype(_d,_c);}return _d;};_pDataset._getValueFromRootJSON=function(_a,_b,_c){var _d;var _e=this._rootpathcache?this._rootpathcache:this._rootpathcache={};if(_e[_b]){_d=_e[_b];}else{_d=nexacro._JSONPath(_a,_b)[0];_d=this._getValueByColtype(_d,_c);}return _d?_d:"";};_pDataset.__parseRecordFromJSONObject=function(_a,_b){var _c=this.colinfos;var _d=_c.length;for(var _g=0;_g<_d;_g++ ){var _e=_c[_g];var _f=_e._datapath;if(!_f&&_e.datapath){_f=_e._datapath=_e.datapath.match(/[^\]\[.]+/g);}if(_f){_a[_g]=this._getValueFromDataObject(_b,_f,_e);}else{_a[_g]="";}}};_pDataset._lazyParseRecordFromJSONObject=function(_a,_b){var _c=_a._data;this.__parseRecordFromJSONObject(_a,_c);delete _a._data;if(_a._orgdata){_c=_a._orgdata;this.__parseRecordFromJSONObject(_a,_c);delete _a._orgdata;_a._orgrow=_c;}};_pDataset.__makeDataConvertFunc=function(_a){var _b=this.colinfos;var _c=_b.length;var _d="(function () { return function (target, arr) { ";var _e=false;if(_a=="S"){_d+=" var ud = String.fromCharCode(3); target.length ="+_c+";";_e=true;}for(var _g=0;_g<_c;_g++ ){var _f=_b[_g];if(_e){_d+=" if (ud != arr["+_g+"]) ";}switch(_f.ntype){case 1:_d+="target["+_g+"] = arr["+_g+"]; ";break;case 2:_d+="target["+_g+"] = nexacro.DataUtils.toIntFromText(arr["+_g+"]); ";break;case 3:_d+="target["+_g+"] = nexacro.DataUtils.toFloatFromText(arr["+_g+"]); ";break;case 4:_d+="target["+_g+"] = nexacro.DataUtils.toDecimalFromText(arr["+_g+"]); ";break;case 5:_d+="target["+_g+"] = nexacro.DataUtils.toDateFromText(arr["+_g+"]); ";break;case 6:_d+="target["+_g+"] = nexacro.DataUtils.toTimeFromText(arr["+_g+"]); ";break;case 7:_d+="target["+_g+"] = nexacro.DataUtils.toDateTimeFromText(arr["+_g+"]); ";break;case 8:_d+="target["+_g+"] = nexacro.DataUtils.toBlobFromText(arr["+_g+"]); ";break;default:_d+="target["+_g+"] = nexacro.DataUtils.toTextFromvariant(arr["+_g+"]); ";break;}}_d+=" }; })();";return nexacro._executeGlobalEvalStr(_d);};_pDataset.__makeDataMappingFunc=function(_a,_b,_c){var _d;var _e={};for(_d=0;_d<_b;_d++ ){var _f=_a[_d].split(":");var _g=_f[0];_e[_g]=_d;}var _h=this.colinfos;var _i=_h.length;var _j="(function () { return function (target, arr) { ";var _k=false;if(_c=="S"){_j+=" var ud = String.fromCharCode(3); target.length ="+_i+";";_k=true;}for(_d=0;_d<_i;_d++ ){var _l=_h[_d];var _m=_e[_l.id];var _n=_l._index;if(_m!=null){if(_k){_j+=" if (ud != arr["+_m+"]) ";}switch(_l.ntype){case 1:_j+="target["+_n+"] = arr["+_m+"]; ";break;case 2:_j+="target["+_n+"] = nexacro.DataUtils.toIntFromText(arr["+_m+"]); ";break;case 3:_j+="target["+_n+"] = nexacro.DataUtils.toFloatFromText(arr["+_m+"]); ";break;case 4:_j+="target["+_n+"] = nexacro.DataUtils.toDecimalFromText(arr["+_m+"]); ";break;case 5:_j+="target["+_n+"] = nexacro.DataUtils.toDateFromText(arr["+_m+"]); ";break;case 6:_j+="target["+_n+"] = nexacro.DataUtils.toTimeFromText(arr["+_m+"]); ";break;case 7:_j+="target["+_n+"] = nexacro.DataUtils.toDateTimeFromText(arr["+_m+"]); ";break;case 8:_j+="target["+_n+"] = nexacro.DataUtils.toBlobFromText(arr["+_m+"]); ";break;default:_j+="target["+_n+"] = nexacro.DataUtils.toTextFromvariant(arr["+_m+"]); ";break;}}}_j+="}; })();";return nexacro._executeGlobalEvalStr(_j);};_pDataset.__ssvSetConstColInfo=function(_a){var _b=nexacro._getSSVUnitSeparator();var _c=String.fromCharCode(3);var _d=_a.split(_b);var _e=_d.length;function __ssvSetConstColInfo_loopFn(_f){var _g=_d[_f];var _h=_g.split("=");var _i=_h[0];if(_i&&_i!="_Const_"){var _j=_h[1];var _k=_i.split(":");var _l=_k[0];var _m=_k[1];var _n=0;if(_m){var _o=_m.indexOf("(");if(_o>-1){_n=_m.substring(_o+1,_m.indexOf(")",_o+1))|0;_m=_m.substring(0,_o);}}if(_j==_c){_j=undefined;}if(this._p_useclientlayout){var _p=this._constVars[_l];if(_p!=null&&_p.value!=_j){if(_p._value){_p._value=undefined;}_p.value=_j;}}else{this._addConstColumn(_l,_j,_m,_n);}}}nexacro.__forLoop(this,0,_e,__ssvSetConstColInfo_loopFn);};_pDataset.__ssvSetColInfo=function(_a){var _b=nexacro._getSSVUnitSeparator();var _c=_a.split(_b);var _d=_c.length;function __ssvSetColInfo_loopFn(_e){var _f=_c[_e];var _g=_f.split(":");var _h=_g[0];var _i,_j;if(_h&&_h!="_RowType_"){var _k=_g[1];if(_k){var _l=_k.indexOf("(");if(_l>-1){_i=_k.substring(0,_l).toUpperCase();_j=_k.substring(_l+1,_k.indexOf(")",_l+1))|0;}else{_i=_k;}}else{_i="STRING";_j=256;}this._addColumn(_h,_i,_j,_g[2],_g[3]);}}nexacro.__forLoop(this,0,_d,__ssvSetColInfo_loopFn);return _d;};_pDataset._loadFromSSVArray=function(_a,_b,_c,_d,_e,_f,_g){this.loadstatus=true;this._eventstat=!this.loadstatus&&this._p_enableevent;if(_f){if(_e){this._clearData();}else{this._clearAll();}}var _h=_g?_g:this._setColInfoFromSSVLines(_a,_e);if(!_h){this.loadstatus=false;this._eventstat=this._p_enableevent;return _c;}_c=this._loadRecordFromSSVLines(_b,_c,_d,_h);this._viewRecords=this._rawRecords;this._p_constcount=this._constVars.length;this._p_colcount=this.colinfos.length+this._p_constcount;this._p_rowcount=this._viewRecords.length;this.loadstatus=false;this._eventstat=this._p_enableevent;return _c;};_pDataset._loadFromSSVUint8Array=function(_a,_b,_c,_d,_e,_f,_g){this.loadstatus=true;this._eventstat=!this.loadstatus&&this._p_enableevent;if(_f){if(_e){this._clearData();}else{this._clearAll();}}var _h=_g?_g:this._setColInfoFromSSVLines(_c,_e);if(!_h){this.loadstatus=false;this._eventstat=this._p_enableevent;return [ ++_b];}var _i=_b;var _j=this._loadRecordFromSSVUint8Array(_a,_i,_d,_h);this._viewRecords=this._rawRecords;this._p_constcount=this._constVars.length;this._p_colcount=this.colinfos.length+this._p_constcount;this._p_rowcount=this._viewRecords.length;this.loadstatus=false;this._eventstat=this._p_enableevent;return _j;};_pDataset._getColLinesFromSSVLines=function(_a,_b){var _c=_a.length;var _d=_b;if(_d<_c&&_a[_d].substring(0,7)=="_Const_"){_d++ ;}if(_d<_c&&_a[_d].substring(0,9)=="_RowType_"){_d++ ;}if(_d<_c&&_a[_d].substring(0,7)=="_Const_"){_d++ ;}return _a.slice(_b,_d);};_pDataset._getColLinesFromSSVLines_with_arraybuffer=function(_a,_b,_c,_d){if(_c==undefined){_c=nexacro._getSSVRecordSeparator();}var _e=_b;var _f,_g;while(1){_g=nexacro._Array2DataUtil.substringOf(_a,_e,_c);_f=_g.string;if(_f.substring(0,7)=="_Const_"||_f.substring(0,9)=="_RowType_"){_d.push(_f);_e=_g.nextOffset;}else{break;}}return _e;};_pDataset._setColInfoFromSSVLines=function(_a,_b){var _c=nexacro._getSSVUnitSeparator();if(!_a||_a.length==0){return null;}var _d=null;var _e=_a.length;var _f=0;if(_b){if(_f<_e&&_a[_f].substring(0,7)=="_Const_"){this.__ssvSetConstColInfo(_a[_f]);_f++ ;}if(_f>_e){return null;}while(_f<_e&&_a[_f].substring(0,9)!="_RowType_"){_f++ ;}if(_f<_e&&_a[_f].substring(0,7)=="_Const_"){this.__ssvSetConstColInfo(_a[_f]);_f++ ;}if(_f>=_e){return null;}var _g=_a[_f].split(_c);_g.shift();_d=this.__makeDataMappingFunc(_g,_g.length,"S");}else{if(_f<_e&&_a[_f].substring(0,7)=="_Const_"){this.__ssvSetConstColInfo(_a[_f]);_f++ ;}if(_f>_e){return null;}if(_f<_e&&_a[_f].substring(0,9)=="_RowType_"){this.__ssvSetColInfo(_a[_f]);_f++ ;}if(_f>_e){return null;}if(_f<_e&&_a[_f].substring(0,7)=="_Const_"){this.__ssvSetConstColInfo(_a[_f]);_f++ ;}if(_f>_e){return null;}_d=this.__makeDataConvertFunc("S");}return _d;};_pDataset._lazyParseRecordFromSSVLine=function(_a,_b){var _c=nexacro._getSSVUnitSeparator();var _d=_a._data.split(_c);_d.shift();_b(_a,_d);_d.length=0;delete _a._data;_d.length=0;if(_a._orgdata){_d=_a._orgdata.split(_c);_d.shift();delete _a._orgdata;_b(_d,_d);_a._orgrow=_d;}};_pDataset._lazyParseRecordFromSSVLine_with_Uint8Array=function(_a,_b){var _c=nexacro._getSSVUnitSeparator();var _d=_a._data;var _e=nexacro._Array2DataUtil.substring(_d,0);var _f=_e.string;var _g=_f.split(_c);_g.shift();_b(_a,_g);_g.length=0;delete _a._data;_g.length=0;if(_a._orgdata){var _h=_a._orgdata;var _i=nexacro._Array2DataUtil.substring(_h,0);var _j=_i.string;_g=_j.split(_c);_g.shift();delete _a._orgdata;_b(_g,_g);_a._orgrow=_g;}};_pDataset._loadRecordFromSSVLines=function(_a,_b,_c,_d){var _e=nexacro._getSSVUnitSeparator();var _f=this._rawRecords;var _g=this._deletedRecords;var _h=this.lazyParsing;if(_h){this.__loadConvertFn=_d;this.__lazyParseRecordFn=this._lazyParseRecordFromSSVLine;}var _i=_f.length+_g.length;var _j='',_k=0;if(_h){function __lazyLoadRecordFromSSVLines_loopFn(_l){var _m=_a[_l];if(_m==""){return true;}_m=_j+_m;var _n;var _o=_m.charAt(_k);if(_o=='I'||_o=='i'){_n=[];_n._rtype=2;_n._orgidx=_i;_n._rawidx=_f.length;_n._level=0;_n._data=_m;_f[_f.length]=_n;}else if(_o=='U'||_o=='u'){_n=[];_n._rtype=4;_n._orgidx=_i;_n._rawidx=_f.length;_n._level=0;_n._data=_m;_f[_f.length]=_n;}else if(_o=='D'||_o=='d'){if(_m.indexOf("Dataset:")==_k){return true;}_n=[];_n._rtype=8;_n._orgidx=_i;_n._rawidx=_f.length;_n._level=0;_n._data=_m;_g[_g.length]=_n;}else if(_o=='O'||_o=='o'){_f[_f.length-1]._orgdata=_m;}else{_n=[];_n._rtype=1;_n._orgidx=_i;_n._rawidx=_f.length;_n._level=0;_n._data=_m;_f[_f.length]=_n;}_i++ ;if(_c>0&&(_f.length-_g.length)==_c){return true;}}_b=nexacro.__forLoop(this,_b,_a.length,__lazyLoadRecordFromSSVLines_loopFn);}else{function __loadRecordFromSSVLines_loopFn(_l){var _m=_a[_l];if(_m==""){return true;}_m=_j+_m;var _n=[];var _o=_m.split(_e);var _p=_o.shift().charAt(_k);_d(_n,_o);if(_p=='I'||_p=='i'){_n._rtype=2;_n._orgidx=_i;_n._rawidx=_f.length;_n._level=0;_f[_f.length]=_n;}else if(_p=='U'||_p=='u'){_n._rtype=4;_n._orgidx=_i;_n._rawidx=_f.length;_n._level=0;_f[_f.length]=_n;}else if(_p=='D'||_p=='d'){_n._rtype=8;_n._orgidx=_i;_n._rawidx=_f.length;_n._level=0;_g[_g.length]=_n;}else if(_p=='O'||_p=='o'){_f[_f.length-1]._orgrow=_n;}else{_n._rtype=1;_n._orgidx=_i;_n._rawidx=_f.length;_n._level=0;_f[_f.length]=_n;}_i++ ;if(_c>0&&(_f.length-_g.length)==_c){return true;}}_b=nexacro.__forLoop(this,_b,_a.length,__loadRecordFromSSVLines_loopFn);}return _b;};_pDataset._loadRecordFromSSVUint8Array=function(_a,_b,_c,_d){var _e=nexacro._getSSVRecordSeparator();var _f=_b,_g,_h;var _i=false;var _j=[];for(var _o=0,_p=_e.length;_o<_p;_o++ ){_j[_o]=_e.charCodeAt(_o);}var _k=this._rawRecords;var _l=this._deletedRecords;var _m=this.lazyParsing;if(_m){this.__loadConvertFn=_d;this.__lazyParseRecordFn=this._lazyParseRecordFromSSVLine_with_Uint8Array;}var _n=_k.length+_l.length;if(_m){function __lazyLoadRecordFromUint8Array_loopFn(){var _q;_h=nexacro._Array2DataUtil.indexOf(_a,_f,_j);if(_h.index<0){return true;}if(_h.index-_f==0){_f=(_h.index+_h.byteLength);_i=true;return true;}else{_q=_a.subarray(_f,_h.index);}var _r;_g=nexacro._Array2DataUtil.getCh(_a,_f);var _s=_g.string;if(_s=='I'||_s=='i'){_r=[];_r._rtype=2;_r._orgidx=_n;_r._rawidx=_k.length;_r._level=0;_r._data=_q;_k[_k.length]=_r;}else if(_s=='U'||_s=='u'){_r=[];_r._rtype=4;_r._orgidx=_n;_r._rawidx=_k.length;_r._level=0;_r._data=_q;_k[_k.length]=_r;}else if(_s=='D'||_s=='d'){_g=nexacro._Array2DataUtil.substr(_a,_f,8);var _t=_g.string;if(_t.toUpperCase()=="DATASET:"){return true;}_r=[];_r._rtype=8;_r._orgidx=_n;_r._rawidx=_k.length;_r._level=0;_r._data=_q;_l[_l.length]=_r;}else if(_s=='O'||_s=='o'){_k[_k.length-1]._orgdata=_q;}else{_r=[];_r._rtype=1;_r._orgidx=_n;_r._rawidx=_k.length;_r._level=0;_r._data=_q;_k[_k.length]=_r;}_f=_h.index+_h.byteLength;_n++ ;if(_c>0&&(_k.length-_l.length)==_c){return true;}}nexacro.__whileLoop(this,__lazyLoadRecordFromUint8Array_loopFn);}else{}return [_f,_i];};_pDataset.loadFromSSVArray=function(_a,_b,_c,_d,_e,_f,_g){if(_d==null){_d=true;}_d=nexacro._toBoolean(_d);var _h=this._p_useclientlayout;if(_a){this._bWorkingstatus=true;while(_a[_c].substring(0,7)!="Dataset"){_c++ ;}if(_e){_d=false;if(this.colinfos&&this.colinfos.length>0){_h=true;}}if(_c<_b){_c++ ;var _i=this._getColLinesFromSSVLines(_a,_c);_c+=_i.length;if(nexacro._use_firefirstcount&&_d&&this.firefirstcount>0){_c=this._loadFromSSVArray(_i,_a,_c,this.firefirstcount,_h,_d);if(this.firefirstcount==this._p_rowcount){this._reFilter();this._resetSortGroup();this.on_fire_onload(_f,_g,1);this._forcesetRowPosition(0,51);this._p_rowposition=0;_c++ ;_c=this._loadFromSSVArray(_i,_a,_c,-1,_h,false);}}else{_c=this._loadFromSSVArray(_i,_a,_c,-1,_h,_d);}if(this.colinfos){this._reFilter();this._resetSortGroup();}if(this._eventstat){this.on_fire_onload(_f,_g,_d?0:12);if(this._viewRecords&&this._viewRecords.length>0){this._forcesetRowPosition(0,51);}else{this._forcesetRowPosition(-1,51);}}else if(this._viewRecords&&this._viewRecords.length>0){this._p_rowposition=0;}}this._bWorkingstatus=false;return _c;}};_pDataset.loadSSVFromUint8Array=function(_a,_b,_c,_d,_e,_f){if(_c==null){_c=true;}_c=nexacro._toBoolean(_c);var _g=this._p_useclientlayout;if(_a){this._bWorkingstatus=true;if(_d){_c=false;if(this.colinfos&&this.colinfos.length>0){_g=true;}}var _h=nexacro._getSSVRecordSeparator();var _i=_b,_j=[];_i=this._getColLinesFromSSVLines_with_arraybuffer(_a,_i,_h,_j);var _k=[];if(nexacro._use_firefirstcount&&_c&&this.firefirstcount>0){_k=this._loadFromSSVUint8Array(_a,_i,_j,this.firefirstcount,_g,_c);_i=_k[0];if(this.firefirstcount==this._p_rowcount){this._reFilter();this._resetSortGroup();this.on_fire_onload(_e,_f,1);this._forcesetRowPosition(0,51);this._p_rowposition=0;_k=this._loadFromSSVUint8Array(_a,_i,_j,-1,_g,false);_i=_k[0];}}else{_k=this._loadFromSSVUint8Array(_a,_i,_j,-1,_g,_c);_i=_k[0];}this._viewRecords=this._rawRecords;this._p_constcount=this._constVars.length;this._p_colcount=this.colinfos.length+this._p_constcount;this._p_rowcount=this._viewRecords.length;this.loadstatus=false;this._eventstat=this._p_enableevent;if(this.colinfos){this._reFilter();this._resetSortGroup();}if(this._eventstat){this.on_fire_onload(_e,_f,_c?0:12);if(this._viewRecords&&this._viewRecords.length>0){this._forcesetRowPosition(0,51);}else{this._forcesetRowPosition(-1,51);}}else if(this._viewRecords&&this._viewRecords.length>0){this._p_rowposition=0;}this._bWorkingstatus=false;return _i;}return _b;};_pDataset.loadSSV=function(_a,_b){var _c=nexacro._getSSVRecordSeparator();if(_a){var _d=_a.split(_c);if(_d.length){this.loadFromSSVArray(_d,_d.length,0,_b);}}return this._p_rowcount;};_pDataset.__writeData=function(_a,_b){_a.push(_b);};_pDataset.__getRowTypeChar=function(_a){var _b=null;switch(_a){case 1:_b="N";break;case 2:_b="I";break;case 4:_b="U";break;case 8:_b="D";break;case -1:_b="O";break;}return _b;};_pDataset.__writeSSVNormalRow=function(_a,_b){this.__writeSSVRowData(_a,"N",_b);};_pDataset.__writeSSVCrudRow=function(_a,_b){this.__writeSSVRowData(_a,this.__getRowTypeChar(_b._rtype),_b);if(_b._rtype==4&&_b._orgrow){this.__writeSSVRowData(_a,this.__getRowTypeChar(-1),_b._orgrow);}};_pDataset.__writeSSVRowData=function(_a,_b,_c){var _d=nexacro._getSSVRecordSeparator();var _e=nexacro._getSSVUnitSeparator();var _f=this.colinfos;this.__writeData(_a,_b);function __writeSSVColData_loopFn(_g){var _h=_f[_g];var _i=_h._index;var _j=_c[_i];_j=this._convertValueBySaveProp(_j);_j=_h._toText(_j);if(_j===undefined){_j=String.fromCharCode(3);}if(_j!=null){this.__writeData(_a,_e+_j);}else{this.__writeData(_a,_e);}}nexacro.__forLoop(this,0,_f.length,__writeSSVColData_loopFn);this.__writeData(_a,_d);};_pDataset.saveSSV=function(_a,_b,_c,_d,_e){var _f=nexacro._getSSVRecordSeparator();var _g=nexacro._getSSVUnitSeparator();var _h=this.id;if(_a&&_a.length>0){_h=_a;}var _i="N";switch(_b){case "A":case "a":case "all":case "All":_i="A";break;case "U":case "u":case "update":case "Update":_i="U";break;case "V":case "v":case "view":case "View":_i="V";break;}this._setSaveProp(_c,_d,_e);var _j=[];this.__writeData(_j,"Dataset:"+_h+_f);var _k=this._constVars;if(_k.length>0){this.__writeData(_j,"_Const_");function __saveSSV_constcol_loopFn(_p){var _q=_k[_p];var _r=this._constVars.get_id(_p);var _s=_q.value;if(_s===undefined){_s=String.fromCharCode(3);}var _t=_q.type;var _u=_q.size;if(_t!=null&&_q.ntype!=9){_r+=":"+_t;if(_u>0){_r+="("+_u+")";}}_s=this._convertValueBySaveProp(_s);if(_s){this.__writeData(_j,_g+_r+"="+_s);}else{this.__writeData(_j,_g+_r+"=");}}nexacro.__forLoop(this,0,_k.length,__saveSSV_constcol_loopFn);this.__writeData(_j,_f);}var _l=this.colinfos;if(_l.length>0){this.__writeData(_j,"_RowType_");function __saveSSV_colinfo_loopFn(_p){var _q=_l[_p];var _r=_q.id;var _s=_q.ntype==9?"STRING":_q.type?_q.type:nexacro.DataUtils.toTypeName(_q.ntype);var _t=_q.ntype==9?nexacro.DataUtils._default_sizes[1]:_q.size;var _u=_q.prop;var _v=_g+_r+":"+_s;if(_t){_v+="("+_t+")";}if(_u){_v+=":"+_u;var _w=_q.sumtext;if(_w){_v+=":"+_w;}}this.__writeData(_j,_v);}nexacro.__forLoop(this,0,_l.length,__saveSSV_colinfo_loopFn);this.__writeData(_j,_f);}else{this.__writeData(_j,"_RowType_"+_f);}var _m=this._viewRecords;var _n=this._rawRecords;var _o=this._deletedRecords;if(_o.length){if(_i=="A"||_i=="U"){function __saveSSV_delrow_loopFn(_p){var _q=this.__getParsedRow(_o[_p]);if(_q._rtype&15){this.__writeSSVCrudRow(_j,_q);}}nexacro.__forLoop(this,0,_o.length,__saveSSV_delrow_loopFn);}}if(_n.length){if(_i=="A"){function __saveSSV_allrow_loopFn(_p){var _q=this.__getParsedRow(_n[_p]);if(_q._rtype&15){this.__writeSSVCrudRow(_j,_q);}}nexacro.__forLoop(this,0,_n.length,__saveSSV_allrow_loopFn);}else if(_i=="U"){function __saveSSV_updaterow_loopFn(_p){var _q=this.__getParsedRow(_n[_p]);if(_q._rtype&14){this.__writeSSVCrudRow(_j,_q);}}nexacro.__forLoop(this,0,_n.length,__saveSSV_updaterow_loopFn);}else{if(_i=="V"){function __saveSSV_viewrow_loopFn(_p){var _q=this.__getParsedRow(_m[_p]);if(_q._rtype&7){this.__writeSSVNormalRow(_j,_q);}}nexacro.__forLoop(this,0,_m.length,__saveSSV_viewrow_loopFn);}else{function __saveSSV_normalrow_loopFn(_p){var _q=this.__getParsedRow(_n[_p]);if(_q._rtype&7){this.__writeSSVNormalRow(_j,_q);}}nexacro.__forLoop(this,0,_n.length,__saveSSV_normalrow_loopFn);}}}this.__writeData(_j,_f);return _j.join("");};_pDataset.__makePPXDataMappingFunc=function(_a){var _b=nexacro._getSSVUnitSeparator();var _c={};function __makePPXDataMappingFunc_loopFn(_j){var _k=_a[_j];var _l=_k.charAt(0);if(_l=='C'){var _m=_k.split(_b);var _n=_m[1];_c[_n]=_j;return true;}return true;}nexacro.__forLoop(this,0,_a.length,__makePPXDataMappingFunc_loopFn);var _d=this.colinfos;var _e=_d.length;var _f="(function () { return function (target, arr) { ";for(var _j=0;_j<_e;_j++ ){var _g=_d[_j];var _h=_c[_g.id];var _i=_g._index;if(_h!=null){switch(_g.ntype){case 1:_f+="target["+_i+"] = arr["+_h+"]; ";break;case 2:_f+="target["+_i+"] = nexacro.DataUtils.toIntFromText(arr["+_h+"]); ";break;case 3:_f+="target["+_i+"] = nexacro.DataUtils.toFloatFromText(arr["+_h+"]); ";break;case 4:_f+="target["+_i+"] = nexacro.DataUtils.toDecimalFromText(arr["+_h+"]); ";break;case 5:_f+="target["+_i+"] = nexacro.DataUtils.toDateFromText(arr["+_h+"]); ";break;case 6:_f+="target["+_i+"] = nexacro.DataUtils.toTimeFromText(arr["+_h+"]); ";break;case 7:_f+="target["+_i+"] = nexacro.DataUtils.toDateTimeFromText(arr["+_h+"]); ";break;case 8:_f+="target["+_i+"] = nexacro.DataUtils.toBlobFromText(arr["+_h+"]); ";break;default:_f+="target["+_i+"] = nexacro.DataUtils.toTextFromvariant(arr["+_h+"]); ";break;}}}_f+="}; })();";return nexacro._executeGlobalEvalStr(_f);};_pDataset._setColInfoFromPPXLines=function(_a){var _b=nexacro._getSSVUnitSeparator();function __setColInfoFromPPXLines_loopFn(_c){var _d=_a[_c];var _e=_d.charAt(0);var _f;if(_e=='V'){_f=_d.split(_b);this._addConstColumn(_f[1],_f[3],_f[2]);return false;}else if(_e=='C'){_f=_d.split(_b);this._addColumn(_f[1],_f[2],_f[3],_f[4],_f[5]);return false;}return true;}nexacro.__forLoop(this,0,_a.length,__setColInfoFromPPXLines_loopFn);};_pDataset._loadFromPPXArray=function(_a,_b,_c,_d,_e,_f){this.loadstatus=true;this._eventstat=!this.loadstatus&&this._p_enableevent;var _g=null;if(_f){if(_e){this._clearData();}else{this._clearAll();}}if(!_a||_a.length==0){this.loadstatus=false;this._eventstat=this._p_enableevent;return _c;}if(_e){_g=this.__makePPXDataMappingFunc(_a);}else{this._setColInfoFromPPXLines(_a);_g=this.__makeDataConvertFunc("P");}_c=this._loadRecordFromSSVLines(_b,_c,_d,_g);this._viewRecords=this._rawRecords;this._p_constcount=this._constVars.length;this._p_colcount=this.colinfos.length+this._p_constcount;this._p_rowcount=this._viewRecords.length;this.loadstatus=false;this._eventstat=this._p_enableevent;return _c;};_pDataset._getColLinesFromPPXLines=function(_a,_b){var _c=_a.length;var _d=_b;while(true){var _e=_a[_d].charAt(0);if(_d<_c&&(_e=="C"||_e=="V")){_d++ ;}else{break;}}return _a.slice(_b,_d);};_pDataset.loadFromPPXArray=function(_a,_b,_c,_d,_e,_f,_g){if(_d==null){_d=true;}_d=nexacro._toBoolean(_d);var _h=this._p_useclientlayout;if(_a){this._bWorkingstatus=true;while(_a[_c].charAt(0)!="D"){_c++ ;}if(_e){_d=false;if(this.colinfos&&this.colinfos.length>0){_h=true;}}if(_c<_b){_c++ ;var _i=this._getColLinesFromPPXLines(_a,_c);_c+=_i.length;if(nexacro._use_firefirstcount&&_d&&this.firefirstcount>0){_c=this._loadFromPPXArray(_i,_a,_c,this.firefirstcount,_h,_d);if(this.firefirstcount==this._p_rowcount){this._reFilter();this._resetSortGroup();this.on_fire_onload(_f,_g,1);this._forcesetRowPosition(0,51);this._p_rowposition=0;_c=this._loadFromPPXArray(_i,_a,_c,-1,_h,false);}}else{_c=this._loadFromPPXArray(_i,_a,_c,-1,_h,_d);}if(this.colinfos){this._reFilter();this._resetSortGroup();}if(this._eventstat){this.on_fire_onload(_f,_g,_d?0:12);if(this._viewRecords&&this._viewRecords.length>0){this._forcesetRowPosition(0,51);}else{this._forcesetRowPosition(-1,51);}}else if(this._viewRecords&&this._viewRecords.length>0){this._p_rowposition=0;}}this._bWorkingstatus=false;return _c;}};_pDataset.__splitCSVRowData=function(_a,_b){var _c=_a.split(",");var _d=0;var _e=null;var _f="";function __splitCSVRowData_loopFn(_g){var _h=_c[_g];if(_e==null){_e=_h.charAt(0);if(_e=="\""||_e=="\'"){if(_h[_h.length-1]==_e&&_h.length>1){_c[_d++ ]=nexacro._unQuoteStr(_h);_e=null;}else{_f=_h;}}else{_e=null;_c[_d++ ]=_h;}}else{if(_h[_h.length-1]==_e){_c[_d++ ]=nexacro._unQuoteStr(_f+","+_h);_f="";_e=null;}else{_f+=","+_h;}}}nexacro.__forLoop(this,0,_c.length,__splitCSVRowData_loopFn);if(_d!=_c.length){_c.length=_d;}return _c;};_pDataset.__csvSetColInfo=function(_a){var _b=_a.split(",");var _c=_b.length;function __csvSetColInfo_loopFn(_d){var _e=_b[_d];var _f=_e.split(":");var _g=_f[0];var _h,_i;if(_g){var _j=_f[1];if(_j){var _k=_j.indexOf("(");if(_k>-1){_h=_j.substring(0,_k).toUpperCase();_i=_j.substring(_k+1,_j.indexOf(")",_k+1))|0;}else{_h=_j;}}else{_h="STRING";_i=256;}this._addColumn(_g,_h,_i,_f[2],_f[3]);}}nexacro.__forLoop(this,0,_b.length,__csvSetColInfo_loopFn);return _c;};_pDataset._setColInfoFromCSVLine=function(_a,_b){if(!_a||_a.length==0){return null;}var _c=null,_d;if(_b){var _e=_a.split(",");_d=_e.length;_c=this.__makeDataMappingFunc(_e,_d,"C");}else{this.__csvSetColInfo(_a);_c=this.__makeDataConvertFunc("C");}return _c;};_pDataset._lazyParseRecordFromCSVLine=function(_a,_b){var _c=this.__splitCSVRowData(_a._data,this.colinfos.length);_b(_a,_c);delete _a._data;_c.length=0;return _a;};_pDataset._lazyParseRecordFromCSVLine_with_Uint8Array=function(_a,_b){var _c=_a._data;var _d=nexacro._Array2DataUtil.substring(_c,0);var _e=_d.string;var _f=this.__splitCSVRowData(_e,this.colinfos.length);_b(_a,_f);delete _a._data;_f.length=0;return _f;};_pDataset._loadRecordFromCSVLines=function(_a,_b,_c,_d){var _e=this._rawRecords;var _f=this._deletedRecords;var _g=this.lazyParsing;if(_g){this.__loadConvertFn=_d;this.__lazyParseRecordFn=this._lazyParseRecordFromCSVLine;}var _h=this.colinfos.length;var _i=_e.length+_f.length;var _j='';if(_g){function __lazyLoadRecordFromCSVLines_loopFn(_k){var _l=_a[_k];if(_l==""||(_l.substring(0,7)=="Dataset")){return true;}_l+=_j;var _m=[];_m._rtype=1;_m._orgidx=_i;_m._rawidx=_e.length;_m._level=0;_m._data=_l;_e[_e.length]=_m;_i++ ;if(_c>0&&_e.length==_c){return true;}}_b=nexacro.__forLoop(this,_b,_a.length,__lazyLoadRecordFromCSVLines_loopFn);}else{function __loadRecordFromCSVLines_loopFn(_k){var _l=_a[_k];if(_l==""){return true;}_l+=_j;var _m=this.__splitCSVRowData(_l,_h);_d(_m,_m);_m._rtype=1;_m._orgidx=_i;_m._rawidx=_e.length;_m._level=0;_e[_e.length]=_m;_i++ ;if(_c>0&&_e.length==_c){return true;}}_b=nexacro.__forLoop(this,_b,_a.length,__loadRecordFromCSVLines_loopFn);}if(_a[_b]==""){_b++ ;}return _b;};_pDataset._loadRecordFromCSVUint8Array=function(_a,_b,_c,_d,_e){var _f=_b,_g;var _h=false;var _i=[];for(var _n=0,_o=_e.length;_n<_o;_n++ ){_i[_n]=_e.charCodeAt(_n);}var _j=this._rawRecords;var _k=this._deletedRecords;var _l=this.lazyParsing;if(_l){this.__loadConvertFn=_d;this.__lazyParseRecordFn=this._lazyParseRecordFromCSVLine_with_Uint8Array;}var _m=_j.length+_k.length;if(_l){function __lazyLoadRecordFromUint8Array_loopFn(){var _p;_g=nexacro._Array2DataUtil.indexOf(_a,_f,_i);if(_g.index<0){return true;}if(nexacro._Array2DataUtil.substr(_a,_f,7).string=="Dataset"){return true;}if(_g.index-_f==0){_f=(_g.index+_g.byteLength);_h=true;return true;}else{_p=_a.subarray(_f,_g.index);}var _q;_q=[];_q._rtype=1;_q._orgidx=_m;_q._rawidx=_j.length;_q._level=0;_q._data=_p;_j[_j.length]=_q;_f=_g.index+_g.byteLength;_m++ ;if(_c>0&&_j.length==_c){return true;}}nexacro.__whileLoop(this,__lazyLoadRecordFromUint8Array_loopFn);}else{}return [_f,_h];};_pDataset._loadFromCSVUint8Array=function(_a,_b,_c,_d,_e,_f,_g,_h){this.loadstatus=true;this._eventstat=!this.loadstatus&&this._p_enableevent;if(_f){if(_e){this._clearData();}else{this._clearAll();}}var _i=null;if(_g){_i=_g;}else{_i=this._setColInfoFromCSVLine(_c?_c[0]:null,_e);}if(!_i){this.loadstatus=false;this._eventstat=this._p_enableevent;return [ ++_b];}var _j=_b;var _k=this._loadRecordFromCSVUint8Array(_a,_j,_d,_i,_h);this._viewRecords=this._rawRecords;this._p_constcount=this._constVars.length;this._p_colcount=this.colinfos.length+this._p_constcount;this._p_rowcount=this._viewRecords.length;this.loadstatus=false;this._eventstat=this._p_enableevent;return _k;};_pDataset._loadFromCSVArray=function(_a,_b,_c,_d,_e,_f,_g){this.loadstatus=true;this._eventstat=!this.loadstatus&&this._p_enableevent;if(_f){if(_e){this._clearData();}else{this._clearAll();}}var _h=_g?_g:this._setColInfoFromCSVLine(_a,_e);if(!_h){this.loadstatus=false;this._eventstat=this._p_enableevent;return _c;}_c=this._loadRecordFromCSVLines(_b,_c,_d,_h);this._viewRecords=this._rawRecords;this._p_constcount=this._constVars.length;this._p_colcount=this.colinfos.length+this._p_constcount;this._p_rowcount=this._viewRecords.length;this.loadstatus=false;this._eventstat=this._p_enableevent;return _c;};_pDataset.loadFromCSVArray=function(_a,_b,_c,_d,_e,_f,_g){if(_d==null){_d=true;}_d=nexacro._toBoolean(_d);var _h=this._p_useclientlayout;if(_a){this._bWorkingstatus=true;function __findDatasetStart_loopFn(_j){if(_a[_j].substring(0,7)=="Dataset"){return true;}_c++ ;}_c=nexacro.__forLoop(this,_c,_b,__findDatasetStart_loopFn);if(_e){_d=false;if(this.colinfos&&this.colinfos.length>0){_h=true;}}if(_c<(_b -1)){_c++ ;var _i=_a[_c++ ];if(nexacro._use_firefirstcount&&_d&&this.firefirstcount>0){_c=this._loadFromCSVArray(_i,_a,_c,this.firefirstcount,_h,_d);if(this.firefirstcount==this._p_rowcount){this._reFilter();this._resetSortGroup();this.on_fire_onload(_f,_g,1);this._forcesetRowPosition(0,51);this._p_rowposition=0;_c=this._loadFromCSVArray(_i,_a,_c,-1,_h,false);}}else{_c=this._loadFromCSVArray(_i,_a,_c,-1,_h,_d);}if(this.colinfos){this._reFilter();this._resetSortGroup();}if(this._eventstat){this.on_fire_onload(_f,_g,_d?0:12);if(this._viewRecords&&this._viewRecords.length>0){this._forcesetRowPosition(0,51);}else{this._forcesetRowPosition(-1,51);}}else if(this._viewRecords&&this._viewRecords.length>0){this._p_rowposition=0;}}else if(_c<_b){_c++ ;}this._bWorkingstatus=false;return _c;}};_pDataset._getColLinesFromCSVLines_with_arraybuffer=function(_a,_b,_c,_d){var _e=_b;var _f,_g;_g=nexacro._Array2DataUtil.substringOf(_a,_e,_c);_f=_g.string;_e=_g.nextOffset;_d.push(_f);return _e;};_pDataset.loadCSVFromUint8Array=function(_a,_b,_c,_d,_e,_f,_g){if(_c==null){_c=true;}_c=nexacro._toBoolean(_c);var _h=this._p_useclientlayout;if(_a){this._bWorkingstatus=true;if(_d){_c=false;if(this.colinfos&&this.colinfos.length>0){_h=true;}}var _i=_b,_j=[];_i=this._getColLinesFromCSVLines_with_arraybuffer(_a,_i,_g,_j);var _k=[];if(nexacro._use_firefirstcount&&_c&&this.firefirstcount>0){_k=this._loadFromCSVUint8Array(_a,_i,_j,this.firefirstcount,_h,_c,undefined,_g);_i=_k[0];if(this.firefirstcount==this._p_rowcount){this._reFilter();this._resetSortGroup();this.on_fire_onload(_e,_f,1);this._forcesetRowPosition(0,51);this._p_rowposition=0;_k=this._loadFromCSVUint8Array(_a,_i,_j,-1,_h,false);_i=_k[0];}}else{_k=this._loadFromCSVUint8Array(_a,_i,_j,-1,_h,_c,undefined,_g);_i=_k[0];}this._viewRecords=this._rawRecords;this._p_constcount=this._constVars.length;this._p_colcount=this.colinfos.length+this._p_constcount;this._p_rowcount=this._viewRecords.length;this.loadstatus=false;this._eventstat=this._p_enableevent;if(this.colinfos){this._reFilter();this._resetSortGroup();}if(this._eventstat){this.on_fire_onload(_e,_f,_c?0:12);if(this._viewRecords&&this._viewRecords.length>0){this._forcesetRowPosition(0,51);}else{this._forcesetRowPosition(-1,51);}}else if(this._viewRecords&&this._viewRecords.length>0){this._p_rowposition=0;}this._bWorkingstatus=false;return _i;}return _b;};_pDataset.loadCSV=function(_a,_b){if(_a){var _c=_a.split(/\r\n|\n/);if(_c.length){this.loadFromCSVArray(_c,_c.length,0,_b);}}return this._p_rowcount;};_pDataset.__writeCSVRowData=function(_a,_b){var _c=this.colinfos;var _d=_c.length;function __writeCSVColData_loopFn(_e){var _f=_c[_e];var _g=_b[_f._index];_g=this._convertValueBySaveProp(_g);_g=_f._toText(_g);if(_g!=null){if(_f.ntype==1){if(_e==(_d -1)){this.__writeData(_a,nexacro._quoteStr(_g)+"\r\n");}else{this.__writeData(_a,nexacro._quoteStr(_g)+",");}}else{if(_e==(_d -1)){this.__writeData(_a,_g+"\r\n");}else{this.__writeData(_a,_g+",");}}}else{if(_e==(_d -1)){this.__writeData(_a,"\r\n");}else{this.__writeData(_a,",");}}}nexacro.__forLoop(this,0,_c.length,__writeCSVColData_loopFn);};_pDataset.saveCSV=function(_a,_b,_c,_d){var _e=this.id;if(_a&&_a.length>0){_e=_a;}this._setSaveProp(_b,_c,_d);var _f=[];this.__writeData(_f,"Dataset:"+_e+"\r\n");var _g=this.colinfos;var _h=_g.length;if(_h>0){function __saveCSV_colinfo_loopFn(_j){var _k=_g[_j];var _l=_k.id;var _m=_k.ntype==9?"STRING":_k.type?_k.type:nexacro.DataUtils.toTypeName(_k.ntype);var _n=_k.ntype==9?nexacro.DataUtils._default_sizes[1]:_k.size;var _o;if(_j==0){_o=_l+":"+_m;}else{_o=","+_l+":"+_m;}if(_n){_o+="("+_n+")";}var _p=_k.prop;if(_p){_o+=":"+_p;var _q=_k.sumtext;if(_q){_o+=":"+_q;}}this.__writeData(_f,_o);}nexacro.__forLoop(this,0,_g.length,__saveCSV_colinfo_loopFn);this.__writeData(_f,"\r\n");}else{this.__writeData(_f,"\r\n");}var _i=this._rawRecords;if(_i.length>0){function __saveCSV_row_loopFn(_j){var _k=this.__getParsedRow(_i[_j]);if(_k._rtype&7){this.__writeCSVRowData(_f,_k);}}nexacro.__forLoop(this,0,_i.length,__saveCSV_row_loopFn);}this.__writeData(_f,"\r\n");return _f.join("");};_pDataset.__makeBINDataConvertFunc=function(_a){var _b=this.colinfos;var _c=_b.length;var _d="(function () { return function (target, arr) { target.length ="+_c+";";for(var _f=0;_f<_c;_f++ ){var _e=_b[_f];if(_e.ntype==4){_d+="target["+_f+"] = nexacro.DataUtils.toDecimalFromText(arr["+_f+"]); ";}else{_d+="target["+_f+"] = arr["+_f+"]; ";}}_d+=" }; })();";return nexacro._executeGlobalEvalStr(_d);};_pDataset.__makeBINDataMappingFunc=function(_a,_b,_c){var _d;var _e={};var _f=[];for(_d=0;_d<_b;_d++ ){_e[_a[_d].id]=_d;_f[_d]=_a[_d].type;}var _g=this.colinfos;var _h=_g.length;var _i="(function () { return function (target, arr) { target.length ="+_h+";";for(_d=0;_d<_h;_d++ ){var _j=_g[_d];var _k=_e[_j.id];var _l=_j._index;if(_k!=null){var _m=nexacro.DataUtils._typeint[_f[_k]];var _n=false;if(_m==5||_m==6||_m==7){_n=true;}if(_j.ntype==_m){if(_m==4){_i+="target["+_l+"] = nexacro.DataUtils.toDecimalFromText(arr["+_k+"]); ";}else{_i+="target["+_l+"] = arr["+_k+"]; ";}continue;}switch(_j.ntype){case 1:if(_m==1||_m==4){_i+="target["+_l+"] = arr["+_k+"]; ";}else if(_m==2){_i+="target["+_l+"] = nexacro.DataUtils.toTextFromInt(arr["+_k+"]); ";}else if(_m==3){_i+="target["+_l+"] = nexacro.DataUtils.toTextFromFloat(arr["+_k+"]); ";}else{if(_n){_i+="target["+_l+"] = nexacro.DataUtils.toTextFromDateTime(arr["+_k+"]); ";}else{_i+="target["+_l+"] = arr["+_k+"]; ";}}break;case 2:if(_m==1||_m==4){_i+="target["+_l+"] = nexacro.DataUtils.toIntFromText(arr["+_k+"]); ";}else if(_m==2){_i+="target["+_l+"] = arr["+_k+"]; ";}else if(_m==3){_i+="target["+_l+"] = nexacro._toInt(arr["+_k+"]); ";}else{if(_n){_i+="target["+_l+"] = nexacro.DataUtils.toIntFromText(arr["+_k+"]); ";}else{_i+="target["+_l+"] = arr["+_k+"]; ";}}break;case 3:if(_m==2||_m==3){_i+="target["+_l+"] = arr["+_k+"]; ";}else{_i+="target["+_l+"] = nexacro.DataUtils.toFloatFromText(arr["+_k+"]); ";}break;case 4:if(_m==1||_m==4){_i+="target["+_l+"] = nexacro.DataUtils.toDecimalFromText(arr["+_k+"]); ";}else{_i+="target["+_l+"] = nexacro.DataUtils.toDecimal(arr["+_k+"]); ";}break;case 5:if(_m==1||_m==4){_i+="target["+_l+"] = nexacro.DataUtils.toDateFromText(arr["+_k+"]); ";}else{_i+="target["+_l+"] = nexacro.DataUtils.toDate(arr["+_k+"]); ";}break;case 6:if(_m==1||_m==4){_i+="target["+_l+"] = nexacro.DataUtils.toTimeFromText(arr["+_k+"]); ";}else{_i+="target["+_l+"] = nexacro.DataUtils.toTime(arr["+_k+"]); ";}break;case 7:if(_m==1||_m==4){_i+="target["+_l+"] = nexacro.DataUtils.toDateTimeFromText(arr["+_k+"]); ";}else{_i+="target["+_l+"] = nexacro.DataUtils.toDateTime(arr["+_k+"]); ";}break;case 8:break;_i+="target["+_l+"] = arr["+_k+"]; ";break;}}}_i+="}; })();";return nexacro._executeGlobalEvalStr(_i);};_pDataset._loadFromBINUint8Array=function(_a,_b,_c,_d,_e,_f,_g){this.loadstatus=true;this._eventstat=!this.loadstatus&&this._p_enableevent;if(_f){if(_e){this._clearData();}else{this._clearAll();}}var _h=_g?_g:null;if(!_h){this.loadstatus=false;this._eventstat=this._p_enableevent;return [ ++_b];}var _i=_b;var _j=this._loadRecordFromBINUint8Array(_a,_i,_d,_h);this._viewRecords=this._rawRecords;this._p_constcount=this._constVars.length;this._p_colcount=this.colinfos.length+this._p_constcount;this._p_rowcount=this._viewRecords.length;this.loadstatus=false;this._eventstat=this._p_enableevent;return _j;};_pDataset._lazyParseRecordFromBINLine_with_Uint8Array=function(_a,_b){var _c=_a._data;if(_c.length<=6){_c.length=0;delete _a._data;return;}var _d=new DataView(_c.buffer);var _e=0;var _f=_d.getUint16(_e);_e+=2;var _g=_d.getUint16(_e);_e+=2;var _h=[];for(var _l=0;_l<_g;_l++ ){var _i=(_e+2<_c.length)?_d.getUint16(_e):0;_e+=2;switch(_i){case 2:if(_e+2<_c.length){_h[_l]=_d.getInt16(_e);_e+=2;}break;case 3:if(_e+4<_c.length){_h[_l]=_d.getInt32(_e);_e+=4;}break;case 4:if(_e+8<_c.length){_h[_l]=_d.getFloat64(_e);_e+=8;}break;case 41:var _j=nexacro._Array2DataUtil.getDatetimeFromUint8Array(_c,_e,_d);_e=_j[0];_h[_l]=_j[1];break;case 21:case 26:case 40:var _j=nexacro._Array2DataUtil.getLenFromUint8Array(_c,_e,_d);_e=_j[0];_h[_l]=nexacro._Array2DataUtil.substr(_c,_e,_j[1]).string;_e+=_j[1];break;default:break;}}_b(_a,_h);if(_f==0x0004){var _g=_d.getUint16(_e);_e+=2;var _k=[];for(var _l=0;_l<_g;_l++ ){var _i=(_e+2<_c.length)?_d.getUint16(_e):0;_e+=2;switch(_i){case 2:if(_e+2<_c.length){_k[_l]=_d.getInt16(_e);_e+=2;}break;case 3:if(_e+4<_c.length){_k[_l]=_d.getInt32(_e);_e+=4;}break;case 4:if(_e+8<_c.length){_k[_l]=_d.getFloat64(_e);_e+=8;}break;case 41:var _j=nexacro._Array2DataUtil.getDatetimeFromUint8Array(_c,_e,_d);_e=_j[0];_k[_l]=_j[1];break;case 21:case 26:case 40:_j=nexacro._Array2DataUtil.getLenFromUint8Array(_c,_e,_d);_e=_j[0];_k[_l]=nexacro._Array2DataUtil.substr(_c,_e,_j[1]).string;_e+=_j[1];break;default:break;}}_b(_a._orgrow,_k);}_c.length=0;delete _a._data;};_pDataset._loadRecordFromBINUint8Array=function(_a,_b,_c,_d){var _e=_b;var _f=false;var _g=this._rawRecords;var _h=this._deletedRecords;var _i=true;this.__loadConvertFn=_d;this.__lazyParseRecordFn=this._lazyParseRecordFromBINLine_with_Uint8Array;var _j=_g.length+_h.length;if((_e+4)>_a.length){return [_e,_f];}var _k=false;var _l=new DataView(_a.buffer);if(_i){function __lazyLoadRecordFromUint8Array_loopFn(){var _m=_e;var _n=nexacro._Array2DataUtil.getLenFromUint8Array(_a,_e,_l);var _o=_e=_n[0];var _p=_n[1];if(_e+_p>=_a.length){_e=_m;_k=true;return true;}else if(_p<=0){_e+=2;_f=true;return true;}var _q=_l.getUint16(_e);_e+=2;var _r=[];_r._rtype=0+_q;_r._orgidx=_j;_r._rawidx=_g.length;_r._level=0;_r._data=_a.slice(_o,_o+_p);if(_q==0x0008){_h[_h.length]=_r;}else{_g[_g.length]=_r;}_e=_o+_p;_j++ ;if(_c>0&&(_g.length-_h.length)==_c){return true;}}nexacro.__whileLoop(this,__lazyLoadRecordFromUint8Array_loopFn);}return [_e,_f,_k];};_pDataset.loadBIN=function(_a){return nexacro._datasetFromBINString(this,_a);};_pDataset.saveBIN=function(_a,_b,_c,_d,_e){return nexacro._datasetToBINString(this,_a,_b,_c,_d,_e);};_pDataset._saveBINUint8Array=function(_a,_b,_c,_d,_e){if(nexacro._Browser=="Runtime"){return null;}var _f=[];const _g=new ArrayBuffer(8);var _h=new DataView(_g);nexacro._Array2DataUtil.addLenStrToUint8Array(_a,_f,_h);this._setSaveProp(_c,_d,_e);var _i=[];var _j=this._constVars;if(_j.length>0){function __saveBIN_constcol_loopFn(_p){var _q=_j[_p];var _r=this._constVars.get_id(_p);nexacro._Array2DataUtil.addLenStrToUint8Array(_r,_i,_h);var _s=_q.value;var _t=0;switch(_q.ntype){case 1:case 6:case 7:_h.setUint16(0,21,false);_i.push(_h.getUint8(0),_h.getUint8(1));nexacro._Array2DataUtil.addLenStrToUint8Array(_s,_i,_h);break;case 2:_h.setUint16(0,3,false);_i.push(_h.getUint8(0),_h.getUint8(1));var _u=nexacro.DataUtils.convert(this._convertValueBySaveProp(_s),_q.ntype);_h.setInt32(0,_u,false);_i.push(_h.getUint8(0),_h.getUint8(1),_h.getUint8(2),_h.getUint8(3));break;case 3:_h.setUint16(0,4,false);_i.push(_h.getUint8(0),_h.getUint8(1));var _u=nexacro.DataUtils.convert(this._convertValueBySaveProp(_s),_q.ntype);_h.setFloat64(0,_u,false);for(_t=0;_t<8;_t++ ){_i.push(_h.getUint8(_t));}break;case 4:_h.setUint16(0,40,false);_i.push(_h.getUint8(0),_h.getUint8(1));nexacro._Array2DataUtil.addLenToUint8Array(_s.length,_i,_h);for(_t=0;_t<_s.length;_t++ ){_i.push(_s.charCodeAt(_t));}break;case 5:_h.setUint16(0,41,false);_i.push(_h.getUint8(0),_h.getUint8(1));var _u=nexacro.DataUtils.convert(this._convertValueBySaveProp(_s),_q.ntype);nexacro._Array2DataUtil.addDatetimeToUint8Array(_u,_i,_h);break;case 8:_h.setUint16(0,26,false);_i.push(_h.getUint8(0),_h.getUint8(1));nexacro._Array2DataUtil.addLenToUint8Array(_s.length,_i,_h);for(_t=0;_t<_s.length;_t++ ){_i.push(_s.charCodeAt(_t));}break;default:_h.setUint16(0,0,false);_i.push(_h.getUint8(0),_h.getUint8(1));break;}}nexacro.__forLoop(this,0,_j.length,__saveBIN_constcol_loopFn);}_f.push(0xFE,0x10);_h.setUint16(0,5000,false);_f.push(_h.getUint8(0),_h.getUint8(1));nexacro._Array2DataUtil.addLenToUint8Array(_i.length,_f,_h);_h.setUint16(0,_j.length,false);_f.push(_h.getUint8(0),_h.getUint8(1));_i.forEach((_p)=>_f.push(_p));_i=[];var _k=this.colinfos;if(_k.length>0){function __saveBIN_colinfo_loopFn(_p){var _q=_k[_p];var _r=_q.id;nexacro._Array2DataUtil.addLenStrToUint8Array(_r,_i,_h);var _s=_q.ntype==9?1:_q.ntype;_h.setUint16(0,_s,false);_i.push(_h.getUint8(0),_h.getUint8(1));var _t=_q.ntype==9?nexacro.DataUtils._default_sizes[1]:_q.size;_h.setUint16(0,_t,false);_i.push(_h.getUint8(0),_h.getUint8(1));var _u=0;var _v=_q.prop?_q.prop.toLowerCase():"";switch(_v){case "count":_u=0x1000;break;case "sum":_u=0x2000;break;case "max":_u=0x3000;break;case "min":_u=0x4000;break;case "avg":_u=0x5000;break;case "text":_u=0x6000;break;case "key":_u=0x7000;break;default:break;}_h.setUint16(0,_u,false);_i.push(_h.getUint8(0),_h.getUint8(1));if(_u==0x6000||_u==0x7000){nexacro._Array2DataUtil.addLenStrToUint8Array(_q.sumtext,_i,_h);}}nexacro.__forLoop(this,0,_k.length,__saveBIN_colinfo_loopFn);}_h.setUint16(0,_k.length,false);_f.push(_h.getUint8(0),_h.getUint8(1));_i.forEach((_p)=>_f.push(_p));_h.setUint16(0,_f.length,false);_f.unshift(_h.getUint8(0),_h.getUint8(1));var _l=this._viewRecords;var _m=this._rawRecords;var _n=this._deletedRecords;var _o="N";switch(_b){case "A":case "a":case "all":case "All":_o="A";break;case "U":case "u":case "update":case "Update":_o="U";break;case "V":case "v":case "view":case "View":_o="V";break;}if(_n.length){if(_o=="A"||_o=="U"){function __saveBIN_delrow_loopFn(_p){var _q=this.__getParsedRow(_n[_p]);if(_q._rtype&15){this.__writeBINCrudRow(_f,_q);}}nexacro.__forLoop(this,0,_n.length,__saveBIN_delrow_loopFn);}}if(_m.length){if(_o=="A"){function __saveBIN_allrow_loopFn(_p){var _q=this.__getParsedRow(_m[_p]);if(_q._rtype&15){this.__writeBINCrudRow(_f,_q);}}nexacro.__forLoop(this,0,_m.length,__saveBIN_allrow_loopFn);}else if(_o=="U"){function __saveBIN_updaterow_loopFn(_p){var _q=this.__getParsedRow(_m[_p]);if(_q._rtype&14){this.__writeBINCrudRow(_f,_q);}}nexacro.__forLoop(this,0,_m.length,__saveBIN_updaterow_loopFn);}else{if(_o=="V"){function __saveBIN_viewrow_loopFn(_p){var _q=this.__getParsedRow(_l[_p]);if(_q._rtype&7){this.__writeBINNormalRow(_f,_q);}}nexacro.__forLoop(this,0,_l.length,__saveBIN_viewrow_loopFn);}else{function __saveBIN_normalrow_loopFn(_p){var _q=this.__getParsedRow(_m[_p]);if(_q._rtype&7){this.__writeBINNormalRow(_f,_q);}}nexacro.__forLoop(this,0,_m.length,__saveBIN_normalrow_loopFn);}}}if(_j.length<=0&&_k.length<=0&&_n.length<=0&&_m.length<=0){return [];}return _f;};_pDataset.__writeBINNormalRow=function(_a,_b){this.__writeBINRowData(_a,1,_b);};_pDataset.__writeBINCrudRow=function(_a,_b){this.__writeBINRowData(_a,_b._rtype,_b);if(_b._rtype==4&&_b._orgrow){this.__writeBINRowData(_a,-1,_b._orgrow);}};_pDataset.__writeBINRowData=function(_a,_b,_c){var _d=this.colinfos;var _e=[];const _f=new ArrayBuffer(8);var _g=new DataView(_f);function __writeBINColData_loopFn(_h){var _i=_d[_h];var _j=_i._index;var _k=_i.ntype;var _l=_c[_j];_l=this._convertValueBySaveProp(_l);if((_l===undefined)||(_l.length<=0&&_k!=0)){_k=0;}var _m=0;switch(_k){case 1:_g.setUint16(0,21,false);_e.push(_g.getUint8(0),_g.getUint8(1));nexacro._Array2DataUtil.addLenStrToUint8Array(_l,_e,_g);break;case 2:_g.setUint16(0,3,false);_e.push(_g.getUint8(0),_g.getUint8(1));_g.setInt32(0,_l,false);_e.push(_g.getUint8(0),_g.getUint8(1),_g.getUint8(2),_g.getUint8(3));break;case 3:_g.setUint16(0,4,false);_e.push(_g.getUint8(0),_g.getUint8(1));_g.setFloat64(0,_l,false);for(_m=0;_m<8;_m++ ){_e.push(_g.getUint8(_m));}break;case 4:_g.setUint16(0,40,false);_e.push(_g.getUint8(0),_g.getUint8(1));_l=_i._toText(_l);nexacro._Array2DataUtil.addLenToUint8Array(_l.length,_e,_g);for(_m=0;_m<_l.length;_m++ ){_e.push(_l.charCodeAt(_m));}break;case 5:case 6:case 7:_g.setUint16(0,41,false);_e.push(_g.getUint8(0),_g.getUint8(1));nexacro._Array2DataUtil.addDatetimeToUint8Array(_l,_e,_g);break;case 8:_g.setUint16(0,26,false);_e.push(_g.getUint8(0),_g.getUint8(1));nexacro._Array2DataUtil.addLenToUint8Array(_l.length,_e,_g);for(_m=0;_m<_l.length;_m++ ){_e.push(_l.charCodeAt(_m));}break;default:_g.setUint16(0,0,false);_e.push(_g.getUint8(0),_g.getUint8(1));break;}}nexacro.__forLoop(this,0,_d.length,__writeBINColData_loopFn);if(_b!=-1){nexacro._Array2DataUtil.addLenToUint8Array(_e.length+4,_a,_g);_g.setUint16(0,_b,false);_a.push(_g.getUint8(0),_g.getUint8(1));_g.setUint16(0,_d.length,false);_a.push(_g.getUint8(0),_g.getUint8(1));_e.forEach((_h)=>_a.push(_h));}};_pDataset._setSaveProp=function(_a,_b,_c){this._savenan=nexacro._isNull(_a)?this.getSaveNan():(_a=="exclude"?"exclude":"include");this._saveinfinity=nexacro._isNull(_b)?this.getSaveInfinity():(_b=="exclude"?"exclude":"include");this._saveinvaliddate=nexacro._isNull(_c)?this.getSaveInvalidDate():(_c=="exclude"?"exclude":"include");};_pDataset._convertValueBySaveProp=function(_a){if(nexacro._isNull(_a)){return _a;}var _b=this._savenan;var _c=this._saveinfinity;var _d=this._saveinvaliddate;if(_b=="exclude"){if(_a!=_a){return "";}else if(_a instanceof nexacro.Decimal&&_a.isNaN()){return "";}}if(_c=="exclude"){if(typeof _a=="number"&&!isNaN(_a)&&!isFinite(_a)){return "";}else if(_a instanceof nexacro.Decimal&&_a.isInfinity()){return "";}}if((_d=="exclude")&&(_a instanceof nexacro.Date)&&isNaN(_a.valueOf())){return "";}return _a;};_pDataset._addDirtyindex=function(_a,_b,_c){if(this.binddataobject){var _d=[];var _e=this._dirtylist;var _f=_e.length-1;var _g=_e[_f];var _h=false;if(_g){var _i=_g.type;var _j=_g.idx;if(_j==_a){if(_i!="delete"&&_b=="update"){_b=_i;_a=_j;_h=true;}}}if(_c){for(var _m=0,_n=_c.length;_m<_n;_m++ ){_d[_m]=_c[_m];}}if(_h){var _k=_e[_f];_e[_f].idx=_a;_e[_f].type=_b;_e[_f].row=_d;}else{var _l={};_l.idx=_a;_l.type=_b;_l.row=_d;_e.push(_l);}}};_pDataset._refreshDirty=function(){var _a=[];var _b=this._binddataobject;if(_b){var _c=this._p_dataobjectpath;var _d=this._dirtylist;for(var _i=0,_j=_d.length;_i<_j;_i++ ){var _e=_d[_i];var _f=_e.type;var _g=_e.idx;var _h;if(_f!="delete"){_h=this._rowToData(_e.row);}_a.push([_f,_g,_h]);}if(_a.length>0){_b.setDataInPath(_c,_a,-1,this.id);}for(var _i=0,_j=_d.length;_i<_j;_i++ ){var _e=_d[_i];_e.row=null;}}this._dirtylist.length=0;};_pDataset._rowToData=function(_a){var _b={};var _c=this.colinfos;function __copyRowData_loopFn(_e){var _f=this._getPathFromColumninfo(_c[_e]);if(_f){var _g=_a[_e];if(_g){var _h=_g.length-1;if((_g[0]=="["&&_g[_h]=="]")||(_g[0]=="{"&&_g[_h]=="}")){_g=JSON.parse(_g);}}this._setDataInPath(_b,_f,_g);}}var _d=_a.length<_c.length?_a.length:_c.length;nexacro.__forLoop(this,0,_d,__copyRowData_loopFn);return _b;};_pDataset._setDataInPath=function(_a,_b,_c){var _d=[];if(_b.indexOf("@")>-1||_b.indexOf("$")>-1){var _e=_b.match(/[^\]\[.]+/g);for(var _f=1,_g=_e.length;_f<_g;_f++ ){if(_f==_g -1){_d[_e[_f]]=_c;}else{_d=_a[_e[_f]];if(!_d){_a[_e[_f]]={};_d=_a=_a[_e[_f]];}}}}else{_a[_b]=_c;}};_pDataset._getPathFromColumninfo=function(_a){var _b=_a._datapath;if(_b===undefined&&_a.datapath){_b=_a.datapath.match(/[^\]\[.]+/g);}if(_b&&_b.length==2){return _b[1];}return _a.datapath;};delete _pDataset;nexacro.TransactionItem=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){nexacro._CommunicationItem.call(this,_a,"data",false,_i,_j);this.context=_b;this.svcid=_c;this.inputDatasets=this._parseDSParam(_d);this.outputDatasets=this._parseDSParam(_e);this.parameters=this._parseVarParam(_f);this.datatype=(!_g?0:_g);this._sendData=this._serializeData();this._usewaitcursor=_h&&nexacro._usewaitcursor;this._remain_data=null;this._progress_data=null;this._is_unknowntype_data=false;this._recieved_data=null;this._async_progress_timer_id=null;this._has_firstcount_dataset=this._hasFirstCountDs();this._check_responseXML=false;var _k=nexacro._hasCookieVariables();if(_k==false&&!this.parameters&&!this.inputDatasets){this._http_method="GET";}else{this._http_method="POST";}};var _pTransactionItem=nexacro._createPrototype(nexacro._CommunicationItem,nexacro.TransactionItem);nexacro.TransactionItem.prototype=_pTransactionItem;_pTransactionItem.handle=null;_pTransactionItem.callbackList=[];_pTransactionItem.type="data";_pTransactionItem.bcache=false;_pTransactionItem._type_name="TransactionItem";_pTransactionItem.on_start=function(){if(this._usewaitcursor){this._showWaitCursor(this.context);}nexacro._appendCommContext(this.context);var _a=nexacro.getApplication();if(_a){_a.on_fire_oncommunication(_a,0);}};_pTransactionItem.on_load_data=function(_a,_b,_c){var _d=null;var _e=null;var _f,_g;var _h=this.bcache;var _i=null;this._addCookieToCookieVariable(_b);if(_a&&_a._type_name=="DataCache"){_h=false;_f=_a._loadData(this);}else{if(_a&&this._protocol<0){_a=this.on_decrypt(_a);}if(this._progress_data){this.on_progress_data(_a,true);_f=this._progress_data._error_info;var _j=null;_d=new nexacro.Collection();for(var _ab in this._progress_data._datasets){var _k=this._progress_data._datasets[_ab];if(_k){for(_g=0;_g<_k.length;_g++ ){_j=_k[_g]._target_ds;if(_j){if(_k[_g]._isEnable){if(_h){_d.add_item(_j.id,new nexacro._DataSetCache(_j.id,_j.colinfos,_j._constVars,_j._rawRecords));}else{_d.add_item(_j.id,"");}}else{_d.add_item(_j.id,"");}}}}}this._progress_data._datasets=null;_e=this._progress_data._parameters;}else{_i=this._deserializeData(_a);if(_h){_e=_i[1];}_d=_i[2];_f=_i[0];}}if(_h){var _l=nexacro._DataCacheList[this.path];if(!_l){nexacro._DataCacheList[this.path]=new nexacro._DataCache(_e,_d,_c,this.version);}else{_l.parameters=_e;_l.datasets=_d;_l.last_modified=_c?_c:"";_l.version=this.version;}}if(this._usewaitcursor){this._hideWaitCursor(this.context);}nexacro._removeCommContext(this.context);var _m=nexacro.getApplication();if(_m){_m.on_fire_oncommunication(_m,1);}var _n=this.callbackList;var _o=_n.length;if(_o>0){var _p=_f?_f[0]:0;var _q=_f?_f[1]:"SUCCESS";var _r=this.context._load_manager;var _s=_r?_r.getDataItem(this.svcid):null;if(_s){_s._is_cancel=undefined;}for(_g=0;_g<_o;_g++ ){var _t=_n[_g];var _u=_t.target;if(_u._is_alive!=false){if(this._is_unknowntype_data){_t.callback.call(_u,this.svcid,_p,_q,"comm_fail_loaddetail",10599,this.path,this.path);}else{_t.callback.call(_u,this.svcid,_p,_q);}}}_n.splice(0,_o);}var _v=this.context.parent;if(_v&&_v._is_view){var _w=_v.parent;var _x=_w._trigger_manager;var _y="";var _z=_v._ismodeltrigger?_v:_w;var _aa=_v.getViewDataset();if(_d.indexOf(_v._p_viewdataset)>=0){_y="Model Load Success";}else{_y="Model Load Fail";}_x._notifyTrigger(_y,_aa,_z);}this.handle=null;};_pTransactionItem.on_load_arraybuffer=function(_a,_b,_c){var _d=null;var _e=null;var _f,_g;var _h=this.bcache;var _i=null;this._addCookieToCookieVariable(_b);if(_a&&_a._type_name=="DataCache"){_h=false;_f=_a._loadData(this);}else{if(_a&&this._protocol<0){_a=this.on_decrypt_arraybuffer(_a);}if(this._progress_data){this.on_progress_arraybuffer_chunk(_a,true);_f=this._progress_data._error_info;var _j=null;_d=new nexacro.Collection();for(var _ab in this._progress_data._datasets){var _k=this._progress_data._datasets[_ab];if(_k){for(_g=0;_g<_k.length;_g++ ){_j=_k[_g]._target_ds;if(_j){if(_k[_g]._isEnable){if(_h){_d.add_item(_j.id,new nexacro._DataSetCache(_j.id,_j.colinfos,_j._constVars,_j._rawRecords));}else{_d.add_item(_j.id,"");}}else{_d.add_item(_j.id,"");}}}}}this._progress_data._datasets=null;_e=this._progress_data._parameters;}else{_i=this._deserializeUint8Array(_a);if(_h){_e=_i[1];}_d=_i[2];_f=_i[0];}}if(_h){var _l=nexacro._DataCacheList[this.path];if(!_l){nexacro._DataCacheList[this.path]=new nexacro._DataCache(_e,_d,_c,this.version);}else{_l.parameters=_e;_l.datasets=_d;_l.last_modified=_c?_c:"";_l.version=this.version;}}if(this._usewaitcursor){this._hideWaitCursor(this.context);}nexacro._removeCommContext(this.context);var _m=nexacro.getApplication();if(_m){_m.on_fire_oncommunication(_m,1);}var _n=this.callbackList;var _o=_n.length;if(_o>0){var _p=_f?_f[0]:0;var _q=_f?_f[1]:"SUCCESS";var _r=this.context._load_manager;var _s=_r?_r.getDataItem(this.svcid):null;if(_s){_s._is_cancel=undefined;}for(_g=0;_g<_o;_g++ ){var _t=_n[_g];var _u=_t.target;if(_u._is_alive!=false){if(this._is_unknowntype_data){_t.callback.call(_u,this.svcid,_p,_q,"comm_fail_loaddetail",10599,this.path,this.path);}else{_t.callback.call(_u,this.svcid,_p,_q);}}}_n.splice(0,_o);}var _v=this.context.parent;if(_v&&_v._is_view){var _w=_v.parent;var _x=_w._trigger_manager;var _y="";var _z=_v._ismodeltrigger?_v:_w;var _aa=_v.getViewDataset();if(_d.indexOf(_v._p_viewdataset)>=0){_y="Model Load Success";}else{_y="Model Load Fail";}_x._notifyTrigger(_y,_aa,_z);}this.handle=null;};_pTransactionItem.on_load_xmldom=function(_a,_b,_c){this._addCookieToCookieVariable(_b);var _d=this.__deserializeXML("",_a);var _e=0;var _f="SUCCESS";var _g=_d[0];if(this.bcache){var _h=nexacro._DataCacheList[this.path];if(!_h){nexacro._DataCacheList[this.path]=new nexacro._DataCache(_d[1],_d[2],_c,this.version);}else{_h.parameters=_d[1];_h.datasets=_d[2];_h.last_modified=_c;_h.version=this.version;}}if(_g){_e=_g[0];_f=_g[1];}if(this._usewaitcursor){this._hideWaitCursor(this.context);}nexacro._removeCommContext(this.context);var _i=nexacro.getApplication();if(_i){_i.on_fire_oncommunication(_i,1);}var _j=this.callbackList;var _k=_j.length;if(_k>0){for(var _t=0;_t<_k;_t++ ){var _l=_j[_t];var _m=_l.target;if(_m._is_alive!=false){if(this._is_unknowntype_data){_l.callback.call(_m,this.svcid,_e,_f,"comm_fail_loaddetail",10599,this.path,this.path);}else{_l.callback.call(_m,this.svcid,_e,_f);}}}_j.splice(0,_k);}var _n=this.context.parent;if(_n&&_n._is_view){var _o=_n.parent;var _p=_o._trigger_manager;var _q="";var _r=_n._ismodeltrigger?_n:_o;var _s=_n.getViewDataset();if(_d[2].indexOf(_n._p_viewdataset)>=0){_q="Model Load Success";}else{_q="Model Load Fail";}_p._notifyTrigger(_q,_s,_r);}this.handle=null;};_pTransactionItem.on_progress=nexacro._emptyFn;_pTransactionItem.on_progress_data=function(_a,_b){if(!this._progress_data){if(_a.charAt(0)===" "){_a=nexacro.trimLeft(_a);}var _c=this._getStreamType(_a);switch(_c){case "CSV":this._progress_data=new nexacro._ProgressDataCSV(this);break;case "SSV":this._progress_data=new nexacro._ProgressDataSSV(this);break;case "PPX":this._progress_data=new nexacro._ProgressDataPPX(this);break;case "XML":this._progress_data=new nexacro._ProgressDataXML(this);break;case "UNKNOWN":this._is_unknowntype_data=true;return;default:return;}}this._progress_data._on_progress(_a,_b);};_pTransactionItem._async_progress_data=function(){if(this._b_recieved_all_data){this._recieved_data=null;return;}this.on_progress_data(this._recieved_data,false);this._b_block_onprogress=false;this._recieved_data=null;};_pTransactionItem.on_progress_arraybuffer_chunk=function(_a,_b){if(!this._progress_data){var _c=nexacro._Array2DataUtil.trimLeft(_a,0);var _d="UNKNOWN";if(_a&&_a.length>=(4+_c)){if((_a[_c]==0xfe&&_a[_c+1]==0xff)||(_a[_c]==0xff&&_a[_c+1]==0xfe)){_c+=2;}else if((_a[_c]==0xef&&_a[_c+1]==0xbb&&_a[_c+2]==0xbf)){_c+=3;}_c=nexacro._Array2DataUtil.trimLeft(_a,_c);if((_a[_c]==0xFE)&&(_a[_c+1]==0x10||_a[_c+1]==0x01)){_d="BIN";}}if(_d=="UNKNOWN"){var _e=nexacro._Array2DataUtil.substr(_a,_c,10);_d=this._getStreamType(_e.string);}switch(_d){case "CSV":{var _f=[];_f[0]="\r".charCodeAt(0);_f[1]="\n".charCodeAt(0);var _g=nexacro._Array2DataUtil.indexOf(_a,_c,_f);var _h;if(_g.index<0){_h="\n";}else{_h="\r\n";}this._progress_data=new nexacro._ProgressDataCSV(this,_h);}break;case "SSV":this._progress_data=new nexacro._ProgressDataSSV(this);break;case "PPX":this._progress_data=new nexacro._ProgressDataPPX(this);break;case "XML":this._progress_data=new nexacro._ProgressDataXML(this);this._progress_data._parsing_min_size=1024* 16;break;case "{":this._b_block_onprogress=true;return false;case "BIN":this._progress_data=new nexacro._ProgressDataBIN(this);this._progress_data._skipbinpos=_c;break;case "UNKNOWN":this._is_unknowntype_data=true;return false;default:return false;}}this._progress_data._on_progress_arraybuffer_chunk(_a,_b);this._b_block_onprogress=false;return true;};_pTransactionItem.on_error=function(_a,_b,_c,_d,_e){if(this._usewaitcursor){this._hideWaitCursor(this.context);}var _f=this.callbackList;var _g=_f.length;var _h=false;if(_g>0){for(var _t=0;_t<_g;_t++ ){var _i=_f[_t];var _j=_i.target;if(_j._is_alive!=false){_h=_i.callback.call(_j,this.svcid,-1,"FAILED",_b,_c,this.path,_d,_e);if(_h){if(this._usewaitcursor){this._showWaitCursor(this.context);}continue;}}}var _k=this.context.parent;if(_k&&_k._is_view){for(var _u=0;this.outputDatasets.length>_u;_u++ ){if(this.outputDatasets[_u].lval==_k._p_viewdataset){var _l=_k.parent;var _m=_l._trigger_manager;var _n="Model Load Fail";var _o=_k._ismodeltrigger?_k:_l;var _p=_k.getViewDataset();_m._notifyTrigger(_n,_p,_o);break;}}}if(_h){return true;}}var _q=this.context._load_manager;var _r=_q?_q.getDataItem(this.svcid):null;if(_r&&!_r._is_cancel){return;}_f.splice(0,_g);nexacro._removeCommContext(this.context);var _s=nexacro.getApplication();if(_s){_s.on_fire_oncommunication(_s,1);}this.handle=null;};_pTransactionItem._loadFromData=function(_a){var _b;if(nexacro._Array2DataUtil.isTypedArray(_a)){_b=this._deserializeUint8Array(_a);}else{_b=this._deserializeData(_a);}var _c=0;var _d="SUCCESS";var _e=this.bcache;var _f=this.last_modified;var _g=_b[0];if(_g){_c=_g[0];_d=_g[1];}if(_e){var _h=_b[1];var _i=_b[2];var _j=nexacro._DataCacheList[this.path];if(!_j){nexacro._DataCacheList[this.path]=new nexacro._DataCache(_h,_i,_f,this.version);}else{_j.parameters=_h;_j.datasets=_i;_j.last_modified=_f?_f:"";_j.version=this.version;}}var _k=this.callbackList;var _l=_k.length;if(_l>0){for(var _o=0;_o<_l;_o++ ){var _m=_k[_o];var _n=_m.target;if(_n._is_alive!=false){_m.callback.call(_n,this.svcid,_c,_d);}}_k.splice(0,_l);}this.handle=null;};_pTransactionItem._showWaitCursor=function(_a){if(_a){_a._waitCursor(true,_a);if(nexacro._refcommuni&&nexacro._refcommuni>=0){nexacro._refcommuni++ ;}else{nexacro._refcommuni=0;}}};_pTransactionItem._hideWaitCursor=function(_a){if(_a){_a._waitCursor(false,_a);if(nexacro._refcommuni>0){nexacro._refcommuni-- ;}}};_pTransactionItem._parseDSParam=function(_a){if(!_a){return undefined;}var _b=[];var _c=/([a-zA-Z-_$][.a-zA-Z-0-9_$]*)\s*=\s*([a-zA-Z-_$][.,a-zA-Z-0-9_$]*(?:\:[aAuUnNPp])?)/g;var _d=_a.match(_c);if(!_d||_d.length==0){return undefined;}var _e=_d.length;var _f;for(_f=0;_f<_e;_f++ ){var _g=_d[_f].split("=");var _h=_g[0].trim();var _i=_g[1].trim();var _j="N";var _k=_i.indexOf(":");if(_k>-1){_j=_i.substring(_k+1);_i=_i.substring(0,_k);}var _l={lval:_h,rval:_i,saveType:_j};_b.push(_l);}return _b;};_pTransactionItem._parseVarParam=function(_a){if(!_a){return;}_a=_a.replace(/^\s*|\s*$/g,'');if(_a.length==0){return undefined;}var _b=[];var _c=/([a-zA-Z_][a-zA-Z0-9_]*)\s*="((\\\")+|[^\"])*"|([a-zA-Z_][a-zA-Z0-9_]*)\s*='((\\\')+|[^\'])*'|([a-zA-Z_][a-zA-Z0-9_]*)\s*=([^ ]*)/g;var _d=_a.match(_c);if(_d){var _e=_d.length;for(var _l=0;_l<_e;_l++ ){var _f=_d[_l].split("=");var _g=_f.length;var _h=_f[0].trim();var _i=_f[1].trim();for(var _m=2;_m<_g;_m++ ){_i=_i+"="+_f[_m].trim();}var _j="N";_g=_i.length;if(_g>0){_i=nexacro.stripQuote(_i);}var _k={lval:_h,rval:_i,saveType:_j};_b.push(_k);}}return _b;};_pTransactionItem._serializeData=function(){if(this.datatype==1){return this.__serializeBIN();}else if(this.datatype==2){return this.__serializeSSV();}else if(this.datatype==3){return this.__serializeJSON();}else{return this.__serializeXML();}};_pTransactionItem.__serializeXML=function(){var _a=0;var _b=[],_c=[],_d;var _e=0;var _f=0;var _g;var _h,_i;var _j=nexacro._getCookieVariables(4);if(_j){for(_d in _j){_c.push({id:_d,value:_j[_d].value});}}_j=nexacro._getCookieVariables(6);if(_j){for(_d in _j){_c.push({id:_d,value:_j[_d].value});}}this._writeData(_b,"<?xml version=\"1.0\" encoding=\"UTF-8\"?>",_a);this._writeData(_b,"<Root xmlns=\"http://www.nexacroplatform.com/platform/dataset\">",_a++ );var _k=this.parameters;if(_k){_e=_k.length;}_f=_c.length;if(_e>0||_f>0){this._writeData(_b,"<Parameters>",_a++ );if(_f){for(_g=0;_g<_f;_g++ ){var _l=_c[_g];if(!_l){continue;}_h=_l.id;_i=_l.value;if(_i&&_i.length){_i=nexacro._encodeXml(_i);this._writeData(_b,"<Parameter id=\""+_h+"\">"+_i+"</Parameter>",_a);}else{this._writeData(_b,"<Parameter id=\""+_h+"\" />",_a);}}}if(_e>0){for(_g=0;_g<_e;_g++ ){_h=_k[_g].lval;_i=_k[_g].rval;if(_i&&_i.length){_i=nexacro._encodeXml(_i);this._writeData(_b,"<Parameter id=\""+_h+"\">"+_i+"</Parameter>",_a);}else{this._writeData(_b,"<Parameter id=\""+_h+"\" />",_a);}}}this._writeData(_b,"</Parameters>", --_a);}else{this._writeData(_b,"<Parameters />",_a);}var _m=this.inputDatasets;if(_m&&_m.length){var _n=_m.length;for(_g=0;_g<_n;_g++ ){_h=_m[_g].rval;var _o=this.context._getDatasetObject(_h);if(_o){_b.push(_o._saveXML(_m[_g].lval,_m[_g].saveType,_a));}}}this._writeData(_b,"</Root>", --_a);var _p;if(_e==0&&_f==0&&(!_m||_m.length==0)){_p="";}else{_p=_b.join("\n");}return _p;};_pTransactionItem.__serializeSSV=function(){var _a=nexacro._getSSVRecordSeparator();var _b=[],_c=[],_d;var _e=nexacro._getCookieVariables(4);if(_e){for(_d in _e){_c.push({id:_d,value:_e[_d].value});}}_e=nexacro._getCookieVariables(6);if(_e){for(_d in _e){_c.push({id:_d,value:_e[_d].value});}}var _f,_g,_h,_i;_b.push("SSV:utf-8"+_a);var _j=0;var _k=0;var _l=this.parameters;if(_l){_j=_l.length;}_k=_c.length;if(_k>0){for(_i=0;_i<_k;_i++ ){var _m=_c[_i];if(!_m){continue;}_f=_m.id;_g=_m.value;if(_g&&_g.length){_b.push(_f+"="+_g+_a);}else{_b.push(_f+"="+_a);}}}if(_j>0){for(_i=0;_i<_j;_i++ ){_f=_l[_i].lval;_g=_l[_i].rval;if(_g){_b.push(_f+"="+_g+_a);}else{_b.push(_f+"="+_a);}}}var _n=this.inputDatasets;if(_n&&_n.length){var _o=_n.length;for(_i=0;_i<_o;_i++ ){_f=_n[_i].rval;_h=this.context._getDatasetObject(_f);if(_h){_b.push(_h.saveSSV(_n[_i].lval,_n[_i].saveType));}}}var _p=_b.join("");return _p;};_pTransactionItem.__serializeBIN=function(){var _a=false;if(nexacro._isHybrid&&nexacro._isHybrid()){if(nexacro._OS=="iOS"){if(document.location.href.indexOf("file://")==0){_a=true;}}if(nexacro._OS=="Android"){if(this.type=="data"&&document.location.href.indexOf("file://")==0){_a=true;}}if(this._protocol==-1){_a=true;}}if(_a){return this.__serializeSSV();}if(nexacro._Browser!="Runtime"){var _b=[],_c=[],_d;var _e=nexacro._getCookieVariables(4);if(_e){for(_d in _e){_c.push({id:_d,value:_e[_d].value});}}_e=nexacro._getCookieVariables(6);if(_e){for(_d in _e){_c.push({id:_d,value:_e[_d].value});}}var _f,_g,_h,_i,_j;var _k=0;var _l=0;var _m=this.parameters;if(_m){_k=_m.length;}_l=_c.length;const _n=new ArrayBuffer(8);var _o=new DataView(_n);var _p=[];if(_l>0){for(_i=0;_i<_l;_i++ ){var _q=_c[_i];if(!_q){continue;}_f=_q.id;_g=_q.value;nexacro._Array2DataUtil.addLenStrToUint8Array(_f,_p,_o);_o.setUint16(0,21,false);_p.push(_o.getUint8(0),_o.getUint8(1));nexacro._Array2DataUtil.addLenStrToUint8Array(_g,_p,_o);}}if(_k>0){for(_i=0;_i<_k;_i++ ){_f=_m[_i].lval;_g=_m[_i].rval;nexacro._Array2DataUtil.addLenStrToUint8Array(_f,_p,_o);_o.setUint16(0,21,false);_p.push(_o.getUint8(0),_o.getUint8(1));nexacro._Array2DataUtil.addLenStrToUint8Array(_g,_p,_o);}}if(_p.length>0){_b.push(0xFE,0x10);_o.setUint16(0,5000,false);_b.push(_o.getUint8(0),_o.getUint8(1));nexacro._Array2DataUtil.addLenToUint8Array(_p.length,_b,_o);_o.setUint16(0,_l+_k,false);_b.push(_o.getUint8(0),_o.getUint8(1));_p.forEach((_w)=>_b.push(_w));}var _r=this.inputDatasets;if(_r&&_r.length){var _s=_r.length;for(_i=0;_i<_s;_i++ ){_f=_r[_i].rval;_h=this.context._getDatasetObject(_f);if(_h){var _t=_h._saveBINUint8Array(_r[_i].lval,_r[_i].saveType);if(_t.length>0){_b.push(0xFE,0x01);_o.setUint16(0,5000,false);_b.push(_o.getUint8(0),_o.getUint8(1));_t.forEach((_w)=>_b.push(_w));_b.push(0,0,0,0);}}}}const _u=new Uint8Array(_b.length);_u.set(_b);return _u;}var _v=this.__serializeSSV();if(_v){return nexacro._convertStreamSSVToBIN(_v);}return "";};_pTransactionItem.__serializeJSON=function(){var _a=0;var _b=[],_c=[],_d;var _e=0;var _f=0;var _g,_h,_i,_j;var _k=nexacro._getCookieVariables(4);if(_k){for(_d in _k){_c.push({id:_d,value:_k[_d].value});}}_k=nexacro._getCookieVariables(6);if(_k){for(_d in _k){_c.push({id:_d,value:_k[_d].value});}}this._writeData(_b,"{",_a++ );var _l="1.0";this._writeData(_b,"\"version\":\""+_l+"\",",_a);var _m=this.parameters;if(_m){_e=_m.length;}_f=_c.length;if(_e>0||_f>0){this._writeData(_b,"\"Parameters\":",_a);this._writeData(_b,"[",_a++ );var _n="";if(_f){for(_g=0;_g<_f;_g++ ){var _o=_c[_g];if(!_o){continue;}_h=_o.id;_i=_o.value;this._writeData(_b,"{",_a++ );if(_g<_f -1||_e>0){_n=",";}else{_n="";}if(_i&&_i.length){_i=nexacro._encodeXml(_i);_i=_i.replace(/[\\]/gi,'\\\\');_i=_i.replace(/[\"]/gi,'\\"');this._writeData(_b,"\"id\":\""+_h+"\", \"value\":\""+_i+"\"",_a);}else{this._writeData(_b,"\"id\":\""+_h+"\"",_a);}this._writeData(_b,"}"+_n, --_a);}}if(_e>0){_n="";for(_g=0;_g<_e;_g++ ){_h=_m[_g].lval;_i=_m[_g].rval;this._writeData(_b,"{",_a++ );if(_g<_e -1){_n=",";}else{_n="";}if(_i&&_i.length){_i=nexacro._encodeXml(_i);_i=_i.replace(/[\\]/gi,'\\\\');_i=_i.replace(/[\"]/gi,'\\"');this._writeData(_b,"\"id\":\""+_h+"\", \"value\":\""+_i+"\"",_a);}else{this._writeData(_b,"\"id\":\""+_h+"\"",_a);}this._writeData(_b,"}"+_n, --_a);}}this._writeData(_b,"],", --_a);}var _p=this.inputDatasets;if(_p&&_p.length){var _q=_p.length;this._writeData(_b,"\"Datasets\":",_a);this._writeData(_b,"[",_a++ );for(_g=0;_g<_q;_g++ ){_h=_p[_g].rval;var _r=this.context._getDatasetObject(_h);if(_r){if(_g>0){this._addStringJSONData(_b,",");}_b.push(_r._saveJSON(_p[_g].lval,_p[_g].saveType,_a));}}this._writeData(_b,"]", --_a);}this._writeData(_b,"}", --_a);if(_e==0&&_f==0&&(!_p||_p.length==0)){_j="";}else{_j=_b.join("\n");}return _j;};_pTransactionItem._deserializeData=function(_a){if(!_a){return [[-1,"Stream Data is null!"],[],new nexacro.Collection()];}if(_a.charAt(0)==" "){_a=_a.trim();}var _b=_a.substring(0,3);if(_b=="SSV"){return this.__deserializeSSV(_a);}else if(_b=="CSV"){return this.__deserializeCSV(_a);}else if(_b=="PPX"){return this.__deserializePPX(_a);}else if(_b[0]=="{"){return this.__deserializeJSON(_a);}else{return this.__deserializeXML(_a);}};nexacro._Array2DataUtil={isTypedArray:function(_a){return !!_a&&_a.byteLength!==undefined;},getCh:function(_a,_b){if(!_a){return {string:'',byteLength:0};}var _c=_b,_d=_a.length;if(_d==0||_b>=_d){return {string:'',byteLength:0};}var _e,_f,_g,_h='',_i=0;_e=_a[_c++ ];switch(_e>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:{_h=String.fromCharCode(_e);_i=1;}break;case 12:case 13:{if(_c<_d){_f=_a[_c++ ];_h=String.fromCharCode(((_e&0x1F)<<6)|(_f&0x3F));_i=2;}}break;case 14:{if(_c+1<_d){_f=_a[_c++ ];_g=_a[_c++ ];_h=String.fromCharCode(((_e&0x0F)<<12)|((_f&0x3F)<<6)|((_g&0x3F)<<0));_i=3;}}break;}return {string:_h,byteLength:_i};},getString:function(_a){if(!_a){return "";}var _b=nexacro._getTextDecoder();if(_b){return _b.decode(_a);}else{return this.substring(_a,0).string;}},indexOf:function(_a,_b,_c){if(!_a){return {index:-1,byteLength:0};}var _d=_b,_e=_a.length;if(_e==0||_b>=_e){return {index:-1,byteLength:0};}var _f=_c.length;if(_f==0){return {index:_d,byteLength:0};}if(_b+_f>=_e){return {index:-1,byteLength:0};}var _g=false;var _h=0,_i=-1;var _j=-1;if(_a.indexOf!==undefined){while(_d<=_e){if(_h==0){_j=_a.indexOf(_c[_h],_d);if(_j==-1){_g=false;break;}else{_i=_d=_j;_h++ ;}}else{if(_a[_d]==_c[_h]){_h++ ;}else{_h=0;_i=-1;}}if(_f==_h){_g=true;break;}_d++ ;}}else{var _k,_l=1;while(_d<_e){_k=_a[_d];switch(_k>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:_l=1;break;case 12:case 13:_l=2;break;case 14:_l=3;break;default:_l=0;break;}if(_l==0){break;}_g=(_k==_c[_h]&&(_f-_h)>=_l);if(_g){if(_l>=2){_g=(_a[_d+1]==_c[_h+1]);}if(_l>=3){_g=(_a[_d+2]==_c[_h+2]);}if(_g){if(_h==0){_i=_d;}_h+=_l;if(_h==_f){break;}}else{_h=0;_i=-1;}}else{_h=0;}_d+=_l;_g=false;}}return _g?{index:_i,byteLength:_f}:{index:-1,byteLength:0};},lastIndexOf:function(_a,_b,_c){if(!_a){return {index:-1,byteLength:0};}var _d=_a.length;var _e=_b?_b:_d;if(_d==0||_b>=_d){return {index:-1,byteLength:0};}var _f=_c.length;if(_f==0){return {index:_e,byteLength:0};}if(_b+_f>=_d){return {index:-1,byteLength:0};}var _g=false;var _h=_f -1,_i=-1;var _j=-1;if(_a.lastIndexOf!==undefined){while(_e>=0){if(_h==_f -1){_j=_a.lastIndexOf(_c[_h],_e);if(_j==-1){_g=false;break;}else{_e=_j;_h-- ;}}else{if(_a[_e]==_c[_h]){if(_h==0){_g=true;_i=_e;break;}_h-- ;}else{_h=_f -1;_i=-1;}}_e-- ;}}else{var _k,_l=1;while(_e>=0){_k=_a[_e];switch(_k>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:_l=1;break;case 12:case 13:_l=2;break;case 14:_l=3;break;default:_l=0;break;}if(_l==0){break;}_g=(_k==_c[_h]&&(_f-_h)>=_l);if(_g){if(_l>=2){_g=(_a[_e -1]==_c[_h -1]);}if(_l>=3){_g=(_a[_e -2]==_c[_h -2]);}if(_g){if(_h==1){_i=_e;}_h-=_l;if(_h==0){break;}}else{_h=_f -1;_i=-1;}}else{_h=_f -1;}_e-=_l;_g=false;}}return _g?{index:_i,byteLength:_f}:{index:-1,byteLength:0};},find:function(_a,_b,_c){if(!_a){return {index:-1,byteLength:0};}var _d=_b,_e=_a.length;var _f=_c.length;if(_e==0||_b>=_e){return {index:-1,byteLength:0};}if(_f==0){return {index:_d,byteLength:0};}var _g,_h,_i=_c[0];while(_d<_e){_g=nexacro._Array2DataUtil.getCh(_a,_d);if(_g.string==''){break;}if(_g.string==_i){var _j=1,_k=_d+_g.byteLength,_l=_g.string;for(;_j<_f;_j++ ){_h=nexacro._Array2DataUtil.getCh(_a,_k);if(_h.string==''){break;}_l+=_h.string;_k+=_h.byteLength;if(_h.string==''||_h.string!=_c[_j]){break;}}if(_l==_c){return {index:_d,byteLength:(_k-_d)};}_d=_k;}else{_d+=_g.byteLength;}}return {index:-1,byteLength:0};},substr:function(_a,_b,_c){if(!_a){return {string:'',byteLength:0};}var _d=_b,_e=_a.length;if(_e==0||_b>=_e){return {string:'',byteLength:0};}_c|=0;if(_c<1){_c=1;}var _f,_g='';var _h=nexacro._getTextDecoder();if(_h){var _i=_b+_c;var _j=_a.slice(_b,_i);_g=_h.decode(_j);_d+=_j.length;}else{while(_d<_e&&_c>0){_f=nexacro._Array2DataUtil.getCh(_a,_d);if(_f.string==''){break;}_g+=_f.string;_d+=_f.byteLength;_c-- ;}}return {string:_g,byteLength:(_d-_b)};},substring:function(_a,_b,_c){if(!_a){return {string:'',byteLength:0};}var _d=_b,_e=_a.length;if(_e==0||_b>=_e){return {string:'',byteLength:0};}if(_c==undefined){_c=_e;}else if(_c<0||_c>_e){_c=_e;}var _f=nexacro._getTextDecoder();if(_f){var _g=_a.slice(_b,_c);_i=_f.decode(_g);_d+=_g.length;}else{var _h,_i='';while(_d<_c){_h=nexacro._Array2DataUtil.getCh(_a,_d);if(_h.string==''){break;}_i+=_h.string;_d+=_h.byteLength;}}return {string:_i,byteLength:(_d-_b)};},substringOf:function(_a,_b,_c){if(!_a){return {string:'',byteLength:0,nextOffset:_b,matched:false};}var _d=_b,_e=_b,_f=_a.length;var _g=_c;if(Array.isArray(_c)){_g=_c.join();}var _h=_g.length;if(_f==0||_b>=_f||_h<=0){return {string:'',byteLength:0,nextOffset:_b,matched:false};}var _i=false;var _j,_k,_l=_g[0],_m='';while(_d<_f){_j=nexacro._Array2DataUtil.getCh(_a,_d);if(_j.string==''){break;}if(_j.string==_l){var _n=1,_o=_d+_j.byteLength,_p=_j.string;for(;_n<_h;_n++ ){_k=nexacro._Array2DataUtil.getCh(_a,_o);if(_k.string==''){break;}_p+=_k.string;_o+=_k.byteLength;if(_k.string==''||_k.string!=_g[_n]){break;}}if(_p==_g){_i=true;_e=_o;break;}_m+=_p;_e=_d=_o;}else{_m+=_j.string;_d+=_j.byteLength;_e=_d;}}return {string:_m,byteLength:(_d-_b),nextOffset:_e,matched:_i};},trimLeft:function(_a,_b,_c){if(!_a){return;}var _d=_b,_e=_a.length;if(_e==0||_b>=_e){return;}if(_c==undefined){_c=' ';}var _f;while(_d<_e){_f=nexacro._Array2DataUtil.getCh(_a,_d);if(_f.string==''){break;}if(_c.indexOf(_f.string)<0){break;}_d+=_f.byteLength;}return _d;},getLenFromUint8Array:function(_a,_b,_c){var _d=_c;if(!_d){_d=new DataView(_a.buffer);}var _e=_b;if(_e+2>=_a.length){return [_e,null];}var _f=_d.getUint16(_e);if((_a[_b]&0x80)!=0){_f=(_d.getUint32(_b,false)&0x7FFFFFFF);_e+=4;}else{_e+=2;}return [_e,_f];},addLenToUint8Array:function(_a,_b,_c){var _d=_c;if(!_d){const _e=new ArrayBuffer(4);_d=new DataView(_e);}if(_a<=32767){_d.setUint16(0,_a,false);_b.push(_d.getUint8(0),_d.getUint8(1));}else{_d.setUint32(0,_a|0x80000000,false);_b.push(_d.getUint8(0),_d.getUint8(1),_d.getUint8(2),_d.getUint8(3));}},addLenStrToUint8Array:function(_a,_b,_c){var _d=nexacro._getTextEncoder();if(_d&&_a.length>0){var _e=_d.encode(_a);nexacro._Array2DataUtil.addLenToUint8Array(_e.length,_b,_c);_e.forEach((_f)=>_b.push(_f));}else{this.addLenToUint8Array(_a.length,_b,_c);for(var _f=0;_f<_a.length;_f++ ){_b.push(_a.charCodeAt(_f));}}},getDatetimeFromUint8Array:function(_a,_b,_c){var _d=_c;if(!_d){_d=new DataView(_a.buffer);}var _e=_b;if(_e+8>_a.length){return [_e,null];}var _f=new Date(_d.getFloat64(_e,false));var _g=_f.getTimezoneOffset()* 60* 1000;var _h=new Date(_f.getTime()+_g);return [_e+8,_h];},addDatetimeToUint8Array:function(_a,_b,_c){var _d=_c;if(!_d){const _e=new ArrayBuffer(4);_d=new DataView(_e);}if(_a instanceof nexacro.Date||_a instanceof Date){var _f=_a.getTime()-(_a.getTimezoneOffset()* 60* 1000);_d.setFloat64(0,_f,false);for(var _g=0;_g<8;_g++ ){_b.push(_d.getUint8(_g));}}}};_pTransactionItem._deserializeUint8Array=function(_a){if(!_a||_a.length==0){return [[-1,"Stream Data is null!"],[],new nexacro.Collection()];}var _b=0,_c;_b=nexacro._Array2DataUtil.trimLeft(_a,_b);var _d="";var _c=nexacro._Array2DataUtil.substr(_a,_b,10);var _e=this._getStreamType(_c.string);if(_e=="SSV"){_d=nexacro._getSSVRecordSeparator();}else if(_e=="CSV"){var _f=[];_f[0]="\r".charCodeAt(0);_f[1]="\n".charCodeAt(0);var _g=nexacro._Array2DataUtil.indexOf(_a,_b,_f);if(_g.index<0){_d="\n";}else{_d="\r\n";}}else if(_e=="XML"){return this.__deserializeXMLFromStr(nexacro._Array2DataUtil.getString(_a));}else if(_e=="JSON"){return this.__deserializeJSONFromStr(nexacro._Array2DataUtil.getString(_a));}_c=nexacro._Array2DataUtil.substringOf(_a,_b,_d);if(_c.string.length<3){this._is_unknowntype_data=true;return [[-1,"invalid nexacro communication format"],[],new nexacro.Collection()];}_b=_c.nextOffset;if(_e=="SSV"){return this.__deserializeSSVFromUint8Array(_a,_b);}else if(_e=="CSV"){return this.__deserializeCSVFromUint8Array(_a,_b,_d);}};_pTransactionItem._setParamter=function(_a,_b){var _c=this.context;if(_a in _c){if(nexacro._isNull(_c[_a])||!nexacro._isObject(_c[_a])){_c[_a]=_b;}}else{var _d=nexacro.getApplication();if(_d&&_d._existVariable(_a)){_d[_a]=_b;}else{var _e=nexacro._hasEnvironmentVariable(_a);if(_e){nexacro.setEnvironmentVariable(_a,_b);}}}};_pTransactionItem._getDataset=function(_a){var _b=this.context;var _c=this.outputDatasets;if(_c&&_c.length){var _d=_c.length;for(var _f=0;_f<_d;_f++ ){var _e=_c[_f];if(_e.rval==_a){return _b._getDatasetObject(_e.lval);}}}};_pTransactionItem._hasFirstCountDs=function(){if(!this.outputDatasets){return false;}var _a=this.outputDatasets.length;var _b=this.context;for(var _e=0;_e<_a;_e++ ){var _c=this.outputDatasets[_e];var _d=_b._getDatasetObject(_c.lval);if(_d){if(_d.firefirstcount>0){return true;}}}return false;};_pTransactionItem.__deserializeXML=function(_a,_b){var _c,_d;var _e=[];var _f=new nexacro.Collection();var _g=[0,"SUCCESS"];if(_a.length>0&&!this._check_responseXML){var _h=_a.substr(0,10).toLowerCase();if(_h.indexOf("<?xml")<0){this._is_unknowntype_data=true;return [[-1,"invalid nexacro communication format"],_e,_f];}return this.__deserializeXMLFromStr(_a);}else{if(!_b){if(_a.indexOf("&quot;")>=0){_a=nexacro._replaceAll(_a,"&quot;","\"");}if(_a.indexOf("&apos;")>=0){_a=nexacro._replaceAll(_a,"&apos;","\'");}_b=nexacro._parseXMLDocument(_a);}if(_b.parseError&&_b.parseError.errorCode!=0){this._is_unknowntype_data=true;return [[-1,"invalid nexacro communication format"],_e,_f];}else{var _i,_j,_k;var _l;var _m=_b.getElementsByTagName("Parameter");if(_m){var _n=_m.length;for(_c=0;_c<_n;_c++ ){_l=_m[_c];_j=_l.getAttribute("id");if(_j&&_j.length){_k=(_l.textContent||(_l.firstChild?_l.firstChild.nodeValue:""));if(_j=="ErrorCode"){_k=parseInt(_k)|0;if(isFinite(_k)==false){_g[0]=-1;}else{_g[0]=_k;}}else if(_j=="ErrorMsg"){_g[1]=_k;}else{this._setParamter(_j,_k);}if(this.bcache){_e[_e.length]=new nexacro._ParametersCache(_j,_k);}}}}if(_g[0]>=0){var _o=this.inputDatasets;var _p=_o?_o.length:0;for(_c=0;_c<_p;_c++ ){_i=_o[_c];_d=this.context._getDatasetObject(_i.rval);if(_d){_d.applyChange();}}var _q,_r;var _s={};var _t={};var _u=this.outputDatasets;var _v=_u?_u.length:0;for(_c=0;_c<_v;_c++ ){_i=_u[_c];if(_s[_i.rval]==null){_s[_i.rval]=[];_t[_i.rval]=[];}_q=_s[_i.rval];_r=_t[_i.rval];if(_q.indexOf(_i.lval)==-1){_q.push(_i.lval);_r.push(_i.saveType);}}var _w=_b.getElementsByTagName("Dataset");var _x=_w?_w.length:0;for(_c=0;_c<_x;_c++ ){var _y=_w[_c].getAttribute("id");if(_y&&_y.length){var _z=_s[_y];if(_z){var _aa=_t[_y];for(_c=0;_c<_z.length;_c++ ){var _ab=_z[_c];var _ac=_aa[_c];_d=this.context._getDatasetObject(_ab);if(!_d){_d=new nexacro.Dataset(_y);}_d._p_rowposition=-1;_d.loadFromDOM(_w[_c],null,(_ac=="P"),_g[0],_g[1]);if(this.bcache){_f.add_item(_d.id,new nexacro._DataSetCache(_d.id,_d.colinfos,_d._constVars,_d._rawRecords));}else{_f.add_item(_d.id,"");}}}}}}}}return [_g,_e,_f];};_pTransactionItem.__deserializeXMLFromStr=function(_a){var _b=[];var _c=new nexacro.Collection();var _d=0;var _e="SUCCESS";var _f=nexacro.getEnvironment();var _g=_f.datasetloadtype;var _h,_i,_j,_k;if(!_a){return [[-1,"Stream Data is null!"],null,null];}var _l=this.context;var _m=_a.indexOf("<Dataset ");var _n;if(_m>-1){_n=_a.substring(0,_m);}else{_n=_a;}var _o=0;var _p=nexacro._getXMLTagData(_n,_o,"<Parameters>","</Parameters>");if(_p){var _q=_p[0];var _r=0;var _s=nexacro._getXMLTagData2(_q,_r,"<Parameter ","</Parameter>");while(_s){_r=_s[3];_j=_s[1];var _t=nexacro._getXMLAttributeID(_j);if(_t&&_t.length){var _u=_s[0];if(_t=="ErrorCode"){_d=parseInt(_u)|0;if(isFinite(_d)==false){_d=-1;}_u=_d;}else if(_t=="ErrorMsg"){_u=nexacro._decodeXml(_u);_e=_u;}else if(_t in _l){if(nexacro._isNull(_l[_t])||!nexacro._isObject(_l[_t])){_u=nexacro._decodeXml(_u);_l[_t]=_u;}}else{var _v=nexacro.getApplication();if(_v&&_v._existVariable(_t)){_u=nexacro._decodeXml(_u);_v[_t]=_u;}else{var _w=nexacro._hasEnvironmentVariable(_t);if(_w){_u=nexacro._decodeXml(_u);nexacro.setEnvironmentVariable(_t,_u);}}}if(this.bcache){_b[_b.length]=new nexacro._ParametersCache(_t,_u);}}_s=nexacro._getXMLTagData2(_q,_r,"<Parameter ","</Parameter>");}}if(_d<=-1&&_g=="onsuccess"){return [[_d,_e],_b,_c];}var _x=this.inputDatasets;if(_d>=0&&_x&&_x.length){var _y=_x.length;for(_h=0;_h<_y;_h++ ){_i=_x[_h];_k=_l._getDatasetObject(_i.rval);if(_k){_k.applyChange();}}}var _z,_aa;var _ab={};var _ac={};var _ad=this.outputDatasets;var _ae=_ad?_ad.length:0;if(_ae>0){for(_h=0;_h<_ae;_h++ ){_i=_ad[_h];if(_ab[_i.rval]==null){_ab[_i.rval]=[];_ac[_i.rval]=[];}_z=_ab[_i.rval];_aa=_ac[_i.rval];if(_z.indexOf(_i.lval)==-1){_z.push(_i.lval);_aa.push(_i.saveType);}}}if(_m>=-1){var _af=nexacro._getXMLTagData2(_a,_m,"<Dataset ","</Dataset>");while(_af){_m=_af[3];_j=_af[1];var _ag=nexacro._getXMLAttributeID(_j);var _ah=_ab[_ag];if(_ah){var _ai=_ac[_ag];for(_h=0;_h<_ah.length;_h++ ){var _aj=_ah[_h];var _ak=_ai[_h];_k=_l._getDatasetObject(_aj);if(_k){_k._p_rowposition=-1;_k.loadFromXMLStr(_af[0],null,(_ak=="P"),_d,_e);if(this.bcache){_c.add_item(_aj,new nexacro._DataSetCache(_aj,_k.colinfos,_k._constVars,_k._rawRecords));}else{_c.add_item(_aj,"");}}}}_af=nexacro._getXMLTagData2(_a,_m,"<Dataset ","</Dataset>");}}return [[_d,_e],_b,_c];};_pTransactionItem.__deserializePPX=function(_a){var _b=[];var _c=new nexacro.Collection();var _d=nexacro._getSSVRecordSeparator();var _e=nexacro._getSSVUnitSeparator();var _f=0;var _g="SUCCESS";var _h=nexacro.getEnvironment();var _i=_h.datasetloadtype;if(!_a){return [[-1,"Stream Data is null!"],null,null];}var _j=_a.split(_d);var _k=_j.length;var _l=1;var _m,_n,_o;var _p;var _q=function(_p){if(_j[_p].charAt(0)=="D"){return true;}};for(;_l<_k;_l++ ){_n=_j[_l];var _r=_n.charAt(0);if(_r=="P"){var _s=_n.split(_e);var _t=_s[1];var _u=_s[2];if(_u==String.fromCharCode(3)){_u=undefined;}if(_t=="ErrorCode"){_f=parseInt(_u)|0;if(isFinite(_f)==false){_f=-1;}_u=_f;}else if(_t=="ErrorMsg"){_g=_s[2];}else if(_t in this.context){if(nexacro._isNull(this.context[_t])||!nexacro._isObject(this.context[_t])){this.context[_t]=_u;}}else{var _v=nexacro.getApplication();if(_v&&_v._existVariable(_t)){_v[_t]=_u;}else{var _w=nexacro._hasEnvironmentVariable(_t);if(_w){nexacro.setEnvironmentVariable(_t,_u);}}}if(this.bcache){_b[_b.length]=new nexacro._ParametersCache(_t,_u);}}else{break;}}if(_f<=-1&&_i=="onsuccess"){_j.length=0;_a=null;return [[_f,_g],_b,_c];}var _x=this.inputDatasets;if(_f>=0&&_x&&_x.length){var _y=_x.length;for(_p=0;_p<_y;_p++ ){_m=_x[_p];_o=this.context._getDatasetObject(_m.rval);if(_o){_o.applyChange();}}}var _z,_aa;var _ab={};var _ac={};var _ad=this.outputDatasets;var _ae=_ad?_ad.length:0;if(_ae>0){for(_p=0;_p<_ae;_p++ ){_m=_ad[_p];if(_ab[_m.rval]==null){_ab[_m.rval]=[];_ac[_m.rval]=[];}_z=_ab[_m.rval];_aa=_ac[_m.rval];if(_z.indexOf(_m.lval)==-1){_z.push(_m.lval);_aa.push(_m.saveType);}}}while(true){_l=nexacro.__forLoop(this,_l,_k,_q);if(_l>=_k){break;}_n=_j[_l];var _af=_n.split(_e);var _ag=_af[1];var _ah=_ab[_ag];if(_ah){var _ai=_ac[_ag];for(_p=0;_p<_ah.length;_p++ ){var _aj=_p==(_ah.length-1);var _ak=_ah[_p];var _al=_ai[_p];_o=this.context._getDatasetObject(_ak);if(_o){_o._p_rowposition=-1;if(_aj){_l=_o.loadFromPPXArray(_j,_k,_l,true,(_al=="P"),_f,_g);}else{_o.loadFromPPXArray(_j,_k,_l,true,(_al=="P"),_f,_g);}if(this.bcache){_c.add_item(_ak,new nexacro._DataSetCache(_ak,_o.colinfos,_o._constVars,_o._rawRecords));}else{_c.add_item(_ak,"");}}else{_l++ ;}}}else{_l++ ;}}_j.length=0;return [[_f,_g],_b,_c];};_pTransactionItem.__deserializeSSV=function(_a){var _b=[];var _c=new nexacro.Collection();var _d=nexacro._getSSVRecordSeparator();var _e=nexacro._getSSVUnitSeparator();var _f=0;var _g="SUCCESS";var _h=nexacro.getEnvironment();var _i=_h.datasetloadtype;if(!_a){return [[-1,"Stream Data is null!"],null,null];}var _j=_a.split(_d);var _k=_j.length;var _l=1;var _m,_n,_o,_p,_q;var _r=function(_m){if(_j[_m].substring(0,7)=="Dataset"){return true;}};for(;_l<_k;_l++ ){_o=_j[_l];if(_o.substring(0,7)!="Dataset"){var _s=_o.split(_e);var _t=_s.length;for(_m=0;_m<_t;_m++ ){var _u=_s[_m];var _v=_u;var _w=undefined;_p=_u.indexOf("=");if(_p>=0){_v=_u.substring(0,_p);_w=_u.substring(_p+1);if(_w==String.fromCharCode(3)){_w=undefined;}}if(_v){var _x=_v;_p=_v.indexOf(":");if(_p>=0){_x=_v.substring(0,_p);}if(_x=="ErrorCode"){_f=parseInt(_w)|0;if(isFinite(_f)==false){_f=-1;}_w=_f;}else if(_x=="ErrorMsg"){_g=_w;}else if(_x in this.context){if(nexacro._isNull(this.context[_x])||!nexacro._isObject(this.context[_x])){this.context[_x]=_w;}}else{var _y=nexacro.getApplication();if(_y&&_y._existVariable(_x)){_y[_x]=_w;}else{var _z=nexacro._hasEnvironmentVariable(_x);if(_z){nexacro.setEnvironmentVariable(_x,_w);}}}if(this.bcache){_b[_b.length]=new nexacro._ParametersCache(_x,_w);}}}}else{break;}}if(_f<=-1&&_i=="onsuccess"){_j.length=0;_a=null;return [[_f,_g],_b,_c];}var _aa=this.inputDatasets;if(_f>=0&&_aa&&_aa.length){var _ab=_aa.length;for(_m=0;_m<_ab;_m++ ){_n=_aa[_m];_q=this.context._getDatasetObject(_n.rval);if(_q){_q.applyChange();}}}var _ac,_ad;var _ae={};var _af={};var _ag=this.outputDatasets;var _ah=_ag?_ag.length:0;if(_ah>0){for(_m=0;_m<_ah;_m++ ){_n=_ag[_m];if(_ae[_n.rval]==null){_ae[_n.rval]=[];_af[_n.rval]=[];}_ac=_ae[_n.rval];_ad=_af[_n.rval];if(_ac.indexOf(_n.lval)==-1){_ac.push(_n.lval);_ad.push(_n.saveType);}}}while(true){_l=nexacro.__forLoop(this,_l,_k,_r);if(_l>=_k){break;}_o=_j[_l];_p=_o.indexOf(":");if(_p>=0){var _ai=_o.substring(_p+1);var _aj=_ae[_ai];if(_aj){var _ak=_af[_ai];for(_m=0;_m<_aj.length;_m++ ){var _al=_m==(_aj.length-1);var _am=_aj[_m];var _an=_ak[_m];_q=this.context._getDatasetObject(_am);if(_q){_q._p_rowposition=-1;if(_al){_l=_q.loadFromSSVArray(_j,_k,_l,true,(_an=="P"),_f,_g);}else{_q.loadFromSSVArray(_j,_k,_l,true,(_an=="P"),_f,_g);}if(this.bcache){_c.add_item(_am,new nexacro._DataSetCache(_am,_q.colinfos,_q._constVars,_q._rawRecords));}else{_c.add_item(_am,"");}}else{_l++ ;}}}else{_l++ ;}}else{_l++ ;}}_j.length=0;return [[_f,_g],_b,_c];};_pTransactionItem.__deserializeCSV=function(_a){var _b=[];var _c=new nexacro.Collection();var _d=0;var _e="SUCCESS";var _f=nexacro.getEnvironment();var _g=_f.datasetloadtype;if(!_a){return [[-1,"Stream Data is null!"],null,null];}var _h=_a.split(/\r\n|\n/);var _i=_h.length;var _j=1;var _k,_l,_m,_n,_o;var _p=function(_k){if(_h[_k].substring(0,7)=="Dataset"){return true;}};for(;_j<_i;_j++ ){_m=_h[_j];if(_m.substring(0,7)=="Dataset"){break;}var _q=_m.split(",");var _r=_q.length;for(_k=0;_k<_r;_k++ ){var _s=_q[_k];if(_s.charAt(0)=="\""||_s.charAt(0)=="\'"){_s=_s.substring(1,_s.length-1);}var _t=_s;var _u=undefined;_n=_s.indexOf("=");if(_n>=0){_t=_s.substring(0,_n);_u=_s.substring(_n+1);}if(_t){var _v=_t;_n=_t.indexOf(":");if(_n>=0){_v=_t.substring(0,_n);}if(_v=="ErrorCode"){_d=parseInt(_u)|0;if(isFinite(_d)==false){_d=-1;}_u=_d;}else if(_v=="ErrorMsg"){_e=_u;}else if(_v in this.context){if(nexacro._isNull(this.context[_v])||!nexacro._isObject(this.context[_v])){this.context[_v]=_u;}}else{var _w=nexacro.getApplication();if(_w&&_w._existVariable(_v)){_w[_v]=_u;}else{var _x=nexacro._hasEnvironmentVariable(_v);if(_x){nexacro.setEnvironmentVariable(_v,_u);}}}if(this.bcache){_b[_b.length]=new nexacro._ParametersCache(_v,_u);}}}}if(_d<=-1&&_g=="onsuccess"){_h.length=0;_a=null;return [[_d,_e],_b,_c];}var _y=this.inputDatasets;if(_d>=0&&_y&&_y.length){var _z=_y.length;for(_k=0;_k<_z;_k++ ){_l=_y[_k];_o=this.context._getDatasetObject(_l.rval);if(_o){_o.applyChange();}}}var _aa,_ab;var _ac={};var _ad={};var _ae=this.outputDatasets;var _af=_ae?_ae.length:0;if(_af>0){for(_k=0;_k<_af;_k++ ){_l=_ae[_k];if(_ac[_l.rval]==null){_ac[_l.rval]=[];_ad[_l.rval]=[];}_aa=_ac[_l.rval];_ab=_ad[_l.rval];if(_aa.indexOf(_l.lval)==-1){_aa.push(_l.lval);_ab.push(_l.saveType);}}_ac.length=_k;}while(true){_j=nexacro.__forLoop(this,_j,_i,_p);if(_j>=_i){break;}_m=_h[_j];_n=_m.indexOf(":");if(_n>=0){var _ag=_m.substring(_n+1);var _ah=_ac[_ag];if(_ah){var _ai=_ad[_ag];for(_k=0;_k<_ah.length;_k++ ){var _aj=_k==(_ah.length-1);var _ak=_ah[_k];var _al=_ai[_k];_o=this.context._getDatasetObject(_ak);if(_o){_o._p_rowposition=-1;if(_aj){_j=_o.loadFromCSVArray(_h,_i,_j,true,(_al=="P"),_d,_e);}else{_o.loadFromCSVArray(_h,_i,_j,true,(_al=="P"),_d,_e);}if(this.bcache){_c.add_item(_ak,new nexacro._DataSetCache(_ak,_o.colinfos,_o._constVars,_o._rawRecords));}else{_c.add_item(_ak,"");}}else{_j++ ;}}}else{_j++ ;}}else{_j++ ;}}_h.length=0;return [[_d,_e],_b,_c];};_pTransactionItem.__deserializeJSON=function(_a,_b){var _c,_d;var _e=[];var _f=new nexacro.Collection();var _g=[0,"SUCCESS"];var _h=_a.substr(0,2).toLowerCase();if(_h.indexOf("{")<0){this._is_unknowntype_data=true;return [[-1,"invalid nexacro communication format"],_e,_f];}return this.__deserializeJSONFromStr(_a);};_pTransactionItem.__deserializeJSONFromStr=function(_a){var _b=[];var _c=new nexacro.Collection();var _d=0;var _e="SUCCESS";var _f=nexacro.getEnvironment();var _g=_f.datasetloadtype;var _h,_i,_j,_k,_l;if(!_a){return [[-1,"Stream Data is null!"],null,null];}var _m=this.context;var _n=JSON.parse(_a);var _o=_n.Parameters;if(_o){var _p=_o.length;for(_h=0;_h<_p;_h++ ){var _q=_o[_h];var _r=_q.id;var _s=_q.value;_l=_q.type;if(_r&&_r.length){if(_r=="ErrorCode"){_d=parseInt(_s)|0;if(isFinite(_d)==false){_d=-1;}_s=_d;}else if(_r=="ErrorMsg"){_e=_s;}else if(_r in _m){if(nexacro._isNull(_m[_r])||!nexacro._isObject(_m[_r])){_m[_r]=_s;}}else{var _t=nexacro.getApplication();if(_t&&_t._existVariable(_r)){_t[_r]=_s;}else{var _u=nexacro._hasEnvironmentVariable(_r);if(_u){nexacro.setEnvironmentVariable(_r,_s);}}}if(this.bcache){_b[_b.length]=new nexacro._ParametersCache(_r,_s);}}}}if(_d<=-1&&_g=="onsuccess"){return [[_d,_e],_b,_c];}var _v=this.inputDatasets;if(_d>=0&&_v&&_v.length){var _w=_v.length;for(_h=0;_h<_w;_h++ ){_j=_v[_h];_k=_m._getDatasetObject(_j.rval);if(_k){_k.applyChange();}}}var _x,_y;var _z={};var _aa={};var _ab=this.outputDatasets;var _ac=_ab?_ab.length:0;if(_ac>0){for(_h=0;_h<_ac;_h++ ){_j=_ab[_h];if(_z[_j.rval]==null){_z[_j.rval]=[];_aa[_j.rval]=[];}_x=_z[_j.rval];_y=_aa[_j.rval];if(_x.indexOf(_j.lval)==-1){_x.push(_j.lval);_y.push(_j.saveType);}}}var _ad=_n.Datasets;var _ae=_ad?_ad.length:0;for(_h=0;_h<_ae;_h++ ){var _af=_ad[_h];var _ag=_af.id;var _ah=_z[_ag];if(_ah){var _ai=_aa[_ag];for(_i=0;_i<_ah.length;_i++ ){var _aj=_ah[_i];_l=_ai[_i];_k=_m._getDatasetObject(_aj);if(_k){_k._p_rowposition=-1;_k._loadFromJSONObj(_ad[_h],null,(_l=="P"),_d,_e);if(this.bcache){_c.add_item(_aj,new nexacro._DataSetCache(_aj,_k.colinfos,_k._constVars,_k._rawRecords));}else{_c.add_item(_aj,"");}}}}}return [[_d,_e],_b,_c];};_pTransactionItem.__deserializeCSVFromUint8Array=function(_a,_b,_c){var _d=[];var _e=new nexacro.Collection();var _f=0;var _g="SUCCESS";var _h=nexacro.getEnvironment();var _i=_h.datasetloadtype;if(!_a||_a.length==0){return [[-1,"Stream Data is null!"],null,null];}var _j,_k,_l,_m;var _n,_o;var _p=_b;while(1){_n=nexacro._Array2DataUtil.substringOf(_a,_p,_c);_o=_n.string;if(_o.substring(0,7)!="Dataset"){var _q=_o.split(",");var _r=_q.length;for(_j=0;_j<_r;_j++ ){var _s=_q[_j];var _t=_s;var _u=undefined;_l=_s.indexOf("=");if(_l>=0){_t=_s.substring(0,_l);_u=_s.substring(_l+1);}if(_t){var _v=_t;_l=_t.indexOf(":");if(_l>=0){_v=_t.substring(0,_l);}if(_v=="ErrorCode"){_f=parseInt(_u)|0;if(isFinite(_f)==false){_f=-1;}_u=_f;}else if(_v=="ErrorMsg"){_g=_u;}else if(_v in this.context){if(nexacro._isNull(this.context[_v])||!nexacro._isObject(this.context[_v])){this.context[_v]=_u;}}else{var _w=nexacro.getApplication();if(_w&&_w._existVariable(_v)){_w[_v]=_u;}else{var _x=nexacro._hasEnvironmentVariable(_v);if(_x){nexacro.setEnvironmentVariable(_v,_u);}}}if(this.bcache){_d[_d.length]=new nexacro._ParametersCache(_v,_u);}}}}else{break;}_p=_n.nextOffset;}if(_f<=-1&&_i=="onsuccess"){return [[_f,_g],_d,_e];}var _y=this.inputDatasets;if(_f>=0&&_y&&_y.length){var _z=_y.length;for(_j=0;_j<_z;_j++ ){_k=_y[_j];_m=this.context._getDatasetObject(_k.rval);if(_m){_m.applyChange();}}}var _aa,_ab;var _ac={};var _ad={};var _ae=this.outputDatasets;var _af=_ae?_ae.length:0;if(_af>0){for(_j=0;_j<_af;_j++ ){_k=_ae[_j];if(_ac[_k.rval]==null){_ac[_k.rval]=[];_ad[_k.rval]=[];}_aa=_ac[_k.rval];_ab=_ad[_k.rval];if(_aa.indexOf(_k.lval)==-1){_aa.push(_k.lval);_ab.push(_k.saveType);}}_ac.length=_j;}while(true){_n=nexacro._Array2DataUtil.substringOf(_a,_p,_c);_o=_n.string;_p=_n.nextOffset;if(_o==''){break;}if(_o.substring(0,7)=="Dataset"){_l=_o.indexOf(":");if(_l>=0){var _ag=_o.substring(_l+1);var _ah=_ac[_ag];if(_ah){var _ai=_p;var _aj=_ad[_ag];for(_j=0;_j<_ah.length;_j++ ){var _ak=_ah[_j];var _al=_aj[_j];_m=this.context._getDatasetObject(_ak);if(_m){_m._p_rowposition=-1;_ai=_m.loadCSVFromUint8Array(_a,_p,true,(_al=="P"),_f,_g,_c);if(this.bcache){_e.add_item(_ak,new nexacro._DataSetCache(_ak,_m.colinfos,_m._constVars,_m._rawRecords));}else{_e.add_item(_ak,"");}}}_p=_ai;if(_p<0){break;}}}}}return [[_f,_g],_d,_e];};_pTransactionItem.__deserializeSSVFromUint8Array=function(_a,_b){var _c=[];var _d=new nexacro.Collection();var _e=nexacro._getSSVRecordSeparator();var _f=nexacro._getSSVUnitSeparator();var _g=0;var _h="SUCCESS";var _i=nexacro.getEnvironment();var _j=_i.datasetloadtype;if(!_a||_a.length==0){return [[-1,"Stream Data is null!"],null,null];}var _k,_l,_m,_n;var _o,_p;var _q=_b;while(1){_o=nexacro._Array2DataUtil.substringOf(_a,_q,_e);_p=_o.string;if(_p.substring(0,7)!="Dataset"){var _r=_p.split(_f);var _s=_r.length;for(_k=0;_k<_s;_k++ ){var _t=_r[_k];var _u=_t;var _v=undefined;_m=_t.indexOf("=");if(_m>=0){_u=_t.substring(0,_m);_v=_t.substring(_m+1);if(_v==String.fromCharCode(3)){_v=undefined;}}if(_u){var _w=_u;_m=_u.indexOf(":");if(_m>=0){_w=_u.substring(0,_m);}if(_w=="ErrorCode"){_g=parseInt(_v)|0;if(isFinite(_g)==false){_g=-1;}_v=_g;}else if(_w=="ErrorMsg"){_h=_v;}else if(_w in this.context){if(nexacro._isNull(this.context[_w])||!nexacro._isObject(this.context[_w])){this.context[_w]=_v;}}else{var _x=nexacro.getApplication();if(_x&&_x._existVariable(_w)){_x[_w]=_v;}else{var _y=nexacro._hasEnvironmentVariable(_w);if(_y){nexacro.setEnvironmentVariable(_w,_v);}}}if(this.bcache){_c[_c.length]=new nexacro._ParametersCache(_w,_v);}}}}else{break;}if(_q==_o.nextOffset){break;}_q=_o.nextOffset;}if(_g<=-1&&_j=="onsuccess"){return [[_g,_h],_c,_d];}var _z=this.inputDatasets;if(_g>=0&&_z&&_z.length){var _aa=_z.length;for(_k=0;_k<_aa;_k++ ){_l=_z[_k];_n=this.context._getDatasetObject(_l.rval);if(_n){_n.applyChange();}}}var _ab,_ac;var _ad={};var _ae={};var _af=this.outputDatasets;var _ag=_af?_af.length:0;if(_ag>0){for(_k=0;_k<_ag;_k++ ){_l=_af[_k];if(_ad[_l.rval]==null){_ad[_l.rval]=[];_ae[_l.rval]=[];}_ab=_ad[_l.rval];_ac=_ae[_l.rval];if(_ab.indexOf(_l.lval)==-1){_ab.push(_l.lval);_ac.push(_l.saveType);}}}while(true){_o=nexacro._Array2DataUtil.substringOf(_a,_q,_e);_p=_o.string;_q=_o.nextOffset;if(_p==''){if(_a.length>_q){continue;}else{break;}}if(_p.substring(0,7)=="Dataset"){_m=_p.indexOf(":");if(_m>=0){var _ah=_p.substring(_m+1);var _ai=_ad[_ah];if(_ai){var _aj=_q;var _ak=_ae[_ah];for(_k=0;_k<_ai.length;_k++ ){var _al=_ai[_k];var _am=_ak[_k];_n=this.context._getDatasetObject(_al);if(_n){_n._p_rowposition=-1;_aj=_n.loadSSVFromUint8Array(_a,_q,true,(_am=="P"),_g,_h);if(this.bcache){_d.add_item(_al,new nexacro._DataSetCache(_al,_n.colinfos,_n._constVars,_n._rawRecords));}else{_d.add_item(_al,"");}}}_q=_aj;if(_q<0){break;}}}}}return [[_g,_h],_c,_d];};_pTransactionItem._TABS=["","\t","\t\t","\t\t\t","\t\t\t\t","\t\t\t\t\t","\t\t\t\t\t\t"];_pTransactionItem._writeData=function(_a,_b,_c){_a[_a.length]=this._TABS[_c]+_b;};_pTransactionItem._addStringJSONData=function(_a,_b,_c){_a[_a.length-1]+=_b;};_pTransactionItem._dsUpdate=function(_a){if(_a){var _b;var _c=_a._viewRecords;var _d=_c.length;if(_a._deletedRecords.length>0){_c=_a._viewRecords=[];var _e=_a._rawRecords.length;for(_b=0;_b<_e;_b++ ){var _f=_a._rawRecords[_b];if(_f._rtype!=8){_c[_d]=_f;}}}_a._p_colcount=_a.colinfos.length;_a._p_rowcount=_a._viewRecords.length;_a.loadstatus=false;_a._eventstat=_a.enableevent;_a._reFilter();_a._resetSortGroup();}};_pTransactionItem._dsOnload=function(_a,_b){if(_a){if(_a._viewRecords.length>0){_a._p_rowposition=0;}if(_a._eventstat){if(_b){_a.on_fire_onload(0,"",_b);}else{_a.on_fire_onload(0,"",0);}}}};_pTransactionItem._getStreamType=function(_a){if(!_a){return null;}var _b=_a.trim();var _c=_b.slice(0,10).toUpperCase();if(_c.indexOf("CSV")==0){return "CSV";}else if(_c.indexOf("SSV")==0){return "SSV";}else if(_c.indexOf("PPX")==0){return "PPX";}else if(_c.indexOf("<?XML")==0){return "XML";}else if(_c.indexOf("{")==0){return "JSON";}else if(_c.length==10){return "UNKNOWN";}return null;};_pTransactionItem._destroy=function(){this._sendData=null;this._recieved_data=null;if(this._b_block_onprogress&&this._async_progress_timer_id!=null){clearTimeout(this._async_progress_timer_id);}};delete _pTransactionItem;}if(!nexacro.InputEventInfo){nexacro.InputEventInfo=function(_a,_b){this.id=this.eventid=_b||"oninput";this.fromobject=this.fromreferenceobject=_a;};var _pInputEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.InputEventInfo);nexacro.InputEventInfo.prototype=_pInputEventInfo;_pInputEventInfo._type_name="InputEventInfo";delete InputEventInfo;nexacro.EditClickEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p){nexacro.ClickEventInfo.call(this,_a,_b||"oneditclick",_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p);this.caretpos=(_c==null)?0:_c;};var _pEditClickEventInfo=nexacro._createPrototype(nexacro.MouseEventInfo,nexacro.EditClickEventInfo);nexacro.EditClickEventInfo.prototype=_pEditClickEventInfo;_pEditClickEventInfo._type_name="EditClickEventInfo";delete _pEditClickEventInfo;_pEditClickEventInfo=null;nexacro._substrByUnit=function(_a,_b,_c,_d){if(_a===undefined){return _a;}_b=Math.max(_b,0);_c=Math.max(_c,0);if(_d=="utf8"){return nexacro._substrByUtf8(_a,_b,_c);}else if(_d=="ascii"){return nexacro._substrByAscii(_a,_b,_c);}else{return _a.substr(_b,_c);}};nexacro._getLengthByUnit=function(_a,_b){if(_b=="utf8"){return nexacro._getUtf8Length(_a);}else if(_b=="ascii"){return nexacro._getAsciiLength(_a);}else{return _a.length;}};nexacro.__utf8Len=function(_a){if(_a>=0xD800&&_a<=0xDFFF){throw new Error("Illegal argument: "+_a);}if(_a<0){throw new Error("Illegal argument: "+_a);}if(_a<=0x7F){return 1;}if(_a<=0x7FF){return 2;}if(_a<=0xFFFF){return 3;}if(_a<=0x1FFFFF){return 4;}if(_a<=0x3FFFFFF){return 5;}if(_a<=0x7FFFFFFF){return 6;}throw new Error("Illegal argument: "+_a);};nexacro.__isHighSurrogate=function(_a){return _a>=0xD800&&_a<=0xDBFF;};nexacro.__isLowSurrogate=function(_a){return _a>=0xDC00&&_a<=0xDFFF;};nexacro.__toCodepoint=function(_a,_b){if(!nexacro.__isHighSurrogate(_a)){throw new Error("Illegal argument: "+_a);}if(!nexacro.__isLowSurrogate(_b)){throw new Error("Illegal argument: "+_b);}_a=(0x3FF&_a)<<10;var _c=_a|(0x3FF&_b);return _c+0x10000;};nexacro._substrByUtf8=function(_a,_b,_c){var _d=0;var _e=_a.length-_b;for(var _i=_b;_i<_e;_i++ ){var _f=_a.charCodeAt(_i);if(nexacro.__isHighSurrogate(_f)){var _g=_f;var _h=_a.charCodeAt( ++_i);_d+=nexacro.__utf8Len(nexacro.__toCodepoint(_g,_h));}else{_d+=nexacro.__utf8Len(_f);}if(_c==_d){_e=_i-_b+1;break;}else if(_c<_d){_e=_i-_b;break;}}return _a.substring(_b,_e);};nexacro._substrByAscii=function(_a,_b,_c){var _d=0;var _e=_a.length-_b;for(var _g=_b;_g<_e;_g++ ){var _f=_a.charCodeAt(_g);if(_f>255){_d++ ;}_d++ ;if(_c==_d){_e=_g-_b+1;break;}else if(_c<_d){_e=_g-_b;break;}}return _a.substring(_b,_e);};nexacro._getUtf8Length=function(_a){var _b=_a.length;var _c=0;for(var _g=0;_g<_b;_g++ ){var _d=_a.charCodeAt(_g);if(nexacro.__isHighSurrogate(_d)){var _e=_d;var _f=_a.charCodeAt( ++_g);_c+=nexacro.__utf8Len(nexacro.toCodepoint(_e,_f));}else{_c+=nexacro.__utf8Len(_d);}}return _c;};nexacro._getAsciiLength=function(_a){var _b=_a.length;var _c=0;for(var _e=0;_e<_b;_e++ ){var _d=_a.charCodeAt(_e);if(_d>255){_c++ ;}_c++ ;}return _c;};nexacro._getWCharLen=function(_a){var _b=_a.charCodeAt(0);if(((_b&0xff80)==0)||_b==0x20a9){return 1;}else if((_b&0xff00)<0x0800){return 2;}else{return 3;}};nexacro._is_hangul=function(_a){var _b=new RegExp("[\\uac00-\\ud7af\\u3130-\\u318f\\u1100-\\u11ff]");if(_b.test(_a)){return true;}return false;};nexacro._is_english=function(_a){var _b=new RegExp("[\\u0041-\\u007a]");if(_b.test(_a)){return true;}return false;};nexacro._is_half_japaness=function(_a){var _b=new RegExp("[\\uff61-\\uff9f]");if(_b.test(_a)){return true;}return false;};nexacro._is_japanese=function(_a,_b){var _c=/[\u3040-\u309F]|[\u30A0-\u30FF]|[\u31F0-\u31FF]|[\uFF01-\uFFEF]|[\u3000-\u3002]|[\u300C]|[\u300D]|[\u309B]|[\u309C]|[\u2010-\u201F]/;var _d=/[\u2E80-\u2EFF]|[\u3400-\u4DBF]|[\u4E00-\u9FBF]|[\uF900-\uFAFF]|[\u20000-\u2A6DF]|[\u2F8000-\u2FA1F]/;var _e=/[\u0000-\u007F]/;var _f=/[\u0370-\u03FF]/;if(_c.test(_b)||_d.test(_b)){return true;}if(_a==nexacro.KeyCode_ImeInput){if(_e.test(_b)){return true;}if(_f.test(_b)){return true;}}return false;};nexacro._ImeLocale=function(){this._locale=this._prev_locale=nexacro.System.locale?nexacro.System.locale.substring(0,2):"";};var _pImeLocale=nexacro._createPrototype(nexacro.Object,nexacro._ImeLocale);nexacro._ImeLocale.prototype=_pImeLocale;_pImeLocale._find_imeLocale=function(_a){var _b;if(this._locale){var _c=nexacro.System.locale?nexacro.System.locale.substring(0,2):"";if(_c&&_c!="ko"){var _d=nexacro._locale_unicode[_c];if(_d){_b=new RegExp(_d);if(_b.test(_a)){return _c;}}}var _e=this._locale.substring(0,2);var _d=nexacro._locale_unicode[_e];if(_d){_b=new RegExp(_d);if(_b.test(_a)){return _e;}}}for(var _f in nexacro._locale_unicode){_b=new RegExp(nexacro._locale_unicode[_f]);if(_b.test(_a)){return _f;}}return null;};_pImeLocale.setLocale=function(_a){this._prev_locale=this._locale;this._locale=_a;};_pImeLocale.getLocale=function(){return this._locale;};_pImeLocale.IsChangeLocale=function(){return this._prev_locale!=this._locale;};_pImeLocale.updateLocale=function(_a){if(!_a){return;}this._prev_locale=this._locale;var _b=this._find_imeLocale(_a);if(_b){this._locale=_b;}};delete _pImeLocale;_pImeLocale=null;nexacro._CompositionState=function(){this.status=0;this.startOffset=0;this.endOffset=0;this.hasCandidateWindow=false;this._delay_status=undefined;this._prev_status=undefined;this._delay_status_pos=-1;};nexacro._CompositionState.NONE=0;nexacro._CompositionState.START=1;nexacro._CompositionState.COMPOSING=2;nexacro._CompositionState.END=3;var _pCompositeState=nexacro._createPrototype(nexacro.Object,nexacro._CompositionState);nexacro._CompositionState.prototype=_pCompositeState;_pCompositeState.isComposing=function(){return (this.status==nexacro._CompositionState.START||this.status==nexacro._CompositionState.COMPOSING);};_pCompositeState.setStatus=function(_a,_b,_c){this._prev_status=this.status;this.status=_a;switch(_a){case nexacro._CompositionState.NONE:case nexacro._CompositionState.START:this.startOffset=_b;this.endOffset=_b;this.hasCandidateWindow=undefined;break;case nexacro._CompositionState.COMPOSING:if(!_c){this.endOffset=_b;}break;case nexacro._CompositionState.END:this.endOffset=_b;break;}this._delay_status=undefined;this._delay_status_pos=-1;};_pCompositeState.setDelayStatus=function(_a,_b){this._delay_status=_a;this._delay_status_pos=_b==undefined?-1:_b;};_pCompositeState.setOffset=function(_a,_b){if(this.status!=nexacro._CompositionState.NONE){this.startOffset=_a;this.endOffset=_b;}};_pCompositeState.getOffset=function(){return {begin:this.startOffset,end:this.endOffset};};_pCompositeState.isHasCandiateWindow=function(_a,_b){if(this.status!=nexacro._CompositionState.NONE){if((_a&&_a.length>0)&&(this.hasCandidateWindow===undefined||_b)){var _c=/[\u1100-\u11FF\u3130-\u318F\uAC00-\uD7AF\uFFA0-\uFFDF]/g;var _d=_a.match(_c);this.hasCandidateWindow=!(_d&&_d.length>0);}return this.hasCandidateWindow;}return false;};delete _pCompositeState;_pCompositeState=null;nexacro._EditInputFilter=function(_a){this.pattern=null;if(_a){this._parse(_a);}};var _pEditInputFilter=nexacro._createPrototype(nexacro.Object,nexacro._EditInputFilter);nexacro._EditInputFilter.prototype=_pEditInputFilter;nexacro._EditInputFilter.MAP={alpha:"a-zA-Z",digit:"0-9",comma:",",dot:".",sign:"+\\-",space:" \t",symbol:"!\"#$%&'()*\\/;:<=>?@\\[\\\\\\]\\^_`{|}~'\\\\\\u20a9"};_pEditInputFilter.init=function(_a){this.pattern=null;this._parse(_a);};_pEditInputFilter._parse=function(_a){if(_a){var _b="";var _c=_a.split(",");var _d=_c.length;for(var _f=0;_f<_d;_f++ ){var _e=nexacro._EditInputFilter.MAP[_c[_f]];if(_e){_b+=_e;}}this.pattern=(_b.length?new RegExp("["+_b+"]"):null);}};_pEditInputFilter.test=function(_a){if(_a!=''&&this.pattern){return this.pattern.test(_a);}return false;};_pEditInputFilter.apply=function(_a){if(!_a){_a="";}if(_a&&this.pattern){var _b=_a.length;var _c=_a.split("");var _d=[];for(var _f=0;_f<_b;_f++ ){var _e=_c[_f];if(this.pattern.test(_e)){continue;}_d.push(_e);}return _d.join("");}return _a;};delete _pEditInputFilter;_pEditInputFilter=null;nexacro._EditInputType=function(_a){this.typepattern=null;this.filterpattern=null;this.imedisable=false;this._imedisable=false;this.keypadtype="text";if(_a){this._parse(_a);}};var _pEditInputType=nexacro._createPrototype(nexacro.Object,nexacro._EditInputType);nexacro._EditInputType.prototype=_pEditInputType;nexacro._EditInputType.MAP={alpha:"a-zA-Z",comma:",",digit:"0-9",dot:".",english:"a-zA-Z",symbol:"!\"#$%&'()*\\/;:<=>?@[\\\\\\]\\^_`{|}~'\\u20a9",number:"0-9\\-.,",numberandenglish:"0-9\\-.,\\a-zA-Z",sign:"+\\-",space:" \t",half:"\\uff61-\\uffdc\\uffe8-\\uffee",full:"\\u3000\\uff01-\\uff60\\uffe0-\\uffe6",wide:"\\u2E80-\\u2FFB\\u3001-\\u303E\\u3041-\\u4DBF\\u4E00-\\uA4C6\\uAC00-\\uD7A3\\ud800-\\udbff\\udc00-\\udfff\\uF900-\\uFAFF\\uFE10-\\uFE19\\uFE30-\\uFE6B"};_pEditInputType.init=function(_a){this.typepattern=null;this.filterpattern=null;this.imedisable=false;this.keypadtype="text";this._parse(_a);};_pEditInputType._parse=function(_a){if(_a){if(_a.indexOf("full")>-1&&_a.indexOf("half")>-1){return;}var _b=_a.split(/\s*,\s*/);var _c=[];if(_a.indexOf("half")>-1){this._imedisable=true;_c.push("full");_c.push("wide");_b=[];}else if(_a.indexOf("full")>-1){_b.push("wide");}else if(_a.indexOf("normal")<=-1){this._imedisable=true;if(!this.password&&_a.indexOf("normal")<0&&_a.indexOf("alpha")<0&&_a.indexOf("english")<0&&_a.indexOf("numberandenglish")<0&&_a.indexOf("symbol")<0){this.keypadtype="number";}else{this.keypadtype="text";}}var _d="";var _e,_f,_g=_b.length;for(_e=0;_e<_g;_e++ ){_f=nexacro._EditInputType.MAP[_b[_e]];if(_f){_d+=_f;}}var _h="";var _i=_c.length;for(_e=0;_e<_i;_e++ ){_f=nexacro._EditInputType.MAP[_c[_e]];if(_f){_h+=_f;}}this.typepattern=(_d.length?new RegExp("["+_d+"]"):null);this.filterpattern=(_h.length?new RegExp("["+_h+"]"):null);}};_pEditInputType.test=function(_a){if(_a!=''){if(this.filterpattern&&this.filterpattern.test(_a)){return false;}if(this.typepattern){if(this.typepattern.test(_a)){return true;}}else{return true;}}return false;};_pEditInputType.apply=function(_a){if(!_a){_a="";}if(_a&&(this.typepattern||this.filterpattern)){_a=_a.replace(/\r\n/g,"\n");var _b=_a.length;var _c=_a.split("");var _d=[];for(var _f=0;_f<_b;_f++ ){var _e=_c[_f];if(this.filterpattern&&this.filterpattern.test(_e)){continue;}if(_e!="\n"&&this.typepattern&&!this.typepattern.test(_e)){continue;}_d.push(_e);}return _d.join("");}return _a;};delete _pEditInputType;_pEditInputType=null;nexacro._EditUndoStack=function(_a){nexacro.Object.call(this);if(_a){this.target=_a;}this.stack=[];this.index=-1;this._processing_onundoredo=false;};var _pEditUndoStack=nexacro._createPrototype(nexacro.Object,nexacro._EditUndoStack);nexacro._EditUndoStack.prototype=_pEditUndoStack;_pEditUndoStack.target=null;_pEditUndoStack.push=function(_a,_b,_c){if(this._processing_onundoredo){return;}var _d=this.stack;var _e=this.index;if(_d.length>0){if(_e>0){var _f=_d[_e];if(!_f){return;}var _g=_d[_e].value;if(_g==_a){return;}}var _h=_d.length-_e -1;if(_h){_d.splice(_e+1,_h);}}this.index=_d.length;this.stack.push({"value":_a,"start":_b,"end":_c});};_pEditUndoStack.update=function(_a,_b){var _c=this.stack;var _d=this.index;if(_c){var _e=_c[_d];if(!_e){return;}_e.start=_a;_e.end=_b;}};_pEditUndoStack.undo=function(){var _a=this.stack;var _b=this.target;var _c=null,_d=this.index-1;if(_d>=0){_c=_a[_d];}if(_b._on_input_undo){this._processing_onundoredo=true;if(_b._on_input_undo(_c)&&_c){this.index=_d;}this._processing_onundoredo=false;}};_pEditUndoStack.redo=function(){var _a=this.stack;var _b=this.target;var _c=null,_d=this.index+1;if(_d<_a.length){_c=_a[_d];}if(_b._on_input_redo){this._processing_onundoredo=true;if(_b._on_input_redo(_c)&&_c){this.index=_d;}this._processing_onundoredo=false;}};_pEditUndoStack.clear=function(){this.stack=[];this.index=-1;};_pEditUndoStack.destroy=function(){this.target=null;};delete _pEditUndoStack;_pEditUndoStack=null;nexacro._EditMaskType=function(){this.mask="";this.locale="";this.limittype="none";this.maskchar="";this.fillchar="";this.postfixtext="";this._is_editing=false;this._input_mode="text";};var _pMaskType=nexacro._createPrototype(nexacro.Object,nexacro._EditMaskType);nexacro._EditMaskType.prototype=_pMaskType;_pMaskType._type_name="MaskType";_pMaskType.setMask=function(_a){if(this.mask!=_a){this.mask=_a;}};_pMaskType.setLocale=function(_a){if(_a!=this.locale){this.locale=_a;}};_pMaskType.setLimitType=function(_a){if(this.limittype!=_a){this.limittype=_a;}};_pMaskType.setMaskChar=function(_a){if(this.maskchar!=_a){this.maskchar=_a;}};_pMaskType.setFillChar=function(_a){if(this.fillchar!=_a){this.fillchar=_a;}};_pMaskType.setEditStatus=function(_a){if(this._is_editing!=_a){this._is_editing=_a;}};_pMaskType.setPostfixtext=function(_a){if(this.postfixtext!=_a){this.postfixtext=_a;}};_pMaskType.applyMask=function(_a){return _a;};_pMaskType.arrangeMask=function(_a,_b,_c){return {"text":_a,"pos":_c};};_pMaskType.removeMask=function(_a){return _a;};_pMaskType.keyPressed=function(){};_pMaskType.findNearEditablePos=function(_a){return _a;};_pMaskType.isDeletableChar=function(){return true;};_pMaskType.isFilterChar=function(){return false;};_pMaskType.isFilled=function(){return false;};_pMaskType.getInputMode=function(){return this._input_mode;};_pMaskType.getEditStatus=function(){return this._is_editing;};delete _pMaskType;_pMaskType=null;nexacro._EditMaskTypeNumber=function(){nexacro._EditMaskType.call(this);this.mask="";this.limittype="none";this.maskchar="";this.fillchar="0";this._input_mode="number";this._decimal_point=".";this._thousands_sep=",";this._mask_decimal_point=".";this._mask_thousands_sep=",";this._init();};var _pMaskTypeNumber=nexacro._createPrototype(nexacro._EditMaskType,nexacro._EditMaskTypeNumber);nexacro._EditMaskTypeNumber.prototype=_pMaskTypeNumber;_pMaskTypeNumber._type_name="MaskTypeNumber";nexacro._EditMaskTypeNumber._put_thousand_seperator=function(_a,_b){if(!_a||!_b){return _a;}var _c=_b[0];if(!_c||_c<1){return _a;}var _d;if(_b.length>1){_b.shift();_d=new RegExp("(\\d+)(\\d{"+_c+"})($|\\.\\d+)");if(_d.test(_a)){return _a.replace(_d,function(_e,_f,_g,_h){return nexacro._EditMaskTypeNumber._put_thousand_seperator(_f,_b)+','+_g+_h;});}}else{_d=new RegExp("\\B(?=(\\d{"+_c+"})+(?!\\d))","g");if(_d.test(_a)){return _a.replace(_d,',');}}return _a;};_pMaskTypeNumber._init=function(){this.locale="";this._grouping=[];this._sign_type=3;this._sign_sep_by_space=0;this._init_digits();this._masked_empty_text="";this._is_max_intpart=false;this._is_max_decpart=false;this._use_grouping=false;};_pMaskTypeNumber._init_digits=function(){this._is_integer_mask=false;this._is_intpart_zero=true;this._is_decpart_zero=true;this._is_intpart_nine=false;this._int_digits_min=0;this._int_digits_max=-1;this._dec_digits_min=0;this._dec_digits_max=-1;this._dec_min_sharp=-1;this._dec_max_sharp=-1;};_pMaskTypeNumber.setMask=function(_a){if(this.mask!=_a){this.mask=_a;this._parseMask(_a);}};_pMaskTypeNumber.setUseGrouping=function(_a){if(this._use_grouping!=_a){this._use_grouping=_a;}};_pMaskTypeNumber._parseMask=function(_a){this._init_digits();if(!_a||_a==="."){return;}var _b=/(^[\+\-\!]?\s*[#09,]*(?:$|\.[#09]*)|^\.[#09]*$)/;if(!_b.test(_a)){return;}var _c=_a[0];switch(_c){case '-':this._sign_type=0;break;case '+':this._sign_type=1;break;case '!':this._sign_type=2;break;default:{this._sign_type=3;_c='';}break;}var _d=_a.length;var _e=0;var _f,_g;if(this._sign_type!=3){for(_g=1;_g<_d;_g++ ){var _h=_a[_g];if(_h=='#'||_h=='9'||_h=='0'){break;}if(_h!=' '){return;}_e++ ;}}this._sign_sep_by_space=_e;var _i=this._mask_decimal_point;var _j=_a.indexOf(_i);this._is_integer_mask=(_j<0);var _k="",_l="";if(this._is_integer_mask){_k=_a.substring(_c.length+_e);}else{_k=_a.substring((_c.length+_e),_j);_l=_a.substring(_j+1);if(_l){var _m,_n;_m=_l.indexOf("#");if(_m>-1){_n=false;this._dec_max_sharp=_m;for(_g=_l.length-1;_g>=_m;_g-- ){if(_l[_g]=="#"){if(this._dec_min_sharp==-1){this._dec_min_sharp=_g;}if(this._dec_max_sharp<_g){this._dec_max_sharp=_g;}if(this._dec_min_sharp>_g&&_n==false){this._dec_min_sharp=_g;}}else if(this._dec_min_sharp!=-1){_n=true;}}}}}var _o=this._mask_thousands_sep;if(_a.indexOf(_o)>-1){this.setUseGrouping(true);}else{this.setUseGrouping(false);}_k=_k.split(_o).join('');var _p=_k.length;this._int_digits_max=_p;var _q=_k.indexOf('0');if(_q>-1){this._int_digits_min=_p-_q;}var _r=_p?_k[_p -1]:"";if(_q==-1){if(_r=="#"){this._is_intpart_zero=false;}else if(_r=="9"){this._is_intpart_zero=false;this._is_intpart_nine=true;}}if(this._int_digits_min>0){_f="";for(_g=0;_g<this._int_digits_min;_g++ ){_f+='0';}var _s=this._grouping.slice(0);if(_s.length>0){this._masked_empty_text=nexacro._EditMaskTypeNumber._put_thousand_seperator(_f,_s);}else{this._masked_empty_text=_f;}}else{this._masked_empty_text="";}if(this._is_integer_mask){return;}_l=_l.replace(/[.]/g,'');var _t=_l.length;this._dec_digits_max=_t;_q=_l.lastIndexOf('0');if(_q>-1){this._dec_digits_min=_q+1;}var _u=_t?_l[0]:"";if(_q==-1&&_u=="#"){this._is_decpart_zero=false;}if(this._dec_digits_min>0){_f=this._decimal_point;for(_g=0;_g<this._dec_digits_min;_g++ ){_f+='0';}this._masked_empty_text+=_f;}};_pMaskTypeNumber.setLocale=function(_a){if(_a!=this.locale){this.locale=_a;var _b=nexacro.Locale.getLocaleInfo(_a);var _c=_b.grouping[0];this._thousands_sep=_b.thousands_sep?_b.thousands_sep:this._mask_thousands_sep;if(_c==0||_c==-1){this._grouping=[3];}else{this._grouping=_b.grouping;}if(this._decimal_point!=_b.decimal_point){this._decimal_point=_b.decimal_point;if(this._dec_digits_min>0){this._masked_empty_text="0";var _d=this._decimal_point;for(var _e=0;_e<this._dec_digits_min;_e++ ){_d+="0";}this._masked_empty_text+=_d;}}}};_pMaskTypeNumber.setLimitType=function(_a){if(this.limittype!=_a){this.limittype=_a;this._check_int_max=(_a=="both"||_a=="integer");this._check_dec_max=(_a=="both"||_a=="decimal");}};_pMaskTypeNumber.applyMask=function(_a){var _b=!this._is_editing;this._is_max_intpart=false;this._is_max_decpart=false;var _c=nexacro._toString(_a);if(!_c){return (_b?this._masked_empty_text:"");}_c=_c.replace(/^\s\s*/,'').replace(/[,]/g,'');var _d=0;var _e=_c.length;var _f=this.postfixtext;var _g=(this._int_digits_max==-1&&this._dec_digits_max==-1)?false:true;var _h=_c[_d++ ];if(_h!='+'&&_h!='-'){_d-=1;_h='';}for(;_d<_e;_d++ ){var _i=_c[_d];if((_i>='0'&&_i<='9')||_i==','||_i=='.'){break;}if(_i!=' '){return (_b?this._masked_empty_text:"");}}var _j=this._mask_decimal_point;var _k=_c.indexOf(_j);var _l="",_m="";if(_k<0){_l=_c.substring(_d);_l=!_g?_l.padLeft(1,"0"):_l;}else{_l=_c.substring(_d,_k);_m=_c.substring(_k+1);_l=!_g?_l.padLeft(1,"0"):_l;_m=!_g?_m.padLeft(1,"0"):_m;}if(!this._is_intpart_zero){if(!this._is_intpart_nine||_m){_l=(_l.length&& +_l===0)?"":_l;}}if(!this._is_decpart_zero){_m=(_m.length&& +_m===0)?"":_m;}if((_l.length>0&&!(/^(?:[0-9]*)$/.test(_l)))||(_m.length>0&&!(/^(?:[0-9]*)$/.test(_m)))){return (_b?this._masked_empty_text:"");}var _n,_o,_p=_l.length-1;var _q=this._thousands_sep;var _r=[];if(this._use_grouping){_r=this._grouping.slice(0);}for(_n=0;;_n++ ){_o=_l.lastIndexOf(_q,_p);if(_o<0){break;}var _s=_r[(_n<_r.length?_n:_r.length-1)];if(!_s||(_p-_o)!=_s){return (_b?this._masked_empty_text:"");}_p=_o -1;}var _t=_h;if(_h!=''){for(_n=0;_n<this._sign_sep_by_space;_n++ ){_t+=' ';}}_l=_l.split(_q).join('');var _u=_l.length;var _v=this._int_digits_max;if(_u>=_v){this._is_max_intpart=true;}var _w=this._int_digits_min;var _x;if(_b&&_w>0){_x=_w-_u;for(_n=0;_n<_x;_n++ ){_l='0'+_l;}}_l=nexacro._EditMaskTypeNumber._put_thousand_seperator(_l,_r);_l=_l.replace(/,/g,_q);_t+=_l;if(this._is_integer_mask){if(_f&&!this._is_editing){_t+=_f;}return _t;}var _y=_m.length;var _z=this._dec_digits_min;var _aa=this._dec_digits_max;if(_y>=_aa){this._is_max_decpart=true;}if(_b&&_z>0){_x=_z-_y;for(_n=0;_n<_x;_n++ ){_m+='0';}}if(this._check_dec_max&&_aa>-1&&_m.length>_aa){_m=_m.substring(0,_aa);}var _ab=this._dec_max_sharp;if(_ab>=_aa -1){var _ac=-1;var _ad=this._dec_min_sharp;for(_n=_ab;_n>=_ad;_n-- ){if(_m[_n]==0){_ac=_n;}else if(_ab==_n){break;}}if(_ac>-1){_m=_m.slice(0,_ac);}}if(_m!=""){_t+=this._decimal_point;_t+=_m;}else if(this._is_editing&&_k>-1){_t+=this._decimal_point;}if(_f&&!this._is_editing){_t+=_f;}return _t;};_pMaskTypeNumber.arrangeMask=function(_a,_b,_c){this._is_max_intpart=false;this._is_max_decpart=false;var _d=nexacro._toString(_a);if(!_d){return {"text":"","pos":_c};}var _e=[];var _f=this._decimal_point;var _g=this._thousands_sep;_d=_d.replace(/^\s\s*/,'');var _h=_a.substring(_b,_c);if(_h=='+'||_h=='-'){_d=_d.substring(0,_b)+_d.substring(_c);}var _i=_d.length;var _j=0,_k=_a.length-_c;var _l=_d[_j];var _m=0;if(_h=='+'&&(this._sign_type==1||this._sign_type==3)){if(_l=='+'){_e.push("");_j++ ;}else{_e.push(_h);if(_l=='-'){_j++ ;}}}else if(_h=='-'&&(this._sign_type==0||this._sign_type==3)){if(_l=='-'){_e.push("");_j++ ;}else{_e.push(_h);if(_l=='+'){_j++ ;}}}for(;_j<_i;_j){_l=_d[_j];if((_l>='0'&&_l<='9')||_l==','||_l=='.'){break;}if(_l!=' '&&_l!='-'&&_l!='+'){return null;}_e.push(_l);_j++ ;}var _n=[],_o=0;var _p=true,_q;var _r=_j,_s=-1,_t=0;while(_j<_i){_l=_d[_j];if(!_l||_l==_f){break;}_j++ ;if(_l==_g){continue;}if(!(_l>='0'&&_l<='9')){continue;}_q=_l;if(_p){if(_l=='0'){continue;}_p=false;}_o=_n.push(_l);if(_j<=_c){if(_j>_b){_t++ ;}_s=_o;}}var _u=_n.length;var _v=this._int_digits_max;var _w=(this._check_int_max&&_v>-1);var _x;if(_w&&_b<_j&&_c>_r){_x=_u-_v;if(_x>0&&_t>0){if(_x>_t){_n.splice(_s-_t,_t);}else{_n.splice(_s-_x,_x);}_u=_n.length;}}if(_n.length==0&&_q=='0'){_u=_n.push('0');}if(_u>=_v){this._is_max_intpart=true;}if(_n.length>0){var _y=[];if(this._use_grouping){_y=this._grouping.slice(0);}var _z=nexacro._EditMaskTypeNumber._put_thousand_seperator(_n.join(''),_y);_e.push(_z.replace(/,/g,_g));}if(_j<_i){if(this._is_integer_mask){return null;}_l=_d[_j];if(_l!=_f){_a=_e.join('');_m=(_a.length<_k?_c:_a.length-_k);return {"text":_a,"pos":_m};}_j++ ;_e.push(_l);}var _aa=[];var _ab=_j;_s=-1;_t=0;while(_j<_i){_l=_d[_j];if(!(_l>='0'&&_l<='9')){if(_aa.length>0){_e.push(_aa.join(''));}_a=_e.join('');_m=(_a.length<_k?_c:_a.length-_k);return {"text":_a,"pos":_m};}_j++ ;_o=_aa.push(_l);if(_j<=_c){if(_j>_b){_t++ ;}_s=_o;}}var _ac=this._dec_digits_max;var _ad=(this._check_dec_max&&_ac>-1);var _ae=_aa.length;if(_ad&&_c>_b&&_c>_ab){_x=_ae-_ac;if(_x>0&&_t>0){if(_x>_t){_aa.splice(_s-_t,_t);}else{_aa.splice(_s-_x,_x);}}_ae=_aa.length;}if(_ae>=_ac){this._is_max_decpart=true;}if(_aa.length>0){_e.push(_aa.join(''));}_a=_e.join('');_m=(_a.length<_k?_c:_a.length-_k);return {"text":_a,"pos":_m};};_pMaskTypeNumber.removeMask=function(_a){var _b=nexacro._toString(_a);if(!_b){return "";}_b=_b.replace(/^\s\s*/,'');var _c=_b.length;var _d=[];var _e=this._decimal_point;var _f=this._thousands_sep;var _g=0;var _h=_b[_g];if(_h=='+'||_h=='-'){if(_h=='-'){_d.push(_h);}_g++ ;}for(;_g<_c;_g++ ){_h=_b[_g];if((_h>='0'&&_h<='9')||_h==','||_h=='.'){break;}if(_h!=' '){return _d.join('');}}if(_g==_c){return "";}var _i=true;while(_g<_c){_h=_b[_g];if(!_h||_h==_e){break;}_g++ ;if(_h==_f){continue;}if(!(_h>='0'&&_h<='9')){return _d.join('');}if(_i){if(_h=='0'){continue;}_i=false;}_d.push(_h);}var _j=false;if(_i){_d.push('0');_j=true;}if(this._is_integer_mask){return _d.join('');}if(_g<_c){_h=_b[_g++ ];if(_h!=_e){return _d.join('');}}var _k=[];var _l=this._dec_digits_max;var _m=(this._check_dec_max&&_l>-1);var _n=_c-_g;if(_m&&_n>_l){_n=_l;}if(_n>0){_h=_b[_g];if(!(_h>='0'&&_h<='9')){return _d.join('');}_k.push(_h);}_i=true;for(var _p=_n -1;_p>0;_p-- ){_h=_b[_g+_p];if(!(_h>='0'&&_h<='9')){return _d.join('');}if(_i){if(_h=='0'){continue;}_i=false;}_k[_p]=_h;}if(_k.length>0){var _o=_k.join('');if(!_j||_o!='0'){_d.push(this._mask_decimal_point);_d.push(_o);}}return _d.join('');};_pMaskTypeNumber.isDeletableChar=function(_a){if(_a==this._thousands_sep){return false;}return true;};_pMaskTypeNumber.isFilterChar=function(_a){if(/[,\.\+\-0-9\s]/.test(_a)){return false;}return true;};_pMaskTypeNumber.isFilled=function(){var _a=false;if(this._is_integer_mask){_a=this._is_max_intpart;}else{_a=this._is_max_decpart;}return _a;};delete _pMaskTypeNumber;_pMaskTypeNumber=null;nexacro._EditMaskTypeString=function(){nexacro._EditMaskType.call(this);this.mask="";this.maskchar="_";this.fillchar=" ";this._input_mode="text";this._char_buf=[];this._is_filled=false;this._is_mismatch=false;this._init();};var _pMaskTypeString=nexacro._createPrototype(nexacro._EditMaskType,nexacro._EditMaskTypeString);nexacro._EditMaskTypeString.prototype=_pMaskTypeString;_pMaskTypeString._type_name="MaskTypeString";_pMaskTypeString._init=function(){this._masked_empty_text="";this._mask_buf=[];this._value_buf=[];this._input_mode="text";this._is_filled=false;this._is_mismatch=false;};_pMaskTypeString.setMask=function(_a){if(this.mask!=_a){this.mask=_a;this._parseMask(_a);}};_pMaskTypeString._parseMask=function(_a){this._init();if(!_a){return;}var _b,_c=0;var _d=this._mask_buf;var _e=this._value_buf;var _f=[];var _g=this.maskchar;var _h;var _i=false;var _j=0;while((_b=_a[_c++ ])){switch(_b){case '@':{_d.push(/[\u0020-\u00ff]/);_e.push(_j>0?'*':'$1');_f.push(_g);_h=false;}break;case '#':{_d.push(/\d/);_e.push(_j>0?'*':'$1');_f.push(_g);if(_h==undefined){_h=true;}}break;case '*':{_d.push(/[a-zA-Z]/);_e.push(_j>0?'*':'$1');_f.push(_g);_h=false;}break;case '9':{_d.push(/[a-zA-Z0-9]/);_e.push(_j>0?'*':'$1');_f.push(_g);_h=false;}break;case 'A':{_d.push(/[a-zA-Z]/);_e.push(_j>0?'*.toUpperCase()':'$1.toUpperCase()');_f.push(_g);_h=false;}break;case 'a':{_d.push(/[a-zA-Z]/);_e.push(_j>0?'*.toLowerCase()':'$1.toLowerCase()');_f.push(_g);_h=false;}break;case 'Z':{_d.push(/[a-zA-Z0-9]/);_e.push(_j>0?'*.toUpperCase()':'$1.toUpperCase()');_f.push(_g);_h=false;}break;case 'z':{_d.push(/[a-zA-Z0-9]/);_e.push(_j>0?'*.toLowerCase()':'$1.toLowerCase()');_f.push(_g);_h=false;}break;case '\'':{_i=true;while((_b=_a[_c++ ])){if(_b=='\''){_i=false;break;}if(_b=='\\'){_b=_a[_c++ ];}if(_b){_d.push(_b);_e.push('');_f.push(_b);}}if(_i){return;}}break;case '{':{_j++ ;}break;case '}':{_j-- ;}break;case '\\':{_b=_a[_c++ ];if(_b){_d.push(_b);_e.push('');_f.push(_b);}}break;default:{_d.push(_b);_e.push('');_f.push(_b);}break;}}if(_h){this._input_mode="number";}this._masked_empty_text=_f.join('');};_pMaskTypeString.setMaskChar=function(_a){if(this.maskchar!=_a){this.maskchar=_a;this._parseMask(this.mask);}};_pMaskTypeString.applyMask=function(_a){this._is_filled=false;this._is_mismatch=false;var _b=nexacro._toString(_a);if(!_b){return this._masked_empty_text;}var _c=this._mask_buf;var _d=this._value_buf;var _e=this._char_buf;var _f=[];var _g="";var _h,_i,_j;var _k=0,_l=0;var _m=this.maskchar;var _n=this.fillchar;var _o=this.postfixtext;var _p=true;while((_i=_c[_k])){_j=_d[_k];if(_j==""){_f.push(_i);if((this.mask.length==_b.length)&&(_i==_b[_l])){_l++ ;}}else{do{_h=_b[_l++ ];if(_h&&!(_i.test(_h))&&!(_h==_n)&&!(_h=="\u200e")){this._is_mismatch=true;continue;}else{break;}}while(true)if(!_h||(_n!=""&&_h==_n)||!_i.test(_h)){_e[_k]='';_f.push(_m);_p=false;}else if(_j=="*"){_e[_k]=_h;_f.push(_j);}else if(_j=="$1"){_e[_k]=_h;_f.push(_h);}else if(_j[0]=='*'){_h=nexacro._executeEvalStr(_j.replace("*","\""+_h+"\""));_e[_k]=_h;_f.push('*');}else{_h=nexacro._executeEvalStr(_j.replace("$1","\""+_h+"\""));_e[_k]=_h;_f.push(_h);}}_k++ ;}this._is_filled=_p;_g=_f.join('');var _q="";var _r=nexacro._toString(_a);if(_r){_q=_r.replace(/(\s*)/g,"");}if(_o&&!this._is_editing&&_q){_g+=_o;}return _g;};_pMaskTypeString.arrangeMask=function(_a,_b,_c){var _d=this._mask_buf;var _e=this._value_buf;var _f=this._char_buf;var _g=_d.length;if(_g==0){return {"text":_a,"pos":_c};}var _h=nexacro._toString(_a);var _i=_h.length-_g;var _j=_h.substr(0,_i);var _k=_h.substr(_i);if(_j==_k){return {"text":_j,"pos":_c};}var _l=_h.split('');var _m,_n;var _o=this.maskchar;var _p,_q,_r=this.fillchar;for(_q=_b;_q<_c;_q++ ){_p=_e[_q];if(_p==null){break;}if(_p==""){if(_l[_q]!=_d[_q]){_c++ ;_i++ ;_l.splice(_q,0,_d[_q]);}}else{_m=_d[_q];_n=_l[_q];if(!_n||(_r!=""&&_n==_r)||!_m.test(_n)){_f[_q]='';_l[_q]=_o;}else if(_p=="*"){_f[_q]=_n;_l[_q]='*';}else if(_p=="$1"){_f[_q]=_n;_l[_q]=_n;}else if(_p[0]=='*'){_n=nexacro._executeEvalStr(_p.replace("*","\""+_n+"\""));_f[_q]=_n;_l[_q]='*';}else{_n=nexacro._executeEvalStr(_p.replace("$1","\""+_n+"\""));_f[_q]=_n;_l[_q]=_n;}}}if(_c<_g){if(_i>0){_l.splice(_c,_i);}else if(_i<0){_i= -(_i);for(_q=0;_q<_i;_q++ ){var _s=_c+_q;_p=_e[_s];if(_p==""){_l.splice(_s,0,_d[_s]);}else{_l.splice(_s,0,_o);_f[_s]="";}}}}else{_c=_g;_l.splice(_c,(_l.length-_c));}return {"text":_l.join(''),"pos":_c};};_pMaskTypeString.removeMask=function(_a){var _b=this._mask_buf;var _c=this._value_buf;var _d=this._char_buf;this._is_filled=false;var _e=_b.length;if(_e==0){return _a;}var _f=this.maskchar;var _g=this.fillchar;var _h=nexacro._toString(_a);var _i,_j,_k=0;var _l=[];var _m=true;while((_b[_k])){_j=_c[_k];if(_j!=""){_i=_h[_k];if(!_i){if(_g!=""){_l.push(_g);}_m=false;}else if(_i==_f){_i=_d[_k];if(_i&&_i==_f){_l.push(_i);}else{if(_g!=""){_l.push(_g);}_m=false;}}else if(_i=='*'&&_j[0]=='*'){_i=_d[_k];if(_i){_l.push(_i);}else{if(_g!=""){_l.push(_g);}_m=false;}}else{_l.push(_i);}}_k++ ;}this._is_filled=_m;return _l.join('');};_pMaskTypeString.keyPressed=function(_a,_b){this._char_buf[_b]=_a;};_pMaskTypeString.findNearEditablePos=function(_a,_b){var _c=this._value_buf;var _d,_e=_c.length;if(_b>0){if(_a==_e){return _a;}else{while(_a<_e){_d=_c[_a];if(_d!=""){return _a;}_a++ ;}}}else if(_b<0){while(_a>-1){_d=_c[_a];if(_d!=""){return _a;}_a-- ;}}else{if((_c[_a])){return _a;}}return -1;};_pMaskTypeString.isDeletableChar=function(_a,_b){if(this._value_buf[_b]){return true;}return false;};_pMaskTypeString.isFilterChar=function(_a,_b){var _c=this._mask_buf[_b];if(_c&&typeof _c!="string"&&_c.test(_a)){return false;}return true;};_pMaskTypeString.isFilled=function(){return this._is_filled;};delete _pMaskTypeString;_pMaskTypeString=null;nexacro._EditMaskTypeDate=function(){nexacro._EditMaskType.call(this);this.maskchar=" ";this.date="";this.editmask="";this.editmask_logical="";this.datemask="";this._cnt_editformat_year=0;this._cnt_editformat_month=0;this._cnt_editformat_day=0;this._cnt_editformat_hour=0;this._cnt_editformat_minute=0;this._cnt_editformat_second=0;this._input_mode="number";this._is_filled=false;this._use_edit_buf=true;this._init();};var _pMaskTypeDate=nexacro._createPrototype(nexacro._EditMaskType,nexacro._EditMaskTypeDate);nexacro._EditMaskTypeDate.prototype=_pMaskTypeDate;_pMaskTypeDate._type_name="MaskTypeDate";_pMaskTypeDate._dateformatMap=[["yyyy","yy"],["MM","M","MMMM","MMM"],["dd","d"],["HH","H","hh","h"],["mm","m"],["ss","s"],["sss"],["ddd","dddd"]];_pMaskTypeDate._DateTypeConst={DATE:0,TIME:1,DATETIME:2};_pMaskTypeDate._DateFormatConst={YEAR:["yyyy","yy"],MONTH:["MM","M","MMMM","MMM"],DAY:["dd","d"],HOUR:["HH","H","hh","h"],MINUTE:["mm","m"],SECOND:["ss","s"],MILLISECOND:["sss"],DAYOFWEEK:["ddd","dddd"],NORMALFORMAT_DATE:["YEAR","MONTH","DAY"],NORMALFORMAT_TIME:["HOUR","MINUTE","SECOND","MILLISECOND"],NORMALFORMAT_DATETIME:["YEAR","MONTH","DAY","HOUR","MINUTE","SECOND","MILLISECOND"]};_pMaskTypeDate._init=function(){this.locale="";this._datelistS=["","","","","","",""];this._datelistL=["","","","","","",""];this._monthlistS=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];this._initdate();this._initeditmask();this._initdatemask();};_pMaskTypeDate._initdate=function(){this._date=[];this._dateObj=null;};_pMaskTypeDate._initeditmask=function(){this._editmask_type=-1;this._editmasked_empty_text="";this._editmask=[];this._edit_char_buf=[];this._edit_value_buf=[];this._edit_mask_buf=[];this._edit_type_buf=[];};_pMaskTypeDate._initdatemask=function(){this._datemask_type=-1;this._datemasked_empty_text="";this._datemask=[];this._date_char_buf=[];this._date_value_buf=[];this._date_mask_buf=[];this._date_type_buf=[];};_pMaskTypeDate.setInputMode=function(_a){this._input_mode=_a;};_pMaskTypeDate.setUseEditBuffer=function(_a){this._use_edit_buf=_a;};_pMaskTypeDate.setDate=function(_a){this.date=_a;};_pMaskTypeDate._parseDate=function(_a){this._initdate();if(!_a){return;}var _b=this._date;var _c,_d,_e;switch(this._is_editing?this.getEditFormatType():this.getDateFormatType()){case 0:_c=_a.substr(0,4);_d=_a.substr(4,2);_e=_a.substr(6,2);_b.push(_c);_b.push(_d);_b.push(_e);break;case 1:_c="0000";_d="01";_e="01";_b.push(_c);_b.push(_d);_b.push(_e);_b.push(_a.substr(0,2));_b.push(_a.substr(2,2));_b.push(_a.substr(4,2));_b.push(_a.substr(6,3));break;case 2:_c=_a.substr(0,4);_d=_a.substr(4,2);_e=_a.substr(6,2);_b.push(_c);_b.push(_d);_b.push(_e);_b.push(_a.substr(8,2));_b.push(_a.substr(10,2));_b.push(_a.substr(12,2));_b.push(_a.substr(14,3));break;}this._dateObj=new Date(_c, +_d -1,_e);(function(_f,_g){if(_f<=99&&_f>=0){var _h=new Date(0,0,1);var _i=_h.getFullYear();var _j=_g.getFullYear();var _k=_j-_i;_g.setFullYear(_k);}})(_c,this._dateObj);};_pMaskTypeDate.setEditMask=function(_a){if(this.editmask!=_a){this.editmask_logical="";this._cnt_editformat_month=0;this._cnt_editformat_day=0;this._cnt_editformat_hour=0;this._cnt_editformat_minute=0;this._cnt_editformat_second=0;this.editmask=_a;this._parseEditMask(_a);if(this.date){this._parseDate(this.date);}var _b,_c;for(var _d=0,_e=this._editmask.length;_d<_e;_d++ ){_b=this._editmask[_d].mask;_c=this.changeTypeToDate(this._editmask[_d].type);switch(_c){case "YEAR":this._cnt_editformat_year=_b.length;break;case "MONTH":this._cnt_editformat_month=_b.length;break;case "DAY":this._cnt_editformat_day=_b.length;break;case "HOUR":this._cnt_editformat_hour=_b.length;break;case "MINUTE":this._cnt_editformat_minute=_b.length;break;case "SECOND":this._cnt_editformat_second=_b.length;break;}}}};_pMaskTypeDate._parseEditMask=function(_a){this._initeditmask();if(!_a){return;}if(_a=="SHORTDATE"||_a=="LONGDATE"){var _b=this._getLocale();_a=nexacro.Locale._makeDateMaskString(_b,_a);}var _c=this.maskchar;var _d=this._edit_mask_buf;var _e=this._edit_value_buf;var _f=this._edit_type_buf;var _g=[];var _h;var _i=this._editmask;var _j,_k,_l;var _m;var _n=[];var _o={};var _p=false;var _q=false;var _r=false;var _s=0,_t=0;do{_j=_a[_s];if(this.isMaskChar(_j)&&!_p){if(!_k){_k=_j;_t=_s;}else{if(_j==_a[_s -1]){_k+=_j;}else{_m=this.changeMaskToType(_k);_i.push({mask:_k,type:_m});for(_t;_t<_s;_t++ ){if(_k=="dddd"||_k=="MMMM"||_k=="MMM"){_d[_t]=_k[0];_e[_t]="";}_f[_t]=_m;}_k=_j;_t=_s;}}_g.push(_c);_e.push('$1');_d.push(/\d/);_l=_a[_s+1];if(_k.length==1&&this.isMaskChar(_l)&&_j!=_l){_m=this.changeMaskToType(_k);_i.push({mask:_k,type:_m});if((_m>=10&&_m<=69)&&((_m%10)>0)){_n.push({pos:_s+1,type:_m});}for(_t;_t<_s+1;_t++ ){if(_k=="dddd"||_k=="MMMM"||_k=="MMM"){_d[_t]=_k[0];_e[_t]="";}_f[_t]=_m;}_k="";}}else{if(_k){_m=this.changeMaskToType(_k);_i.push({mask:_k,type:_m});if((_m>=10&&_m<=69)&&((_m%10)>0)){_n.push({pos:_s,type:_m});}for(_t;_t<_s;_t++ ){if(_k=="dddd"||_k=="MMMM"||_k=="MMM"){_d[_t]=_k[0];_e[_t]="";}_f[_t]=_m;}}else if(_j=="'"&&_p){_p=false;continue;}else if(_j=="'"&&!_p){_p=true;continue;}if(!nexacro._isNull(_j)){_i.push({mask:_j,type:-1});_g.push(_j);_e.push('');_d.push(_j);_f.push(-1);}_k="";}if(_m>=0&&_m<=29){_q=true;}if(_m>=30&&_m<=69){_r=true;}}while(_a[_s++ ])for(var _u=_n.length-1;_u>=0;_u-- ){_o=_n[_u];_d.splice(_o.pos,0,/\d/);_f.splice(_o.pos,0,_o.type);_e.splice(_o.pos,0,"$1");_g.splice(_o.pos,0,_c);}if(_q){if(_r){this._editmask_type=2;}else{this._editmask_type=0;}}else{if(_r){this._editmask_type=1;}else{this._editmask_type=-1;}}this._editmasked_empty_text=_g.join('');this.editmask_logical="";for(_u=0;_u<_f.length;_u++ ){_h=_f[_u];if(_h>=0&&_h<10){this.editmask_logical+="y";}else if(_h>=10&&_h<20){this.editmask_logical+="M";}else if(_h>=20&&_h<30){this.editmask_logical+="d";}else if(_h>=30&&_h<40){this.editmask_logical+="H";}else if(_h>=40&&_h<50){this.editmask_logical+="m";}else if(_h>=50&&_h<60){this.editmask_logical+="s";}else{this.editmask_logical+=_d[_u];}}};_pMaskTypeDate.setDateMask=function(_a){if(this.datemask!=_a){this.datemask=_a;this._parseDateMask(this.datemask);}};_pMaskTypeDate._parseDateMask=function(_a){this._initdatemask();if(!_a){return;}if(_a=="SHORTDATE"||_a=="LONGDATE"){var _b=this._getLocale();_a=nexacro.Locale._makeDateMaskString(_b,_a);}var _c=this.maskchar;var _d=this._date_mask_buf;var _e=this._date_value_buf;var _f=this._date_type_buf;var _g=[];var _h=this._datemask;var _i,_j;var _k;var _l=false;var _m=false;var _n=false;var _o=0,_p=0;do{_i=_a[_o];if(this.isMaskChar(_i)&&!_l){if(!_j){_j=_i;_p=_o;}else{if(_i==_a[_o -1]){_j+=_i;}else{_k=this.changeMaskToType(_j);_h.push({mask:_j,type:_k});for(_p;_p<_o;_p++ ){_f[_p]=_k;}_j=_i;_p=_o;}}_g.push(_c);_e.push('$1');_d.push(/\d/);}else{if(_j){_k=this.changeMaskToType(_j);_h.push({mask:_j,type:_k});for(_p;_p<_o;_p++ ){_f[_p]=_k;}}else if(_i=="'"&&_l){_l=false;continue;}else if(_i=="'"&&!_l){_l=true;continue;}if(!nexacro._isNull(_i)){_h.push({mask:_i,type:-1});_g.push(_i);_e.push('');_d.push(_i);_f.push(-1);}_j="";}if(_k>=0&&_k<=29){_m=true;}if(_k>=30&&_k<=69){_n=true;}}while(_a[_o++ ])if(_m){if(_n){this._datemask_type=2;}else{this._datemask_type=0;}}else{if(_n){this._datemask_type=1;}else{this._datemask_type=-1;}}this._datemasked_empty_text=_g.join('');};_pMaskTypeDate.setLocale=function(_a){this.locale=_a;var _b=nexacro.Locale.getLocaleInfo(_a);this._datelistS=_b.weekday_names_short;this._datelistL=_b.weekday_names_long;this._monthlistS=_b.month_names_short;this._monthlistL=_b.month_names_long;this._parseEditMask(this.editmask);this._parseDateMask(this.datemask);};_pMaskTypeDate.applyMask=function(_a){if(!this.datemask||!this.editmask){return _a;}_a=nexacro._toString(_a);if(this.date!=_a){this.setDate(_a);}this._parseDate(this.date);if(this._is_editing){this._edit_char_buf=[];}if(!_a){if(this._is_editing){return this._editmasked_empty_text;}else{return this._datemasked_empty_text;}}var _b=0;var _c,_d,_e;var _f=this._is_editing?this._editmask:this._datemask;var _g="";var _h="";while(_c=_f[_b]){_d=_c.mask;_e=_c.type;if(_e>=0){_g=this._appliedMaskString(_c);if(this._is_editing){if(_e==13||_e==12||_e==70||_e==71){_g=_d;}else if(_e>10&&_e<69){_g=_g.length==1?" "+_g:_g;}}}else{_g=_d;}_h+=_g;if(this._is_editing){this._edit_char_buf=this._edit_char_buf.concat(_g.split(''));}_b++ ;}return _h;};_pMaskTypeDate.applyMaskEx=function(_a){if(!this.datemask||!this.editmask){return _a;}_a=nexacro._toString(_a);if(!_a){if(this._is_editing){return this._editmasked_empty_text;}else{return this._datemasked_empty_text;}}if(this.date!=_a){this.setDate(_a);}this._parseDate(this.date);if(this._is_editing){this._edit_char_buf=[];}var _b=0;var _c,_d,_e;var _f=this._editmask.slice();var _g="";var _h="";for(var _i=0,_j=_f.length;_i<_j;_i++ ){if(_f[_i].mask=="M"){_f[_i]={mask:"MM",type:10};}else if(_f[_i].mask=="d"){_f[_i]={mask:"dd",type:20};}else if(_f[_i].mask=="H"){_f[_i]={mask:"HH",type:30};}else if(_f[_i].mask=="m"){_f[_i]={mask:"mm",type:40};}}while(_c=_f[_b]){_d=_c.mask;_e=_c.type;if(_e>=0){_g=this._appliedMaskString(_c);if(this._is_editing){if(_e==12||_e==70||_e==71){_g=_d;}else if(_e>10&&_e<69){_g=_g.length==1?" "+_g:_g;}}}else{_g=_d;}_h+=_g;if(this._is_editing){this._edit_char_buf=this._edit_char_buf.concat(_g.split(''));}_b++ ;}return _h;};_pMaskTypeDate.applyMaskSpin=function(_a,_b){var _c=this._editmask;var _d=this._edit_type_buf.slice(0);var _e=this._edit_char_buf;_a=(_a==_d.length)?_a -1:_a;var _f=_d[_a];if(_f==-1){_a=_a>0?_a -1:_a;_f=_d[_a];if(_f==-1){return _e.join('');}}var _g=0;var _h=-1;var _i="";var _j=[];var _k={};while(!nexacro._isNull(_h=_d[_g])){if(_f==_h){_i+=_e[_g];_j.push(_g);}if(_c[_g]&&_c[_g].type==_f){_k=_c[_g];}_g++ ;}var _l= +_i+_b;switch(_f){case 0:case 1:if(_l<0){_l=9999;}else if(_l>9999){_l=0;}break;case 10:case 11:if(_l<1){_l=12;}else if(_l>12){_l=1;}break;case 20:case 21:var _m=this.getEndDay(this._date[0],this._date[1]);if(_l<1){_l=_m;}else{if(_l>_m){_l=1;}}break;case 30:case 31:if(_l<0){_l=23;}else if(_l>23){_l=0;}break;case 32:case 33:if(_l<0){_l=11;}else if(_l>11){_l=0;}break;case 40:case 41:case 50:case 51:if(_l<0){_l=59;}else if(_l>59){_l=0;}break;case 60:if(_l<0){_l=999;}else if(_l>999){_l=0;}break;}var _n=[];_i=this._appliedMaskString(_k,_l.toString());if(_f>10&&_f<69){_i=_i.length==1?" "+_i:_i;}_n=_i.split('');for(var _o=0;_o<_j.length;_o++ ){_e[_j[_o]]=_n[_o];}return _e.join('');};_pMaskTypeDate.arrangeMask=function(_a,_b,_c,_d){var _e=this._edit_mask_buf;var _f=this._edit_value_buf;var _g=this._edit_char_buf;var _h=_e.length;if(_h==0){return {"text":_a,"pos":_c};}var _i=nexacro._toString(_a);var _j=_i.split('');var _k;var _l=this.maskchar;var _m,_n,_o=(_i.length-_h);for(_m=_b;_m<_c;_m++ ){_n=_f[_m];if(_n==null){break;}if(_n==""){if(!isNaN(nexacro.toNumber(_j[_m]))){_c++ ;_o++ ;_j.splice(_m,0,_e[_m]);}}else{_k=_e[_m];var _p=_j[_m];if(_n=="$1"&&_k.test(_p)){_g[_m]=_p;_j[_m]=_p;}else{_g[_m]=_l;_j[_m]=_l;}}}if(_c<_h||_o<_h){if(_o>0){var _q=_d&&_d-_b!=0?_d:_c;_j.splice(_q,_o);}else if(_o<0){_o= -(_o);for(_m=0;_m<_o;_m++ ){var _r=_c+_m;_n=_f[_r];if(_n==""){_j.splice(_r,0,_e[_r]);}else{_j.splice(_r,0,_l);_g[_r]=_l;}}}}else{_c=_h;_j.splice(_c,(_j.length-_c));}return {"text":_j.join(''),"pos":_c};};_pMaskTypeDate.removeMask=function(_a,_b){if(!_a){_a=_b?this._date_char_buf:this._edit_char_buf;}var _c=_b?this._date_type_buf:this._edit_type_buf;var _d="";var _e=[];var _f=0,_g=0,_h="";var _i=-1,_j=-1;for(var _l=_a.length;_f<_l;_f++ ){if(_a[_f]!==undefined){break;}}do{if(_c[_f]>-1){_i=parseInt(_c[_f]/10);if(_c[_f -1]!=-1&&_c[_f -1]!=_c[_f]){if(_d!==""){_e[_g]=this._getRemoveMaskString(_g,_d);_d="";}}for(var _m=_j+1;_m<_i;_m++ ){var _k=_m* 10;_e[_k]=this._getRemoveMaskString(_k,"");}_h=_a[_f]?_a[_f]:"";if(_d===""){_g=_c[_f];_j=_i;}_d=_d.concat(_h);}else{if(_d!==""){_e[_g]=this._getRemoveMaskString(_g,_d);_d="";}}_f++ ;}while(!nexacro._isNull(_c[_f]))if(_d!==""){_e[_g]=this._getRemoveMaskString(_g,_d);}return _e.join('');};_pMaskTypeDate.keyPressed=function(_a,_b){this._edit_char_buf[_b]=_a;var _c=this._edit_value_buf;var _d=_c.length;for(var _e=_d;_e>0;_e-- ){if(_c[_e]&&_c[_e]=="$1"){break;}}if((this._edit_char_buf.length==_d)&&(_b==_e)){this._is_filled=true;}else{this._is_filled=false;}};_pMaskTypeDate.findNearEditablePos=function(_a,_b){var _c=this._edit_value_buf;var _d,_e=_c.length;if(_b>0){while(_a<_e){_d=_c[_a];if(_d!=""){return _a;}_a++ ;}}else if(_b<0){while(_a>-1){_d=_c[_a];if(_d!=""){return _a;}_a-- ;}}else{if(_c[_a]){return _a;}}return -1;};_pMaskTypeDate.isDeletableChar=function(_a,_b){if(this._edit_value_buf[_b]){return true;}return false;};_pMaskTypeDate.isFilterChar=function(_a,_b,_c,_d){if(!/[0-9]/.test(_a)){return true;}var _e=this._edit_char_buf.slice(0);var _f=_a.replace(/[^0-9]/g,'');var _g=_e.length;var _h;var _i=0;var _j;var _k="";var _l={};var _m=/^[0-9]/;if(_f.length>1){for(_h=_b;_h<_g;_h++ ){if(_i==_f.length){break;}if(_m.test(_e[_h])){_e[_h]=_f[_i];_i++ ;}}}else{_e[_b]=_a;_k=_a;_j=this._edit_type_buf[_b];for(_h=_b -1;_h>=0;_h-- ){if(_j==this._edit_type_buf[_h]){_k=_e[_h]+_k;}else{break;}}for(_h=_b+1;_h<_e.length;_h++ ){if(_j==this._edit_type_buf[_h]){_k+=_e[_h];}else{break;}}_l[this.changeTypeToDate(_j)]=_k;}if(_c&&_b<_c){for(_h=(_b+1);_h<_c&&_h<_g;_h++ ){_e[_h]="";}}var _n=this.removeMask(_e);var _o,_p,_q;var _r,_s,_t,_u;var _v=this.getEditFormatType();switch(_v){case 0:_o=_n.substr(0,4);_p=_n.substr(4,2);_q=_n.substr(6,2);break;case 1:var _w=8;if(this._edit_type_buf[0]<40){_r=_n.substr(_w,2);_w=10;}_s=_n.substr(_w,2);_t=_n.substr(_w+2,2);_u=_n.substr(_w+2,3);break;case 2:_o=_n.substr(0,4);_p=_n.substr(4,2);_q=_n.substr(6,2);_r=_n.substr(8,2);_s=_n.substr(10,2);_t=_n.substr(12,2);_u=_n.substr(14,3);break;}if((_o&&isNaN(_o= +_o))||(_p&&isNaN(_p= +_p))||(_q&&isNaN(_q= +_q))||(_r&&isNaN(_r= +_r))||(_s&&isNaN(_s= +_s))||(_t&&isNaN(_t= +_t))||(_u&&isNaN(_u= +_u))){return true;}var _x=this.getEndDay(_o,_p);if(!_d&&((_v!=1&&!_x)||(_p&&( +_p>12))||(_q&&( +_q>_x))||(_r&&( +_r>=24))||(_s&&( +_s>=60))||(_t&&( +_t>=60))||(_u&&( +_u>=1000)))){return true;}return false;};_pMaskTypeDate.isFilterCharEx=function(_a,_b,_c){var _d={};_d.ret=false;_d.date="";_d.pos=_b;if(!/[0-9]/.test(_a)){_d.ret=true;return _d;}var _e=this._edit_char_buf.slice(0);var _f=_a.replace(/[^0-9]/g,'');var _g=_e.length;var _h;var _i=0;var _j;var _k="";var _l={};var _m=/^[0-9]/;if(_f.length>1){for(_h=_b;_h<_g;_h++ ){if(_i==_f.length){break;}if(_m.test(_e[_h])){_e[_h]=_f[_i];_i++ ;}}}else{_e[_b]=_a;_k=_a;_j=this._edit_type_buf[_b];for(_h=_b -1;_h>=0;_h-- ){if(_j==this._edit_type_buf[_h]){_k=_e[_h]+_k;}else{break;}}for(_h=_b+1;_h<_e.length;_h++ ){if(_j==this._edit_type_buf[_h]){_k+=_e[_h];}else{break;}}_l[this.changeTypeToDate(_j)]=_k;}var _n,_o,_p,_q,_r,_s,_t;var _u;var _v,_w,_x,_y,_z,_aa,_ab,_ac,_ad,_ae,_af;var _ag=this.getEditFormatType();var _ah="";var _ai=_b;var _aj=this.removeMask(_e);if(_ag!=1){var _ak=_a;var _al=this.editmask_logical.substr(_b,1);if(_al=="M"){var _am=this.editmask_logical.substr(_b+1,1);if(_am=="M"){if(_ak>1){_e[_b+1]=(_e[_b+1]==" "||_e[_b+1]==undefined)?"0":_e[_b+1];_ai=_b+1;}}}else if(_al=="d"){_n=_aj.substr(0,4);_o=_aj.substr(4,2);var _an=this.getEndDay(_n,_o);if(_ak>_an/10){_e[_b+1]=(_e[_b+1]==" "||_e[_b+1]==undefined)?"0":_e[_b+1];_ai=_b+1;}}else if(_al=="H"){_n=_aj.substr(0,4);_o=_aj.substr(4,2);_r=_aj.substr(6,2);var _am=this.editmask_logical.substr(_b+1,1);if(_am=="H"){if(_ak>2){_e[_b+1]=(_e[_b+1]==" "||_e[_b+1]==undefined)?"0":_e[_b+1];_ai=_b+1;}}}else if(_al=="m"){_n=_aj.substr(0,4);_o=_aj.substr(4,2);_r=_aj.substr(6,2);_af=_aj.substr(8,2);var _am=this.editmask_logical.substr(_b+1,1);if(_am=="m"){if(_ak>5){_e[_b+1]=(_e[_b+1]==" "||_e[_b+1]==undefined)?"0":_e[_b+1];_ai=_b+1;}}}else if(_al=="s"){_n=_aj.substr(0,4);_o=_aj.substr(4,2);_r=_aj.substr(6,2);_af=_aj.substr(8,2);_y=_aj.substr(10,2);var _am=this.editmask_logical.substr(_b+1,1);if(_am=="s"){if(_ak>5){_e[_b+1]=(_e[_b+1]==" "||_e[_b+1]==undefined)?"0":_e[_b+1];_ai=_b+1;}}}}else if(_ag==1){var _ak=_a;var _al=this.editmask_logical.substr(_b,1);if(_al=="H"){var _am=this.editmask_logical.substr(_b,1);if(_am=="H"){if(_ak>2){_e[_b+1]=(_e[_b+1]==" "||_e[_b+1]==undefined)?"0":_e[_b+1];_ai=_b+1;}}}else if(_al=="m"){_af=_aj.substr(8,2);var _am=this.editmask_logical.substr(_b,1);if(_am=="m"){if(_ak>5){_e[_b+1]=(_e[_b+1]==" "||_e[_b+1]==undefined)?"0":_e[_b+1];_ai=_b+1;}}}else if(_al=="s"){_af=_aj.substr(8,2);_y=_aj.substr(10,2);var _am=this.editmask_logical.substr(_b,1);if(_am=="s"){if(_ak>5){_e[_b+1]=(_e[_b+1]==" "||_e[_b+1]==undefined)?"0":_e[_b+1];_ai=_b+1;}}}}if(_c&&_b<_c){for(_h=(_ai+1);_h<_c&&_h<_g;_h++ ){_e[_h]="";}}_aj=this.removeMask(_e);switch(_ag){case 0:_n=_aj.substr(0,4);_o=_aj.substr(4,2);_p=_aj.substr(4,1);_q=_aj.substr(5,1);_r=_aj.substr(6,2);_s=_aj.substr(6,1);_t=_aj.substr(7,1);break;case 1:var _ao=8;if(this._edit_type_buf[0]<40){_v=_aj.substr(_ao,2);_w=_aj.substr(_ao,1);_x=_aj.substr(_ao+1,1);_ao=10;}_y=_aj.substr(_ao,2);_z=_aj.substr(_ao,1);_aa=_aj.substr(_ao+1,1);_ab=_aj.substr(_ao+2,2);_ac=_aj.substr(_ao+2,1);_ad=_aj.substr(_ao+3,1);_ae=_aj.substr(_ao+4,3);break;case 2:_n=_aj.substr(0,4);_o=_aj.substr(4,2);_p=_aj.substr(4,1);_q=_aj.substr(5,1);_r=_aj.substr(6,2);_s=_aj.substr(6,1);_t=_aj.substr(7,1);_v=_aj.substr(8,2);_w=_aj.substr(8,1);_x=_aj.substr(9,1);_y=_aj.substr(10,2);_z=_aj.substr(10,1);_aa=_aj.substr(11,1);_ab=_aj.substr(12,2);_ac=_aj.substr(12,1);_ad=_aj.substr(13,1);_ae=_aj.substr(14,3);break;}if((_n&&isNaN(_u= +_n))||(_o&&isNaN(_o= +_o))||(_r&&isNaN(_r= +_r))||(_v&&isNaN(_v= +_v))||(_y&&isNaN(_y= +_y))||(_ab&&isNaN(_ab= +_ab))||(_ae&&isNaN(_ae= +_ae))){_d.ret=true;return _d;}var _ap=this.getEndDay(_n,_o);if(((_ag!=1&&!_ap)||_o===0||_r===0||(_o&&( +_o>12))||(_r&&( +_r>_ap))||(_v&&( +_v>=24))||(_y&&( +_y>=60))||(_ab&&( +_ab>=60))||(_ae&&( +_ae>=1000)))){_d.ret=true;_d.date=_n;var _aq=this.editmask_logical.substr(_b,1);var _ar=false;var _as=0;for(var _h=_b+1,_ax=this.editmask_logical.length;_h<_ax;_h++ ){_ah=this.editmask_logical[_h];if(this.isMaskChar(_ah)&&_aq==_ah){_d.pos=_h;_ar=true;}else if(this.isMaskChar(_ah)&&_aq!=_ah){break;}else{_as++ ;}}if(!_ar){_d.pos=_h;}if(_aq=="y"){if(_o){_d.date+=(_p+_q);}var _an=this.getEndDay(_n,_o);if(_r>_an){_d.date+=_an;}else{_d.date+=(_s+_t);}if(_v){_d.date+=(_w+_x);}if(_y){_d.date+=(_z+_aa);}if(_ab){_d.date+=(_ac+_ad);}}else if(_aq=="M"){var _at=_o;var _au=this.editmask_logical.substr(_b+1,1);if( +_o==0){if(this._cnt_editformat_month==2){_d.date+=("0"+" ");}else{_d.date+=(" "+" ");}}else if( +_o>12){if(_p>1){if(this._cnt_editformat_month==2){_d.date+=("0"+_p);}else{_d.date+=(" "+_p);}_d.pos+=_as+1;_at=_p;}else{if(this._cnt_editformat_month==2){if(_au=="M"){_d.date+=(_p+" ");_d.pos=_b+1;_at=_p;}else{_d.date+=("0"+_q);_at=_q;}}else{if(_p==_a){_d.date+=(_p+" ");_d.pos=_b+1;_at=_p;}else{_d.date+=(" "+_q);_d.pos=_b+2;_at=_q;}}}}else if( +_o>=10){_d.date+=_o;}else if( +_o>=1){if(_au=="M"){if(this._cnt_editformat_month==2){_d.date+=("0"+_p);}else{_d.date+=(" "+_p);}}else{if(this._cnt_editformat_month==2){_d.date+=("0"+_q);}else{_d.date+=(" "+_q);}}}var _an=this.getEndDay(_n,_at);if(_r>_an){_d.date+=_an;}else{if(this._cnt_editformat_day==2){_d.date+=(_s+_t);}else{if(_r&&_r<10){_d.date+=(" "+_t);}else{_d.date+=(_s+_t);}}}if(_v){_d.date+=(_w+_x);}if(_y){_d.date+=(_z+_aa);}if(_ab){_d.date+=(_ac+_ad);}}else if(_aq=="d"){if(_o){if(this._cnt_editformat_month==2){_d.date+=(_p+_q);}else{if(_o<10){_d.date+=(" "+_q);}else{_d.date+=(_p+_q);}}}if(_r&&( +_r>_ap)){if(_s>_ap/10){if(this._cnt_editformat_day==2){_d.date+=("0"+_s);}else{_d.date+=(" "+_s);}_d.pos+=_as+1;}else{if(this._cnt_editformat_day==2){var _au=this.editmask_logical.substr(_b+1,1);if(_au=="d"){_d.date+=(_s+" ");_d.pos=_b+1;}else{_d.date+=("0"+_t);}}else{if(_ah=="d"&&_s==_a){_d.date+=(_s+" ");}else{_d.date+=(" "+_t);}}}}else if(_r==0){if(this._cnt_editformat_day==2){_d.date+=("0"+" ");}else{_d.date+=(" "+" ");}}if(_v){_d.date+=(_w+_x);}if(_y){_d.date+=(_z+_aa);}if(_ab){_d.date+=(_ac+_ad);}}else if(_aq=="H"){if(!_d.date){_d.date="";}if(_o){if(this._cnt_editformat_month==2){_d.date+=(_p+_q);}else{if(_o<10){_d.date+=(" "+_q);}else{_d.date+=(_p+_q);}}}if(_r){if(this._cnt_editformat_day==2){_d.date+=(_s+_t);}else{if(_r<10){_d.date+=(" "+_t);}else{_d.date+=(_s+_t);}}}var _av=_v;if(_v&&( +_v>=24)){if(_w>2){if(this._cnt_editformat_hour==2){_d.date+=("0"+_w);}else{_d.date+=(" "+_w);}_d.pos+=_as+1;_av=_w;}else{if(this._cnt_editformat_hour==2){var _au=this.editmask_logical.substr(_b+1,1);if(_au=="H"){_d.date+=(_w+" ");_d.pos=_b+1;_av=_w;}else{_d.date+=("0"+_x);_av=_x;}}else{if(_w==_a){_d.date+=(_w+" ");_d.pos=_b+1;_av=_w;}else{_d.date+=(" "+_x);_d.pos=_b+2;_av=_x;}}}}if(_y){_d.date+=(_z+_aa);}if(_ab){_d.date+=(_ac+_ad);}}else if(_aq=="m"){if(!_d.date){_d.date="";}if(_o){if(this._cnt_editformat_month==2){_d.date+=(_p+_q);}else{if(_o<10){_d.date+=(" "+_q);}else{_d.date+=(_p+_q);}}}if(_r){if(this._cnt_editformat_day==2){_d.date+=(_s+_t);}else{if(_r<10){_d.date+=(" "+_t);}else{_d.date+=(_s+_t);}}}if(_v!==undefined){_d.date+=(_w+_x);}var _aw=_y;if(_y&&( +_y>=60)){if(_z>5){if(this._cnt_editformat_minute==2){_d.date+=("0"+_z);}else{_d.date+=(" "+_z);}_d.pos+=_as+1;_aw=_z;}}if(_ab){_d.date+=(_ac+_ad);}}else if(_aq=="s"){if(!_d.date){_d.date="";}if(_o){if(this._cnt_editformat_month==2){_d.date+=(_p+_q);}else{if(_o<10){_d.date+=(" "+_q);}else{_d.date+=(_p+_q);}}}if(_r){if(this._cnt_editformat_day==2){_d.date+=(_s+_t);}else{if(_r<10){_d.date+=(" "+_t);}else{_d.date+=(_s+_t);}}}if(_v){_d.date+=(_w+_x);}if(_y){_d.date+=(_z+_aa);}if(_ab&&( +_ab>=60)){if(_ac>5){if(this._cnt_editformat_second==2){_d.date+=("0"+_ac);}else{_d.date+=(" "+_ac);}_d.pos+=_as+1;}}}return _d;}return false;};_pMaskTypeDate.isFilled=function(){return this._is_filled;};_pMaskTypeDate.isMaskChar=function(_a){if(_a=="y"||_a=="M"||_a=="d"||_a=="H"||_a=="h"||_a=="m"||_a=="s"){return true;}return false;};_pMaskTypeDate.isMaskString=function(_a){if(_a==="yyyy"||_a==="yy"||_a==="MMMM"||_a==="MMM"||_a==="MM"||_a==="M"||_a==="dddd"||_a==="ddd"||_a==="dd"||_a==="d"){return true;}return false;};_pMaskTypeDate.getEditFormatType=function(){return this._editmask_type;};_pMaskTypeDate.getEditFormatStringType=function(){for(var _a in this._DateTypeConst){if(this._DateTypeConst[_a]==this._editmask_type){break;}}return _a;};_pMaskTypeDate.getDateFormatType=function(){return this._datemask_type;};_pMaskTypeDate.getCurrentText=function(){return this._edit_char_buf.join('');};_pMaskTypeDate.getEmptyText=function(){if(this._is_editing){return this._editmasked_empty_text;}else{return this._datemasked_empty_text;}};_pMaskTypeDate.getDatePickerValue=function(){var _a=this._date;if(_a.length==0){var _b=new Date();var _c=nexacro._toString(_b.getFullYear()).padLeft(4,"0");var _d=nexacro._toString(_b.getMonth()+1).padLeft(2,"0");var _e=nexacro._toString(_b.getDate()).padLeft(2,"0");return _c+_d+_e;}else{return _a[0]+_a[1]+_a[2];}};_pMaskTypeDate.getCurrentDate=function(){var _a,_b,_c;var _d=new Date();_a=_d.getFullYear();_b=_d.getMonth()+1;_c=_d.getDate();return {year:_a,month:_b,day:_c};};_pMaskTypeDate.getEndDay=function(_a,_b){var _c=new Array(31,28,31,30,31,30,31,31,30,31,30,31);var _d=new Array(31,29,31,30,31,30,31,31,30,31,30,31);var _e="";var _f= +_a;var _g= +_b;if(isNaN(_f)||isNaN(_g)){return;}if(_g==0){_g=1;}if(_f==0){_e=_c[_g -1];return _e;}if((_f%4)==0&&(_f%100)!=0||(_f%400)==0){_e=_d[_g -1];}else{_e=_c[_g -1];}return _e;};_pMaskTypeDate.changeNormalizeValue=function(_a){if(_a instanceof nexacro.Date){_a=_a.toString();}if(nexacro._isNull(_a)||_a===""||_a.trim()===""){return _a;}var _b,_c,_d;var _e,_f,_g,_h;var _i="";var _j=this.getEditFormatType();switch(_j){case 0:_b=_a.substr(0,4);_c=_a.substr(4,2)||"01";_d=_a.substr(6,2)||"01";break;case 1:_b="0000";_c="01";_d="01";_e=_a.substr(0,2);_f=_a.substr(2,2);_g=_a.substr(4,2);_h=_a.substr(6,3);break;case 2:_b=_a.substr(0,4);_c=_a.substr(4,2)||"01";_d=_a.substr(6,2)||"01";_e=_a.substr(8,2);_f=_a.substr(10,2);_g=_a.substr(12,2);_h=_a.substr(14,3);break;default:return _a;}if(!nexacro._isNull(_b)){_b=_b.padLeft(4,"0");}if(!nexacro._isNull(_c)){_c=_c.padLeft(2,"0");_c-=1;}if(!nexacro._isNull(_d)){_d=_d.padLeft(2,"0");}if(!nexacro._isNull(_e)){_e=_e.padLeft(2,"0");}if(!nexacro._isNull(_f)){_f=_f.padLeft(2,"0");}if(!nexacro._isNull(_g)){_g=_g.padLeft(2,"0");}if(!nexacro._isNull(_h)){_h=_h.padLeft(3,"0");}var _k=new nexacro.Date(_b,_c,_d,_e,_f,_g,_h);if(_j==1){_k._timeonly=true;}_i=_k.toString();return _i;};_pMaskTypeDate.changeNormalizeValueFromBuffer=function(){var _a=0;var _b,_c;var _d,_e,_f,_g,_h,_i,_j;var _k;var _l;var _m=this.getEditFormatStringType();var _n=this._DateFormatConst["NORMALFORMAT_"+_m].concat();var _o=this._edit_char_buf;var _p=this._edit_type_buf;var _q=-1;var _r=-1;var _s=this._date;while(_a<=_p.length){_k=this.changeTypeToDate(_p[_a]);_q=_r;_r=_n.indexOf(_k);if(_q>=0&&_q!=_r){delete _n[_q];}if(_r>=0){if(_k=="YEAR"){if(!_d){_d="";}_d+=_o[_a]?_o[_a]:"";}if(_k=="MONTH"){if(!_e){_e="";}_e+=_o[_a]?_o[_a]:"";}if(_k=="DAY"){if(!_f){_f="";}_f+=_o[_a]?_o[_a]:"";}if(_k=="HOUR"){if(!_g){_g="";}_g+=_o[_a]?_o[_a]:"";}if(_k=="MINUTE"){if(!_h){_h="";}_h+=_o[_a]?_o[_a]:"";}if(_k=="SECOND"){if(!_i){_i="";}_i+=_o[_a]?_o[_a]:"";}if(_k=="MILLISECOND"){if(!_j){_j="";}_j+=_o[_a]?_o[_a]:"";}}_a++ ;}while(_n.length>0){_l=_n.pop();if(_l){if(_l=="YEAR"){_d=_s[0]?_s[0]:"0000";}if(_l=="MONTH"){_e=_s[1]?_s[1]:"01";}if(_l=="DAY"){_f=_s[2]?_s[2]:"01";}if(_l=="HOUR"){_g=_s[3]?_s[3]:"00";}if(_l=="MINUTE"){_h=_s[4]?_s[4]:"00";}if(_l=="SECOND"){_i=_s[5]?_s[5]:"00";}if(_l=="MILLISECOND"){_j=_s[6]?_s[6]:"000";}}}if(_m=="TIME"){_d=_s[0]?_s[0]:"0000";_e=_s[1]?_s[1]:"01";_f=_s[2]?_s[2]:"01";}if(!nexacro._isNull(_d)){if(_d.length==2&&_s[0]&&_s[0].length==4){_d=nexacro.replaceAll(_d," ","0");_d=_s[0].substr(0,2)+_d;}else{_d=_d.padLeft(4,"0");}}if(!nexacro._isNull(_e)){_e=_e.padLeft(2,"0");if(_e!="00"){_e-=1;}}if(!nexacro._isNull(_f)){_f=_f.padLeft(2,"0");if(_f=="00"){_f="01";}}if(!nexacro._isNull(_g)){_g=_g.padLeft(2,"0");}if(!nexacro._isNull(_h)){_h=_h.padLeft(2,"0");}if(!nexacro._isNull(_i)){_i=_i.padLeft(2,"0");}if(!nexacro._isNull(_j)){_j=_j.padLeft(3,"0");}if(_e==-1){_e="00";}if(_f=="  "){_f="01";}_c=new nexacro.Date(_d,_e,_f,_g,_h,_i,_j);if(_m=="TIME"){_c._timeonly=true;}return _c.toString();};_pMaskTypeDate.convertToDateObject=function(_a,_b){if(_a instanceof nexacro.Date){_a=_a.toString();}if(nexacro._isNull(_a)||_a===""||_a.trim()===""){return _a;}var _c,_d,_e;var _f,_g,_h,_i;var _j=this.getEditFormatType();if(!nexacro._isNull(_b)){_j=_b;}switch(_j){case 0:_c=_a.substr(0,4);_d=_a.substr(4,2)||"01";_e=_a.substr(6,2)||"01";break;case 1:_c="0000";_d="01";_e="01";_f=_a.substr(0,2);_g=_a.substr(2,2);_h=_a.substr(4,2);_i=_a.substr(6,3);break;case 2:default:_c=_a.substr(0,4);_d=_a.substr(4,2)||"01";_e=_a.substr(6,2)||"01";_f=_a.substr(8,2);_g=_a.substr(10,2);_h=_a.substr(12,2);_i=_a.substr(14,3);break;}if(!nexacro._isNull(_c)){_c=_c.padLeft(4,"0");}if(!nexacro._isNull(_d)){_d=_d.padLeft(2,"0");_d-=1;}if(!nexacro._isNull(_e)){_e=_e.padLeft(2,"0");}if(!nexacro._isNull(_f)){_f=_f.padLeft(2,"0");}if(!nexacro._isNull(_g)){_g=_g.padLeft(2,"0");}if(!nexacro._isNull(_h)){_h=_h.padLeft(2,"0");}if(!nexacro._isNull(_i)){_i=_i.padLeft(3,"0");}var _k=new nexacro.Date(_c,_d,_e,_f,_g,_h,_i);if(_b==1){_k._timeonly=true;}return _k;};_pMaskTypeDate.changeMaskToType=function(_a){var _b=-1;var _c,_d;var _e=[];var _f=this._dateformatMap;var _g=false;for(_c=0;_c<_f.length;_c++ ){_e=_f[_c];if(_g){break;}for(_d=0;_d<_e.length;_d++ ){if(_e[_d]==_a){_b= +(nexacro._toString(_c)+nexacro._toString(_d));_g=true;break;}}}return _b;};_pMaskTypeDate.changeTypeToDate=function(_a){var _b="";if(_a>=0&&_a<10){_b="YEAR";}else if(_a>=10&&_a<20){_b="MONTH";}else if(_a>=20&&_a<30){_b="DAY";}else if(_a>=30&&_a<40){_b="HOUR";}else if(_a>=40&&_a<50){_b="MINUTE";}else if(_a>=50&&_a<60){_b="SECOND";}else if(_a>=60&&_a<70){_b="MILLISECOND";}return _b;};_pMaskTypeDate._appliedMaskString=function(_a,_b){var _c="";var _d=_a.type;var _e=nexacro._toString(_d).padLeft(2,"0");var _f=_a.mask;var _g=_f.length;var _h=this.maskchar;var _i=this._date;var _j=_b?_b:_i[_e[0]];var _k=(_i.length&&!_j)?true:false;var _l=( +_j|0);var _m=new Date(_i[0], +_i[1]-1,_i[2]);(function(_n,_o){if(_n<=99&&_n>=0){var _p=new Date(0,0,1);var _q=_p.getFullYear();var _r=_o.getFullYear();var _s=_r-_q;_o.setFullYear(_s);}})(_i[0],_m);if(!_j){_j="";for(var _n=0;_n<_g;_n++ ){_j+=_h;}}switch(_d){case 0:_c=_j.padLeft(4,"0");break;case 1:_c=_j.substr(2,2);break;case 10:case 20:_c=_j.padLeft(2,"0");break;case 30:case 40:case 50:_c=_k?"00":_j.padLeft(2,"0");break;case 11:case 21:case 41:case 51:_c=nexacro._toString(_l);break;case 31:if(_l<10){_c=nexacro._toString(_l);}else{_c=_j;}break;case 32:if(_l>12&&_l<24){_l-=12;_j=nexacro._toString(_l);}_c=_j.padLeft(2,"0");break;case 33:if(_l>12&&_l<24){_l-=12;_j=nexacro._toString(_l);}_c=_j;break;case 60:_c=_k?"000":_j.padLeft(3,"0");break;case 12:_c=this._monthlistL[_l -1];break;case 13:_c=this._monthlistS[_l -1];break;case 70:_c=this._datelistS[_m.getDay()];break;case 71:_c=this._datelistL[_m.getDay()];break;default:break;}return _c;};_pMaskTypeDate._getRemoveMaskString=function(_a,_b){var _c="";_b=_b.trim();switch(_a){case 0:_c=_b.padLeft(4,"0").replace(/ /gi,"0");break;case 1:if(_b){if(_b.length==4){_c=_b;}else if(_b.length==2){_c=this._date.length?this._date[0].substr(0,2)+_b:"00"+_b;}else{_c=_b.padLeft(4,"0");}}else{_c=_b.padLeft(4,"0");}break;case 10:case 11:_c=(_b&&_b!=="0")?_b.padLeft(2,"0"):"01";break;case 12:_c=this._date.length?this._date[1]:"01";break;case 20:case 21:_c=(_b&&_b!=="0")?_b.padLeft(2,"0"):"01";break;case 30:case 31:case 32:case 33:case 40:case 41:case 50:case 51:_c=_b.padLeft(2,"0");break;case 60:_c=_b.padLeft(3,"0");break;}return _c;};_pMaskTypeDate._getLocale=function(){if(this.locale){return this.locale;}else{return nexacro._getLocale();}};delete _pMaskTypeDate;_pMaskTypeDate=null;nexacro._GridMaskTypeNumber=function(){nexacro._EditMaskTypeNumber.call(this);this._init();};var _pGridMaskTypeNumber=nexacro._createPrototype(nexacro._EditMaskTypeNumber,nexacro._GridMaskTypeNumber);nexacro._GridMaskTypeNumber.prototype=_pGridMaskTypeNumber;_pGridMaskTypeNumber._type_name="GridTypeNumber";delete _pGridMaskTypeNumber;_pGridMaskTypeNumber=null;}if(!nexacro.Form){nexacro.LayoutChangeEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h){this.id=this.eventid=_b||"onlayoutchanged";this.fromobject=this.fromreferenceobject=_a;this.bubbles=true;this.oldlayout=_c;this.newlayout=_d;this.oldlayoutwidth=_e;this.newlayoutwidth=_f;this.oldlayoutheight=_g;this.newlayoutheight=_h;};var _pLayoutChangeEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.LayoutChangeEventInfo);nexacro.LayoutChangeEventInfo.prototype=_pLayoutChangeEventInfo;_pLayoutChangeEventInfo._type_name="LayoutChangeEventInfo";delete _pLayoutChangeEventInfo;nexacro.DeviceButtonEventInfo=function(_a,_b,_c,_d,_e){this.id=this.eventid=_b||"ondevicebuttonup";this.fromobject=_d||_a;this.fromreferenceobject=_e||_a;this.button=_c;this._prevented=false;this.cancelable=true;this.bubbles=true;};var _pDeviceButtonEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.DeviceButtonEventInfo);nexacro.DeviceButtonEventInfo.prototype=_pDeviceButtonEventInfo;_pDeviceButtonEventInfo._type_name="DeviceButtonEventInfo";delete _pDeviceButtonEventInfo;nexacro.TriggerManager=function(_a){nexacro.Object.call(this);this._form=_a;this._triggers={"len":0};this._inittriggers=[];};var _pTriggerManager=nexacro.TriggerManager.prototype=nexacro._createPrototype(nexacro.Object,nexacro.TriggerManager);_pTriggerManager._type_name="TriggerManager";_pTriggerManager.destroy=function(){this._form=null;this._triggers=null;this._inittriggers=null;nexacro.Object.prototype.destroy.call(this);};_pTriggerManager._settriggerinfo=function(_a){if(!_a){return;}var _b=_a.length;var _c;for(var _d=0;_d<_b;_d++ ){_c=_a[_d].triggerobj;if(nexacro._isArray(this._triggers[_c])){this._triggers[_c].push(_a[_d]);}else{this._triggers[_c]=[_a[_d]];}}this._triggers.len=_b;this._inittriggers=_a;};_pTriggerManager.inittriggerinfo=function(){var _a=this._inittriggers;if(!_a||_a.len<=0){return;}var _b=this._form;if(!_b){return;}var _c;var _d;var _e;for(var _f=0;_f<_a.length;_f++ ){_c=nexacro._trigger_type_table[_a[_f].triggertype];if(_c){if(_c=="onmodelloadsuccess"||_c=="onmodelloadfail"){_e=this._getTriggerView(_a[_f].triggerview);_e._ismodeltrigger=true;}else{_e=this._getTriggerView(_a[_f].triggerview);if(_e&&_c=="onload"){_d=_e;}else{_d=this._getTriggerObj(_e,_a[_f].triggerobj);}if(_e&&_d){if(_e.on_notifytrigger&&_d._findEventHandler(_c,_e.on_notifytrigger,_e)){_d._addEventHandler(_c,_e.on_notifytrigger,_e);}}}}}};_pTriggerManager._getTriggerView=function(_a){var _b=this._form;if(!_b){return;}var _c=_a;var _d=null;var _e=null;_d=_b[_c];if(!_d){_d=_b;}if(_d._is_view||_d._is_form){_e=_d;}return _e;};_pTriggerManager._getTriggerObj=function(_a,_b){var _c=this._form;if(!_c){return;}var _d=_a;var _e=null;if(!_d||!_b){return;}if(_d._is_view){_e=_d._p_form[_b];}else if(_d._is_form){_e=_d[_b];}if(_e===undefined){if(_d.name==_b){_e=_d;}}return _e;};_pTriggerManager._findTrigger=function(_a,_b,_c){var _d=this._triggers;var _e=_d[_b];var _f=[];if(!_e){return;}for(var _g=0;_g<_e.length;_g++ ){if(_e[_g].targetaction){if(_a==_e[_g].triggertype&&_c==_e[_g].triggerview){_f.push(_e[_g]);}}}return _f;};_pTriggerManager._getAction=function(_a){var _b=this._form;if(!_a||!_b){return undefined;}_a=_a.toString();var _c=_b[_a];if(_c&&_c instanceof nexacro.Action){return _c;}return undefined;};_pTriggerManager._notifyTrigger=function(_a,_b,_c){if(!_a||!_b||!_c){return;}var _d=this._findTrigger(_a,_b.name,_c.name);if(!_d||_d.length<=0){return;}var _e=_d.length;var _f=true;for(var _j=0;_j<_e;_j++ ){if(_d[_j].condition){var _g=_d[_j].condition;var _h=this._createExprFunc(_g,_c._viewdataset);_f=_h.call(this._form,_c,_b,this._form);}if(_f){var _i=this._getAction(_d[_j].targetaction);if(_i){_i.run();}}else{_f=true;}}};_pTriggerManager._createExprFunc=function(_a,_b){if(_a==null){return nexacro._NullFn;}var _c=new nexacro.ExprParser();var _d=_a;if(_b){_d=_c.makeExpr(_b,_a);}var _e=nexacro._createInlineFunc(_d,["triggerview","triggerobj","form"]);return _e;};delete _pTriggerManager;nexacro.BindingValueChangedEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h){this.id=this.eventid=_b||"onbindingvaluechanged";this.fromobject=this.fromreferenceobject=_a;this.row=_c;this.col=_d;this.colidx=_e;this.columnid=_f;this.oldvalue=_g;this.newvalue=_h;};var _pBindingValueChangedEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.BindingValueChangedEventInfo);nexacro.BindingValueChangedEventInfo.prototype=_pBindingValueChangedEventInfo;_pBindingValueChangedEventInfo._type_name="BindingValueChangedEventInfo";delete _pBindingValueChangedEventInfo;nexacro.BindItem=function(_a,_b,_c,_d,_e){nexacro.Object.call(this);this._p_name=_a||"";this._p_compid=_b||"";this._p_propid=_c||"";this._p_datasetid=_d||"";this._p_columnid=_e||"";this._en_type=1;this._dataset=null;this._comp=null;};var _pBindItem=nexacro.BindItem.prototype=nexacro._createPrototype(nexacro.Object,nexacro.BindItem);_pBindItem._type_name="BindItem";_pBindItem.set_compid=function(_a){if(_a&&this._p_compid!=_a){this._p_compid=_a;}};_pBindItem.set_propid=function(_a){if(_a&&this._p_propid!=_a){this._p_propid=_a;}};_pBindItem.set_datasetid=function(_a){if(_a&&this._p_datasetid!=_a){this._p_datasetid=_a;}};_pBindItem.set_columnid=function(_a){if(_a&&this._p_columnid!=_a){this._p_columnid=_a;}};_pBindItem._properties=[{name:"compid"},{name:"propid"},{name:"datasetid"},{name:"columnid"},];nexacro._defineProperties(_pBindItem,_pBindItem._properties);_pBindItem.init=function(_a,_b,_c,_d,_e){this.set_name(_a);this.set_compid(_b);this.set_propid(_c);this.set_datasetid(_d);this.set_columnid(_e);};_pBindItem.destroy=function(){this._dataset=null;this._comp=null;nexacro.Object.prototype.destroy.call(this);return true;};_pBindItem.bind=function(){if(this._p_parent&&!this._p_parent._is_loading){if(this._p_compid==""||this._p_propid==""||this._p_datasetid==""||this._p_columnid==""){return;}this._p_parent._bind_manager._setBinditem(this,false);this._p_parent._bind_manager._notify(this);}};_pBindItem._checkType=function(_a){var _b=_a;if(_b&&typeof (_b)=="object"){for(var _c=0;_c<_b.length;_c++ ){_a=_b[_c];if(typeof _a=="string"&&_a==this._p_propid){this._en_type=2;break;}}}else{if(typeof _a=="string"&&_a==this._p_propid){this._en_type=2;}}};delete _pBindItem;nexacro.BindManager=function(_a){nexacro.Object.call(this);this.datasets={};this.exception="";this._form=_a;};var _pBindManager=nexacro.BindManager.prototype=nexacro._createPrototype(nexacro.Object,nexacro.BindManager);_pBindManager._type_name="BindManager";_pBindManager.destroy=function(){this.datasets=null;this._form=null;nexacro.Object.prototype.destroy.call(this);};_pBindManager.on_changevalue=function(_a,_b){var _c=_b.propid;var _d=this._findBindItem(_a,_c);var _e=_b.val;if(_d&&_d._en_type==2){this.exception=_a;var _f=_d._dataset;var _g=_f._p_rowposition;var _h=_f.getColIndex(_d._p_columnid);if(_h!==undefined){var _i=_f.setColumn(_g,_h,_e);if(_i==true){this.exception=null;return true;}else{this.exception=null;return false;}}}this.exception=null;return true;};_pBindManager.on_binddestroy=function(_a,_b){if(_b.reason==91){if(_a._p_parent!=this._form){if(this._form){var _c=this._form;var _d=_c._p_binds;var _e=_d.length;for(var _g=0;_g<_e;_g++ ){var _f=_d.get_id(_g);_c._bind_manager._setBinditem(_d.get_item(_f),true);_c[_f]=null;}}}}};_pBindManager.on_valuechanged=function(_a,_b){var _c=_a;var _d=_b.row;var _e=_b.col;var _f=_b.columnid;var _g=_b.newvalue;if(_c.rowposition==_d||_d<0){var _h=false;if(_e<0){_h=this._notifyAll(_c.name,null,-1,true,null);}else{_h=this._notifyAll(_c.name,_f,_e,false,_g);}var _i=this._form;if(_i){_i._on_notify_onbindingvaluechanged(_a,_b);}return _h;}return true;};_pBindManager._delayBinds=function(){var _a=this._form._p_binds.length;for(var _c=0;_c<_a;_c++ ){var _b=this._form._p_binds[_c];if(_b._dataset){continue;}this._setBinditem(_b,false);this._notify(_b);}};_pBindManager._setBinditem=function(_a,_b){if(!_a){return;}var _c=_a._p_datasetid;var _d=_a._dataset;var _e=_a._comp;if(!_a._dataset){var _f=this._form._p_parent;var _g=this._form;if(_f&&_f.getSourceView&&_f.getSourceView()){var _h=_f.getSourceView();_g=_h._p_form;_c=_h._p_viewdataset;_d=_g._getDatasetObject(_c);}else{_d=_g._getDatasetObject(_a._p_datasetid);}}if(!_a._comp){if(this._form._findChildObject){_e=this._form._findChildObject(_a._p_compid);}}if(!_d||!_e){return;}if(!_b){_a._dataset=_d;_a._comp=_e;_a._checkType(_e.on_getBindableProperties());if(this.datasets[_c]){this.datasets[_c].push(_a);}else{this.datasets[_c]=[];this.datasets[_c].push(_a);_d.setEventHandler("onvaluechanged",this.on_valuechanged,this);_d._addEventHandler("onload",this.on_binddestroy,this);}if(!_e._bind_event){_e._bind_event=new nexacro.EventListener("onbinditem");_e._bind_event._setHandler(this,this.on_changevalue);}}else{if(this.datasets[_c]){var _i=nexacro._indexOf(this.datasets[_c],_a);if(_i>-1){this.datasets[_c].splice(_i,1);if(this.datasets[_c].length==0){_d.removeEventHandler("onvaluechanged",this.on_valuechanged,this);delete this.datasets[_c];}}}if(_e._bind_event){_e._bind_event._removeHandler(this,this.on_changevalue);delete _e._bind_event;}}};_pBindManager._findBindItem=function(_a,_b){for(var _d=0;_d<this._form._p_binds.length;_d++ ){var _c=this._form._p_binds[_d];if(_c._comp==_a&&_c._p_propid==_b&&_c._p_datasetid&&_c._p_columnid){return _c;}}return null;};_pBindManager._dettachSBindItem=function(_a){if(!_a._bind_event){return;}_a._bind_event._removeHandler(this);var _b=this._form._p_binds;var _c=_b.length;for(var _f=0;_f<_c;_f++ ){if(_b[_f]._comp==_a){var _d=_b[_f]._p_datasetid;if(this.datasets[_d]){var _e=nexacro._indexOf(this.datasets[_d],_b[_f]);if(_e>-1){this.datasets[_d][_e].destroy();this.datasets[_d].splice(_e,1);}_b[_f]._comp=null;}}}};_pBindManager._notify=function(_a){var _b=_a._dataset;var _c=_a._comp;var _d;if(_b&&_c){var _e=_b.rowposition;if(_a._en_type==2){if(_c._p_enable&&_c._p_parent._isEnable()){if(_e<0){_c._setEnable(false);}else{_c._setEnable(true);}}_d=_b.getColIndex(_a._p_columnid);if(_d>=0&&_c.on_change_bindSource){_c.on_change_bindSource(_a._p_propid,_a._dataset,_e,_d);}}else{if(_a._p_columnid&&_a._p_columnid!=""){_d=_b.getColIndex(_a._p_columnid);var _f=_b.getColumn(_e,_d);if(_a._p_propid){if(_c["set_"+_a._p_propid]){_c["set_"+_a._p_propid](_f);}}}}}};_pBindManager._notifyAll=function(_a,_b,_c,_d,_e){var _f=this.datasets[_a];var _g=null;var _h=-1;if(!_f){return true;}for(var _m=0;_m<_f.length;_m++ ){_g=_f[_m];if(!_g._dataset){continue;}if(_g._p_columnid==""){continue;}var _i=_g._dataset;_h=_i.rowposition;var _j=_g._comp;if(_j&&_j._is_alive){var _k=_j._is_group?_j._group_panel:_j._p_parent;if(_g._en_type==2){if(_d){if(_j._p_enable&&_k._isEnable()){if(_h<0){_j._setEnable(false);}else{_j._setEnable(true);}}_c=_i.getColIndex(_g._p_columnid);if(_c>=0){if(_j.on_change_bindSource){_j.on_change_bindSource(_g._p_propid,_g._dataset,_h,_c);}}else{if(_j.on_init_bindSource){_j.on_init_bindSource(_g._p_columnid,_g._p_propid,_g._dataset);}}}else{if(_c>=0){if(_g._p_columnid==_b&&_j.on_change_bindSource){_j.on_change_bindSource(_g._p_propid,_g._dataset,_h,_c);}}else{if(_g._p_columnid==_b&&_j.on_init_bindSource){_j.on_init_bindSource(_g._p_columnid,_g._p_propid,_g._dataset);}}}}else{var _l;if(_d){_c=_i.getColIndex(_g._p_columnid);_l=_i.getColumn(_h,_c);}else{if(_b==_g._p_columnid){_l=_e;}else{continue;}}if(_g._p_propid){if(_j["set_"+_g._p_propid]){_j["set_"+_g._p_propid](_l);}}}}}return true;};delete _pBindManager;nexacro.FormBase=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);this._refform=this;this._p_all=new nexacro.Collection();this._p_components=new nexacro.Collection();this._p_objects=new nexacro.Collection();this._p_binds=new nexacro.Collection();this._bind_manager=new nexacro.BindManager(this);this._load_manager=new nexacro._LoadManager(this);this._timerManager=new nexacro._TimerManager(this);this._child_list=[];this._hotkey_list=[];this._includescriptlist=[];this._load_callbacklist=[];};var _pFormBase=nexacro.FormBase.prototype=nexacro._createPrototype(nexacro.Component,nexacro.FormBase);_pFormBase._type_name="FormBase";_pFormBase._p_stepselector=null;_pFormBase._p_scrollbars="autoboth";_pFormBase._p_dragscrolltype="all";_pFormBase._url="";_pFormBase._orgurl="";_pFormBase._base_url="";_pFormBase._async=true;_pFormBase._asyncformload=true;_pFormBase._hittest_type="";_pFormBase._last_focused=null;_pFormBase._obj_mousemove=null;_pFormBase._delayedfocuscomp=null;_pFormBase._is_form=true;_pFormBase._is_loaded=false;_pFormBase._is_completed=false;_pFormBase._is_scrollable=true;_pFormBase._searchNextHeadingFocus=nexacro._emptyFn;_pFormBase._searchPrevHeadingFocus=nexacro._emptyFn;_pFormBase._getHeadingOrderNext=nexacro._emptyFn;_pFormBase._getHeadingOrderFirst=nexacro._emptyFn;_pFormBase._getHeadingOrderLast=nexacro._emptyFn;_pFormBase.on_create=nexacro._emptyFn;_pFormBase._initControlElementLayoutProps=function(){var _a=this.getElement();this._calcArrangePosition();this._adjustPosition();if(this._is_container){this._calcBasisSize();}_a.setElementPosition(this._adjust_left,this._adjust_top);_a.setElementSize(this._adjust_width,this._adjust_height);};_pFormBase.on_create_contents=function(){var _a=this._p_components;var _b=_a.length;for(var _d=0;_d<_b;_d++ ){var _c=_a[_d];if(!_c._is_group){_c.createComponent(true);}}};_pFormBase.on_created_contents=function(_a){var _b=this._p_objects.length;var _c;for(_c=0;_c<_b;_c++ ){this._p_objects[_c].on_created();}if(this._cssclass_exprfn){nexacro._toString(this._cssclass_exprfn.call(null,this));}nexacro._createdContents(this);if(this._p_binds){for(_c=0;_c<this._p_binds.length;_c++ ){this._p_binds[_c].bind();}}if(this._p_stepselector){this._p_stepselector.on_created(_a);}if(this._is_created_contents){var _d;var _e=this._p_components;for(var _c=0,_g=_e.length;_c<_g;_c++ ){_d=_e[_c];if(_d._arrange_info||(_d.fittocontents!="none")){_d._update_position();}}}if(this._is_scrollable){this._onRecalcScrollSize();this._onResetScrollBar();var _f=this._control_element;if(_f&&this._p_stepselector){_f.setElementHScrollPos(_f.client_width* _f._step_index);}}nexacro._refreshWindow(this._getWindow().handle);if(nexacro._enableaccessibility&&nexacro._accessibilitytype==2&&nexacro._Browser=="Chrome"){this._setAccessibilityStatLive("off");}};_pFormBase.on_destroy_contents=function(){if(this._timerManager){this._timerManager.destroy();this._timerManager=null;}var _a;if(this._load_manager){var _b=this._load_manager;var _c=_b.transactionList;if(_c){for(_a=_c.length-1;_a>=0;_a-- ){var _d=_c[_a];if(_d._usewaitcursor){_d._hideWaitCursor(this);}}}this._load_manager.destroy();this._load_manager=null;}var _e=this._p_binds;var _f=_e.length;for(_a=0;_a<_f;_a++ ){var _g=_e.get_id(_a);this._bind_manager._setBinditem(_e.get_item(_g),true);this[_g]=null;}var _h=this._p_components;_f=_h.length;for(_a=_f -1;_a>=0;_a-- ){var _i=_h.get_id(_a);if(this[_i]){if(this[_i]._destroy){this[_i]._destroy();this[_i]=null;}}}var _j=this._p_objects;_f=_j.length;for(_a=_f -1;_a>=0;_a-- ){var _k=_j.get_id(_a);if(this[_k]){if(this==this[_k]._p_parent){if(this[_k].destroy){this[_k].destroy();}}_j.delete_item(_k);delete this[_k];this[_k]=null;}}if(this._bind_manager){this._bind_manager.destroy();this._bind_manager=null;}var _l=nexacro._getLayoutManager();if(_l){_l.destroyLayoutContainerInfo(this);}this._p_all.clear();this._p_all=null;this._p_components.clear();this._p_components=null;this._p_objects.clear();this._p_objects=null;this._p_binds.clear();this._p_binds=null;this._child_list=null;this._includescriptlist=null;this._hotkey_list=null;this._load_callbacklist=null;this._is_fired_onload=false;this._obj_mousemove=null;};_pFormBase._clearUserFunctions=function(){var _a=null;if(this._type_name=="Div"){_a=nexacro.Div.prototype;}else if(this._type_name=="Tab"){_a=nexacro.Tab.prototype;}else if(this._type_name=="Tabpage"){_a=nexacro.Tabpage.prototype;}else if(this._type_name=="PopupDiv"){_a=nexacro.PopupDiv.prototype;}else if(this instanceof nexacro.Tab){_a=nexacro.Tab.prototype;}else if(this instanceof nexacro.Tabpage){_a=nexacro.Tabpage.prototype;}else if(this instanceof nexacro.PopupDiv){_a=nexacro.PopupDiv.prototype;}else if(this instanceof nexacro.Div){_a=nexacro.Div.prototype;}else if(this instanceof nexacro.Form){_a=nexacro.Form.prototype;}else if(this instanceof nexacro.Frame){_a=nexacro.Frame.prototype;}for(var _b in this){if(typeof this[_b]==="function"&&_a&&!_a[_b]){this[_b]=null;}}};_pFormBase._clear=function(){if(this._timerManager&&this._timerManager.timerList.length>0){this._timerManager.clearAll();}this._clearEventListeners();var _a=nexacro._getLayoutManager();if(_a){_a.destroyLayoutContainerInfo(this);}var _b=this.getElement();if(_b){_b.clearContents();if(this._p_stepselector){this._p_stepselector.destroy();this._p_stepselector=null;}var _c=this._p_binds;var _d,_e=_c.length;for(_d=0;_d<_e;_d++ ){var _f=_c.get_id(_d);this._bind_manager._setBinditem(_c.get_item(_f),true);delete this[_f];}var _g=this._p_components;var _h=this._p_objects;this._p_all=new nexacro.Collection();this._p_components=new nexacro.Collection();this._p_objects=new nexacro.Collection();_e=_g.length;for(_d=0;_d<_e;_d++ ){var _i=_g.get_id(_d);if(this[_i]){if(this[_i]._destroy){this[_i]._destroy();}}}_g.clear();_e=_h.length;for(_d=0;_d<_e;_d++ ){var _j=_h.get_id(_d);if(this[_j]){if(this[_j].destroy){this[_j].destroy();}delete this[_j];}}_h.clear();this._p_all.clear();this._p_components.clear();this._p_objects.clear();this._p_binds.clear();if(this._is_scrollable){this._onRecalcScrollSize();this._onResetScrollBar();}}this._is_loaded=false;this._is_created=false;this._is_fired_onload=false;};_pFormBase._resetObject=function(){this._bind_manager=new nexacro.BindManager(this);this._load_manager=new nexacro._LoadManager(this);this._timerManager=new nexacro._TimerManager(this);this._p_all=new nexacro.Collection();this._p_components=new nexacro.Collection();this._p_objects=new nexacro.Collection();this._p_binds=new nexacro.Collection();};_pFormBase._resetStatus=function(){this._makeStatusMap();};_pFormBase._resetProperties=function(){this._refform=this;this._child_list=[];this._hotkey_list=[];this._includescriptlist=[];this._load_callbacklist=[];};_pFormBase._clearObject=function(){var _a;var _b="";var _c=this._p_binds.length;for(_a=0;_a<_c;_a++ ){_b=this._p_binds.get_id(_a);this._bind_manager._setBinditem(this._p_binds.get_item(_b),true);delete this[_b];}if(this._load_manager){this._load_manager.clearAllLoad();}if(this._timerManager){this._timerManager.clearAll();}var _d="";_c=this._p_components.length;for(_a=_c -1;_a>=0;_a-- ){_d=this._p_components.get_id(_a);if(this[_d]){if(this[_d]._destroy){this[_d]._destroy();}delete this[_d];}}_c=this._p_objects.length;for(_a=_c -1;_a>=0;_a-- ){_d=this._p_objects.get_id(_a);if(this[_d]){if(this[_d].destroy){this[_d].destroy();}delete this[_d];}}this._p_components.clear();this._p_objects.clear();this._p_binds.clear();this._p_all.clear();};_pFormBase._clearContents=function(){if(this._p_stepselector){this._p_stepselector.destroy();}this._p_stepselector=null;if(this._control_element){this._control_element.destroy();this._control_element=null;}};_pFormBase._clearProperties=function(){var _a;var _b=[];if(Object.keys){_b=Object.keys(this);while(_b.length){if(_a=_b.pop()){delete this[_a];}}}else{for(_a in this){if(this.hasOwnProperty(_a)){delete this[_a];}}}};_pFormBase._beforeClearProperties=function(){var _a={};if(this._p_parent){_a["parent"]=this._p_parent;}if(this._p_opener){_a["opener"]=this._p_opener;}_a["_async"]=this._async;return _a;};_pFormBase._afterClearProperties=function(_a){for(var _b in _a){this[_b]=_a[_b];}};_pFormBase.on_initEvent=nexacro._emptyFn;_pFormBase._init=nexacro._emptyFn;_pFormBase.loadIncludeScript=nexacro._emptyFn;_pFormBase.loadPreloadList=nexacro._emptyFn;_pFormBase._onHttpSystemError=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){this.on_create=nexacro._emptyFn;if(this._p_parent._onHttpSystemError){this._p_parent._onHttpSystemError(_a,_b,_c,_d,_e,_f,_g,_h,_i);}};_pFormBase._onHttpTransactionError=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){var _k=false;var _l=nexacro.MakeCommunicationError(this,_d,_e,_f,_g,_h,_i);if(_b){_k=this.on_fire_onerror(_a,_l.name,_l.message,_c,_f,_g,_h,_j);if(!_k){var _m=nexacro.getEnvironment();if(_m){_k=_m.on_fire_onerror(_a,_l.name,_l.message,_c,_f,_g,_h,_j);}}}return _k;};_pFormBase._onLocaleCompareError=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){var _k=false;var _l=nexacro.MakeCommunicationError(this,_d,_e,_f,_g,_h,_i);if(_b){_k=this.on_fire_onerror(_a,_l.name,_l.message,_c,_f,_g,_h,_j);if(!_k){var _m=nexacro.getEnvironment();if(_m){_k=_m.on_fire_onerror(_a,_l.name,_l.message,_c,_f,_g,_h,_j);}}}return _k;};_pFormBase.create=function(){this.on_create();};_pFormBase.initEvent=function(){this._init_status=1;this.on_initEvent();};_pFormBase._on_init=function(){this._clear();this._init();this.create();this._is_loading=false;if(this._p_parent&&this._p_parent._p_form==this&&!this._p_parent._is_autosized){this._p_parent._loadedForm();}this._executeScript(this);this.initEvent();this._is_loaded=true;};_pFormBase._addPreloadList=function(_a,_b,_c,_d){if(!_b){return;}var _e;var _f=nexacro._getServiceObject(_b);if(_a=="data"||_a=="dataobject"){_e=nexacro._getServiceLocation(_b);this._load_manager.addPreloadItem(_a,_e,_c,_d,_f);}else{_e=nexacro._getFDLLocation(_b);this._load_manager.addPreloadItem(_a,_e,this,null,_f);}};_pFormBase._loadInclude=function(_a,_b,_c,_d){var _e;if(_d&&_d.length>0){_e=nexacro._getServiceObject(_d);}else{_e=nexacro._getServiceObject(_b);}this._load_manager.loadIncludeModule(_b,null,_c,_e);};_pFormBase.executeIncludeScript=function(_a,_b){var _c=nexacro._getServiceLocation(_a);if(_b){var _d=this._async;this._async=false;nexacro._executeScript(_b).call(this,_c);this._executeScript(this,_c);this._async=_d;}else{var _e=this._includescriptlist;var _f=_e.length;var _g;for(var _h=0;_h<_f;_h++ ){_g=_e[_h];if(_g.url==_c&&!_g.isexecuted){_g.isexecuted=true;_g.fn.call(this);break;}}}};_pFormBase._executeScript=function(_a){if(_a&&_a._registerscriptfn){_a._registerscriptfn.call(_a);}_a._registerscriptfn=null;_a._includescriptlist.length=0;};_pFormBase.registerScript=function(_a,_b){var _c=this._includescriptlist;var _d=_c.length;for(var _e=0;_e<_d;_e++ ){if(_c[_e].url==_a){_c[_e].fn=_b;return;}}this._registerscriptfn=_b;};_pFormBase.addIncludeScript=function(_a,_b){if(_b&&this._is_loading){var _c=_b;var _d=nexacro._getServiceLocation(_b);var _e;var _f=this._includescriptlist.length;for(var _g=0;_g<_f;_g++ ){_e=this._includescriptlist[_g];if(_e.url==_d){return;}}this._includescriptlist.push({target:_a,url:_d,fn:nexacro._emptyFn,isload:false,isexecuted:false,service_url:_c});}};_pFormBase.loadIncludeScript=function(_a){var _b;var _c=this._includescriptlist.length;for(var _d=0;_d<_c;_d++ ){_b=this._includescriptlist[_d];if(_b.isload==false){_b.isload=true;if(nexacro._viewtoollog==true&&this._asyncformload!=this._async&&this._asyncformload!=undefined){this._loadInclude.call(this,_a,_b.url,this._asyncformload,_b.service_url);}else{this._loadInclude.call(this,_a,_b.url,this._async,_b.service_url);}}}};_pFormBase.setFocus=function(_a,_b){if(this._p_parent._is_frame){var _c=this._getRootWindow();if(!this.getElement()){return;}if(_c&&_c._is_active_window==false){if(_c._is_active_window==false){_c._setFocus();}}}return nexacro.Component.prototype.setFocus.call(this,_a,_b);};_pFormBase._findForm=function(){return this;};_pFormBase._getReferenceContext=function(){return this;};_pFormBase._getDlgCode=function(_a,_b,_c,_d){var _e=this._getLastFocused();if(_e&&_e!=this){return _e._getDlgCode(_a,_b,_c,_d);}return {want_tab:false,want_return:false,want_escape:false,want_chars:false,want_arrows:false};};_pFormBase._waitCursor=function(_a,_b){var _c=this.getOwnerFrame();if(_c){_c._waitCursor(_a,_b);}};_pFormBase._destroy=function(_a){if(!this._is_alive){return;}return this.destroyComponent(_a);};_pFormBase.destroy=function(){if(!this._is_alive){return;}var _a=this._on_beforeclose();if(this._checkAndConfirmClose(_a)==false){return false;}if(this._window){this._window._ignore_close_confirm=true;}this._on_close();this._is_fired_onload=false;return this.destroyComponent();};_pFormBase.loadCss=function(_a,_b,_c){if(!_b){_b=this._base_url;}var _d=nexacro._getServiceLocation(_a,_b,null,false);var _e=_d;var _f=_d.lastIndexOf('/');_d=_d.substring(0,_f+1)+nexacro._getCSSFileName(_d.substring(_f+1,_d.length-4));_f=_e.lastIndexOf('.');_e=nexacro._getMapFileName(_e.substring(0,_f));var _g=nexacro._getServiceObject(_a);var _h=nexacro.getEnvironment();var _i=_h.checkversion;if(_i){var _j=_g.version;if(!nexacro._isNull(_j)&&_j!==""){_d+=nexacro._getVersionQueryString(_d,null,_j);_e+=nexacro._getVersionQueryString(_e,null,_j);}}this._load_manager.loadCssModule(_d,null,_c,_g,true,1);this._load_manager.loadCssModule(_e,null,_c,_g);};_pFormBase.resize=function(_a,_b){if(_a<0||_b<0){return;}if(_a==this._adjust_width&&_b==this._adjust_height){return;}if(this._adjust_width!=(this._adjust_left+_a)||this._adjust_height!=(this._adjust_top+_b)){this._p_width=_a;this._p_height=_b;this._update_position(true,false);}else{this._update_position(false,false);}};_pFormBase.confirm=function(_a,_b,_c){var _d=this._getWindow();if(!_d){return;}nexacro._skipDragEventAfterMsgBox=true;return nexacro._confirm(_d.frame,_a,_b,_c);};_pFormBase.alert=function(_a,_b,_c){var _d=this._getWindow();if(!_d){return;}nexacro._skipDragEventAfterMsgBox=true;nexacro._alert(_d.frame,_a,_b,_c);};_pFormBase.getOwnerFrame=function(){var _a=null;if(this._p_parent&&!(this._p_parent instanceof nexacro.Frame)){_a=this._p_parent.getOwnerFrame();}else{_a=this._p_parent;}return _a;};_pFormBase.lookup=function(_a){for(var _b=this;(_b!=null);_b=(_b._p_opener||_b._p_parent)){if(_a in _b){return _b[_a];}}};_pFormBase.lookupSetter=function(_a,_b){if(!_b){_b="set_"+_a;}for(var _d=this;(_d!=null);_d=(_d._p_opener||_d._p_parent)){var _c=_d[_b];if(_c){return new nexacro.SetterBinder(_d,_a,_c);}if(_a in _d){return new nexacro.PropBinder(_d,_a);}}return null;};_pFormBase.lookupFunc=function(_a){for(var _c=this;(_c!=null);_c=(_c._p_opener||_c._p_parent)){var _b=_c[_a];if(_b){return new nexacro.FuncBinder(_c,_b);}}return null;};_pFormBase.setSize=function(_a,_b){if(this._adjust_width!=_a||this._adjust_height!=_b){this._adjustPosition(this._p_left,this._p_top,null,null,_a,_b,this._p_parent._getClientWidth(),this._p_parent._getClientHeight());var _c=this._control_element;if(_c){_c.setElementSize(_a,_b);}}};_pFormBase.addLayout=function(_a,_b){if(!_b){return;}var _c=nexacro._getLayoutManager(this);if(_c){_c.addLayoutList(this,_b);}};_pFormBase.getLayoutInfo=function(_a,_b){var _c=nexacro._getLayoutManager();if(_c){return _c.getLayoutProperty(this,_b,_a);}return;};_pFormBase.setFluidLayoutProperty=function(_a,_b,_c){var _d=["tabletemplate"];if(_d.indexOf(_b)==-1){return;}var _e=nexacro._getLayoutManager();if(_e){if(arguments.length>2){var _f=_e.setLayoutProperty(this,_a,_b,_c);return _f;}else if(_a instanceof Object){}}return;};_pFormBase.getPanel=function(_a){var _b=null;if(!_a){return _b;}if(_a._is_group){_b=_a._group_panel;}return _b;};_pFormBase._on_activate=function(){if(this._p_visible&&this._isEnable()&&this._p_enableevent){this.on_fire_onactivate();}};_pFormBase._on_deactivate=function(){if(this._p_visible&&this._isEnable()&&this._p_enableevent){this.on_fire_ondeactivate();}};_pFormBase._on_beforeclose=function(_a){if(!this._is_alive||(this._is_form&&!this._is_loaded)){return;}if(!_a){_a=this;}var _b="";var _c=this._p_components;var _d=_c.length;for(var _h=0;_h<_d;_h++ ){var _e=_c[_h];if(!(_e instanceof nexacro.FormBase||_e instanceof nexacro.Div||_e instanceof nexacro.Tab)){continue;}var _f=_e._on_beforeclose(_a);_b=this._appendBeforeCloseMsg(_b,_f);}var _g=this._on_bubble_beforeclose(_a);_b=this._appendBeforeCloseMsg(_b,_g);return _b;};_pFormBase._on_close=function(){if(!this._is_alive||(this._is_form&&!this._is_loaded)){return true;}this._last_focused=null;var _a=this._p_components;var _b=_a.length;for(var _d=0;_d<_b;_d++ ){var _c=_a[_d];if(!(_c instanceof nexacro.FormBase||_c instanceof nexacro.Div||_c instanceof nexacro.Tab)){continue;}_c._on_close();}this._on_bubble_close();};_pFormBase._on_notify_onbindingvaluechanged=function(_a,_b){return this.on_fire_onbindingvaluechanged(_a,_b.fromobject,_b.fromreferenceobject,_b.row,_b.col,_b.colidx,_b._p_columnid,_b.oldvalue,_b.newvalue);};_pFormBase._on_bubble_beforeclose=function(_a,_b,_c,_d){var _e=false;if(_b===undefined){_e=true;_c=this;if(!_d){_d=this;}}var _f="";if(this._p_visible&&this._isEnable()){if(this.enableevent){if(_e){_b=false;}_f=this.on_fire_onbeforeclose(this,_c,_d,_a);}}var _g="";if((!this.onbeforeclose||(this.onbeforeclose&&!this.onbeforeclose.stoppropagation))&&_b!==true&&this._p_parent&&!this._p_parent._is_application){var _h=this._p_parent;if(_h&&_h._on_bubble_beforeclose){_g=_h._on_bubble_beforeclose(_a,_b,_c,_d);}}return this._appendBeforeCloseMsg(_f,_g);};_pFormBase._on_bubble_close=function(_a,_b,_c){var _d=false;if(_a===undefined){_d=true;_b=this;if(!_c){_c=this;}}if(this._p_visible&&this._isEnable()){if(this._p_enableevent){if(_d){_a=false;}this.on_fire_onclose(this,_b,_c);}}var _e=this._p_parent;if(_e&&_e._on_bubble_close){if((!this.onclose||(this.onclose&&!this.onclose.stoppropagation))&&_a!==true&&!_e._is_application){return _e._on_bubble_close(_a,_b,_c);}}};_pFormBase.on_fire_onbeforeclose=function(_a,_b,_c,_d){if(this.onbeforeclose&&this.onbeforeclose._has_handlers){var _e=new nexacro.CloseEventInfo(_a,"onbeforeclose",_b,_c,_d);return this.onbeforeclose._fireEvent(this,_e);}};_pFormBase.on_fire_onactivate=function(){if(this.onactivate&&this.onactivate._has_handlers){var _a=new nexacro.ActivateEventInfo(this,"onactivate",true,this,this);this.onactivate._fireEvent(this,_a);}};_pFormBase.on_fire_ondeactivate=function(){if(this.ondeactivate&&this.ondeactivate._has_handlers){var _a=new nexacro.ActivateEventInfo(this,"ondeactivate",false,this,this);this.ondeactivate._fireEvent(this,_a);}};_pFormBase.on_fire_onclose=function(_a,_b,_c){if(this.onclose&&this.onclose._has_handlers){var _d=new nexacro.CloseEventInfo(_a,"onclose",_b,_c);return this.onclose._fireEvent(this,_d);}return true;};_pFormBase.on_fire_onerror=function(_a,_b,_c,_d,_e,_f,_g,_h){if(this.onerror&&this.onerror._has_handlers){var _i=new nexacro.ErrorEventInfo(_a,"onerror",_b,_c,_d,_e,_f,_g,_h);return this.onerror._fireEvent(this,_i);}return false;};_pFormBase.on_fire_onbindingvaluechanged=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(this.onbindingvaluechanged&&this.onbindingvaluechanged._has_handlers){var _j=new nexacro.BindingValueChangedEventInfo(_a,"onbindingvaluechanged",_d,_e,_f,_g,_h,_i);return this.onbindingvaluechanged._fireEvent(this,_j);}};_pFormBase.on_fire_sys_onflingstart=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){return nexacro.Component.prototype.on_fire_sys_onflingstart.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);};_pFormBase.on_fire_sys_onslidestart=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(this._p_stepselector){this._is_step_vscrolling=false;this._is_step_hscrolling=false;if(this._stepchange_info){this._on_cancel_stepchange_animation();}var _j=this.getElement();if(_j){_j.setElementTranslateStart();}}return nexacro.Component.prototype.on_fire_sys_onslidestart.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);};_pFormBase.on_fire_sys_onslideend=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){var _j;if(_b&&_b._scroll_comp==this){_j=this.getElement();var _k=this._p_stepselector;if(!_j||!_k){return;}_j.setElementTranslateEnd();var _l=_j.client_width;var _m=(_j.scroll_left!=(_l* _k.stepindex));if(!_m){return;}var _n=_j.scroll_left-(_l/2);var _o=_b._touch_session;if(_o){var _p=_o._scale;var _q=_o._cur_data;if(_q){_n-=(_q.distanceX* _p);}}var _r=nexacro.round(_n/(_l)+0.5);var _s=_k.stepindex;var _t=_s;if(_r==_s){this._createStepChangeAnimation(_r,600);}else{if(_d>0){_t-- ;}else{_t++ ;}}var _u=_k.set_stepindex(_t);if(_u){if(nexacro._OS!="Android"&&nexacro._Browser!="Runtime"){_j.setElementHScrollPos(_l* _k.stepindex);}}_b._touch_session._fling_blocked=true;}else{_j=this.getElement();if(_j&&this._p_stepselector){_j.setElementTranslateEnd();}return nexacro.Component.prototype.on_fire_sys_onslideend.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);}return false;};_pFormBase.loadForm=function(_a,_b,_c,_d){if(!this._load_manager){return;}var _e=this._p_parent;var _f=nexacro._getFDLLocation(_a,_d);var _g=nexacro._getServiceObject(_a);this._url=_f;this._orgurl=_a;this._base_url=nexacro._getBaseUrl(_f);this._is_loading=true;this._asyncformload=_b;if(_e._is_frame&&_e._window_type!=2){if(_e._p_form==this){var _h=nexacro.getApplication();if(_h){_h._registerLoadforms(this);}}}this._load_manager.loadMainModule(_f,undefined,_b,_c,_g);};_pFormBase.getParentContext=function(){};_pFormBase._getFormBaseUrl=function(){return this._base_url;};_pFormBase._findChildObject=function(_a){var _b=_a.indexOf(".");if(_b>0){var _c=_a.substring(0,_b).trim();var _d=this;var _e;while(_c&&_d){_e=_d[_c];_a=_a.substring(_b+1,_a.length).trim();_b=_a.indexOf(".");if(_b>0){_c=_a.substring(0,_b).trim();}else{return _e?_e[_a]:null;}_d=_e;}}else{if(_a=="this"){return this;}return this[_a];}};_pFormBase._getDatasetObject=function(_a){var _b;var _c="this.";if(_a.indexOf(".")>0){if(_a.indexOf(_c)<0){_a=_c+_a;}var _d=new Function("return "+_a);_b=_d.call(this);}else{_b=_a?this[_a]:null;var _e=(this._p_opener||this._p_parent);if(_b==null&&_e&&!_e._is_application){while(_e._p_parent&&(_e._is_container||_e._is_containerset)){_e=_e._p_parent;}_b=_e._getDatasetObject?_e._getDatasetObject(_a):null;}if(_b==null&&_a){var _f=nexacro.getApplication();if(_f){_b=_f[_a];}}}if(_b&&_b._isDataset&&!_b._isDataset()){_b=null;}return _b;};_pFormBase._getTabOrderLast=function(_a){if(nexacro._isNull(_a)){_a=4;}var _b=this._getComponentsByTaborder(this,_a);if(_b&&_b.length>0){return _b[_b.length-1];}return null;};_pFormBase._getTabOrderFirst=function(_a,_b){if(nexacro._isNull(_a)){_a=4;}var _c=this._getComponentsByTaborder(this,_a,undefined,_b);if(_c&&_c.length>0){return _c[0];}return null;};_pFormBase._getTabOrderNext=function(_a,_b,_c){if(nexacro._isNull(_c)){_c=4;}var _d=this._getComponentsByTaborder(this,_c);var _e=nexacro._indexOf(_d,_a._getRootComponent(_a));if(_e<0){var _f=this._getComponentsByTaborder(this,nexacro._enableaccessibility?(8+7):7);var _g=nexacro._indexOf(_f,_a._getRootComponent(_a));var _h,_i;if(_g<0){return null;}_i=_g;while(((_i+_b)>=0&&(_i+_b)<_f.length)){_h=_f[_i+_b];_e=nexacro._indexOf(_d,_h._getRootComponent(_h));if(_e>=0){return _h;}_i+=_b;}return null;}return _d[_e+_b];};_pFormBase._getComponentsByTaborder=function(_a,_b,_c,_d){if(_b===undefined){_b=4;}var _e=[];var _f=_a._p_components;if(_f){var _g=_f.length;for(var _l=0;_l<_g;_l++ ){var _h=_f[_l];if(!_h||(!_c&&!_h._is_created)||(_h._isVisible&&!_h._isVisible()||!_h._p_visible)||((_h._isEnable&&!_h._isEnable()||!_h._p_enable)&&!(_b&2))||_h._popup){continue;}if(!(_b&1)){if(_d){if(!_h._p_accessibilityenable||(_h._isVisible&&!_h._isVisible()||!_h._p_visible)){continue;}}else if(!_h.on_get_prop_tabstop()){continue;}}if(((_b&8)?!_h._isAccessibilityEnable():false)){if(!_h._hasContainer()&&!_h._is_listtype){continue;}}var _i=this.getStepIndex();if(_i===-1||_i===_h._p_positionstep||_h._p_positionstep===-1){var _j=_h._p_taborder;if(_j<0){_j=0;}var _k=_e.length;while(_k>0&&_e[_k -1]._p_taborder>_j){_e[_k]=_e[_k -1];_k-- ;}_e[_k]=_h;}}}return _e;};_pFormBase._searchNextTabFocus=function(_a,_b,_c,_d){if(_d===undefined){_d=4;}var _e=nexacro._tabkeycirculation;var _f=(_c==undefined)?(_e==0||_e==2):_c;var _g,_h;var _i=this._getComponentsByTaborder(this,_d);var _j=_i?_i.length:0;var _k=this._p_parent;while((_k&&_k._hasContainer&&!_k._hasContainer()&&!_k._is_frame)){_k=_k._p_parent;}if(_j>0&&_a&&!_b){_h=this._getTabOrderNext(_a,1,_d);if(_f&&!_h&&this._isPopupVisible()){_h=this._getTabOrderFirst(_d);}if(!_h){var _l=this._getRootWindow();var _m=_l._keydown_element;var _n=nexacro._isEmbeddedWindow(_l);if(_n){_m._event_stop=false;}var _o=_k._getComponentsByTaborder(_k,_d);var _p=_o?_o.length:0;if(!_f&&(_k._is_frame||this._is_window)&&(_e!=2&&_e!=3||this._is_window)){_g=[null,this,1];}else if((_k._hasContainer()&&_p>0)||((_e==2||_e==3)&&_k instanceof nexacro.ChildFrame&&!(this._p_parent._window_type>0&&this._p_parent._window_type<6))){_g=_k._searchNextTabFocus(this,false,_f,_d);}else{_h=this._getTabOrderFirst(_d);}}}else{_h=this._getTabOrderFirst(_d);if(!_h){if(!nexacro._isNull(_k)&&_k._hasContainer&&this._p_parent._is_form){_g=_k._searchNextTabFocus(this,false,_f,_d);}else if(_e==2||_e==3){while(!_h){_g=_k._getNextFrame(this);if(_g&&_g.form){_h=_g.form._getTabOrderFirst(_d);_k=_g.form.parent;}if(!_g){break;}}}else{if(_k&&_k._searchNextTabFocus){_g=_k._searchNextTabFocus(this,undefined,undefined,_d);}else{_g=null;}}}}if(_h){var _q=(_h._hasContainer()?_h._getComponentsByTaborder(_h,_d):null);var _r=_q?_q.length:0;if(_h._hasContainer()&&_h._checkContainerTabFocus()==true&&(_d&4)&&((_d&8)?_h._isAccessibilityEnable():true)){_g=[_h];}else if(_h._hasContainer()&&_r>0){_g=_h._searchNextTabFocus(null,true,undefined,_d);}else{_g=[_h];}}return _g;};_pFormBase._searchPrevTabFocus=function(_a,_b,_c,_d){var _e=nexacro._tabkeycirculation;var _f=(_c==undefined)?(_e==0||_e==2):_c;var _g,_h;var _i=this._getComponentsByTaborder(this,_d);var _j=_i?_i.length:0;var _k=this._p_parent;while((_k&&_k._hasContainer&&!_k._hasContainer()&&!_k._is_frame)){_k=_k._p_parent;}if(_j&&_a&&!_b){_h=this._getTabOrderNext(_a,-1,_d);if(_f&&!_h&&this._isPopupVisible()){_h=this._getTabOrderLast(_d);}if(!_h){var _l=this._getRootWindow();var _m=_l._keydown_element;var _n=nexacro._isEmbeddedWindow(_l);if(_n){_m._event_stop=false;}if(_d&4&&_k._hasContainer()){_h=_k;}else{var _o=_k._getComponentsByTaborder(_k,_d);var _p=_o?_o.length:0;if(_f==false&&(_k._is_frame||this._is_window)&&(_e!=2&&_e!=3||this._is_window)){_g=[null,this,-1];}else if((_k._hasContainer()&&_p>0)||((_e==2||_e==3)&&this._p_parent instanceof nexacro.ChildFrame&&!this._p_parent._window)){_g=_k._searchPrevTabFocus(this,undefined,undefined,_d);}else{_h=this._getTabOrderLast(_d);}}}}else{if(!_b){if(this instanceof nexacro.PopupDiv){_h=this._getTabOrderLast(_d);}else if(this._p_parent._is_form){_g=this._p_parent._searchPrevTabFocus(this,undefined,undefined,_d);}else{_g=null;}}if(!_g){_h=this._getTabOrderLast(_d);if(!_h){if(_g!==null){if(this._checkContainerTabFocus()==true){_g=[this];}else{_g=_k._searchPrevTabFocus(this,undefined,undefined,_d);}}else{if(_e==2||_e==3){while(!_h){_g=_k._getPrevFrame(this);if(_g&&_g.form){_h=_g.form._getTabOrderLast(_d);_k=_g.form.parent;}if(!_g){break;}}}else{if(_k&&_k._searchPrevTabFocus){_g=_k._searchPrevTabFocus(this,undefined,undefined,_d);}else{_g=null;}}}}}}if(_h){var _q=(_h._hasContainer()?_h._getComponentsByTaborder(_h,_d):null);var _r=_q?_q.length:0;if(_h._hasContainer()&&_r>0){if(this._p_parent===_h){return [_h];}_g=_h._searchPrevTabFocus(null,true,undefined,_d);}else{_g=[_h];}}return _g;};_pFormBase._getComponentsByLayoutorder=function(){const _a=this._p_components;let _b=[];for(let _d=0;_d<_a.length;_d++ ){var _c=_a[_d];if(_c._is_group){continue;}if(!_b[_c._p_layoutorder]){_b[_c.layoutorder]=new Array();}_b[_c._p_layoutorder].push(_c.id);}return _b.reduce(function(_e,_f){return [..._e,..._f];});};_pFormBase._getLayoutOrderFirst=function(){var _a=this._getComponentsByLayoutorder();if(_a&&_a.length>0){return _a[0];}return null;};_pFormBase._getLayoutOrderLast=function(){var _a=this._getComponentsByLayoutorder();if(_a&&_a.length>0){return _a[_a.length-1];}return null;};_pFormBase._getLayoutOrderNext=function(_a,_b){const _c=this._getComponentsByLayoutorder();let _d=0;let _e=0;for(_d,_e=_c.length;_d<_e;_d++ ){var _f=_c[_d];if(_f==_a){return _c[_d+_b];}}};_pFormBase._setPos=function(_a,_b){if(this._adjust_left!=_a||this._adjust_top!=_b){this._p_left=_a;this._p_top=_b;this._setAdjustPosition(_a,_b);if(this._p_parent){this._adjustPosition(this._p_left,this._p_top,this._p_right,this._p_bottom,this._p_width,this._p_height,this._p_parent._getClientWidth(),this._p_parent._getClientHeight());}else{this._adjustPosition(this._p_left,this._p_top,this._p_right,this._p_bottom,this._p_width,this._p_height,0,0);}this.on_update_position(false,true);}};_pFormBase._setSize=function(_a,_b,_c){if((this._adjust_width!=_a||this._adjust_height!=_b)||nexacro.__isDeactivate()){this._adjust_width=this._p_width=_a;this._adjust_height=this._p_height=_b;if(this._p_parent){this._adjustPosition(this._p_left,this._p_top,this._p_right,this._p_bottom,this._p_width,this._p_height,this._p_parent._getClientWidth(),this._p_parent._getClientHeight());}else{this._adjustPosition(this._p_left,this._p_top,this._p_right,this._p_bottom,this._p_width,this._p_height,0,0);}this.on_update_position(true,false,_c);}};_pFormBase._initLayoutManager=nexacro._emptyFn;_pFormBase._on_prepare_stepcontents=function(_a,_b){var _c=this.getElement();if(_c){if(this._is_created){var _d=this._p_stepselector;var _e=_d?_d._p_stepcount:0;if(_e>0||_a>0){var _f=this._p_components;var _g=_f.length;for(var _i=0;_i<_g;_i++ ){if(_f[_i]._is_group){continue;}var _h=_f[_i].getElement();_c.removeChildElement(_h);}}}_c.setElementStepCount(_a);_c.setElementStepIndex(_b);if(_b>-1&&_c._step_count>_b){_c.setElementHScrollPos(_c.client_width* _b);}}};_pFormBase._on_refresh_stepcontents=function(_a,_b){var _c=this.getElement();if(_c){if(this._is_created){var _d=this._p_stepselector;var _e=_d?_d._p_stepcount:0;if(_e>0||_a>0){var _f=this._p_components;var _g=_f.length;for(var _i=0;_i<_g;_i++ ){if((_f[_i].positionstep<_a)||_a==0){if(!_f[_i]._is_created||_f[_i]._p_positionstep>=_e){_f[_i].on_created();}var _h=_f[_i].getElement();_c.appendChildElement(_h);}}}}}if(!this._p_stepselector){if(_a>0){this._createStepControl(_a,_b);if(this._is_created){this._p_stepselector.on_created();}}}else{if(this._p_stepselector.stepcount!=_a){this._p_stepselector.set_stepcount(_a);this._p_stepselector.set_stepindex(_b);}}};_pFormBase._on_restore_stepscroll=function(_a){var _b=this.getElement();if(_b){this._onRecalcScrollSize();this._onResetScrollBar();var _c=_a._p_stepindex;var _d=_b.getContainerElement(_c);var _e=_d._scroll_top;if(this._vscroll_pos!=_e){this._scrollTo(null,_e,undefined,undefined,undefined,"stepchange");}}};_pFormBase._createStepControl=function(_a,_b){if(!this._p_stepselector){var _c=this._p_stepselector=new nexacro.StepControl("stepselector",0,0,0,0,null,null,null,null,null,null,this);_c.set_stepcount(_a);_c.set_stepindex(_b);_c.set_stepitemsize(this._p_stepitemsize);_c.set_stepitemgap(this._p_stepitemgap);_c.createComponent(true);this._setEventHandler("onstepchanged",this._on_stepchanged,this);}};_pFormBase._recalcStepLayout=function(){var _a=this.getElement();var _b=this._p_stepselector;if(_a&&_b){var _c=this._getClientWidth();var _d=this._getClientHeight();var _e=_b._getItemAreaSize();var _f=this._p_stepalign.split(/\s+/);var _g=_f[0];var _h=_f[1];var _i,_j;var _k=this._getCurrentStyleBorder();var _l=0,_m=0,_n=0,_o=0;if(_k){_l=_k.left._width;_m=_k.top._width;_n=_k.right._width;_o=_k.bottom._width;}switch(_g){case "left":_i=_l;break;case "center":_i=(_c-_e.width-_l-_n)/2;break;case "right":_i=_c-_e.width-_n;break;}switch(_h){case "top":_j=0;break;case "middle":_j=(_d-_e.height-_m-_o)/2;break;case "bottom":_j=_d-_e.height-_o;break;}_b.move(_i,_j,_e.width,_e.height,null,null);}};_pFormBase._on_stepchanged=function(){var _a=this._p_stepselector;var _b=this.getElement();if(_a&&_b){var _c=this._getZoom()/100;var _d=_b.client_width/_c;var _e=(_b.scroll_left!=(_d* _a.stepindex));if(!_e){return;}this._createStepChangeAnimation(_a.stepindex,400);}};_pFormBase._createStepChangeAnimation=function(_a,_b){if(this._stepchange_info){this._on_cancel_stepchange_animation();}var _c=this.getElement();if(_c){var _d={};_d.is_alive=true;_d.target_index=_a;_d.starttime=new Date().getTime();_d.duration=_b;var _e=_c.hscroll_limit/(_c._step_count-1);_d.startpos=_c.scroll_left;_d.endpos=_e* _a;if(this._p_stepshowtype=="action"){var _f=this._p_stepselector;if(_f){_f.set_visible(true);}}var _g=this._p_components;var _h=_g.length;for(var _j=0;_j<_h;_j++ ){_g[_j].on_apply_positionstep();}var _i=this;_d.timer=new nexacro.AnimationFrame(this,function(){_i._on_stepchange_animation();});_d.timer.start();this._stepchange_info=_d;}};_pFormBase._on_stepchange_animation=function(){var _a=this.getElement();if(!_a){return;}var _b=this._stepchange_info;if(_b&&_b.is_alive){var _c=new Date().getTime()-_b.starttime;var _d=_b.duration;var _e=_c/_d -1;var _f=Math.min((_e* _e* _e+1),1);var _g=_b.startpos+((_b.endpos-_b.startpos)* _f);_a.setElementHScrollPos(_g);if(_c>=_b.duration){this._on_end_stepchange_animation();}else{_b.timer.start();}}};_pFormBase._on_end_stepchange_animation=function(){var _a=this._stepchange_info;if(!_a){return;}_a.is_alive=false;if(_a.timer){_a.timer.stop();}var _b=this.getElement();var _c=this._p_stepselector;if(_b&&_c){var _d=_a.target_index;delete _a;var _e=_b.hscroll_limit/(_b._step_count-1);_b.setElementHScrollPos(_e* _d);this.on_apply_stepshowtype(this._p_stepshowtype);this._stepchange_info=null;this.resetScroll();}};_pFormBase._on_cancel_stepchange_animation=function(){var _a=this._stepchange_info;if(!_a){return;}_a.is_alive=false;if(_a.timer){_a.timer.stop();}delete _a;this._stepchange_info=null;};_pFormBase._processArrowKey=function(_a,_b){if(_b[0] instanceof nexacro.Form&&_b[0]._last_focused){var _c=this._getWindow();_c._removeFromCurrentFocusPath(_b[0]._last_focused);}var _d=2;if(!_a){_d=3;}_b[0]._setFocus(true,_d,false);var _e=nexacro.getEnvironment(),_f,_g;if(_e.accessibilityfirstovermessage&&_b[0]==this._getTabOrderFirst()){_f=_b[0];_g=_f._getAccessibilityReadLabel()+" "+_e.accessibilityfirstovertext;_f.getElement().notifyAccessibility(_g,"focus");}else if(_e.accessibilitylastovermessage&&_b[0]==this._getTabOrderLast()){_f=_b[0];_g=_f._getAccessibilityReadLabel()+" "+_e.accessibilitylastovertext;_f.getElement().notifyAccessibility(_g,"focus");}};_pFormBase._processHotkey=function(_a,_b,_c,_d,_e){var _f=null;if(_e){_f=_e._p_parent;}var _g=this._hotkey_list;for(var _k=0;_k<_g.length;_k++ ){var _h=_g[_k];if(_h[1]==_a&&_h[2]==_b&&_h[3]==_c&&_h[4]==_d){var _i=_h[0];if(_f&&_f instanceof nexacro.Tabpage&&_e!=_i&&_i._p_parent instanceof nexacro.Tabpage){continue;}if(!_i._p_enable){return true;}_i._on_hotkey(_a,_b,_c,_d);return true;}}if(this._is_frame&&this._is_window&&(this._window_type==1||this._window_type==4)){return;}var _j=this.getOwnerFrame();if(_j){return _j._processHotkey(_a,_b,_c,_d);}};_pFormBase._appendBeforeCloseMsg=function(_a,_b){if(typeof (_b)=="boolean"){_b=nexacro._toString(_b);}if(_b===undefined||_b==""||_b===null){return _a;}if(_a===undefined||_a===null){_a="";}else if(_a!=""){_a+="\n";}return (_a+_b);};_pFormBase._checkAndConfirmClose=function(_a){if(_a===undefined||_a==""||_a===null){return true;}if(this._window&&this._window._ignore_close_confirm){return true;}return nexacro._confirm(this,_a);};_pFormBase._setFittocontents=function(_a){this._fittocontents=_a;var _b=this.getElement();if(_b){_b._setElementFittocontents(_a);}};delete _pFormBase;nexacro.Form=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){nexacro.FormBase.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);this._chk_recalc_scroll=[];this._trigger_manager=new nexacro.TriggerManager(this);};var _pForm=nexacro._createPrototype(nexacro.FormBase,nexacro.Form);nexacro.Form.prototype=_pForm;_pForm._type_name="Form";_pForm._p_layout="";_pForm._p_opener=null;_pForm._p_statustext="";_pForm._p_titletext="";_pForm._p_stepalign="center bottom";_pForm._p_stepitemgap=undefined;_pForm._p_stepitemsize=undefined;_pForm._p_stepshowtype="always";_pForm._p_locale="";_pForm._p_accessibilityrole="form";_pForm._url="";_pForm._locale="";_pForm._init_status=0;_pForm._init_width=0;_pForm._init_height=0;_pForm._defaultbutton=null;_pForm._escapebutton=null;_pForm._zoomFactor=undefined;_pForm._autofittedZoomFactor=undefined;_pForm._is_fired_onload=false;_pForm._is_flexible_container=false;_pForm._event_list={"onbindingvaluechanged":1,"onclick":1,"ondblclick":1,"onkillfocus":1,"onsetfocus":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onlbuttondown":1,"onlbuttonup":1,"onrbuttondown":1,"onrbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmousewheel":1,"onmousedown":1,"onmouseup":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"onmove":1,"onsize":1,"ontouch":1,"onvscroll":1,"onhscroll":1,"onactivate":1,"onbeforeclose":1,"onclose":1,"ondeactivate":1,"onsyscommand":1,"ontimer":1,"oninit":1,"onload":1,"canlayoutchange":1,"canstepchange":1,"onlayoutchanged":1,"onstepchanged":1,"ondevicebuttonup":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"onorientationchange":1,"oncontextmenu":1,"onerror":1,"onextendedcommand":1};_pForm._getPrevHeadingComponent=nexacro._emptyFn;_pForm._getNextHeadingComponent=nexacro._emptyFn;_pForm.onCreateComponent=function(_a){if(this._is_loading){return false;}if(this._createControlElement(_a)){this._afterprocess_activate=true;}else{this._afterprocess_delayfocus=this._is_scrollable;this.oldscrollleft=this._control_element.scroll_left;this.oldscrolltop=this._control_element.scroll_top;this._changeControlElement(_a);}this._initLayoutManager();this._initControlElement();this._applyProperties();this._applyAccessibility();this._calcBasisSize();this._initContents();return true;};_pForm.onCreateComponentAfter=function(_a){if(this._delayedfocuscomp){var _b=this._getWindow();var _c=this._p_parent;var _d=(_c&&_c._is_frame&&_c._window_type==5)?"modal":"normal";var _e=this.getElement();if(_b){if(this._afterprocess_delayfocus){this._afterprocess_delayfocus=false;if(_d=="modal"){if(this.oldscrollleft!=undefined){_e.scroll_left=this.oldscrollleft;}if(this.oldscrolltop!=undefined){_e.scroll_top=this.oldscrolltop;}this._onResetScrollBar();}}if(_d!="modal"&&_b._prepared_flag==true){this._delayedfocuscomp=null;delete this._delayedfocuscomp;}}else{this._delayedfocuscomp=null;delete this._delayedfocuscomp;}}if(this._afterprocess_activate){this._afterprocess_activate=false;if(this._is_created){this._on_activate();}}};_pForm.onCreatedAfter=function(_a){if(_a){if(this._p_stepselector&&!this._p_stepselector.getElement()){this._p_stepselector.createComponent(true);this._p_stepselector.on_created();this.on_apply_stepshowtype(this._p_stepshowtype);}if(this._init_status==1){this.on_fire_oninit(this);}this.on_fire_onload(this,this._url);}};_pForm._initControlElementLayoutProps=function(){var _a=this.getElement();this._calcArrangePosition();this._adjustPosition();if(this._adjust_height>0&&this._adjust_width>0){this._selectLayout();}if(this._isFluidContainer()&&nexacro._is_native_fluidlayout&&this.getStepCount()<1){this._setLayoutContainerProps();}_a.setElementPosition(this._adjust_left,this._adjust_top);_a.setElementSize(this._adjust_width,this._adjust_height);};_pForm._createdControlElementLayoutProps=function(){var _a=nexacro._getLayoutManager();if(_a){_a.calcFluidLayoutContents(this);}};_pForm.on_change_containerRect=function(_a,_b){if(this._is_flexible_container){if(this._is_created){this._on_change_containerRect_fluid(_a,_b);}}else{this._on_change_containerRect_static(_a,_b);}};_pForm._on_change_containerRect_static=function(_a,_b){var _c=this._chk_recalc_scroll;for(var _o=0,_p=_c.length;_o<_p;_o++ ){if(_c[_o].w==_a&&_c[_o].h==_b){return;}}_c.push({w:_a,h:_b});var _d;var _e=this._p_components;var _f=false;var _g,_h,_i,_j;if(nexacro._OS=="Android"&&this.vscrollbar&&this.vscrollbar._p_visible){_f=true;_i=this._getLastFocused();_j=this.getOffsetBottom();}var _k=this._isRtl();for(_o=0,_p=_e.length;_o<_p;_o++ ){_d=_e[_o];if(_d._is_group){continue;}if(_d._control_element){if(_f&&_d instanceof nexacro.Edit){_g=_d.getOffsetBottom();_h=_g-_j;if(this.vscrollbar.pos<_h&&_j<_g&&_i==_d){this.vscrollbar.set_pos(_h);}}_d._update_position(_k);}}if(this._p_stepselector){this._recalcStepLayout();var _l=this.getElement();if(_l){var _m=this._p_stepselector.stepcount;var _n=this._p_stepselector.stepindex;if(_m>0&&_n>=0){_l.setElementHScrollPos(_l.client_width* this._p_stepselector.stepindex);}}}if(this._is_scrollable){this._onRecalcScrollSize();this._onResetScrollBar();}this._chk_recalc_scroll=[];};_pForm._on_change_containerRect_fluid=function(){var _a;var _b=this._p_components;var _c=false;var _d,_e,_f,_g;if(nexacro._OS=="Android"&&this.vscrollbar&&this.vscrollbar._p_visible){_c=true;_f=this._getLastFocused();_g=this.getOffsetBottom();}var _h=this._isRtl();for(var _j=0,_k=_b.length;_j<_k;_j++ ){_a=_b[_j];if(_a._is_group){continue;}if(_a._control_element){if(_c&&_a instanceof nexacro.Edit){_d=_a.getOffsetBottom();_e=_d-_g;if(this.vscrollbar.pos<_e&&_g<_d&&_f==_a){this.vscrollbar.set_pos(_e);}}_a._update_position(_h);}}var _i=nexacro._getLayoutManager();if(_i){_i.calcFluidLayoutContents(this);}if(this._is_scrollable){this._onRecalcScrollSize();this._onResetScrollBar();}};_pForm.on_destroy_contents=function(){nexacro.FormBase.prototype.on_destroy_contents.call(this);this._chk_recalc_scroll=null;if(this._trigger_manager){this._trigger_manager.destroy();this._trigger_manager=null;}};_pForm._resetObject=function(){this._bind_manager=new nexacro.BindManager(this);this._load_manager=new nexacro._LoadManager(this);this._timerManager=new nexacro._TimerManager(this);this._trigger_manager=new nexacro.TriggerManager(this);this._p_all=new nexacro.Collection();this._p_components=new nexacro.Collection();this._p_objects=new nexacro.Collection();this._p_binds=new nexacro.Collection();};_pForm._resetProperties=function(){this._refform=this;this.init("form",0,0,this._p_parent._getClientWidth(),this._p_parent._getClientHeight());this._child_list=[];this._hotkey_list=[];this._includescriptlist=[];this._load_callbacklist=[];this._chk_recalc_scroll=[];};_pForm._changeControlElement=function(_a){if(_a&&_a.handle){_a.appendChildElement(this._control_element);this._control_element._p_parent=this;return true;}return false;};_pForm._on_load=function(_a,_b){if(!this._load_callbacklist){return;}var _c=this._p_parent;if(this._p_parent&&this._p_parent.form==this){_c=nexacro;}if(_c&&_c._addLoadCallbacklist){var _d=this;var _e=_c._addLoadCallbacklist({target:_d,callback:_d._on_loadcallback,url:this.url});if(!_e){this._on_loadcallback(_a,_b);}}};_pForm._addLoadCallbacklist=function(_a){if(!this._is_loaded&&this._url&&this._url.length>0){if(!this._p_parent._load_callbacklist){this._p_parent._load_callbacklist=[];}this._load_callbacklist.push(_a);return true;}return false;};_pForm._on_loadcallback=function(){var _a=this._getWindow();var _b=this._load_callbacklist;var _c;var _d=_b.length;if(_d>0){for(var _j=0;_j<_d;_j++ ){var _e=_b[_j];_c=_e.target;var _f=_e.url;if(_c._is_alive!=false){_e.callback.call(_c,_c,_f);}}_b.splice(0,_d);}this.createComponent(true);this.on_fire_oninit(this);if(!this._is_created){this.on_created(_a);}if(this._is_created){if(!(this instanceof nexacro.Tabpage)&&(_a&&!_a._bnoactivate)){this._on_activate();}}var _g=this._p_parent;if(_g){if(_g._is_frame&&_g._p_form==this){_g._createdForm();if(_g._window_type!=2){var _h=nexacro.getApplication();if(_h){_h._notifyLoadforms(this);}}}else{if(!_a){_a=this._getRootWindow();}if(_a&&_a.frame&&_a.frame._activate==true){var _i=_a.getCurrentFocusPaths();_c=this;if(this instanceof nexacro._InnerForm){_c=_g;}if(_i&&nexacro._indexOf(_i,_c)>-1){if(nexacro._enableaccessibility&&nexacro._accessibilitywholereadtype>1){this._playAccessibilityWholeReadLabel("wholeread");}this._on_focus(true);}else if(nexacro._enableaccessibility&&nexacro._accessibilitywholereadtype>1){this._playAccessibilityWholeReadLabel("wholeread");}}}}};_pForm._update_position=function(_a){this._update_position_static(_a);if(!this._is_subcontrol&&this._is_flexible_container){this._update_position_fluid();}};_pForm.on_update_position=function(_a,_b,_c){var _d=this._control_element;if(_d){_d.setElementPosition(this._adjust_left,this._adjust_top);if(_a){var _e=this._calcScrollMaxSize();_d._setElementContentsMaxSize(_e.cw,_e.ch);_d.container_maxwidth=_e.w;_d.container_maxheight=_e.h;}_d.setElementSize(this._adjust_width,this._adjust_height,_c);if(this._init_status<2){if(this._p_parent&&this._p_parent._window_type==5){return;}}if(_b){this.on_fire_onmove(this._adjust_left,this._adjust_top);}if(_a){this.on_fire_onsize(this._adjust_width,this._adjust_height);}}};_pForm.on_apply_prop_stringresource=function(){if(!nexacro._StringResource){return;}nexacro.Component.prototype.on_apply_prop_stringresource.call(this);if(nexacro.isDesignMode){return;}if(!(this instanceof nexacro._InnerForm)){this._p_parent._applyStatusText();this._p_parent._applyTitleText();}};_pForm.set_opener=nexacro._emptyFn;_pForm.set_layout=nexacro._emptyFn;_pForm.set_statustext=function(_a){var _b=this._p_parent;if(_b&&_b._is_frame){if(this._p_statustext!=_a){this._p_statustext=_a;_b._applyStatusText();}}else{this._p_statustext=_a;}};_pForm.set_titletext=function(_a){if(this._p_parent&&this._p_parent._is_frame){if(this._p_titletext!=_a){this._p_titletext=_a;this._p_parent._applyTitleText();}}else{this._p_titletext=_a;}};_pForm.set_dragscrolltype=function(_a){var _b=["none","vert","horz","both","all"];if(_b.indexOf(_a)==-1){return;}if(this._p_dragscrolltype!=_a){this._p_dragscrolltype=_a;}};_pForm.set_locale=function(_a){if(this._p_locale!=_a){this._p_locale=_a;this._locale=_a;this.on_apply_locale(_a);}};_pForm.on_apply_locale=function(_a){var _b,_c,_d;var _e=this._p_components;for(_b=0,_c=_e.length;_b<_c;_b++ ){_d=_e[_b];if(_d._is_locale_control){_d._setLocale(_a);}}};_pForm.set_stepalign=function(_a){var _b=["left","center","right"];var _c=["top","middle","bottom"];var _d=_a.split(/\s+/);var _e=this._p_stepalign.split(/\s+/);if(_b.indexOf(_d[0])>-1){_e[0]=_d[0];}if(_c.indexOf(_d[1])>-1){_e[1]=_d[1];}_a=_e.join(" ");if(this._p_stepalign!=_a){this._p_stepalign=_a;this.on_apply_stepalign(_a);}};_pForm.on_apply_stepalign=function(){this._recalcStepLayout();};_pForm.set_stepitemgap=function(_a){if(_a!==undefined){if(isNaN(_a= +_a)){return;}}if(this._p_stepitemgap!=_a){this._p_stepitemgap=_a;this.on_apply_stepitemgap(_a);}};_pForm.on_apply_stepitemgap=function(_a){var _b=this._p_stepselector;if(_b){_b.set_stepitemgap(_a);}};_pForm.set_stepitemsize=function(_a){if(_a!==undefined){if(isNaN(_a= +_a)){return;}}if(this._p_stepitemsize!=_a){this._p_stepitemsize=_a;this.on_apply_stepitemsize(_a);}};_pForm.on_apply_stepitemsize=function(_a){var _b=this._p_stepselector;if(_b){_b.set_stepitemsize(_a);}};_pForm.set_stepshowtype=function(_a){var _b=["always","action"];if(_b.indexOf(_a)==-1){return;}if(this._p_stepshowtype!=_a){this._p_stepshowtype=_a;this.on_apply_stepshowtype(_a);}};_pForm.on_apply_stepshowtype=function(_a){var _b=this._p_stepselector;if(_b){switch(_a){case "action":_b.set_visible(false);break;case "always":default:_b.set_visible(true);break;}}};_pForm.on_apply_prop_enable=function(_a){nexacro.Component.prototype.on_apply_prop_enable.call(this,_a);var _b,_c,_d;var _e=this._p_components;for(_b=0,_c=_e.length;_b<_c;_b++ ){_d=_e[_b];_d._setEnable(_a);}if(_a==true){var _f=this._getRootForm();var _g=this;while(_g){var _h=_g._p_binds;if(_h&&_h.length>0){this._applyBinditemEnable(_h);}if(_f==_g||_g instanceof nexacro.ChildFrame){break;}_g=_g._getParentForm();}}};_pForm._on_activate=function(){if(!this._p_parent){return;}var _a=this.getOwnerFrame();if(!_a||!_a._activate){return;}nexacro.FormBase.prototype._on_activate.call(this);};_pForm._on_deactivate=function(){if(!this._p_parent){return;}var _a=this.getOwnerFrame();if(!_a||_a._activate){return;}nexacro.FormBase.prototype._on_deactivate.call(this);};_pForm._on_starttrack=function(){if(!this._is_alive){return false;}if(nexacro._isTouchInteraction){return false;}var _a=this.getOwnerFrame();if(_a){return _a._on_titlebar_starttrack();}return false;};_pForm._on_endtrack=function(_a,_b,_c){if(!this._is_alive){return;}var _d=this.getOwnerFrame();if(_d){_d._on_titlebar_endtrack(_a,_b,_c);}};_pForm._on_movetrack=function(_a,_b,_c,_d,_e){if(!this._is_alive){return;}var _f=this.getOwnerFrame();if(_f){_f._on_titlebar_movetrack(_a,_b,_c,_d,_e);}};_pForm._on_orientationchange=function(_a){this.on_fire_onorientationchange(_a);var _b,_c,_d;var _e=this._p_components;for(_b=0,_c=_e.length;_b<_c;_b++ ){_d=_e[_b];if(_d._hasContainer()&&_d._on_orientationchange){_d._on_orientationchange(_a);}}};_pForm.on_fire_sys_onrbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){var _n=nexacro.Component.prototype.on_fire_sys_onrbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);nexacro._quickview_mode=true;if(nexacro._quickview_mode&&_n!==true&&this._p_parent instanceof nexacro.ChildFrame){if(_l&&!_l._input_element){return nexacro._showQuickviewMenu(this,_e,_f);}}return _n;};_pForm.on_fire_user_onkeydown=function(_a,_b,_c,_d,_e,_f,_g){if(!this._is_alive){return;}var _h;var _i=this._last_focused;var _j=_f;if(!_j){_j=this.getFocus();}if(!_j){_j=this;}if(_j){_j=_j._getRootComponent(_j);if(!_j){return;}}var _k=this._getWindow();var _l=this._getRootWindow();var _m=nexacro.getEnvironment();var _n=_l._keydown_element;var _o=_j._getDlgCode(_a,_b,_c,_d);if(_a==nexacro.Event.KEY_TAB){if(!_o.want_tab&&this._isComponentKeydownAction()){if(_n){_n._event_stop=true;}if(!_d){_h=this._searchNextTabFocus(this._last_focused,undefined,undefined,0);}else{_h=this._searchPrevTabFocus(this._last_focused,undefined,undefined,0);}if(_h){if(_h[0]){if(_h[0]._hasContainer()&&_h[0]._last_focused){_k._removeFromCurrentFocusPath(_h[0]._last_focused);}_h[0]._setFocus(true,(!_d?0:1),true);}else if(_h[2]==-1){if(_i){_i.getElement().notifyAccessibility(_m.accessibilityfirstovertext,"notify",true);}}else if(_h[2]==1){if(_i){_i.getElement().notifyAccessibility(_m.accessibilitylastovertext,"notify",true);}}}return true;}}else if(_a==nexacro.Event.KEY_RETURN){if(!_o.want_return){if(this instanceof nexacro.Form){var _p=this._defaultbutton;if(!_j._isPopupVisible()){if(_p&&_p.enableevent&&_p._isEnable()){_p._click(_a);}}}}}else if(_a==nexacro.Event.KEY_ESC){if(nexacro._stopTransaction(this,1)<=0&&!_o.want_escape){if(this instanceof nexacro.Form){var _q=this._escapebutton;if(_q&&_q.enableevent&&_q._isEnable()){_q._click(_a);}}}}if(nexacro._enableaccessibility&&this._isComponentKeydownAction()){var _r;if(_a==nexacro.Event.KEY_DOWN&&!_b&&!_c&&!_d){_r=7+8;if(!_o.want_arrows&&nexacro._accessibilitycontentsearchkey){if(_i&&_i._hasContainer()){_h=_i._searchNextTabFocus(null,true,undefined,_r);}else{_h=this._searchNextTabFocus(_i,undefined,undefined,_r);}if(_h&&_h[0]){if(_h[0]._hasContainer()&&_h[0]._last_focused){var _s=this._getWindow();_s._removeFromCurrentFocusPath(_h[0]._last_focused);}_h[0]._setFocus(true,2,true);}if(_n){_n._event_stop=true;}return true;}}else if(_a==nexacro.Event.KEY_UP&&!_b&&!_c&&!_d){if(!_o.want_arrows&&nexacro._accessibilitycontentsearchkey){_r=7;var _t=this._getTabOrderFirst(7);_r+=8;if(this instanceof nexacro._InnerForm&&_t==_i){if(this._p_parent._isAccessibilityEnable()){_h=[this._p_parent];}else{var _u=this._p_parent._getForm();if(this._p_parent instanceof nexacro.PopupDiv){_u=this._p_parent;}_h=_u._searchPrevTabFocus(this._p_parent,undefined,undefined,_r);}}else{_h=this._searchPrevTabFocus(_i,undefined,undefined,_r);}if(_h&&_h[0]){if(_h[0] instanceof nexacro.Form&&_h[0]._last_focused){_k._removeFromCurrentFocusPath(_h[0]._last_focused);}_h[0]._setFocus(true,3,true);}if(_n){_n._event_stop=true;}return true;}}}var _v=nexacro.Component.prototype.on_fire_user_onkeydown.call(this,_a,_b,_c,_d,this,_f,_g);if(!this.onkeydown||(this.onkeydown&&!this.onkeydown.defaultprevented)){var _w;if(this._isComponentKeydownAction()&&(_a==nexacro.Event.KEY_LEFT||_a==nexacro.Event.KEY_RIGHT)){var _x=this.hscrollbar;if(_x&&_x._p_visible&&(_c||(nexacro._enableaccessibility&&!nexacro._accessibilitycontentsearchkey))){if(!_o.want_arrows){_w=_x.line;if(_w<=0){_w=_x._linedown;}if(_a==nexacro.Event.KEY_LEFT){_w*=-1;}_x.set_pos(_x.pos+_w);return true;}}}else if(this._isComponentKeydownAction()&&(_a==nexacro.Event.KEY_UP||_a==nexacro.Event.KEY_DOWN)){var _y=this.vscrollbar;if(_y&&_y._p_visible&&(_c||(nexacro._enableaccessibility&&!nexacro._accessibilitycontentsearchkey))){if(!_o.want_arrows){_w=_y.line;if(_w<=0){_w=_y._linedown;}if(_a==nexacro.Event.KEY_UP){_w*=-1;}_y.set_pos(_y.pos+_w);return true;}}}}return _v;};_pForm.on_fire_sys_onflingend=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){var _j=nexacro.Component.prototype.on_fire_sys_onfling.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);if(_h==_i){if(nexacro._OS=="iOS"){var _k=this._getWindow();var _l=_k.getCurrentFocusPaths();var _m=_l[_l.length-1];var _n=_m?_m._input_element:null;if(_n){nexacro._deleteRefreshNode();nexacro._refreshCaret();}}}return _j;};_pForm.on_fire_oninit=function(_a){if(this._init_status!=1){return true;}this._init_status=2;if(this.oninit&&this.oninit._has_handlers){var _b=new nexacro.Event(_a,"oninit");return this.oninit._fireEvent(this,_b);}return true;};_pForm.on_fire_canstepchange=function(_a){if(this.canstepchange&&this.canstepchange._has_handlers){var _b=new nexacro.StepChangeEventInfo(_a,"canstepchange",_a._prestepindex,_a._poststepindex);return this.canstepchange._fireCheckEvent(this,_b);}return true;};_pForm.on_fire_onstepchanged=function(_a){this._on_restore_stepscroll(_a);if(this.onstepchanged&&this.onstepchanged._has_handlers){var _b=new nexacro.StepChangeEventInfo(_a,"onstepchanged",_a._prestepindex,_a._poststepindex);return this.onstepchanged._fireEvent(this,_b);}};_pForm.on_fire_canlayoutchange=function(_a,_b,_c,_d,_e,_f,_g,_h){if(this.canlayoutchange&&this.canlayoutchange._has_handlers){var _i=new nexacro.LayoutChangeEventInfo(_a,_b,_c,_d,_e,_f,_g,_h);return this.canlayoutchange._fireCheckEvent(this,_i);}return true;};_pForm.on_fire_onlayoutchanged=function(_a,_b,_c,_d,_e,_f,_g,_h){if(this.onlayoutchanged&&this.onlayoutchanged._has_handlers){var _i=new nexacro.LayoutChangeEventInfo(_a,_b,_c,_d,_e,_f,_g,_h);return this.onlayoutchanged._fireEvent(this,_i);}return true;};_pForm.on_fire_onbeforelayoutchange=function(_a,_b,_c,_d){if(this.onbeforelayoutchange&&this.onbeforelayoutchange._has_handlers){var _e=new nexacro.LayoutChangeEventInfo(_a,_b,_c,_d);return this.onbeforelayoutchange._fireEvent(this,_e);}return true;};_pForm.on_fire_onload=function(_a,_b){if(this._is_fired_onload){return true;}if(this.onload&&this.onload._has_handlers){this._bFireLoadEvent=true;var _c=new nexacro.LoadEventInfo(_a,"onload",_b);var _d=this.onload._fireEvent(this,_c);this._bFireLoadEvent=false;_c.destroy();if(!this._is_loading){this._is_fired_onload=true;}return _d;}return true;};_pForm.on_fire_onorientationchange=function(_a){if(this.onorientationchange&&this.onorientationchange._has_handlers){var _b=new nexacro.OrientationChangeEventInfo(this,"onorientationchange",_a);this.onorientationchange._fireEvent(this,_b);}};_pForm.on_fire_sys_onaccessibilitygesture=function(_a,_b,_c){if(!this._is_alive){return;}var _d=this._getWindow();var _e=null;var _f;var _g,_h;var _i;if(!_a){_f=3+8;_e=this._searchPrevTabFocus(_d._accessibility_last_focused_comp,undefined,undefined,_f);while(_e&&_e[0]&&_e[0]._hasContainer()){_g=_e[0]._searchPrevTabFocus(null,undefined,undefined,_f);_h=_g?_g.length:0;if(_h==0){break;}_i=_e[0]._searchPrevTabFocus(null,undefined,undefined,_f);if(_e[0]==_i[0]){_e=_i;break;}_e=_i;}}else{_f=3+8;_e=this._searchNextTabFocus(_d._accessibility_last_focused_comp,undefined,undefined,_f);while(_e&&_e[0]&&_e[0]._hasContainer()){_g=_e[0]._searchNextTabFocus(null,undefined,undefined,_f);_h=_g?_g.length:0;if(_h==0){break;}_i=_e[0]._searchNextTabFocus(null,undefined,undefined,_f);if(_e[0]==_i[0]){_e=_i;break;}_e=_i;}}if(_e&&_e[0]){_e[0]._setAccessibilityNotifyEvent(_a);return true;}return false;};_pForm.addChild=function(_a,_b){var _c=-1;if(_a&&_a.length<=0){return -1;}if(!_b){throw nexacro.MakeReferenceError(this,"reference_not_define",_a);}if(this[_a]){throw nexacro.MakeNativeError(this,"native_exist_id",_a);}var _d=false;var _e,_f;if(_b._is_component){_d=true;}if(_d){_e=_b._getWindow();}if(!_b.id){_b.id=_b.name=_a;}else{_b.id=_a;}_b._p_parent=this;_b._refform=this;if(_d){_f=_b._getWindow();}this[_a]=_b;this._p_all.add_item(_a,_b);if(this._p_visible&&!this._real_visible){_b._real_visible=false;}else{_b._real_visible=this._p_visible;}if(_d){_c=this._p_components.add_item(_a,_b);this._child_list.push(_b);if(_e!=_f){}else if(_b._is_alive&&_b._is_created){this._control_element.appendChildElement(_b.getElement());}}else if(_b instanceof nexacro.BindItem){_c=this._p_binds.add_item(_a,_b);}else{_c=this._p_objects.add_item(_a,_b);}return _c;};_pForm.resetScroll=function(){if(this._is_created_contents){var _a;var _b=this._p_components;for(var _d=0,_e=_b.length;_d<_e;_d++ ){_a=_b[_d];if(_a._arrange_info||(_a.fittocontents!="none")){_a._update_position();}}}if(this._is_flexible_container){var _c=nexacro._getLayoutManager();if(_c){_c.calcFluidLayoutContents(this);}}if(this._is_scrollable){this._onRecalcScrollSize();this._onResetScrollBar();}};_pForm.close=function(_a){if(this._closing){return;}if(!this._p_parent||!this._p_parent._is_frame){return;}this.setWaitCursor(false,null);var _b=this._p_parent;var _c=_b._on_beforeclose();if(_b._checkAndConfirmClose(_c)==false){return false;}if(_b._window){_b._window._ignore_close_confirm=true;}this._closing=true;_b._on_close();this._closing=null;if(typeof (_a)=="object"){_a=null;}if(this._p_parent){this._p_parent._closeForm(_a);}};_pForm.getFirstComponent=function(_a){if(_a!==true){_a=false;}var _b=this._getComponentsByTaborder(this,6);var _c=null;if(_b&&_b.length>0){_c=_b[0];}if(_a){var _d=_c;while(_d&&_d._hasContainer()){_d=_d._getTabOrderFirst(6);if(!_d){break;}_c=_d;}}if(_c&&_c instanceof nexacro.Tabpage){_c=_c._p_parent;}return _c;};_pForm.getLastComponent=function(_a){if(_a!==true){_a=false;}var _b=this._getComponentsByTaborder(this,6);var _c=null;if(_b&&_b.length>0){_c=_b[_b.length-1];}if(_a){var _d=_c;while(_d&&_d._hasContainer()){_d=_d._getTabOrderLast(6);if(!_d){break;}_c=_d;}}if(_c&&_c instanceof nexacro.Tabpage){_c=_c._p_parent;}return _c;};_pForm.getFirstAccessibilityComponent=function(_a){if(_a!==true){_a=false;}var _b=this._getComponentsByTaborder(this,6,undefined,true);var _c=null;if(_b&&_b.length>0){_c=_b[0];}if(_a){var _d=_c;while(_d&&_d._hasContainer()){_d=_d._getTabOrderFirst(6,true);if(!_d){break;}_c=_d;}}if(_c&&_c instanceof nexacro.Tabpage){_c=_c._p_parent;}return _c;};_pForm.getLastAccessibilityComponent=function(_a){if(_a!==true){_a=false;}var _b=this._getComponentsByTaborder(this,6,undefined,true);var _c=null;if(_b&&_b.length>0){_c=_b[_b.length-1];}if(_a){var _d=_c;while(_d&&_d._hasContainer()){_d=_d._getTabOrderLast(6,true);if(!_d){break;}_c=_d;}}if(_c&&_c instanceof nexacro.Tabpage){_c=_c._p_parent;}return _c;};_pForm._getNextComponent=function(_a,_b,_c){if(_b!==true){_b=false;}if(_c!==true){_c=false;}var _d=this._getComponentsByTaborder(this,6);var _e=this._getComponentsByTaborder(this,7);var _f=nexacro._indexOf(_d,_a._getRootComponent(_a));if(_f<0){var _g=nexacro._indexOf(_e,_a._getRootComponent(_a));var _h;if(_g<0){return null;}_h=_g -1;while((_h>=0&&_h<_e.length)){_a=_e[_h];_f=nexacro._indexOf(_d,_a._getRootComponent(_a));if(_f>=0){break;}_h-- ;}}var _i;if(_c){_i=this._searchNextTabFocus(_a,false,undefined,_b?0:4);}else{_i=this._searchNextTabFocus(_a,false,undefined,_b?2:6);}if(_i&&_i.length>0){return _i[0];}return null;};_pForm.getNextComponent=function(_a,_b){return this._getNextComponent(_a,_b,true);};_pForm._getPrevComponent=function(_a,_b,_c){if(_b!==true){_b=false;}if(_c!==true){_c=false;}var _d=this._getComponentsByTaborder(this,6);var _e=this._getComponentsByTaborder(this,7);var _f=nexacro._indexOf(_d,_a._getRootComponent(_a));if(_f<0){var _g=nexacro._indexOf(_e,_a._getRootComponent(_a));var _h;if(_g<0){var _i=(_a._p_parent instanceof nexacro._InnerForm)?_a._p_parent._p_parent:_a._p_parent;var _j=_i._getForm();if(_j instanceof nexacro.ChildFrame){return null;}return _j._getPrevComponent(_i,_b,_c);}_h=_g+1;while((_h>=0&&_h<_e.length)){_a=_e[_h];_f=nexacro._indexOf(_d,_a._getRootComponent(_a));if(_f>=0){break;}_h++ ;}}var _k=null;if(_c){if(_b){_k=this._searchPrevTabFocus(_a,false,undefined,0);}else{_k=this._searchPrevTabFocus(_a,false,undefined,4);}}else{if(_b){_k=this._searchPrevTabFocus(_a,false,undefined,2);}else{if(_f>0){_k=_d[_f -1];}else if(_f==0){_k=_d[_d.length-1];}}}if(_k&&_k.length>0){return _k[0];}return _k;};_pForm.getPrevComponent=function(_a,_b){return this._getPrevComponent(_a,_b);};_pForm.getFocus=function(){var _a=this._find_lastFocused();if(_a==null){return this;}return _a;};_pForm.go=function(_a){if(this._orgurl!=_a){if(this._orgurl!=""){var _b=this._on_beforeclose();if(this._checkAndConfirmClose(_b)==false){return;}this._on_close();}this._resetComponent();if(_a){this.loadForm(_a,this._async,true);this.set_visible(true);}}};_pForm.hasPopupFrame=function(){var _a;var _b,_c;var _d=nexacro.getPopupFrames(this);if(_d){for(_b=0,_c=_d.length;_b<_c;_b++ ){_a=_d[_b];if(_a&&this===_a._p_opener){return true;}}}var _e=this._getWindow();var _f=_e._modal_frame_stack;var _g;if(_f){for(_b=0,_c=_f.length;_b<_c;_b++ ){_g=_f[_b];_a=_g[0];if(_a&&this===_a._p_opener){return true;}}}return false;};_pForm.insertChild=function(_a,_b,_c){if(_b&&_b.length<=0){return -1;}if(!_c){return -1;}if(this[_b]){return -1;}if(!_c.id){_c.id=_c.name=_b;}else{_c.id=_b;}_c._p_parent=this;_c._refform=this;this[_b]=_c;this._p_all.add_item(_b,_c);var _d;if(_c._is_component){if(this._p_components.length==0){this._setAccessibilityStatHidden(false);}_d=this._p_components.insert_item(_a,_b,_c);this._child_list.push(_c);if(_c._is_alive&&_c._is_created){var _e=this._p_components[_a+1];this._control_element.insertChildElement(_c.getElement(),_e?_e.getElement():null);}}else if(_c instanceof nexacro.BindItem){_d=this._p_binds.insert_item(_a,_b,_c);}else{_d=this._p_objects.insert_item(_a,_b,_c);}return _d;};_pForm.isValidObject=function(_a){if(typeof _a=="string"){if(this[_a]){return true;}}else if(_a instanceof Object){var _b=this._p_all.length;for(var _c=0;_c<_b;_c++ ){if(this._p_all[_c]==_a){return true;}}}else{if(nexacro._indexOf(this._p_all,_a)>-1){return true;}}return false;};_pForm.killTimer=function(_a){this._timerManager.deleteTimer(_a);};_pForm.setTimer=function(_a,_b){var _c=new nexacro._EventTimer(this,_a,_b);_c.start();};_pForm.loadStyle=function(_a,_b){if((typeof (_a)!="string")||_a.length==0){return;}_b=_b==false?false:true;var _c=true;if(_b){_c=false;}this._clearCssInfo(_c);var _d=this._base_url;var _e=[];_e.push(nexacro._getServiceLocation(_a,_d));_e.push(".js");var _f=nexacro._getServiceObject(_a);this._load_manager.reloadCssModule(_e.join(""),null,false,_f);this._resetFormStatus(this);};_pForm.reload=function(){var _a=this._orgurl?this._orgurl:this._p_parent._formurl;this._resetComponent();if(_a){this.loadForm(_a,this._async,true);this.set_visible(true);}};_pForm.removeChild=function(_a){if(!_a||_a.length<=0){return null;}var _b=this[_a];if(!_b){return null;}if(_b._is_component){var _c=false;var _d=this._getWindow();if(_d){_c=(_d._indexOfCurrentFocusPaths(_b)>-1);}if(this._defaultbutton==_b){this._defaultbutton=null;}if(this._escapebutton==_b){this._escapebutton=null;}if(this._bind_manager){this._bind_manager._dettachSBindItem(_b);}this._p_components.delete_item(_a);var _e=nexacro._indexOf(this._child_list,_b);if(_e>-1){this._child_list.splice(_e,1);}if(this._is_alive&&_b._control_element){if(_b._control_element){_b._control_element._removeFromContainer();var _f=this._isFluidContainer();if(_f){this._update_position_fluid(true);}}if(_c){if(_b instanceof nexacro.Form){_b._on_deactivate();}_d._removeFromCurrentFocusPath(_b,true);_d._last_focused_elem=this._control_element;this._on_focus(true);}}}else if(_b instanceof nexacro.BindItem){this._bind_manager._setBinditem(_b,true);this._p_binds.delete_item(_a);}else{this._p_objects.delete_item(_a);}_b._p_parent=null;delete this[_a];this._p_all.delete_item(_a);return _b;};_pForm.setWaitCursor=function(_a,_b){var _c=_a;var _d=_b;if(_c==undefined){_c=true;}if(_d==undefined){_d=false;}if(!_d&&!nexacro._usewaitcursor){return;}this._waitCursor(_c,null);};_pForm.sleep=function(_a){var _b=new Date().getTime();var _c=_b;while((_c-_b)<_a){_c=new Date().getTime();}};_pForm.transaction=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){var _j=nexacro._getServiceLocation(_b,this._base_url,null,false);var _k=nexacro._getServiceObject(_b,true);this._load_manager.loadDataModule(_j,_a,_c,_d,_e,_f,_g,_h,_i,_k);};_pForm.cancelTransaction=function(_a){if(!this._load_manager){return -1;}var _b=this._load_manager.dataList;if(!_b){return -1;}if(_a!=undefined){var _c=(typeof _a=="string")?_a.split(","):_a;if(_c.length>0){var _d=[];for(var _i=0;_i<_b.length;_i++ ){_d[_i]=_b[_i].url;}var _e,_f,_g=[];for(_e=0;_d.length>_e;_e++ ){var _h=false;for(_f=0;_c.length>_f;_f++ ){if(_c[_f]==_d[_e]){_h=true;break;}}if(!_h){_g.push(_d[_e]);}}for(_e=_g.length-1;_e>=0;_e-- ){for(_f=_b.length-1;_f>=0;_f-- ){if(_b[_f].url==_g[_e]){_b=nexacro._removedatalist(_b,_f);}}}}}this._stopTransaction(true);};_pForm.updateWindow=function(){};_pForm.getStepCount=function(){var _a=this._p_stepselector;if(_a){return _a.stepcount;}return 0;};_pForm.setStepCount=function(_a){if(isNaN(_a= +_a)||_a<0){return;}var _b=nexacro._getLayoutManager();if(!_b||_b.isFluidLayoutType()){return;}var _c,_d,_e;if(!this._p_stepselector){if(!_a){return;}this._createStepControl(_a,0);this._p_stepselector.on_created();this._on_prepare_stepcontents(_a,0);this._on_refresh_stepcontents(_a,0);}else{var _f=this._p_stepselector;if(_f){_c=_f.stepindex;_d=_f.stepindex;if(_d>=_a){_c=_a -1>=0?_a -1:0;}if(_c<0&&_a>0){_c=0;}this._on_prepare_stepcontents(_a,_c);this._on_refresh_stepcontents(_a,_c);}}_e=nexacro._getLayoutManager();if(this._p_stepselector&&_e){var _g=_e.getCurrentLayoutName();_e.setLayoutProperty(this,_g,"stepcount",this._p_stepselector.stepcount);}};_pForm.setStepIndex=function(_a){var _b=this._p_stepselector;if(_b){return _b.set_stepindex(_a);}return false;};_pForm.getStepIndex=function(){var _a=this._p_stepselector;if(_a){return _a.stepindex;}return -1;};_pForm.applyChange=function(){var _a=this._last_focused;if(!_a){return;}_a.applyto_bindSource("value",_a._p_value);var _b=this._p_binds;var _c=_b.length;for(var _e=0;_e<_c;_e++ ){var _d=_b[_e];if(_d._comp==_a&&_d._p_propid=="value"){this._bind_manager._notify(_d);return;}}};_pForm.getCurrentLayoutID=function(){var _a=nexacro._getLayoutManager();if(_a){return _a.getCurrentLayoutName(this);}return "default";};_pForm.getViewDataset=nexacro._emptyFn;_pForm.move=function(_a,_b,_c,_d,_e,_f){nexacro.Component.prototype.move.call(this,_a,_b,_c,_d,_e,_f);var _g=nexacro._getLayoutManager();if(_g){}};_pForm.resize=function(_a,_b){if(_a<0||_b<0){return;}if(_a==this._adjust_width&&_b==this._adjust_height){return;}if(this._adjust_width!=(this._adjust_left+_a)||this._adjust_height!=(this._adjust_top+_b)){this._p_width=_a;this._p_height=_b;this._update_position(true,false);}else{this._update_position(false,false);}var _c=nexacro._getLayoutManager();if(_c){}};_pForm._onRecalcScrollSize=function(_a){var _b=this._control_element;if(this._is_scrollable&&_b){var _c=0,_d=0,_e=0,_f=0;var _g=_b.getContainerElement(_b._step_index).width;var _h=_b.getContainerElement(_b._step_index).height;var _i=_b.container_maxwidth;var _j=_b.container_maxheight;var _k=0,_l=0;var _m=this._getZoom()/100;var _n;_g=_g/_m;_h=_h/_m;_i=_i/_m;_j=_j/_m;if(!_a){var _o,_p,_q,_r=this._p_components;if(this._p_stepselector&&this._p_stepselector.stepcount>0){for(_o=0,_p=_r.length;_o<_p;_o++ ){_q=_r[_o];if(_q&&_q._p_visible&&_q.positionstep<this._p_stepselector.stepcount){_n=_q.getOffsetBottom();_d=Math.max(_d,_n);}}var _s=this.width;if(nexacro._isString(_s)){_s=nexacro._toInt(_s);}_c=_s* this._p_stepselector._poststepcount;_e=_c;_f=_d;}else{var _t=this._calcScrollMaxSize();_c=_t.w;_d=_t.h;_e=_t.cw;_f=_t.ch;}_k=Math.max(_e,_k);_l=Math.max(_f,_l);_c=Math.max(_c,_g);if(!this._p_stepselector){_d=Math.max(_d,_h);}_d=Math.max(_d,_h);_b._setElementContentsMaxSize(_k,_l);_b.setElementScrollMaxSize(_c,_d);}else if(_a._p_visible){var _u=_a.getOffsetRight();var _v=_a.getOffsetBottom();if(_i<_u||_j<_v){_c=Math.max(_i,_u);_d=Math.max(_j,_v);_b.setElementScrollMaxSize(_c,_d);}}}};_pForm._resetScrollPos=function(_a,_b,_c,_d,_e,_f){var _g=this.getElement();if(_g){if(this._is_frame){return;}var _h=this._p_parent;var _i=this._p_hscrollbar;var _j=this._p_vscrollbar;var _k=0;var _l=0;var _m=(this instanceof nexacro._InnerForm)?_h._adjust_left:this._adjust_left;var _n=(this instanceof nexacro._InnerForm)?_h._adjust_top:this._adjust_top;var _o=_g.getClientWidth();var _p=_g.getClientHeight();if(_i){_k=_i._p_pos;if(_b-_k<_o&&_d-_k>_o){if(_f==1&&_d-_b>_o){_i.set_pos(_d-_o);}else{_i.set_pos(_b);}}else if(_k>_b||(_b-_k>_o)){var _q;if(_f==1&&_d-_b>_o){_q=_d-_o;}else{_q=_b;}_i.set_pos(_q);}_k=_i._p_pos;}if(_j){_l=_j._p_pos;if(_c-_l<_p&&_e-_l>_p){if(_f==1&&_e-_c>_p){_j.set_pos(_e-_p);}else{_j.set_pos(_c);}}else if((_l>_c)||(_c-_l>=_p)){var _r;if(_f==1&&_e-_c>_p){_r=_e-_p;}else{_r=_c;}_j.set_pos(_r);}_l=_j._p_pos;}_b=_m+_b-_k;_c=_n+_c-_l;_d=_m+_d-_k;_e=_n+_e-_l;if(!this._is_popup_control&&_h&&_h!=this){_h._resetScrollPos(this,_b,_c,_d,_e,_f);}}};_pForm._resetFormStatus=function(_a){var _b,_c,_d;var _e=_a._p_components;for(_b=0,_c=_e.length;_b<_c;_b++ ){_d=_e[_b];if(_d){if(_d._is_form){_d._apply_status("");this._resetFormStatus(_d);}else{_d._apply_status("");}}}this._apply_status("");};_pForm._on_getFitSize=function(){var _a=0,_b=0;var _c=this._calcScrollMaxSize();if(_c){_a+=_c.w;_b+=_c.h;var _d=this._on_getFitSize_style();var _e=this._on_getFitSize_scroll();if(_c.w>0){_a+=_d[0]+_e[0];}if(_c.h>0){_b+=_d[1]+_e[1];}}return [_a,_b];};_pForm._calcScrollMaxSize=function(){var _a={w:-1,h:-1};if(this._is_flexible_container){var _b=nexacro._getLayoutManager();if(_b){var _c=_b.getContentsMaxRect(this);_a={w:_c[0],h:_c[1],cw:_c[0],ch:_c[1]};}}else{if(this._is_scrollable&&this._control_element){var _d=0,_e=0,_f=0,_g=0,_h,_i;var _j,_k,_l;var _m;var _n=this._p_components;for(var _o=0,_p=_n.length;_o<_p;_o++ ){_m=_n[_o];if(_m&&_m._p_visible){if(_m._is_group){continue;}_j=_m._p_fittocontents;_k=_j=="both"||_j=="width"||_m._p_minwidth||_m._right<0;_l=_j=="both"||_j=="height"||_m._p_minheight||_m._bottom<0;_h=_m.getOffsetRight();_i=_m.getOffsetBottom();_d=Math.max(_d,_h);_e=Math.max(_e,_i);if(_k||!_m._p_right&&(_m._p_width>0)||(nexacro._isString(_m._p_width)&&_m._p_width.indexOf("%")<0)){_f=Math.max(_f,_h);}if(_l||!_m._p_bottom&&(_m._p_height>0)||(nexacro._isString(_m._p_height)&&_m._p_height.indexOf("%")<0)){_g=Math.max(_g,_i);}}}_a={w:_d,h:_e,cw:_f,ch:_g};}}return _a;};_pForm._onApplyTabletemplate=function(_a){var _b=nexacro._getLayoutManager();if(_b){var _c=_b.getCurrentLayout(this);var _d=_c.tabletemplate;var _e=_b._fluidlayoutmanager;if(_e){if(nexacro._isDesignMode()){_e._prev_tabletemplate=_c._tabletemplate;}else{_e._prev_tabletemplate=_b.getLayout(this,_a?_a:"default")._tabletemplate;}}var _f=this.getElement();if(_f){_f.setElementTableTemplate(_d);}this._is_changed_tabletemplate=true;_b.calcFluidLayoutContents(this);this._is_changed_tabletemplate=false;}};_pForm._setSize=function(_a,_b){if(this._adjust_width!=_a||this._adjust_height!=_b){var _c=this._height-_b;var _d=null;this._p_width=this._width=_a;this._p_height=this._height=_b;this._calcBasisSize();this._adjustPosition();var _e=false;var _f=nexacro._getLayoutManager();if(_f){var _g=_f.getLayoutChangeFlag();if(_g!==undefined){if(this.getOwnerFrame()._activate){_f.setLayoutChangeFlag(false);}_d=this._last_focused;var _h=0,_i=0;if(_d){_h=_d._adjust_top;_i=_d._adjust_height;while(_d._p_form){if(!_d._p_form._last_focused){break;}_d=_d._p_form._last_focused;_h+=_d._adjust_top;_i=_d._adjust_height;}}_e=this._vscroll_pos+_b<_h+_i;}else{this._selectLayout();}}if(nexacro._isDesktop()&&(nexacro._Browser=="Chrome"||nexacro._Browser=="Edge")){this._notifyFrameResize();}}this.on_update_position(true,false);if(_e){this.getElement().setElementVScrollPos(this._vscroll_pos+_c);if(this.getOwnerFrame()._activate){_d.setFocus();}}};_pForm._setZoom=function(_a){var _b=this._getZoom();if(typeof _a=="string"&&_a.charAt(_a.length-1)=="%"){_a=_a.slice(0,_a.length-1);}_a=parseFloat(_a)|0;if(_a<=0||_a==_b){return _b;}var _c=this._control_element;if(_c){this._zoomFactor=_a;_c.container_maxwidth=0;_c.container_maxheight=0;_c.setElementScrollMaxSize(0,0);this._client_width=0;this._client_height=0;_c.setElementZoom(_a);nexacro._applyZoomEdge(_c,_a);var _d=nexacro._current_popups;var _e=_d.length;for(var _f=0;_f<_e;_f++ ){if(this._contains(_d[_f])){_d[_f]._p_parent._applyZoomPopup();}}}this.on_fire_onzoom(_a,this,this);return _b;};_pForm._getZoom=function(){var _a=this._control_element;if(_a){return (this._zoomFactor!==undefined)?this._zoomFactor:_a.zoom;}return 100;};_pForm._setFormPosition=function(_a,_b){this._init_width=_a;this._init_height=_b;};_pForm._setDragMove=function(_a,_b){if(_a&&_b){this._hittest_type="caption";}else{this._hittest_type="none";}this.on_apply_hittesttype();};_pForm._stopTransaction=function(_a){if(!this._load_manager){return -1;}var _b=this._load_manager.dataList;if(!_b){return -1;}var _c=this._load_manager.transactionList;var _d=0;var _e=_b.length;var _f=0;var _g;while(_d<_b.length){var _h=_b[_d];if(!_h){_d++ ;continue;}var _i=_h.handle;if(!_i){_d++ ;continue;}if(_h._is_cancel||_h._is_process){_d++ ;_e=_b.length;continue;}if(!_a){_i._user_aborted=false;_g=_c[_d];if(_g){var _j=_g.on_error(-1,"comm_stop_transaction_byesc",nexacro._CommunicationStatusTable.stop_transaction_byesc,"");if(_j){_h._is_process=true;_i._user_aborted=undefined;_d++ ;continue;}}}_i._user_aborted=true;_h._is_cancel=true;if(nexacro._Browser=="Runtime"){nexacro._cancelLoad(_i);}else{_g=_c[_d];nexacro._cancelLoad(_i);if(_g){_g.on_error(0,"comm_cancel_byuser",nexacro._CommunicationStatusTable.cancel_byuser);}}_f++ ;if(_e==_b.length){_d++ ;}else{_d=0;_e=_b.length;}}return _f;};_pForm._dragEnd=function(_a){var _b=this.getElement();if(_b){var _c=this._p_stepselector;if(_c){var _d=_b._step_count;var _e=_b._step_index;var _f=_a.direction;if(_d>0){var _g=-1;if(_f=="L"){_g=_e+1;}else if(_f=="R"){_g=_e -1;}if(_g<0||_g>=_d){return;}_c.set_stepindex(_g);}}}};_pForm._getDefaultButton=function(){var _a=this._p_components;if(_a){var _b;for(var _d=0;_d<_a.length;_d++ ){_b=_a[_d];if(_b._is_form){var _c=_b._getDefaultButton();if(_c){return _c;}}else if(nexacro._toBoolean(_b.defaultbutton)){return _b;}}}return null;};_pForm._getEscapeButton=function(){var _a=this._p_components;if(_a){var _b;for(var _d=0;_d<_a.length;_d++ ){_b=_a[_d];if(_b._is_form){var _c=_b._getEscapeButton();if(_c){return _c;}}else if(nexacro._toBoolean(_b.escapebutton)){return _b;}}}return null;};_pForm._getAccessibilityWholeReadLabel=function(){var _a="";var _b,_c=this._getSortedDecendants(this,true,true);for(var _e=0;_e<_c.length;_e++ ){_b=_c[_e];if(_b._isAccessibilityEnable()){var _d=_b._getAccessibilityReadLabel(true);if(_d){_d=_d.trim();if(_d&&_d.length>0){_a+=_d+" ";}}}}return _a;};_pForm._playAccessibilityWholeReadLabel=function(_a){if(!nexacro._isDesktop()){return;}var _b=this.getElement();if(_b){var _c=this._getAccessibilityWholeReadLabel();_b.notifyAccessibility(_c,_a);}};_pForm._getSortedDecendants=function(_a,_b,_c){if(_b===undefined){_b=false;}var _d=[];var _e=_a._p_components;if(_e){var _f=_e.length;for(var _j=0;_j<_f;_j++ ){var _g=_e[_j];if(!_g||!_g._is_created||!_g._p_visible||((_g._isEnable&&!_g._isEnable()||!_g._p_enable)&&(!nexacro._enableaccessibility||nexacro._accessibilitytype!=5))||_g._popup){continue;}if(!_c&&!_b&&!_g.on_get_prop_tabstop()){continue;}var _h=_g._taborder;if(_h<0){_h=0;}var _i=_d.length;while(_i>0&&_d[_i -1]._taborder>_h){_d[_i]=_d[_i -1];_i-- ;}_d[_i]=_g;}}return _d;};_pForm._getAsync=function(){return this._async;};_pForm.on_notifytrigger=function(_a,_b){if(_b){var _c=this._trigger_manager;var _d=_b.eventid;for(var _g in nexacro._trigger_type_table){if(nexacro._trigger_type_table[_g]==_b.eventid){_d=_g;break;}}var _e=_a;var _f=this;if(_c){_c._notifyTrigger(_d,_e,_f);}}};_pForm._setTriggerInfo=function(_a){if(this._trigger_manager){this._trigger_manager._settriggerinfo(_a);this._trigger_manager.inittriggerinfo();}};_pForm._applyBinditemEnable=function(_a){for(var _f=0,_g=_a.length;_f<_g;_f++ ){var _b=_a[_f];var _c=_b._dataset;var _d=_b._comp;if(_c&&_d){var _e=_c.rowposition;if(_b._en_type==2){if(_d._p_enable&&_d._p_parent._isEnable()){if(_e<0){_d._setEnable(false);}}}}}};_pForm._init=function(){this._initLayoutManager();};_pForm._initLayoutManager=function(){if(this._is_subcontrol){return;}var _a=nexacro._getLayoutManager();if(_a){_a.createLayoutContainerInfo(this);_a.setLayoutScrollType(this);}};_pForm._selectLayout=function(){if(this._is_subcontrol){return;}var _a=nexacro._getLayoutManager();if(_a){var _b=_a.selectLayout(this);if(_b||!this._is_created){_a.applyStep(this);}if(this._is_created){_a.applyFluid(this);}}};_pForm._setInnerFlexibleFlag=function(_a,_b){if(_a!=this._is_flexible_container){this._is_flexible_container=_a;if(this._is_created){if(nexacro._is_native_fluidlayout&&this.getStepCount()<1){this._setLayoutContainerProps();}}this._applyFlexiblePosition(_a);}};_pForm._applyFlexiblePosition=function(_a){var _b=this._p_components;for(var _e=0,_f=_b.length;_e<_f;_e++ ){var _c=_b[_e];var _d=_c.getElement();if(_d){_d.setElementLayoutFluidPos(_a);if(_a){_c._setLayoutContentsProps();}else{_d._clearLayoutBasis();_d.setElementPosition(_c._adjust_left,_c._adjust_top);}}}};_pForm._notifyFrameResize=function(){var _a=this._p_components;for(var _c=0,_d=_a.length;_c<_d;_c++ ){var _b=_a[_c];if(_b._use_notify_frame_resize){_b._notify_frame_resize();}}};_pForm._areConsecutive=function(_a){if(!_a){return false;}var _b=false;var _c,_d,_e,_f,_g,_h,_i,_j;var _k=this._p_components;var _l=new nexacro.Collection();var _m=_a.replace(/\s/g,"").split(",");var _n=_m.length;var _o=[];var _p=nexacro._getLayoutManager();var _q=_p.getLayoutType(this);var _r=_p._fluidlayoutmanager;var _s=0,_t=0;if(_r&&_r._tabletemplate_rect){var _u=_r._tabletemplate_rect;_s=_u.length;_t=_u[0].length;}var _v=null;for(_c=0,_j=_k.length;_c<_j;_c++ ){var _w=_k[_c];if(_w&&!_w._is_group){_l.add_item(_w.id,_w);}}if(_q==0){for(_c=0;_c<_n;_c++ ){_g=_m[_c];_h=_k.indexOf(_g);if(_h<0){return false;}_i=_k[_g];if(_i._is_group){return _i._group_panel._areConsecutive(_a);}}_b=true;}else if(_q==1||_q==2){for(_c=0;_c<_n;_c++ ){_g=_m[_c];_h=_l.indexOf(_g);_i=_l[_g];var _x;if(!_i){_i=_k[_g];if(!_i){return false;}}if(!_v){_v=_i._is_group?_i._group_panel:_i._p_parent;}else{_x=_i._is_group?_i._group_panel:_i._p_parent;if(_x!=_v){return false;}}if(_v._is_panel){return _v._areConsecutive(_a);}if(_h>-1){_o.push(_h);}else{return false;}}if(_o.length>0){_o.sort(function(_ae,_af){return _ae-_af;});for(_c=1;_c<_n;_c++ ){if(_o[_c]!=_o[_c -1]+1){return false;}}_b=true;}}else if(_q==3){var _y=-1,_z=-1,_aa=-1,_ab=-1;for(_c=0;_c<_t;_c++ ){var _ac=[];for(_d=0;_d<_s;_d++ ){_ac.push(false);}_o.push(_ac);}for(_c=0;_c<_n;_c++ ){_g=_m[_c];_h=_l.indexOf(_g);if(_h>-1){_i=_l[_g];var _ad=_i._getTablecellareaCoordinate();for(_e=_ad[2];_e<=_ad[3];_e++ ){for(_f=_ad[0];_f<=_ad[1];_f++ ){_o[_f][_e]=true;}}if(_c==0){_z=_ad[0];_ab=_ad[1];_y=_ad[2];_aa=_ad[3];}else{if(_ad[0]<_z){_z=_ad[0];}if(_ad[1]>_ab){_ab=_ad[1];}if(_ad[2]<_y){_y=_ad[2];}if(_ad[3]>_aa){_aa=_ad[3];}}}}for(_c=_y;_c<=_aa;_c++ ){for(_d=_z;_d<=_ab;_d++ ){if(!_o[_d][_c]){return false;}}}_b=true;}return _b;};_pForm._getComponentsRect=function(_a){if(!_a){return false;}if(!this._areConsecutive(_a)){return false;}var _b=[];var _c,_d,_e;var _f=this._p_components;var _g=_a.replace(/\s/g,"").split(",");var _h=-1,_i=-1;var _j=0,_k=0;var _l=0,_m=0;var _n=0,_o=0,_p=0,_q=0;var _r=_g.length;var _s=nexacro._getLayoutManager();var _t=_s.getLayoutType(this);var _u=null;var _v;var _w;if(_t==0){var _x=0,_y=0;for(_c=0;_c<_r;_c++ ){_d=_g[_c];_e=_f[_d];if(!_e){return false;}if(!_u){_u=_e._is_group?_e._group_panel:_e._getForm();}_j=_e.getOffsetLeft();_k=_e.getOffsetTop();_p=_e.getOffsetWidth();_q=_e.getOffsetHeight();if(_c==0){_h=_j;_i=_k;_m=_p;_l=_q;}else{if(_h>_j){_h=_j;}if(_i>_k){_i=_k;}_m=_m+_p;if(_q>_l){_l=_q;}}}if(_u){_v=_u.getOffsetWidth();_w=_u.getOffsetHeight();var _z=_u._getCurrentStyleBorder();if(_z){_v-=_z._getBorderWidth();_w-=_z._getBorderHeight();}var _aa=_u._getCurrentStylePadding();if(_aa){_v-=_aa.left+_aa.right;_w-=_aa.top+_aa.bottom;}_m=_v>_m?_m:_v;_l=_w>_l?_l:_w;}_b=[_h,_i,_m,_l];}else if(_t==1||_t==2){_l=0;for(_c=0;_c<_r;_c++ ){_d=_g[_c];_e=_f[_d];if(!_e){return false;}if(!_u){_u=_e._is_group?_e._group_panel:_e._getForm();}_j=_e.getOffsetLeft();_k=_e.getOffsetTop();if(_c==0){_h=_j;_i=_k;}else{if(_h>_j){_h=_j;}if(_i>_k){_i=_k;}}_p=_e.getOffsetWidth();_q=_e.getOffsetHeight();if(_p>-1){_n+=_p;}if(_q>_l){_l=_q;}}if(_u){_v=_u.getOffsetWidth();_w=_u.getOffsetHeight();var _z=_u._getCurrentStyleBorder();if(_z){_v-=_z._getBorderWidth();_w-=_z._getBorderHeight();}var _aa=_u._getCurrentStylePadding();if(_aa){_v-=_aa.left+_aa.right;_w-=_aa.top+_aa.bottom;}_n=_v>_n?_n:_v;_l=_w>_l?_l:_w;}_b=[_h,_i,_n,_l];}else if(_t==3){var _ab="100%";var _ac="100%";var _ad=-1,_ae=-1,_af=-1,_ag=-1;for(_c=0;_c<_r;_c++ ){_d=_g[_c];_e=_f[_d];if(_e){_j=_e.getOffsetLeft();_k=_e.getOffsetTop();if(_c==0){_h=_j;_i=_k;}else{if(_h>_j){_h=_j;}if(_i>_k){_i=_k;}}var _ah=_e._getTablecellareaCoordinate();if(_c==0){_ae=_ah[0];_ag=_ah[1];_ad=_ah[2];_af=_ah[3];}else{if(_ah[0]<_ae){_ae=_ah[0];}if(_ah[1]>_ag){_ag=_ah[1];}if(_ah[2]<_ad){_ad=_ah[2];}if(_ah[3]>_af){_af=_ah[3];}}}}var _ai=_ae+" "+_ag+"/"+_ad+" "+_af;_b=[_h,_i,_ab,_ac,_ai];}return _b;};_pForm._removeChildFromContainer=function(_a){if(!_a){return;}var _b=_a.id;if(_b){var _c=this.getStepCount();if(_c>0){var _d=this.getElement();_d.removeChildElement(_a.getElement());}else{var _e=this.getElement().getContainerElement();if(_e.removeChildElement){_e.removeChildElement(_a.getElement());}else{this.getElement().removeChildElement(_a.getElement());}}}};_pForm._addChildToContainer=function(_a){if(!_a){return;}var _b=_a.id;if(_b){var _c=this.getStepCount();var _d=this.getElement();if(_c>0){var _e=_a.positionstep;var _f=_d.getContainerElement(_e);_f.appendChildElement(_a.getElement());}else{_d.appendChildElement(_a.getElement());}}};_pForm._properties=[{name:"all",readonly:true},{name:"binds",readonly:true},{name:"components",readonly:true},{name:"objects",readonly:true},{name:"vscrollbar",readonly:true},{name:"hscrollbar",readonly:true},{name:"opener",readonly:true},{name:"layout",readonly:true},{name:"statustext"},{name:"titletext"},{name:"dragscrolltype"},{name:"locale"},{name:"stepalign"},{name:"stepitemgap"},{name:"stepitemsize"},{name:"stepshowtype"},{name:"stepselector",readonly:true}];nexacro._defineProperties(_pForm,_pForm._properties);delete _pForm;if(!nexacro._InnerForm){nexacro._InnerForm=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){nexacro.Form.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);};var _pInnerForm=nexacro._createPrototype(nexacro.Form,nexacro._InnerForm);nexacro._InnerForm.prototype=_pInnerForm;_pInnerForm._type_name="Form";_pInnerForm._is_subcontrol=false;_pInnerForm._is_innerform=true;_pInnerForm.on_created_contents=function(_a){nexacro.FormBase.prototype.on_created_contents.call(this,_a);this._changeUserStatus("contents",true);};_pInnerForm._resetProperties=function(){this._refform=this;this.init("_inner_form",0,0,this._p_parent._getClientWidth(),this._p_parent._getClientHeight());this._child_list=[];this._hotkey_list=[];this._includescriptlist=[];this._load_callbacklist=[];this._chk_recalc_scroll=[];};_pInnerForm.on_update_position=function(_a,_b,_c){nexacro.Form.prototype.on_update_position.call(this,_a,_b,_c);};_pInnerForm.on_changeUserStatus=function(_a,_b,_c){if(_b){return _a;}return _c;};_pInnerForm._on_load=function(_a,_b){nexacro.Form.prototype._on_load.call(this,_a,_b);if(this._p_parent){this._p_parent.applyTransitionEffect();}};_pInnerForm._onHttpSystemError=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Form.prototype._onHttpSystemError.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);if(this._p_parent.cancelTransitionEffect){this._p_parent.cancelTransitionEffect();}};_pInnerForm._getScrollBarSize=function(){var _a=this._p_scrollbarsize;if(this._p_parent&&this._p_parent._p_formscrollbarsize!=null){_a=this._p_parent._p_formscrollbarsize;}if(!nexacro._isNull(_a)){return _a;}var _b=nexacro.getEnvironment();_a=_b._p_scrollbarsize;if(!nexacro._isNull(_a)){return _a;}return this._default_scrollbarsize;};_pInnerForm._getScrollIndicatorSize=function(){var _a=this._p_scrollindicatorsize;if(this._p_parent&&this._p_parent._p_formscrollindicatorsize!=null){_a=this._p_parent._p_formscrollindicatorsize;}if(!nexacro._isNull(_a)){return _a;}var _b=nexacro.getEnvironment();_a=_b._p_scrollindicatorsize;if(!nexacro._isNull(_a)){return _a;}return this._default_scrollindicatorsize;};_pInnerForm._createVScrollBar=function(_a){var _b=this._getVScrollBarType();var _c;if(_b=="autoindicator"||_b=="indicator"){if(this._p_vscrollbar&&(this._p_vscrollbar.id!=this._vscrollindicator_id)){this._p_vscrollbar.destroy();this._p_vscrollbar=null;}if(!this._p_vscrollbar){this._p_vscrollbar=new nexacro.ScrollIndicatorControl(this._vscrollindicator_id,0,0,_a,this._getClientWidth(),null,null,null,null,null,null,this);}}else{if(this._p_vscrollbar&&(this._p_vscrollbar.id!=this._vscrollbar_id)){this._p_vscrollbar.destroy();this._p_vscrollbar=null;}if(!this._p_vscrollbar){this._p_vscrollbar=new nexacro.ScrollBarControl(this._vscrollbar_id,0,0,_a,this._getClientWidth(),null,null,null,null,null,null,this);}}_c=this._p_vscrollbar;var _d=this._p_parent;var _e=nexacro._isNull(_d._p_formscrollbarbaroutsize)?this._p_scrollbarbaroutsize:_d._p_formscrollbarbaroutsize;if(!nexacro._isNull(_e)){_c.set_baroutsize(_e);}var _f=nexacro._isNull(_d._p_formscrollbarincbuttonsize)?this._p_scrollbarincbuttonsize:_d.formscrollbarincbuttonsize;if(!nexacro._isNull(_f)){_c.set_incbuttonsize(_f);}var _g=nexacro._isNull(_d._p_formscrollbardecbuttonsize)?this._p_scrollbardecbuttonsize:_d.formscrollbardecbuttonsize;if(!nexacro._isNull(_g)){_c.set_decbuttonsize(_g);}var _h=nexacro._isNull(_d._p_formscrollbarbarminsize)?this._p_scrollbarbarminsize:_d.formscrollbarbarminsize;if(!nexacro._isNull(_h)){_c.set_barminsize(_h);}var _i=nexacro._isNull(_d._p_formscrollbartrackbarsize)?this._p_scrollbartrackbarsize:_d.formscrollbartrackbarsize;if(!nexacro._isNull(_i)){_c.set_trackbarsize(_i);}if(!_c._is_created_contents){_c.set_direction("vertical");_c._setEventHandler("onscroll",this.on_notify_vscroll_onscroll,this);_c.createComponent(true);}_c.on_apply_cssclass();_c.move(0,0,_a,this._getClientWidth(),null,null);};_pInnerForm._createHScrollBar=function(_a){var _b;var _c=this._getHScrollBarType();if(_c=="autoindicator"||_c=="indicator"){if(this._p_hscrollbar&&(this._p_hscrollbar.id!=this._hscrollindicator_id)){this._p_hscrollbar.destroy();this._p_hscrollbar=null;}if(!this._p_hscrollbar){this._p_hscrollbar=new nexacro.ScrollIndicatorControl(this._hscrollindicator_id,0,0,this._getClientHeight(),_a,null,null,null,null,null,null,this);}}else{if(this._p_hscrollbar&&(this._p_hscrollbar.id!=this._hscrollbar_id)){this._p_hscrollbar.destroy();this._p_hscrollbar=null;}if(!this._p_hscrollbar){this._p_hscrollbar=new nexacro.ScrollBarControl(this._hscrollbar_id,0,0,this._getClientHeight(),_a,null,null,null,null,null,null,this);}}_b=this._p_hscrollbar;var _d=this._p_parent;var _e=nexacro._isNull(_d._p_formscrollbarbaroutsize)?this._p_scrollbarbaroutsize:_d._p_formscrollbarbaroutsize;if(!nexacro._isNull(_e)){_b.set_baroutsize(_e);}var _f=nexacro._isNull(_d._p_formscrollbarincbuttonsize)?this._p_scrollbarincbuttonsize:_d._p_formscrollbarincbuttonsize;if(!nexacro._isNull(_f)){_b.set_incbuttonsize(_f);}var _g=nexacro._isNull(_d._p_formscrollbardecbuttonsize)?this._p_scrollbardecbuttonsize:_d._p_formscrollbardecbuttonsize;if(!nexacro._isNull(_g)){_b.set_decbuttonsize(_g);}var _h=nexacro._isNull(_d._p_formscrollbarbarminsize)?this._p_scrollbarbarminsize:_d._p_formscrollbarbarminsize;if(!nexacro._isNull(_h)){_b.set_barminsize(_h);}var _i=nexacro._isNull(_d._p_formscrollbartrackbarsize)?this._p_scrollbartrackbarsize:_d._p_formscrollbartrackbarsize;if(!nexacro._isNull(_i)){_b.set_trackbarsize(_i);}if(!_b._is_created_contents){_b.set_direction("horizontal");_b._setEventHandler("onscroll",this.on_notify_hscroll_onscroll,this);_b.createComponent(true);}_b.on_apply_cssclass();_b.move(0,0,this._getClientHeight(),_a,null,null);};_pInnerForm.set_url=function(_a){this._p_parent.set_url(_a);};_pInnerForm.set_scrollbartype=function(_a){_a=nexacro._toString(_a).trim();this._p_scrollbartype=_a;this.on_apply_scrollbartype();};_pInnerForm.on_apply_scrollbartype=function(){var _a;var _b;var _c=this._p_scrollbartype?this._p_scrollbartype:"";var _d=_c.toLowerCase().split(" ");var _e=this._p_parent;var _f,_g;if(_e){_f=_e._hscrollbartype?_e._hscrollbartype:"";_g=_e._vscrollbartype?_e._vscrollbartype:"";}for(var _m=0;_m<_d.length;_m++ ){switch(_d[_m]){case "none":case "auto":case "fixed":case "autoindicator":case "indicator":case "default":if(_m==0){_b=_d[_m];}else if(_m==1){_a=_d[_m];}break;default:break;}}if(_f){_b=_f;}if(_g){_a=_g;}if(!_b&&!_a){this._hscrollbartype=undefined;this._vscrollbartype=undefined;}else{if(!_b||_b=="default"){this._hscrollbartype=_b=undefined;}else{this._hscrollbartype=_b;}if(!_a){this._vscrollbartype=_b;}else if(_a=="default"){this._vscrollbartype=undefined;}else{this._vscrollbartype=_a;}}var _h=this.getElement();if(_h){var _i=this._getHScrollBarSize();var _j=this._getVScrollBarSize();var _k=this._getHScrollBarType();var _l=this._getVScrollBarType();_h.setElementScrollbarSize(_i,_j,_k,_l,this._scrolltype);this._onResetScrollBar();}};_pInnerForm.set_scrolltype=function(_a){_a=nexacro._toString(_a);if(!nexacro._isNull(_a)){_a=_a.toLowerCase();}switch(_a){case "none":case "both":case "horizontal":case "vertical":this._p_scrolltype=_a;this.on_apply_scrolltype();break;default:break;}return _a;};_pInnerForm.on_apply_scrolltype=function(){var _a=this.scrolltype;var _b=this._p_parent;if(_b){this._scrolltype=_b._p_formscrolltype?_b._p_formscrolltype:_a;}var _c=this.getElement();if(_c){var _d=this._getHScrollBarSize();var _e=this._getVScrollBarSize();var _f=this._getHScrollBarType();var _g=this._getVScrollBarType();_c.setElementScrollbarSize(_d,_e,_f,_g,this._scrolltype);this._onResetScrollBar();}};_pInnerForm.set_scrollbarbarminsize=function(_a){if(!this._is_scrollable){return;}if(_a!==undefined){_a=parseInt(_a);if(isNaN(_a)){return;}}if(this._p_scrollbarbarminsize!=_a){this._p_scrollbarbarminsize=_a;this.on_apply_scrollbarbarminsize();}};_pInnerForm.on_apply_scrollbarbarminsize=function(){var _a=nexacro._isNull(this._p_parent.formscrollbarbarminsize)?this._p_scrollbarbarminsize:this._p_parent.formscrollbarbarminsize;var _b=this._p_vscrollbar;if(_b){_b.set_barminsize(_a);}_b=this._p_hscrollbar;if(_b){_b.set_barminsize(_a);}};_pInnerForm.set_scrollbarbaroutsize=function(_a){if(!this._is_scrollable){return;}if(_a!==undefined){_a=parseInt(_a);if(isNaN(_a)){return;}}if(this._p_scrollbarbaroutsize!=_a){this._p_scrollbarbaroutsize=_a;this.on_apply_scrollbarbaroutsize();}};_pInnerForm.on_apply_scrollbarbaroutsize=function(){var _a=nexacro._isNull(this._p_parent.formscrollbarbaroutsize)?this._p_scrollbarbaroutsize:this._p_parent.formscrollbarbaroutsize;var _b=this._p_vscrollbar;if(_b){_b.set_baroutsize(_a);}_b=this._p_hscrollbar;if(_b){_b.set_baroutsize(_a);}};_pInnerForm.set_scrollbardecbuttonsize=function(_a){if(!this._is_scrollable){return;}if(_a!==undefined){_a=parseInt(_a);if(isNaN(_a)){return;}}if(this._p_scrollbardecbuttonsize!=_a){this._p_scrollbardecbuttonsize=_a;this.on_apply_scrollbardecbuttonsize();}};_pInnerForm.on_apply_scrollbardecbuttonsize=function(){var _a=nexacro._isNull(this._p_parent.formscrollbardecbuttonsize)?this._p_scrollbardecbuttonsize:this._p_parent.formscrollbardecbuttonsize;var _b=this._p_vscrollbar;if(_b){_b.set_decbuttonsize(_a);}_b=this._p_hscrollbar;if(_b){_b.set_decbuttonsize(_a);}};_pInnerForm.set_scrollbarincbuttonsize=function(_a){if(!this._is_scrollable){return;}if(_a!==undefined){if(isNaN(_a)){return;}}if(this._p_scrollbarincbuttonsize!=_a){this._p_scrollbarincbuttonsize=_a;this.on_apply_scrollbarincbuttonsize();}};_pInnerForm.on_apply_scrollbarincbuttonsize=function(){var _a=nexacro._isNull(this._p_parent.formscrollbarincbuttonsize)?this._p_scrollbarincbuttonsize:this._p_parent.formscrollbarincbuttonsize;var _b=this._p_vscrollbar;if(_b){_b.set_incbuttonsize(_a);}_b=this._p_hscrollbar;if(_b){_b.set_incbuttonsize(_a);}};_pInnerForm.on_apply_scrollbarsize=function(){var _a=this.getElement();if(_a){var _b=this._getHScrollBarSize();var _c=this._getVScrollBarSize();var _d=this._getHScrollBarType();var _e=this._getVScrollBarType();_a.setElementScrollbarSize(_b,_c,_d,_e,this._scrolltype);}this._onResetScrollBar();};_pInnerForm.set_scrollbartrackbarsize=function(_a){if(!this._is_scrollable){return;}if(_a!==undefined){_a=parseInt(_a);if(isNaN(_a)){return;}}if(this._p_scrollbartrackbarsize!=_a){this._p_scrollbartrackbarsize=_a;this.on_apply_scrollbartrackbarsize();}};_pInnerForm.on_apply_scrollbartrackbarsize=function(){var _a=nexacro._isNull(this._p_parent.formscrollbartrackbarsize)?this._p_scrollbartrackbarsize:this._p_parent.formscrollbartrackbarsize;var _b=this._p_vscrollbar;if(_b){_b.set_trackbarsize(_a);}_b=this._p_hscrollbar;if(_b){_b.set_trackbarsize(_a);}};_pInnerForm.loadForm=function(_a,_b,_c,_d){var _e=this.getParentContext();var _f;if(_b){while(_e&&_e._is_form){_f=_e._getAsync();if(!_e._is_fired_onload&&_f===false){_b=false;break;}_e=_e.getParentContext();}}if(this._load_manager){var _g=nexacro._getFDLLocation(_a,_d);var _h=this._p_parent;while(_h&&!_h._is_frame){if(_h._is_form){var _i=_h._url;if(_g==_i){return;}}_h=_h._p_parent;}this._url=_g;this._orgurl=_a;this._base_url=nexacro._getBaseUrl(_g);if(this._load_manager){this._load_manager.clearAllLoad();}this._clearUserFunctions();this._is_loading=true;if(this._p_parent._is_frame&&this._p_parent._p_form==this){var _j=nexacro.getApplication();if(_j){_j._registerLoadforms(this);}}var _k=nexacro._getServiceObject(_a);if(this._p_parent._urlchangeeffect){}this._asyncformload=_b;this._load_manager.loadMainModule(_g,undefined,_b,_c,_k);}};_pInnerForm.addChild=function(_a,_b){var _c=-1;if(_a&&_a.length<=0){return -1;}if(!_b){throw nexacro.MakeReferenceError(this,"reference_not_define",_a);}if(this[_a]){throw nexacro.MakeNativeError(this,"native_exist_id",_a);}if(!_b.id){_b.id=_b.name=_a;}else{_b.id=_a;}_b._p_parent=this;_b._refform=this;this[_a]=_b;this._p_all.add_item(_a,_b);if(this._p_visible&&!this._real_visible){_b._real_visible=false;}else{_b._real_visible=this._p_visible;}if(_b._is_component){if(this._p_components.length==0){this._setAccessibilityStatHidden(false);}_c=this._p_components.add_item(_a,_b);this._child_list.push(_b);if(_b._is_alive&&_b._is_created){this._control_element.appendChildElement(_b.getElement());}}else if(_b instanceof nexacro.BindItem){_c=this._p_binds.add_item(_a,_b);}else{_c=this._p_objects.add_item(_a,_b);}if(_b._is_component){this._p_parent._destroyTextElement();}return _c;};_pInnerForm.insertChild=function(_a,_b,_c){var _d=nexacro.Form.prototype.insertChild.call(this,_a,_b,_c);if(_d!=-1){if(_c._is_component){this._p_parent._destroyTextElement();}}return _d;};_pInnerForm.removeChild=function(_a){var _b=nexacro.Form.prototype.removeChild.call(this,_a);if(this._p_parent){this._p_parent.on_apply_text();}if(this._last_focused){if(this._last_focused.id==_a){this._last_focused=null;}}if(this._p_components.length==0){this._setAccessibilityStatHidden(true);}return _b;};_pInnerForm.go=function(_a){if(this._orgurl!=_a){if(this._orgurl!=""){var _b=this._on_beforeclose();if(this._checkAndConfirmClose(_b)==false){return;}this._on_close();}this._resetComponent();if(_a){this._p_parent._p_url=_a;this.loadForm(_a,this._async,true);this.set_visible(true);}}};_pInnerForm.reload=function(){this._p_parent.reload();};_pInnerForm.getOwnerFrame=function(){var _a=null;if(this._p_parent&&!(this._p_parent instanceof nexacro.Frame)){_a=this._p_parent.getOwnerFrame();}else{_a=this._p_parent;}return _a;};_pInnerForm.getParentContext=function(){return this._p_parent.getParentContext();};_pInnerForm.on_fire_onclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){this._p_parent.on_fire_onclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);};_pInnerForm.on_fire_ondblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){this._p_parent.on_fire_ondblclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);};_pInnerForm.on_fire_onhscroll=function(_a,_b,_c,_d){nexacro.Component.prototype.on_fire_onhscroll.call(this,_a,_b,_c,_d);nexacro.Component.prototype.on_fire_onhscroll.call(this._p_parent,_a,_b,_c,_d);};_pInnerForm.on_fire_onvscroll=function(_a,_b,_c,_d){nexacro.Component.prototype.on_fire_onvscroll.call(this,_a,_b,_c,_d);nexacro.Component.prototype.on_fire_onvscroll.call(this._p_parent,_a,_b,_c,_d);};_pInnerForm._parseArrangeInfo=nexacro._emptyFn;delete _pInnerForm;}if(!nexacro._CompositeComponent){nexacro._CompositeComponent=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);this._p_form=new nexacro._CompositeForm("form",0,0,_d,_e,null,null,null,null,null,null,this);};var _pCompositeComponent=nexacro._CompositeComponent.prototype=nexacro._createPrototype(nexacro.Component,nexacro._CompositeComponent);_pCompositeComponent._type_name="CompositeComponent";_pCompositeComponent._apply_client_padding=false;_pCompositeComponent._is_simple_control=true;_pCompositeComponent._is_container=true;_pCompositeComponent._p_accessibilityrole="form";_pCompositeComponent._event_list={"onclick":1,"ondblclick":1,"onkillfocus":1,"onsetfocus":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onlbuttondown":1,"onlbuttonup":1,"onrbuttondown":1,"onrbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmousewheel":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"onmove":1,"onsize":1,"oncontextmenu":1,"onvscroll":1,"onhscroll":1,"onmouseup":1,"onmousedown":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"ondevicebuttonup":1};_pCompositeComponent._getFormPosition=function(){var _a=0;var _b=0;var _c=0;var _d=0;_c=this._getClientWidth();_d=this._getClientHeight();this._initControlElementCssInfo();return {left:_a,top:_b,width:_c,height:_d};};_pCompositeComponent.getParentContext=function(){return this._p_parent;};_pCompositeComponent.getOwnerFrame=function(){return this._getOwnerFrame();};_pCompositeComponent._destroyTextElement=function(){};_pCompositeComponent._destroyFormControl=function(){if(this._p_form){this._p_form._destroy();this._p_form=null;}};_pCompositeComponent.on_create_contents=function(){this._load_module();};_pCompositeComponent.on_created_contents=function(_a){var _b=this._p_form;if(_b._is_loaded&&!_b._is_created){_b.createComponent();}this._recalcLayout();};_pCompositeComponent._load_module=function(){var _a=this._refform;if(_a){var _b=_a._getRefFormBaseUrl();var _c=this._p_form;var _d=this._get_form_module();if(_d){var _e=nexacro._getFDLLocation("CompositeInner.xfdl",_b);_c.loadModule(_e,_d);}}};_pCompositeComponent.on_destroy_contents=function(){this._destroyFormControl();};_pCompositeComponent.on_create_contents_command=function(){var _a="";return _a;};_pCompositeComponent.on_attach_contents_handle=function(_a){var _b=this._p_form;if(_b._is_loaded&&!_b._is_created){_b.createComponent();}this._recalcLayout();};_pCompositeComponent.on_change_containerRect=function(_a,_b){this._recalcLayout();};_pCompositeComponent.on_change_containerPos=function(){};_pCompositeComponent.on_apply_prop_enable=function(_a){if(this._p_form){this._p_form._setEnable(_a);}};_pCompositeComponent.set_padding=nexacro._emptyFn;_pCompositeComponent.set_scrollbarbarminsize=function(_a){if(_a!==undefined){_a=parseInt(_a);if(isNaN(_a)){return;}}if(this._p_scrollbarbarminsize!=_a){this._p_scrollbarbarminsize=_a;nexacro.Component.prototype.set_scrollbarbarminsize.call(this._p_form,_a);}};_pCompositeComponent.set_scrollbarbaroutsize=function(_a){if(_a!==undefined){_a=parseInt(_a);if(isNaN(_a)){return;}}if(this._p_scrollbarbaroutsize!=_a){this._p_scrollbarbaroutsize=_a;nexacro.Component.prototype.set_scrollbarbaroutsize.call(this._p_form,_a);}};_pCompositeComponent.set_scrollbardecbuttonsize=function(_a){if(_a!==undefined){_a=parseInt(_a);if(isNaN(_a)){return;}}if(this._p_scrollbardecbuttonsize!=_a){this._p_scrollbardecbuttonsize=_a;nexacro.Component.prototype.set_scrollbardecbuttonsize.call(this._p_form,_a);}};_pCompositeComponent.set_scrollbarincbuttonsize=function(_a){if(_a!==undefined){_a=parseInt(_a);if(isNaN(_a)){return;}}if(this._p_scrollbarincbuttonsize!=_a){this._p_scrollbarincbuttonsize=_a;nexacro.Component.prototype.set_scrollbarincbuttonsize.call(this._p_form,_a);}};_pCompositeComponent.set_scrollbarsize=function(_a){if(_a!==undefined){_a=parseInt(_a);if(isNaN(_a)){return;}}if(this._p_scrollbarsize!=_a){this._p_scrollbarsize=_a;nexacro.Component.prototype.set_scrollbarsize.call(this._p_form,_a);}};_pCompositeComponent.set_scrollbartrackbarsize=function(_a){if(_a!==undefined){_a=parseInt(_a);if(isNaN(_a)){return;}}if(this._p_scrollbartrackbarsize!=_a){this._p_scrollbartrackbarsize=_a;nexacro.Component.prototype.set_scrollbartrackbarsize.call(this._p_form,_a);}};_pCompositeComponent.set_scrollbartype=function(_a){if(this._p_scrollbartype!=_a){this._p_scrollbartype=nexacro.Component.prototype.set_scrollbartype.call(this._p_form,_a);}};_pCompositeComponent.set_scrollindicatorsize=function(_a){if(_a!==undefined){_a=parseInt(_a);if(isNaN(_a)){return;}}if(this._p_scrollindicatorsize!=_a){this._p_scrollindicatorsize=_a;nexacro.Component.prototype.set_scrollindicatorsize.call(this._p_form,_a);}};_pCompositeComponent.set_scrolltype=function(_a){if(this._p_scrolltype!=_a){this._p_scrolltype=nexacro.Component.prototype.set_scrolltype.call(this._p_form,_a);}};_pCompositeComponent.getFocus=function(){return this._p_parent?this._p_parent.getFocus():null;};_pCompositeComponent._on_activate=function(){nexacro.Component.prototype._on_activate.call(this);if(this._p_form){this._p_form._on_activate();}return true;};_pCompositeComponent._on_deactivate=function(){nexacro.Component.prototype._on_deactivate.call(this);if(this._p_form){this._p_form._on_deactivate();}return true;};_pCompositeComponent._on_bubble_beforeclose=function(_a,_b,_c,_d){return this._p_parent._on_bubble_beforeclose(_a,_b,_c,_d);};_pCompositeComponent._on_bubble_close=function(_a,_b,_c){return this._p_parent._on_bubble_close(_a,_b,_c);};_pCompositeComponent._loadedForm=nexacro._emptyFn;_pCompositeComponent._closeForm=function(){this._destroyFormControl();};_pCompositeComponent._recalcLayout=function(){var _a=this._p_form;if(_a){var _b=this._getFormPosition();_a._setPos(_b.left,_b.top);_a._setSize(_b.width,_b.height);}};_pCompositeComponent._on_orientationchange=function(_a){if(this._p_form){this._p_form._on_orientationchange(_a);}};_pCompositeComponent._getComponentsByTaborder=function(){if(!this._p_form._isEnable()||!this._p_form._child_list||this._p_form._child_list.length==0){return null;}return [this._p_form];};_pCompositeComponent._searchNextTabFocus=function(_a,_b,_c,_d){var _e=nexacro.FormBase.prototype._searchNextTabFocus.call(this,_a,_b,_c,_d);if(_b&&_e&&_e[0]===this._p_form){return this._p_parent._searchNextTabFocus(this,undefined,undefined,_d);}return _e;};_pCompositeComponent._searchPrevTabFocus=function(_a,_b,_c,_d){var _e=nexacro.FormBase.prototype._searchPrevTabFocus.call(this,_a,_b,_c,_d);if(_b&&_e&&_e[0]===this._p_form){return [this];}return _e;};_pCompositeComponent._getTabOrderNext=function(_a,_b,_c){return nexacro.FormBase.prototype._getTabOrderNext.call(this,_a,_b,_c);};_pCompositeComponent._getTabOrderFirst=function(_a){return nexacro.FormBase.prototype._getTabOrderFirst.call(this,_a);};_pCompositeComponent._getTabOrderLast=function(_a){return nexacro.FormBase.prototype._getTabOrderLast.call(this,_a);};_pCompositeComponent._properties=[{name:"padding",readonly:true},{name:"form",readonly:true},{name:"scrollbarbarminsize"},{name:"scrollbarbaroutsize"},{name:"scrollbardecbuttonsize"},{name:"scrollbarincbuttonsize"},{name:"scrollbarsize"},{name:"scrollbartrackbarsize"},{name:"scrollbartype"},{name:"scrollindicatorsize"},{name:"scrolltype"}];nexacro._defineProperties(_pCompositeComponent,_pCompositeComponent._properties);delete _pCompositeComponent;nexacro._CompositeForm=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){nexacro._InnerForm.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);};var _pCompositeForm=nexacro._createPrototype(nexacro._InnerForm,nexacro._CompositeForm);nexacro._CompositeForm.prototype=_pCompositeForm;_pCompositeForm._type_name="Form";_pCompositeForm._is_subcontrol=false;_pCompositeForm.loadModule=function(_a,_b){this._url=_a;this._base_url=nexacro._getBaseUrl(_a);this._load_manager.loadMainModuleByScript(_a,_b);};delete _pCompositeForm;if(nexacro._LoadManager){var __pLoadManager=nexacro._LoadManager.prototype;if(__pLoadManager){__pLoadManager.loadMainModuleByScript=function(_a,_b){this.main_url=_a;this.status=1;this.on_load_main(_a,0,_b);};}}}}if(!nexacro.TitleBarControl){nexacro.TitleBarControl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){nexacro.Form.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);this._p_titleicon=new nexacro._TitleBarIconTextControl("titleicon",0,0,0,0,null,null,null,null,null,null,this);this._p_minbutton=new nexacro._TitleBarButtonControl("minbutton",0,0,0,0,null,null,null,null,null,null,this);this._p_maxbutton=new nexacro._TitleBarButtonControl("maxbutton",0,0,0,0,null,null,null,null,null,null,this);this._p_normalbutton=new nexacro._TitleBarButtonControl("normalbutton",0,0,0,0,null,null,null,null,null,null,this);this._p_closebutton=new nexacro._TitleBarButtonControl("closebutton",0,0,0,0,null,null,null,null,null,null,this);if(_l&&_l._is_frame&&_l._is_window){this._is_track=false;}else{this._is_track=true;}};var _pTitleBarControl=nexacro._createPrototype(nexacro.Form,nexacro.TitleBarControl);nexacro.TitleBarControl.prototype=_pTitleBarControl;_pTitleBarControl._type_name="TitleBarControl";_pTitleBarControl._p_minbutton=null;_pTitleBarControl._p_normalbutton=null;_pTitleBarControl._p_maxbutton=null;_pTitleBarControl._p_closebutton=null;_pTitleBarControl._p_titleicon=null;_pTitleBarControl._p_buttonsize=undefined;_pTitleBarControl._p_buttongap=undefined;_pTitleBarControl._p_showtitleicon=true;_pTitleBarControl._is_scrollable=false;_pTitleBarControl._is_nc_control=true;_pTitleBarControl._is_focus_accept=false;_pTitleBarControl._is_subcontrol=true;_pTitleBarControl._buttonsize=undefined;_pTitleBarControl._buttongap=1;_pTitleBarControl._is_verticalmin=false;_pTitleBarControl._absolute_style=0;_pTitleBarControl._state_openstatus=0;_pTitleBarControl._skip_mobile_tabfocus=true;_pTitleBarControl._setNotifyHandler=function(_a,_b,_c,_d,_e,_f){this._notify_target=_a;this._notify_clickminbutton=_b;this._notify_clickmaxbutton=_c;this._notify_clicknormalbutton=_d;this._notify_clickclosebutton=_e;this._notify_dblclick=_f;};_pTitleBarControl._unBindEvent=function(){this._p_minbutton._removeEventHandler("onclick",this._notify_clickminbutton,this._notify_target);this._p_maxbutton._removeEventHandler("onclick",this._notify_clickmaxbutton,this._notify_target);this._p_normalbutton._removeEventHandler("onclick",this._notify_clicknormalbutton,this._notify_target);this._p_closebutton._removeEventHandler("onclick",this._notify_clickclosebutton,this._notify_target);this._p_titleicon._removeEventHandler("ondblclick",this._notify_dblclick,this._notify_target);this._removeEventHandler("ondblclick",this._notify_dblclick,this._notify_target);};_pTitleBarControl._bindEvent=function(){this._p_minbutton._setEventHandler("onclick",this._notify_clickminbutton,this._notify_target);this._p_maxbutton._setEventHandler("onclick",this._notify_clickmaxbutton,this._notify_target);this._p_normalbutton._setEventHandler("onclick",this._notify_clicknormalbutton,this._notify_target);this._p_closebutton._setEventHandler("onclick",this._notify_clickclosebutton,this._notify_target);this._p_titleicon._setEventHandler("ondblclick",this._notify_dblclick,this._notify_target);this._setEventHandler("ondblclick",this._notify_dblclick,this._notify_target);};_pTitleBarControl._on_notify_minbutton=function(_a,_b){this._notify_minbutton=_b;};_pTitleBarControl._on_notify_maxbutton=function(_a,_b){this._notify_maxbutton=_b;};_pTitleBarControl._on_notify_normalbutton=function(_a,_b){this._notify_normalbutton=_b;};_pTitleBarControl._on_notify_closebutton=function(_a,_b){this._notify_closebutton=_b;};_pTitleBarControl.onCreateComponent=function(_a){if(!this._control_element){nexacro.Component.prototype.onCreateComponent.call(this,_a);}};_pTitleBarControl.on_create_contents=function(){var _a=this.getElement();if(_a){var _b=this._p_titleicon;var _c=this._p_minbutton;var _d=this._p_maxbutton;var _e=this._p_normalbutton;var _f=this._p_closebutton;_e.set_visible(false);var _g=this._p_parent;_b._is_fiticonsize=_g?_g._is_main:false;_b.set_hittesttype(this._hittest_type);_b.createComponent();_c.createComponent();_d.createComponent();_e.createComponent();_f.createComponent();if(this._displaytext){_b.on_apply_text(this._displaytext);}}};_pTitleBarControl.on_created_contents=function(_a){this._bindEvent();this.on_apply_showtitleicon(this._p_showtitleicon);this._recalcLayout(this._getClientWidth(),this._getClientHeight());this._p_titleicon.on_created(_a);this._p_minbutton.on_created(_a);this._p_maxbutton.on_created(_a);this._p_normalbutton.on_created(_a);this._p_closebutton.on_created(_a);this._setAccessibilityStatHidden(true);var _b=this._p_parent;if(_b&&_b._is_window){var _c=_b._getWindow();if(_c){var _d=this._p_titleicon._getCurrentIcon();nexacro._setWindowHandleIconObject(_c.handle,_d);}}};_pTitleBarControl.on_destroy_contents=function(_a){this._unBindEvent();this._notify_target=null;this._notify_clickmaxbutton=null;this._notify_clickmaxbutton=null;this._notify_clicknormalbutton=null;this._notify_clickclosebutton=null;this._notify_dblclick=null;var _b=this._p_titleicon;var _c=this._p_minbutton;var _d=this._p_maxbutton;var _e=this._p_normalbutton;var _f=this._p_closebutton;if(_b){_b.destroy(_a);this._p_titleicon=null;}if(_c){_c.destroy(_a);this._p_minbutton=null;}if(_d){_d.destroy(_a);this._p_maxbutton=null;}if(_e){_e.destroy(_a);this._p_normalbutton=null;}if(_f){_f.destroy(_a);this._p_closebutton=null;}if(this._movetrack_animationframe){this._movetrack_animationframe.stop();this._movetrack_animationframe.destroy();}};_pTitleBarControl.on_change_containerRect=function(_a,_b){if(this._is_created_contents){nexacro.Form.prototype.on_change_containerRect.call(this,_a,_b);this._recalcLayout(_a,_b);}};_pTitleBarControl.on_changeStatus=function(){var _a=this._p_parent;if(_a&&_a._activate==false){return "deactivate";}else{return "enabled";}};_pTitleBarControl.on_apply_status=function(_a){var _b=(_a=="deactivate");if(this._p_titleicon){this._p_titleicon._changeStatus("deactivate",_b);}if(this._p_minbutton){this._p_minbutton._changeStatus("deactivate",_b);}if(this._p_maxbutton){this._p_maxbutton._changeStatus("deactivate",_b);}if(this._p_normalbutton){this._p_normalbutton._changeStatus("deactivate",_b);}if(this._p_closebutton){this._p_closebutton._changeStatus("deactivate",_b);}};_pTitleBarControl.set_showtitleicon=function(_a){_a=nexacro._toBoolean(_a);if(this._p_showtitleicon!=_a){this._p_showtitleicon=_a;if(this._is_created){this.on_apply_showtitleicon(this._p_showtitleicon);}}};_pTitleBarControl.on_apply_showtitleicon=function(_a){var _b=this._p_titleicon;if(_b){_b.set_icon(_a?null:"none");}};_pTitleBarControl.on_apply_text=function(_a){if(this._p_titleicon){this._p_titleicon.set_text(_a);}};_pTitleBarControl.set_buttongap=function(_a){if(this._p_buttongap!=_a){this._p_buttongap=_a;this._buttongap=parseInt(_a);if(this._buttongap<0){this._buttongap=0;}if(this._is_created){this._recalcLayout();}}};_pTitleBarControl.set_buttonsize=function(_a){if(this._p_buttonsize!=_a){this._p_buttonsize=_a;_a=nexacro._toString(_a);this._buttonsize=_a.trim().split(" ");if(this._is_created){this._recalcLayout();}}};_pTitleBarControl._on_starttrack=function(){if(!this._is_alive){return false;}var _a=this.getOwnerFrame();if(_a){return _a._on_titlebar_starttrack();}return false;};_pTitleBarControl._on_endtrack=function(_a,_b,_c){if(!this._is_alive){return;}var _d=this.getOwnerFrame();if(_d){_d._on_titlebar_endtrack(_a,_b,_c);}};_pTitleBarControl._on_movetrack=function(_a,_b,_c,_d,_e){if(!this._is_alive){return;}var _f=this.getOwnerFrame();if(_f){if(nexacro._SupportAnimationFrame){var _g=function(){_f._on_titlebar_movetrack(_a,_b,_c,_d,_e);};if(!this._movetrack_animationframe){var _h=this;this._movetrack_animationframe=new nexacro.AnimationFrame(_h,_g);}else{this._movetrack_animationframe._setCallback(_g);}this._movetrack_animationframe.start();}else{_f._on_titlebar_movetrack(_a,_b,_c,_d,_e);}}};_pTitleBarControl._recalcLayout=function(_a,_b){if(!this._p_closebutton){return;}if(!_a||!_b){_a=this._getClientWidth();_b=this._getClientHeight();}var _c=this._getClientTop();var _d=this._getClientLeft();var _e=this._buttonsize;var _f=_b;var _g=_b;if(this._is_verticalmin){_f=_a;_g=_a;}if(_e&&_e.length>0){_f=nexacro._toInt(_e[0]);_g=nexacro._toInt(_e[_e.length-1]);}_f=_a<_f?_a:_f;_g=_b<_g?_b:_g;var _h,_i=((this._state_openstatus==2)||this._is_verticalmin);if(!this._is_verticalmin){var _j=_f+this._buttongap;_h=_c+(_b-_g)/2;var _k=_a;_k-=_f;this._p_closebutton.move(_k,_h,_f,_g);_k-=_j;this._p_maxbutton.move(_k,_h,_f,_g);if(!_i){this._p_normalbutton.move(_k,_h,_f,_g);}_k-=_j;this._p_minbutton.move(_k,_h,_f,_g);if(_i){this._p_normalbutton.move(_k,_h,_f,_g);}this._p_titleicon.move(this._getClientLeft(),_c,_k,_b);}else{var _l=this._buttongap;var _m=_d+(_a-_f)/2;_h=_b-_g;this._p_closebutton.move(_m,_h,_f,_g);_h-=_l+_g;this._p_maxbutton.move(_m,_h,_f,_g);if(!_i){this._p_normalbutton.move(_m,_h,_f,_g);}_h-=_l+_g;this._p_minbutton.move(_m,_h,_f,_g);if(_i){this._p_normalbutton.move(_m,_h,_f,_g);}var _n=_h;this._p_titleicon.move(_d,this._getClientTop(),_a,_n);}};_pTitleBarControl._changeOpenStatus=function(_a){var _b=this._prestate_openstatus=this._state_openstatus;this._state_openstatus=_a;if(this._is_verticalmin){_a=2;}if(_b!=_a){var _c=this._absolute_style;switch(_a){case 0:if((_c&0x0001)==0){this._p_minbutton.set_visible(true);}if((_c&0x0002)==0){this._p_maxbutton.set_visible(true);}if((_c&0x0008)==0){this._p_closebutton.set_visible(true);}this._p_normalbutton.set_visible(false);break;case 1:break;case 2:this._p_minbutton.set_visible(false);if((_c&0x0002)==0){this._p_maxbutton.set_visible(true);}if((_c&0x0008)==0){this._p_closebutton.set_visible(true);}if((_c&0x0004)==0){this._p_normalbutton.set_visible(true);}break;case 3:if((_c&0x0001)==0){this._p_minbutton.set_visible(true);}this._p_maxbutton.set_visible(false);if((_c&0x0008)==0){this._p_closebutton.set_visible(true);}if((_c&0x0004)==0){this._p_normalbutton.set_visible(true);}break;}this._recalcLayout(this._getClientWidth(),this._getClientHeight());}};_pTitleBarControl._setVerticalMin=function(_a){if(this._is_verticalmin==_a){return;}var _b=-1;if(_a==false){_b=2;}this._is_verticalmin=_a;var _c=this._state_openstatus;if(_b!=(-1)){this._state_openstatus=_b;}this._changeOpenStatus(_c);};_pTitleBarControl._setDragMove=function(_a,_b){if(_a&&_b){this._hittest_type="caption";}else{this._hittest_type="none";}this.on_apply_hittesttype();var _c=this._p_titleicon;if(_c){_c.set_hittesttype(this._hittest_type);}};_pTitleBarControl._setAbsoluteStyle=function(_a,_b,_c){this._absolute_style&=~(_b);this._absolute_style|=_a;if(_c==undefined||_c==true){this._applyAbsoluteStyle();}};_pTitleBarControl._applyAbsoluteStyle=function(){var _a=this._p_minbutton;var _b=this._p_maxbutton;var _c=this._p_normalbutton;var _d=this._p_closebutton;var _e=this._absolute_style;if(_a){if((_e&0x0001)>0){_a.set_visible(false);}else if((_e&0x0100)>0){_a.set_visible(true);}if((_e&0x0010)>0){_a.set_enable(false);}else if((_e&0x1000)>0){_a.set_enable(true);}}if(_b){if((_e&0x0002)>0){_b.set_visible(false);}else if((_e&0x0200)>0){_b.set_visible(true);}if((_e&0x0020)>0){_b.set_enable(false);}else if((_e&0x2000)>0){_b.set_enable(true);}}if(_c){if((_e&0x0004)>0){_c.set_visible(false);}else if((_e&0x0400)>0){_c.set_visible(true);}if((_e&0x0040)>0){_c.set_enable(false);}else if((_e&0x4000)>0){_c.set_enable(true);}}if(_d){if((_e&0x0008)>0){_d.set_visible(false);}else if((_e&0x08)>0){_d.set_visible(true);}if((_e&0x0080)>0){_d.set_enable(false);}else if((_e&0x8000)>0){_d.set_enable(true);}}};_pTitleBarControl._properties=[{name:"buttongap"},{name:"closebutton"},{name:"maxbutton"},{name:"minbutton"},{name:"normalbutton"},{name:"titleicon"}];nexacro._defineProperties(_pTitleBarControl,_pTitleBarControl._properties);delete _pTitleBarControl;}if(!nexacro.StatusBarControl){nexacro.StatusBarControl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){nexacro.Form.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);};var _pStatusBarControl=nexacro._createPrototype(nexacro.Form,nexacro.StatusBarControl);nexacro.StatusBarControl.prototype=_pStatusBarControl;_pStatusBarControl._type_name="StatusBarControl";_pStatusBarControl._p_progressbardirection="forward";_pStatusBarControl._p_progressbargap=undefined;_pStatusBarControl._p_progressbarsize=undefined;_pStatusBarControl._p_progressbarsmooth=false;_pStatusBarControl.statustext=null;_pStatusBarControl.progressbar=null;_pStatusBarControl.resizegrip=null;_pStatusBarControl.resizable=false;_pStatusBarControl._progressbargap=1;_pStatusBarControl._progressbarsize=200;_pStatusBarControl._is_nc_control=true;_pStatusBarControl._is_scrollable=false;_pStatusBarControl._is_subcontrol=true;nexacro.StatusBarControl._default_progressbarwidth=200;nexacro.StatusBarControl._default_progressbarheight=19;nexacro.StatusBarControl._default_progressbargap=1;_pStatusBarControl.set_progressbarsize=function(_a){if(this._p_progressbarsize!=_a){this._p_progressbarsize=_a;this._progressbarsize=parseInt(_a);if(this._progressbarsize<0){this._progressbarsize=0;}this.on_apply_progressbar();}};_pStatusBarControl.set_progressbargap=function(_a){if(this._p_progressbargap!=_a){this._p_progressbargap=_a;this._progressbargap=parseInt(_a);if(this._progressbargap<0){this._progressbargap=0;}this.on_apply_progressbar();}};_pStatusBarControl.on_apply_progressbar=function(){var _a=this.progressbar;if(_a&&_a.visible&&this._is_created){this._recalcLayout(this._getClientWidth(),this._getClientHeight());}};_pStatusBarControl.set_progressbardirection=function(_a){if(this._p_progressbardirection!=_a){this._p_progressbardirection=_a;this.on_apply_progressbardirection(_a);}};_pStatusBarControl.on_apply_progressbardirection=function(_a){var _b=this.progressbar;if(_b){_b.set_direction(_a);}};_pStatusBarControl.set_progressbarsmooth=function(_a){if(this._p_progressbarsmooth!=_a){this._p_progressbarsmooth=_a;this.on_apply_progressbarsmooth(_a);}};_pStatusBarControl.on_apply_progressbarsmooth=function(_a){var _b=this.progressbar;if(_b){_b.set_smooth(_a);}};_pStatusBarControl.set_resizable=function(_a){_a=nexacro._toBoolean(_a);if(this._p_resizable!=_a){this._p_resizable=_a;this.on_apply_resizable(_a);}};_pStatusBarControl._createResizeGrip=function(){var _a=this.resizegrip=new nexacro._Icon("resizegrip",0,0,0,0,null,null,null,null,null,null,this);_a._on_starttrack=this._on_starttrack;_a._on_movetrack=this._on_movetrack;_a._on_endtrack=this._on_endtrack;_a._setControl();_a.createComponent();return _a;};_pStatusBarControl.on_apply_resizable=function(_a){var _b=this.resizegrip;var _c=this.getOwnerFrame();if(this._is_created&&_a&&!_b){_b=this._createResizeGrip();_b.on_created(this._getWindow());}if(_c&&_b){_b._is_track=_a;_b.set_cursor(_a?"se-resize":"arrow");var _d=_b.getElement();if(_d){_d.setElementHittestType(_a&&_c._is_window?"resizingborder_bottomright":undefined);}}this._recalcLayout(this._getClientWidth(),this._getClientHeight());};_pStatusBarControl.onCreateComponent=function(_a){if(!this._control_element){nexacro.Component.prototype.onCreateComponent.call(this,_a);}};_pStatusBarControl.on_create_contents=function(){var _a=this.getElement();if(_a){var _b=this.statustext=new nexacro.Static("statustext",0,0,0,0,null,null,null,null,null,null,this);_b._setControl();if(this._displaytext){_b.set_text(this._displaytext);}_b.createComponent();var _c=this.progressbar=new nexacro.ProgressBar("progressbar",0,0,0,0,null,null,null,null,null,null,this);_c._setControl();_c.createComponent();this._createResizeGrip();}};_pStatusBarControl.on_created_contents=function(_a){this.on_apply_resizable(this.resizable);this.statustext.on_created(_a);this.progressbar.on_created(_a);this.resizegrip.on_created(_a);};_pStatusBarControl.on_destroy_contents=function(_a){var _b=this.statustext;var _c=this.progressbar;var _d=this.resizegrip;if(_b){_b.destroy(_a);this.statustext=null;}if(_c){_c.destroy(_a);this.progressbar=null;}if(_d){_d.destroy(_a);this.resizegrip=null;}};_pStatusBarControl.on_change_containerRect=function(_a,_b){if(this._is_created_contents){nexacro.Form.prototype.on_change_containerRect.call(this,_a,_b);this._recalcLayout(_a,_b);}};_pStatusBarControl.on_apply_text=function(_a){if(this.statustext){this.statustext.set_text(_a);}};_pStatusBarControl._on_load_resizegripicon=function(){};_pStatusBarControl._recalcLayout=function(_a,_b){var _c=_a;var _d=this._getClientTop();var _e=this.resizegrip;if(_e){var _f=0;if(this.resizable){var _g=_e._getCurrentStylePadding();var _h=_e._getCurrentStyleBorder();var _i=_e.icon?_e.icon:_e._getCSSStyleValue("icon");if(_h){_f=_h._getBorderWidth();}if(_g){_f+=_g.left+_g.right;}if(_i){var _j=nexacro._getImageSize(_i.value,this._on_load_resizegripicon,this);if(_j){_f+=_j.width;}}_c=_a-_f;}_e.move(_c,_d,_f,_b);}var _k=this.progressbar;if(_k){var _l=this._progressbarsize;_c-=(this._progressbargap+_l);_k.move(_c,_d,_l,_b);}var _m=this.statustext;if(_m){_m.move(this._getClientLeft(),_d,_c,_b);}};_pStatusBarControl._on_starttrack=function(){var _a=this._p_parent.getOwnerFrame();_a._on_border_starttrack(this.cursor);};_pStatusBarControl._on_endtrack=function(_a,_b,_c){var _d=this._p_parent.getOwnerFrame();_d._on_border_endtrack(_a,_b,_c);};_pStatusBarControl._on_movetrack=function(_a,_b,_c){var _d=this._p_parent.getOwnerFrame();_d._on_border_movetrack(_a,_b,_c);};_pStatusBarControl._properties=[{name:"progressbardirection"},{name:"progressbargap"},{name:"progressbarsize"},{name:"progressbarsmooth"}];nexacro._defineProperties(_pStatusBarControl,_pStatusBarControl._properties);delete _pStatusBarControl;}if(!nexacro.Frame){"use strict";var _process=true;nexacro.Frame=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.FormBase.call(this,_a,_b,_c,_d,_e,_f,_g,null,null,null,null,_h);this._frames=new nexacro.Collection();if(_h){this._is_top_frame=(_h._type_name=="Application");}this._is_main=_i;};var _pFrame=nexacro._createPrototype(nexacro.FormBase,nexacro.Frame);nexacro.Frame.prototype=_pFrame;_pFrame._type_name="Frame";_pFrame._p_titlebar=null;_pFrame._p_statusbar=null;_pFrame._p_openalign="";_pFrame._p_openstatus="normal";_pFrame._p_showcascadestatustext=false;_pFrame._p_showcascadetitletext=true;_pFrame._p_showstatusbar=false;_pFrame._p_showtitlebar=true;_pFrame._p_showtitleicon=true;_pFrame._p_statustext="";_pFrame._p_titletext="";_pFrame._p_topmost=false;_pFrame._p_statusbarheight=undefined;_pFrame._p_titlebarheight=undefined;_pFrame._p_titlebartype="normal";_pFrame._p_titlebarbuttonsize=undefined;_pFrame._p_titlebarbuttongap=undefined;_pFrame._p_progressbardirection=undefined;_pFrame._p_progressbargap=undefined;_pFrame._p_progressbarsmooth=undefined;_pFrame._p_progressbarsize=undefined;_pFrame._event_list={"onactivate":1,"ondeactivate":1,"onbeforeclose":1,"onclose":1,"onkeydown":1,"onkeyup":1,"onlbuttondown":1,"onlbuttonup":1,"onrbuttondown":1,"onrbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmousewheel":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"onmove":1,"onsize":1,"ondevicebuttondown":1,"ondevicebuttonpush":1,"ondevicebuttonup":1,"onsyscommand":1,"onorientationchange":1};_pFrame._state_openstatus=0;_pFrame._is_click_openstatus=false;_pFrame._is_verticalmin=false;_pFrame._restore_position=null;_pFrame._starttrack_position=null;_pFrame._resizemode=null;_pFrame._defaulttitleheight=20;_pFrame._defaultstatusheight=20;_pFrame._titlebarheight=undefined;_pFrame._statusbarheight=undefined;_pFrame._is_frameset=false;_pFrame._is_frame=true;_pFrame._is_form=false;_pFrame._window=null;_pFrame._activate=false;_pFrame._window_type=-1;_pFrame.accessibilityrole="frame";_pFrame._is_scrollable=false;_pFrame.on_apply_font=function(_a){nexacro.Component.prototype.on_apply_font.call(this,_a);if(this._p_frames){var _b=this._p_frames;var _c=_b.length;for(var _f=0;_f<_c;_f++ ){if(_b[_f]){if(this._getWindow()!=_b[_f]._getWindow()){continue;}_b[_f]._update_position();}}}else{if(nexacro._Browser!="Runtime"&&(this._is_main||this._is_popup_frame)){var _d=this.getElement();if(_d&&_d.handle){var _e=_d.handle;_d._refreshControl(_e,_e.style);}}}this._update_position();};_pFrame.set_padding=function(){};_pFrame.set_titlebarheight=function(_a){if(nexacro._isHybrid&&nexacro._isHybrid()&&nexacro._OS=="Android"&&_a==""){this._p_titlebarheight=this._defaulttitleheight;this._titlebarheight=this._getAppliedTitleHeight(this._defaulttitleheight);if(this._isShowTitleBar()){this.on_apply_titlebarheight(this._titlebarheight);}}else{if(this._p_titlebarheight!=_a){this._p_titlebarheight=_a;this._titlebarheight=this._getAppliedTitleHeight(parseInt(_a));if(this._isShowTitleBar()){this.on_apply_titlebarheight(this._titlebarheight);}}}};_pFrame.on_apply_titlebarheight=function(_a){var _b=this._control_element;if(_b){_b.setTitleBarControl(this._p_titlebar,_a);}};_pFrame.set_statusbarheight=function(_a){if(nexacro._isHybrid&&nexacro._isHybrid()&&nexacro._OS=="Android"&&_a==""){this._p_statusbarheight=this._defaultstatusheight;this._statusbarheight=this._defaultstatusheight;this.on_apply_statusbarheight(this._statusbarheight);}else{if(this._p_statusbarheight!=_a){this._p_statusbarheight=_a;this._statusbarheight=this._getAppliedStatusHeight(parseInt(_a));this.on_apply_statusbarheight(this._statusbarheight);}}};_pFrame.on_apply_statusbarheight=function(_a){var _b=this._control_element;if(_b){_b.setStatusBarControl(this._p_statusbar,_a);}};_pFrame.set_titlebartype=function(_a){if(this._p_titlebartype!=_a){this._p_titlebartype=_a;this.on_apply_titlebartype(_a);}};_pFrame.on_apply_titlebartype=function(){};_pFrame.set_titlebarbuttonsize=function(_a){if(this._p_titlebarbuttonsize!=_a){this._p_titlebarbuttonsize=_a;this.on_apply_titlebarbuttonsize(_a);}};_pFrame.on_apply_titlebarbuttonsize=function(_a){var _b=this._p_titlebar;if(_b){_b.set_buttonsize(_a);}};_pFrame.set_titlebarbuttongap=function(_a){_a=parseInt(_a);if(this._p_titlebarbuttongap!=_a){this._p_titlebarbuttongap=_a;this.on_apply_titlebarbuttongap(_a);}};_pFrame.on_apply_titlebarbuttongap=function(_a){var _b=this._p_titlebar;if(_b){_b.set_buttongap(_a);}};_pFrame.set_progressbardirection=function(_a){if(this._p_progressbardirection!=_a){this._p_progressbardirection=_a;this.on_apply_progressbardirection(_a);}};_pFrame.on_apply_progressbardirection=function(_a){var _b=this._p_statusbar;if(_b){_b.set_progressbardirection(_a);}};_pFrame.set_progressbargap=function(_a){_a=parseInt(_a);if(this._p_progressbargap!=_a){this._p_progressbargap=_a;this.on_apply_progressbargap(_a);}};_pFrame.on_apply_progressbargap=function(_a){var _b=this._p_statusbar;if(_b){_b.set_progressbargap(_a);}};_pFrame.set_progressbarsmooth=function(_a){_a=nexacro._toBoolean(_a);if(this._p_progressbarsmooth!=_a){this._p_progressbarsmooth=_a;this.on_apply_progressbarsmooth(_a);}};_pFrame.on_apply_progressbarsmooth=function(_a){var _b=this._p_statusbar;if(_b){_b.set_progressbarsmooth(_a);}};_pFrame.set_progressbarsize=function(_a){_a=parseInt(_a);if(this._p_progressbarsize!=_a){this._p_progressbarsize=_a;this.on_apply_progressbarsize(_a);}};_pFrame.on_apply_progressbarsize=function(_a){var _b=this._p_statusbar;if(_b){_b.set_progressbarsize(_a);}};_pFrame._on_window_loaded=nexacro._emptyFn;_pFrame.on_created_contents=function(_a){var _b=this._p_titlebar;if(this._isShowTitleBar()&&_b){this._applyTitleBarProperties();_b.on_created(_a);}var _c=this._p_statusbar;if(_c){this._applyStatusBarProperties();_c.on_created(_a);}};_pFrame._initComponent=function(){this._initUniqueID();if(this._is_window){nexacro._checkWindowActive(this._window);}};_pFrame._applyProperties=function(){this.on_apply_prop_stringresource();};_pFrame._isShowTitleBar=function(){return this._p_showtitlebar;};_pFrame._isShowStatusBar=function(){return this._p_showstatusbar;};_pFrame.on_create_contents=function(){this._p_titlebar=this._createTitleBar();if(this._isShowTitleBar()){this._setNotifyTitleBar();}if(this._isShowStatusBar()){this._p_statusbar=this._createStatusBar();}if(!nexacro._is_loaded_application){this._on_focus(true);}};_pFrame.on_created=function(_a){var _b=this._is_created;var _c=this._p_titlebar;if(this._isShowTitleBar()&&_c){this._applyTitleBarProperties();}var _d=this._p_statusbar;if(_d){this._applyStatusBarProperties();}if(nexacro._isEmbedded){if(this._p_form){if(this._p_form._control_element){this._p_form._on_load(this,this._url);}}nexacro.FormBase.prototype.on_created.call(this,_a);}else{nexacro.FormBase.prototype.on_created.call(this,_a);if(this._p_form){if(this._p_form._control_element){this._p_form._on_load(this,this._url);}}}if(!_b&&this._state_openstatus!=0){var _e=this._p_enableevent;var _f=this._p_openstatus;this._p_enableevent=false;this._p_openstatus="normal";this._state_openstatus=0;this._on_syscommand(this._control_element,_f);this._p_enableevent=_e;}var _g=this._control_element;if(_g){_g._setResizable(this._canDragResize());}if(this._is_window){this._applyTitleText();this._applyStatusText();}};_pFrame.on_destroy_contents=function(_a){if(this._p_statusbar){this._p_statusbar.destroyComponent(_a);this._p_statusbar=null;}if(this._p_titlebar){this._p_titlebar.destroyComponent(_a);this._p_titlebar=null;}};_pFrame._createTitleBar=function(){var _a=this._p_titlebar;if(!_a){_a=new nexacro.TitleBarControl("titlebar",0,0,this._adjust_width,0,null,null,null,null,null,null,this);}if(this._isTopFrame()){_a._hittest_type="caption";}else{if(this&&this._is_frame&&this._is_window&&this._dragmovetype!=0){_a._hittest_type="caption";}}_a.createComponent(true);return _a;};_pFrame._setNotifyTitleBar=function(){var _a=this._p_titlebar;if(_a){_a._setNotifyHandler(this,this._on_minbutton_click,this._on_maxbutton_click,this._on_normalbutton_click,this._on_closebutton_click,this._on_titlebar_dblclick);}};_pFrame._createStatusBar=function(){var _a;if(this._isTopFrame()){_a=new nexacro._MainStatusBarControl("statusbar",0,0,this._adjust_width,0,null,null,null,null,null,null,this);}else{_a=new nexacro.StatusBarControl("statusbar",0,0,this._adjust_width,0,null,null,null,null,null,null,this);}_a.createComponent(true);return _a;};_pFrame._applyStatusBarProperties=function(){var _a=this._p_statusbar;if(_a){var _b=this._p_progressbardirection;if(_b){_a.set_progressbardirection(_b);}_b=this._p_progressbargap;if(_b!=undefined){_a.set_progressbargap(_b);}_b=this._p_progressbarsmooth;if(_b){_a.set_progressbarsmooth(_b);}_b=this._p_progressbarsize;if(_b!=undefined){_a.set_progressbarsize(_b);}_b=this._getStatusText(this._p_showcascadestatustext);if(_b){_a.set_text(_b);}_b=this._statusbarheight!==undefined?this._statusbarheight:(this._statusbarheight=this._getAppliedStatusHeight(this._defaultstatusheight));if(_b){this.on_apply_statusbarheight(_b);}_a.set_resizable(this._canDragResize());}};_pFrame._applyTitleBarProperties=function(){var _a=this._p_titlebar;if(_a){var _b=this._p_titlebarbuttonsize;if(_b!==undefined){_a.set_buttonsize(_b);}_a.set_showtitleicon(this._p_showtitleicon);_b=this._p_titlebarbuttongap;if(_b!==undefined){_a.set_buttongap(_b);}_b=this._getTitleText(this._p_showcascadetitletext);if(_b){_a.set_text(_b);}_b=this._titlebarheight!==undefined?this._titlebarheight:(this._titlebarheight=this._getAppliedTitleHeight(this._defaulttitleheight));if(_b){this.on_apply_titlebarheight(_b);}this._resetTitleAbsoluteStyle();}};_pFrame.on_changeStatus=function(_a,_b,_c,_d,_e){if(_a=="mouseover"){return _d;}if(_a=="deactivate"){this._changeStateActivate(_b?false:true);return _b?"deactivate":"activate";}else{if(_a=="disabled"&&_b==true){return "disabled";}if(_a=="focused"){if(_b!=false){var _f=this._getWindow();if(_f._is_active_window==false){this._changeStateFocus(true);return "deactivate";}else{this._changeStateActivate(true);}}}else{this._changeStateActivate(true);}return "enable";}};_pFrame.on_apply_status=function(_a,_b){if(_a=="deactivate"){this._changeStateActivate(false);}else if(_a=="enabled"||_a=="focused"||_b=="pushed"){this._changeStateActivate(true);}};_pFrame.setFocus=function(_a){var _b=this._window;if(this._is_window&&_b&&_b.handle){_b._setFocus();}else{if(this._active_frame){this._active_frame.setFocus();}else if(this._p_form){this._p_form._setFocus();}}};_pFrame._update_position=function(_a,_b){var _c=this._left;var _d=this._top;var _e=this._adjust_width;var _f=this._adjust_height;var _g=false;if(this._is_window&&this._window){this._adjustPosition(this._p_left,this._p_top,this._p_right,this._p_bottom,this._p_width,this._p_height,0,0);}else{if(this._p_parent){this._adjustPosition(this._p_left,this._p_top,this._p_right,this._p_bottom,this._p_width,this._p_height,this._p_parent._getClientWidth(),this._p_parent._getClientHeight());}else{this._adjustPosition(this._p_left,this._p_top,this._p_right,this._p_bottom,this._p_width,this._p_height,0,0);}}if(this._adjust_width!=_e||this._adjust_height!=_f){_a=true;if(_e==0||_f==0){_g=true;}}if(this._left!=_c||this._top!=_d){_b=true;}this.on_update_position(_a,_b);if(_g){this._apply_status(this._oldstatus,this._status,this._olduserstatus,this._userstatus);}};_pFrame._adjustPosition=function(_a,_b,_c,_d,_e,_f,_g,_h){var _i=null;var _j=this._isRtl();if(this._is_window&&this._window){_e=_g=_e?_e:nexacro._getWindowHandleClientWidth(this._window.handle);_f=_h=_f?_f:nexacro._getWindowHandleClientHeight(this._window.handle);}else{var _k=this._p_parent;if(_k){_g=_k._getClientWidth();_h=_k._getClientHeight();}}var _l=_a;var _m=_c;for(var _n=0;_n<6;_n++ ){switch(_n){case 0:_i=_l;if(_l!=null){if(_n%2==0){_i=this._convToPixel(_l,_g);}else{_i=this._convToPixel(_l,_h);}}if(isNumber(_i)||_i===null){this._p_left=_a;this._left=_i;this._adjust_left=_i;}break;case 1:_i=_b;if(_b!=null){if(_n%2==0){_i=this._convToPixel(_b,_g);}else{_i=this._convToPixel(_b,_h);}}if(isNumber(_i)||_i===null){this._p_top=_b;this._top=_i;this._adjust_top=_i;}break;case 2:_i=_m;if(_m!=null){if(_n%2==0){_i=this._convToPixel(_m,_g);}else{_i=this._convToPixel(_m,_h);}}if(isNumber(_i)||_i===null){this._p_right=_c;this._right=_i;}break;case 3:_i=_d;if(_d!=null){if(_n%2==0){_i=this._convToPixel(_d,_g);}else{_i=this._convToPixel(_d,_h);}}if(isNumber(_i)||_i===null){this._p_bottom=_d;this._bottom=_i;}break;case 4:_i=_e;if(_e!=null){if(_n%2==0){_i=this._convToPixel(_e,_g);}else{_i=this._convToPixel(_e,_h);}}if(isNumber(_i)||_i===null){this._p_width=_e;this._width=_i;}break;case 5:_i=_f;if(_f!=null){if(_n%2==0){_i=this._convToPixel(_f,_g);}else{_i=this._convToPixel(_f,_h);}}if(isNumber(_i)||_i===null){this._p_height=_f;this._height=_i;}break;}}this._adjust_width=this._width!=null?this._width:_g-this._left-this._right;this._adjust_height=this._height!=null?this._height:_h-this._top-this._bottom;if(this._is_window){this._adjust_top=this._adjust_left=0;}else{if(this._left!=null||this._right!=null){this._adjust_left_ltr=this._adjust_left=this._left!=null?this._left:_g-this._right-this._adjust_width;}else{this._adjust_left_ltr=this._adjust_left=0;}if(this._top!=null||this._bottom!=null){this._adjust_top=this._top!=null?this._top:_h-this._bottom-this._adjust_height;}else{this._adjust_top=0;}if(_j){this._adjust_left_ltr=this._right!=null?this._right:_g-this._left-this._adjust_width;}}};_pFrame._waitCursor=function(_a,_b){var _c=this.getOwnerFrame();if(_c){_c._waitCursor(_a,_b);}};_pFrame.on_update_position=function(_a,_b,_c){var _d=nexacro.FormBase.prototype.on_update_position.call(this,_a,_b,_c);if(this._is_window&&nexacro._Browser=="Runtime"){var _e=this._window;if(_e){this._initControlElementCssInfo();if(_a){_e.setSize(this._adjust_width,this._adjust_height);}if(_b){_e.moveTo(this._left,this._top);}}}return _d;};_pFrame.set_left=function(_a){if(!this._canMove()){return;}return nexacro.FormBase.prototype.set_left.call(this,_a);};_pFrame.set_top=function(_a){if(!this._canMove()){return;}return nexacro.FormBase.prototype.set_top.call(this,_a);};_pFrame.set_right=function(_a){if(!this._canMove()){return;}return nexacro.FormBase.prototype.set_right.call(this,_a);};_pFrame.set_bottom=function(_a){if(!this._canMove()){return;}return nexacro.FormBase.prototype.set_bottom.call(this,_a);};_pFrame.set_width=function(_a){if(!this._canResize()){return;}return nexacro.FormBase.prototype.set_width.call(this,_a);};_pFrame.set_height=function(_a){if(!this._canResize()){return;}return nexacro.FormBase.prototype.set_height.call(this,_a);};_pFrame.set_openstatus=function(_a){if(this._p_openstatus!=_a){switch(_a){case "minimize":case "maximize":break;case "normal":default:if(this._state_openstatus==2||this._state_openstatus==3){_a="restore";}break;}this._on_syscommand(this._control_element,_a);}};_pFrame.set_showcascadestatustext=function(_a){var _b=nexacro._toBoolean(_a);if(this._p_showcascadestatustext!=_b){this._p_showcascadestatustext=_b;this._applyStatusText();}};_pFrame.set_showcascadetitletext=function(_a){var _b=nexacro._toBoolean(_a);if(this._p_showcascadetitletext!=_b){this._p_showcascadetitletext=_b;this._applyTitleText();}};_pFrame.set_showstatusbar=function(_a){var _b=nexacro._toBoolean(_a);if(this._p_showstatusbar!=_b){this._p_showstatusbar=_b;this.on_apply_showstatusbar(_b);}};_pFrame.on_apply_showstatusbar=function(_a){var _b=this._p_statusbar;if(_a){if(!_b){if(this._isShowStatusBar()){_b=this._p_statusbar=this._createStatusBar();this._applyStatusBarProperties();_b.on_created();}}else{_b.set_visible(true);this.on_apply_statusbarheight(this._statusbarheight);}}else{if(_b){_b.set_visible(false);this.on_apply_statusbarheight(0);}}};_pFrame.set_showtitlebar=function(_a){var _b=nexacro._toBoolean(_a);if(this._p_showtitlebar!=_b){this._p_showtitlebar=_b;this.on_apply_showtitlebar(_b);}};_pFrame.on_apply_showtitlebar=function(_a){var _b=this._p_titlebar;if(_a){if(this._isShowTitleBar()){if(!_b||!_b._is_created){_b=this._p_titlebar=this._createTitleBar();}if(!_b._is_created){this._setNotifyTitleBar();this._applyTitleBarProperties();_b.on_created();}}_b.set_visible(true);this.on_apply_titlebarheight(this._titlebarheight);}else{if(_b){_b.set_visible(false);this.on_apply_titlebarheight(0);}}this._applyDragMoveType();};_pFrame.set_showtitleicon=function(_a){var _b=nexacro._toBoolean(_a);if(this._p_showtitleicon!=_b){this._p_showtitleicon=_b;this.on_apply_showtitleicon(_b);}};_pFrame.on_apply_showtitleicon=function(_a){var _b=this._p_titlebar;if(_b){_b.set_showtitleicon(_a);}};_pFrame.set_statustext=function(_a){if(this._p_statustext!=_a){this._p_statustext=_a;this._applyStatusText();}};_pFrame.set_titletext=function(_a){if(this._p_titletext!=_a){this._p_titletext=_a;this._applyTitleText();}};_pFrame.set_topmost=function(_a){var _b=nexacro._toBoolean(_a);if(this._p_topmost!=_b){this._p_topmost=_b;if(!this._is_window){return;}var _c=this._getWindow();if(_c){nexacro._setWindowTopmost(_c.handle,_b);}}};_pFrame._applyElementVisible=function(_a){this._control_element.setElementDisplay(_a?"":"none");};_pFrame.set_visible=function(_a){nexacro.FormBase.prototype.set_visible.call(this,_a);_a=nexacro._toBoolean(_a);if(this._is_window&&nexacro._Browser=="Runtime"){var _b=this._getWindow();if(_b){nexacro._setPopupWindowHandleVisible(_b.handle,_a);}}if(this._p_visible!=_a){var _c=this._p_parent;if(_c&&_c._is_frameset&&this._state_openstatus==3&&!_a){var _d=_c._getNextOrderFrame(this);if(_d){_d._changeOpenStatus(3);}}}};_pFrame._properties=[{name:"left"},{name:"top"},{name:"colcount",readonly:true},{name:"right"},{name:"bottom"},{name:"width"},{name:"height"},{name:"openstatus"},{name:"showcascadestatustext"},{name:"showcascadetitletext"},{name:"showstatusbar"},{name:"showtitlebar"},{name:"showtitleicon"},{name:"statusbarheight"},{name:"statustext"},{name:"titlebarheight"},{name:"titlebarbuttongap"},{name:"titlebarbuttonsize"},{name:"titletext"},{name:"topmost"},{name:"visible"},{name:"statusbar",readonly:true},{name:"titlebar",readonly:true},{name:"frames",readonly:true},{name:"all",readonly:true}];nexacro._defineProperties(_pFrame,_pFrame._properties);_pFrame.alert=function(_a,_b,_c){nexacro._alert(this,_a,_b,_c);};_pFrame.confirm=function(_a,_b,_c){return nexacro._confirm(this,_a,_b,_c);};_pFrame.getHandle=function(){return -1;};_pFrame.getNativeHandle=function(){if(nexacro._Browser=="Runtime"){var _a=this._getWindow();if(_a){return nexacro._getWindowHwndHandle(_a.handle);}}return undefined;};_pFrame.getOwnerFrame=function(){if(this._p_parent&&this._p_parent._is_frame){return this._p_parent;}return null;};_pFrame.addChild=function(_a,_b){if(_a&&_a.length<=0){return -1;}if(!_b){throw nexacro.MakeReferenceError(this,"reference_not_define",_a);}if(this[_a]){throw nexacro.MakeNativeError(this,"native_exist_id",_a);}if(!_b._is_frame){throw nexacro.MakeTypeError(this,"type_invalid",_a);}_b._p_parent=this;if(!_b.id){_b.id=_b._p_name=_a;}else{_b.id=_a;}this[_a]=_b;this._p_all.add_item(_a,_b);var _c=this._frames.add_item(_a,_b);if(this._is_frameset){this._p_frames.add_item(_a,_b);this._zordermap.add_item(_a,_b);if(this._max_frame&&this._max_frame!=_b&&_b._state_openstatus==3){this._max_frame._changeOpenStatus(0);}if(this._state_openstatus==2||this._is_autorecalc_frame==true){var _d=this._control_element;if(_d){this.on_change_containerRect(this._getClientWidth(),this._getClientHeight());}}}return _c;};_pFrame.insertChild=function(_a,_b,_c){if(_b&&_b.length<=0){return -1;}if(!_c){throw nexacro.MakeReferenceError(this,"reference_not_define",_b);}if(this[_b]){throw nexacro.MakeNativeError(this,"native_exist_id",_b);}if(!_c._is_frame){throw nexacro.MakeTypeError(this,"type_invalid",_b);}_c._p_parent=this;if(!_c.id){_c.id=_c._p_name=_b;}else{_c.id=_b;}this[_b]=_c;this._p_all.add_item(_b,_c);_a=this._frames.insert_item(_a,_b,_c);if(this._is_frameset){this._p_frames.insert_item(_a,_b,_c);if(this._is_autorecalc_frame==true){var _d=this._control_element;if(_d){this.on_change_containerRect(this._getClientWidth(),this._getClientHeight());}}}return _a;};_pFrame.removeChild=function(_a){if(_a&&_a.length<=0){return null;}if(!this[_a]){return null;}var _b=this[_a];if(_b){var _c=false;var _d=this._getWindow();if(_d){_c=(_d._indexOfCurrentFocusPaths(_b)>-1);}var _e=null;if(this._is_frameset&&this._active_frame==_b){_e=this._getNextOrderFrame(_b);}if(_b._is_frame){if(_b._activate==true){_b._changeStateActivate(false);}if(this._is_alive){if(_d.id==_b._getWindow().id){_d._removeFromCurrentFocusPath(_b,true);if(_c){_d._last_focused_elem=this._control_element;}}}if(_d.id!=_b._getWindow().id){if(nexacro._Browser=="Runtime"&&(nexacro._SystemType.toLowerCase()=="win32"||nexacro._SystemType.toLowerCase()=="win64")){if(_b._window_type==5){nexacro._unregisterPopupFrame(_a,_d,undefined,true);}else{nexacro._unregisterPopupFrame(_a,_d);}}else{nexacro._unregisterPopupFrame(_a,_d);}nexacro._getLocalStorageforService();}}this._frames.remove_item(_a);delete this[_a];this._p_all.remove_item(_a);if(this._is_frameset){this._p_frames.remove_item(_a);this._zordermap.remove_item(_a);}if(this._is_alive&&_b._control_element){_b._control_element._removeFromContainer();}if(this._is_frameset){var _f=false;if(this._max_frame==_b){this._max_frame=null;_f=true;}if(this._active_frame==_b){this._active_frame=null;}if(_f&&_e){_e._changeOpenStatus(3);}}if(this._is_frameset&&(this._state_openstatus==2||this._is_autorecalc_frame==true)){var _g=this._control_element;if(_g){this.on_change_containerRect(this._getClientWidth(),this._getClientHeight());}}if(_e){_e.setFocus();}if(this._window_type<0){this._applyTitleText();}}return _b;};_pFrame.move=function(_a,_b,_c,_d,_e,_f){if(!this._canMove()){return;}this._move(_a,_b,_c,_d,_e,_f);var _g=this.getOwnerFrame();if(_g&&_g._is_frameset){_g._on_child_movetrack(this);}};_pFrame._move=function(_a,_b,_c,_d,_e,_f){var _g=this._left;var _h=this._top;var _i=this._adjust_width;var _j=this._adjust_height;var _k=false,_l=false;if(this._is_window&&this._window){this._adjustPosition(_a,_b,_e,_f,_c,_d,null,null);}else{if(this._p_parent){this._adjustPosition(_a,_b,_e,_f,_c,_d,this._p_parent._getClientWidth(),this._p_parent._getClientHeight());}else{this._adjustPosition(_a,_b,_e,_f,_c,_d,null,null);}}if(this._adjust_width!=_i||this._adjust_height!=_j){_k=true;}if(this._left!=_g||this._top!=_h){_l=true;}this.on_update_position(_k,_l,_l?false:this._isRtl(this._p_parent));};_pFrame.resize=function(_a,_b){if(!this._canResize()){return;}return nexacro.FormBase.prototype.resize.call(this,_a,_b);};_pFrame._on_titlebar_dblclick=function(_a,_b){if(this.resizable==false){return;}switch(this._state_openstatus){case 0:this._on_maxbutton_click();break;case 2:case 3:this._on_normalbutton_click();break;}};_pFrame._on_titlebar_starttrack=function(){if(!this._canDragMove()){this._starttrack_position=null;return false;}this._starttrack_position={left:this._adjust_left_ltr,top:this._adjust_top,width:this._adjust_width,height:this._adjust_height};var _a=this.getOwnerFrame();if(_a&&_a._is_frameset){_a._on_child_starttrack(this);}};_pFrame._on_titlebar_endtrack=function(_a,_b,_c){if(this._starttrack_position==null){return;}var _d=this.getOwnerFrame();if(_d&&_d._is_frameset){_d._on_child_endtrack(this,_a,_b,_c);}delete this._starttrack_position;};_pFrame._on_titlebar_movetrack=function(_a,_b,_c,_d,_e){var _f=this._starttrack_position;if(_f==null){return;}if(this._window_type!=0&&nexacro._Browser=="Runtime"){_d=_d* nexacro._getDevicePixelRatio(this._p_titlebar.getElement());_e=_e* nexacro._getDevicePixelRatio(this._p_titlebar.getElement());}if(!this._is_window&&(_d!=undefined&&_e!=undefined)){var _g;var _h=this._getWindow();if(_h){_g=_h.frame;}_g=_g?_g:nexacro.getApplication()._p_mainframe;var _i=nexacro._toInt(_g._p_left);var _j=nexacro._toInt(_g._p_left);var _k=nexacro._toInt(_g._adjust_width);var _l=nexacro._toInt(_g._adjust_height);var _m=(_d?_d:0)+_i;var _n=(_e?_e:0)+_j;var _o=_i+_k;var _p=_j+_l;if(!(_i<=_m&&_o>=_m&&_j<=_n&&_p>=_n)){return;}}if(this._window_type!=0&&nexacro._Browser=="Runtime"){_a=_a* nexacro._getDevicePixelRatio(this._p_titlebar.getElement());_b=_b* nexacro._getDevicePixelRatio(this._p_titlebar.getElement());}if(!this._is_window){this._move(_f.left+_a,_f.top+_b,_f.width,_f.height);}else if(this._is_window&&(this._window_type==5||this._window_type==2)){var _q=this._getWindow();this._move(_q.left+_a,_q.top+_b,_f.width,_f.height);}var _r=this.getOwnerFrame();if(_r&&_r._is_frameset){_r._on_child_movetrack(this,_a,_b,_c);}};_pFrame._on_border_starttrack=function(_a){if(!this._canDragResize()){this._starttrack_position=null;return false;}this._starttrack_position={left:this._adjust_left,top:this._adjust_top,width:this._adjust_width,height:this._adjust_height};if(nexacro._Browser=="Runtime"&&this._window_type>0&&this.getElement().zoom!=100){this._starttrack_position.width=this._control_element.width;this._starttrack_position.height=this._control_element.height;}this._resizemode=_a;if(this._p_form){this._p_form._on_focus(true,"lbuttondown");}};_pFrame._on_border_endtrack=function(_a,_b,_c){if(this._starttrack_position==null){return;}this._resizemode=null;delete this._starttrack_position;};_pFrame._on_border_movetrack=function(_a,_b,_c){if(this._starttrack_position==null){return;}var _d,_e,_f,_g;_d=this._starttrack_position.left;_e=this._starttrack_position.top;_f=this._starttrack_position.width;_g=this._starttrack_position.height;if(nexacro._Browser=="Runtime"&&this._window_type>0&&this.getElement().zoom!=100){_d/=nexacro._getDevicePixelRatio(this.getElement());_e/=nexacro._getDevicePixelRatio(this.getElement());}var _h=this._getMinMaxInfo();if(this._resizemode.value=="n-resize"||this._resizemode.value=="nw-resize"||this._resizemode.value=="ne-resize"){_e+=_b;_g-=_b;if(_g<_h.cy){_e-=(_h.cy-_g);_g=_h.cy;}}if(this._resizemode.value=="s-resize"||this._resizemode.value=="sw-resize"||this._resizemode.value=="se-resize"){_g+=_b;if(_g<_h.cy){_g+=(_h.cy-_g);}}if(this._resizemode.value=="w-resize"||this._resizemode.value=="nw-resize"||this._resizemode.value=="sw-resize"){_d+=_a;_f-=_a;if(_f<_h.cx){_d-=(_h.cx-_f);_f=_h.cx;}}if(this._resizemode.value=="e-resize"||this._resizemode.value=="ne-resize"||this._resizemode.value=="se-resize"){_f+=_a;if(_f<_h.cx){_f+=(_h.cx-_f);}}if(nexacro._Browser=="Runtime"&&this._window_type>0&&this.getElement().zoom!=100){_d*=nexacro._getDevicePixelRatio(this.getElement());_e*=nexacro._getDevicePixelRatio(this.getElement());_f*=nexacro._getDevicePixelRatio(this.getElement());_g*=nexacro._getDevicePixelRatio(this.getElement());}this._move(_d,_e,_f,_g);};_pFrame.on_fire_sys_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){this._changeStateActivate(true);};_pFrame._on_minbutton_click=function(_a,_b){this._is_click_openstatus=true;this._on_syscommand(this._control_element,"minimize",undefined,this,_a);this._is_click_openstatus=false;};_pFrame._on_maxbutton_click=function(_a,_b){this._is_click_openstatus=true;this._on_syscommand(this._control_element,"maximize",undefined,this,_a);this._is_click_openstatus=false;};_pFrame._on_normalbutton_click=function(_a,_b){this._is_click_openstatus=true;this._on_syscommand(this._control_element,"restore",undefined,this,_a);this._is_click_openstatus=false;};_pFrame._on_closebutton_click=function(_a,_b){var _c=this._on_beforeclose();if(this._checkAndConfirmClose(_c)==false){return;}this._on_close();var _d=this.getOwnerFrame();var _e=true;if(_d){_d.removeChild(this.id);_e=false;if(_d._control_element){_d.on_change_containerRect(_d._getClientWidth(),_d._getClientHeight());}}else if(this._window&&this._window._parentwindowforopen&&this._window_type==2){if(nexacro._Browser=="Runtime"&&(nexacro._SystemType.toLowerCase()=="win32"||nexacro._SystemType.toLowerCase()=="win64")){nexacro._unregisterPopupFrame(this.id,this._window._parentwindowforopen,undefined,true);}}if(this._is_window&&this._window&&this._window._is_alive){this._window.destroy();}else{this._destroy(_e);}if(this._control_element){this._control_element.destroy();}this._control_element=null;};_pFrame._on_beforeclose=function(_a){if(!_a){_a=this;}var _b="";if(this._p_form){var _c=this._p_form._on_beforeclose(_a);_b=this._p_form._appendBeforeCloseMsg(_b,_c);}else{var _d,_e;if(this._p_frames){var _f=this._p_frames;var _g=_f.length;for(var _h=0;_h<_g;_h++ ){_d=_f[_h]._on_beforeclose(_a);_b=this._appendBeforeCloseMsg(_b,_d);}}else if(this._p_frame){_d=this._p_frame._on_beforeclose(_a);_b=this._appendBeforeCloseMsg(_b,_d);}else{_e=this._on_bubble_beforeclose(_a);_b=this._appendBeforeCloseMsg(_b,_e);}}return _b;};_pFrame._on_close=function(){if(this._p_form){this._p_form._on_close();}else{if(this._p_frames){var _a=this._p_frames;var _b=_a.length;for(var _c=0;_c<_b;_c++ ){if(_a[_c]){if(this._getWindow()!=_a[_c]._getWindow()){continue;}_a[_c]._on_close();}}}else if(this._p_frame){this._p_frame._on_close();}else{this._on_bubble_close();}}return true;};_pFrame._canMove=function(){if(this._state_openstatus!=0){return false;}return true;};_pFrame._canDragMove=function(){if(!this._canMove()){return false;}if(this._dragmovetype==0){return false;}if(!this._is_window){if(this._window_type==1||this._window_type==4){return true;}var _a=this.getOwnerFrame();if(_a){if(_a._on_child_starttrack==undefined){return false;}}}return true;};_pFrame._canResize=function(){if(this._state_openstatus!=0){return false;}return true;};_pFrame._canDragResize=function(){if(nexacro._isTouchInteraction){return false;}if(!this._canResize()){return false;}if(nexacro._Browser!="Runtime"&&this._is_window){return false;}if(this.resizable==false){return false;}var _a=this.getOwnerFrame();if(_a&&!this._is_window&&(this._window_type!=1&&this._window_type!=4)){if(_a._is_autorecalc_frame){return false;}}return true;};_pFrame._procSysCommand=function(_a){var _b=-1;switch(_a){case "restore":_b=1;break;case "minimize":_b=2;break;case "maximize":_b=3;break;}if(this._is_window&&this._window){if(_b!=(-1)){this._window._procSysCommand(_b);}}if(_b==1){if(this._is_window&&this._window&&this._state_openstatus==2){_a=["normal","restore","minimize","maximize"][this._prestate_openstatus];_b=this._prestate_openstatus;}else{_a="normal";_b=0;}}if(_b!=(-1)){this._p_openstatus=_a;this._changeOpenStatus(_b);}};_pFrame._on_syscommand=function(_a,_b,_c,_d,_e){if(_c===undefined){if(!_e){_e=this;}}if(this._p_visible&&this._isEnable()&&this._p_enableevent){_c=this.on_fire_syscommand(this,_b);if(_c===false){return false;}}if((_c!==false)&&this._p_parent&&!this._p_parent._is_application&&!this._p_parent._is_form){var _f=this._p_parent._on_syscommand(_a,_b,false,_d?_d:this,_e);if(_f==false){return false;}}if(_d&&_d!=this){return true;}this._procSysCommand(_b);};_pFrame._on_activate=function(){nexacro.FormBase.prototype._on_activate.call(this);if(this._p_form){this._p_form._on_activate();}if(this._p_titlebar){this._p_titlebar._changeStatus("deactivate",false);}return true;};_pFrame._on_deactivate=function(){if(this._p_form){this._p_form._on_deactivate();}nexacro.FormBase.prototype._on_deactivate.call(this);if(this._p_titlebar){this._p_titlebar._changeStatus("deactivate",true);}return true;};_pFrame._on_orientationchange=function(_a){this.on_fire_onorientationchange(_a);var _b=this._p_form;if(_b){_b._on_orientationchange(_a);}var _c=this._p_frames;if(_c){var _d=_c.length;for(var _f=0;_f<_d;_f++ ){if(_c[_f]){if(this._getWindow()!=_c[_f]._getWindow()){continue;}_c[_f]._on_orientationchange(_a);}}}var _e=this._p_frame;if(_e){_e._on_orientationchange(_a);}return true;};_pFrame._getRootLayerFrame=function(){var _a=this;while(_a){if(_a._is_window){return _a;}if(_a._window_type==1||_a._window_type==4){return _a;}if(_a.getOwnerFrame()){_a=_a.getOwnerFrame();}else{break;}}return _a;};_pFrame._isRootLayerFrame=function(){if(this._is_window){return true;}if(this._window_type==1||this._window_type==4){return true;}return false;};_pFrame.on_fire_syscommand=function(_a,_b){var _c,_d;if(this.onsyscommand&&this.onsyscommand._has_handlers){_c=new nexacro.SysCommandEventInfo(_a,"onsyscommand",_b);_d=this.onsyscommand._fireCheckEvent(this,_c);if(!_d){return false;}}if(this._p_form&&this._p_form.onsyscommand&&this._p_form.onsyscommand._has_handlers){_c=new nexacro.SysCommandEventInfo(_a,"onsyscommand",_b);_d=this._p_form.onsyscommand._fireCheckEvent(this._p_form,_c);if(!_d){return false;}}return true;};_pFrame._applyDragMoveType=nexacro._emptyFn;_pFrame.lookup=nexacro._emptyFn;_pFrame.lookupSetter=nexacro._emptyFn;_pFrame.lookupFunc=nexacro._emptyFn;_pFrame._setVerticalMin=function(_a){if(this._is_verticalmin==_a){return;}this._is_verticalmin=_a;var _b=this._control_element;var _c=this._p_titlebar;if(_b){_b._is_verticalmin=_a;if(_c){_b.bringToFrontElement(_c.getElement());}}if(_c){_c._setVerticalMin(_a);}};_pFrame._resetTitleAbsoluteStyle=function(){var _a=this._p_titlebar;if(!_a){return;}var _b=0;var _c=this.getOwnerFrame();var _d=(this._window_type==1||this._window_type==4);if(!this._p_resizable){if(this._isNested()){_b|=0x0020;}else{_b|=0x0001|0x0002;}}else{_b|=0x0100|0x0200;}if(_c&&!this._isRootLayerFrame()){if(_c._isTopFrame()){_b|=0x0010|0x0020|0x0040;}if(_c.fullframemaximize==false){_b|=0x0001;}}if(_d){_b|=0x0001;if(!this.resizable){_b|=0x0002;}}_a._setAbsoluteStyle(_b,0xffff);};_pFrame._getMinMaxInfo=function(){var _a=110,_b=0;var _c=this._getCSSStyleValue("border",this._status,this._userstatus);if(_c){_a+=_c._getBorderWidth();_b+=_c._getBorderHeight();}if(this._isShowTitleBar()){_b+=this._titlebarheight;}if(this._isShowStatusBar()){_b+=this._statusbarheight;}return {cx:_a,cy:_b};};_pFrame._isTopFrame=function(){return (this._is_top_frame);};_pFrame._getWindow=function(){if(this._is_window){return this._window;}var _a=this._p_parent;if(_a){return _a._getWindow();}return nexacro._findWindow(nexacro._getMainWindowHandle());};_pFrame._isEnable=function(){return nexacro.FormBase.prototype._isEnable.call(this);};_pFrame._isNested=function(){return !this._is_window;};_pFrame._getTitleText=function(_a){return this._getStringResourceProperty(this._p_titletext);};_pFrame._applyTitleText=function(){if(this._control_element){var _a=this._p_showcascadetitletext;var _b=this._getTitleText(_a);_b=this._getStringResourceProperty(_b);var _c=this._p_titlebar;if(_c){_c.set_text(_b);}if(this._isNested()){var _d=this._p_parent;if(_d&&_d._is_frame){_d._applyTitleText();}}if(this._is_window){this._window._setTitleText(_b);}}};_pFrame._applyStatusText=function(){if(this._control_element){var _a=this._p_showcascadestatustext;var _b=this._getStatusText(_a);_b=this._getStringResourceProperty(_b);var _c=this._p_statusbar;if(_c){_c.set_text(_b);}if(this._isNested()){var _d=this._p_parent;if(_d&&_d._is_frame){_d._applyStatusText();}}if(this._is_window){this._window._setStatusText(_b);}}};_pFrame._changeOpenStatus=function(_a){var _b=this._prestate_openstatus=this._state_openstatus;this._state_openstatus=_a;if(_a==1){return;}if(_b!=_a){var _c=this.getOwnerFrame();var _d=this._control_element;if(_b==2){this._setVerticalMin(false);}if(_b==3&&!this._is_window){if(_c&&_c._is_frame==true&&_c._is_frameset==true){_c._max_frame=null;}}if(_b==0&&(_a==2||_a==3)){if(!this._is_window){if(this._restore_position){this._restore_position=null;}if((_c&&_c._is_frameset&&!_c._is_autorecalc_frame)||(this._window_type==1||this._window_type==4)){this._restore_position={left:this._p_left,top:this._p_top,width:this._p_width,height:this._p_height,right:this._p_right,bottom:this._p_bottom};}}if(_d){_d._setResizable(false);}}if((_b==2||_b==3)&&_a==0){if(!this._is_window){var _e=this._restore_position;if(_e){if(_b==2||this._window_type==1||this._window_type==4||(_c&&_c.restorechildpositiontype!="keepmaximizeposition")){this._move(_e.left,_e.top,_e.width,_e.height,_e.right,_e.bottom);}this._restore_position=null;}}if(_d){_d._setResizable(this._canDragResize());}}if(_a==3&&!this._is_window){if(_c&&_c._is_frame==true&&_c._is_frameset==true){if(_c._max_frame&&_c._max_frame!=this){_c._max_frame._changeOpenStatus(0);}_c._max_frame=this;}else if(this._window_type==1||this._window_type==4){var _f=this._getWindow();this._move(0,0,_f.clientWidth,_f.clientHeight);}}var _g=this._p_titlebar;if(_g&&_g._is_created){_g._changeOpenStatus(_a);}if(this._prestate_openstatus!=this._state_openstatus){if(_c){var _h=_c.getElement();if(_h){_c.on_change_containerRect(_c._getClientWidth(),_c._getClientHeight());}}}if(_a==3&&!this._is_window){if(_c&&_c._is_frameset==true){this.setFocus();}}this._p_openstatus=["normal","restore","minimize","maximize"][_a];}};_pFrame._changeStateActivate=function(_a){if(this._activate==false&&_a==true){this._activate=_a;if(this._control_element){var _b=this.getOwnerFrame();if(_b){var _c=this._getWindow();var _d=_b._getWindow();if(_c==_d&&this._window_type!=1){_b._changeStateActivate(_a,this);}}this._applyTitleText();this._applyStatusText();}this._on_activate();}else if(this._activate==true&&_a==false){this._activate=_a;this._on_deactivate();}};_pFrame._changeStateFocus=function(_a){if(this._activate==false&&_a==true){if(this._control_element){var _b=this.getOwnerFrame();if(_b){var _c=this._getWindow();var _d=_b._getWindow();if(_c==_d&&this._window_type!=1){_b._changeStateFocus(_a,this);}}this._applyTitleText();this._applyStatusText();}}};_pFrame._getAppliedTitleHeight=function(_a){if(_a<0){return 0;}return nexacro._appliedTitleBarHeight(this,_a);};_pFrame._getAppliedStatusHeight=function(_a){if(_a<0){return 0;}return nexacro._appliedStatusBarHeight(this,_a);};_pFrame._getNextFrame=function(_a){var _b=this._getFrames();var _c=nexacro._indexOf(_b,_a);if(_c>-1){var _d=_b[_c+1];if(_d){_d=_d._is_child?_d:_d._getFirstChildFrame();if(_d){return _d;}}}var _e=this._p_parent;if(_e){_d=_e._is_main?_b[0]:_e._getNextFrame(this);}return _d._is_frameset?_d._getFirstChildFrame():_d;};_pFrame._getPrevFrame=function(_a){var _b=this._getFrames();var _c=nexacro._indexOf(_b,_a);if(_c>-1){var _d=_b[_c -1];if(_d){_d=_d._is_child?_d:_d._getLastChildFrame();if(_d){return _d;}}}var _e=this._p_parent;if(_e){_d=_e._is_main?_b[_b.length-1]:_e._getPrevFrame(this);}return _d._is_frameset?_d._getLastChildFrame():_d;};_pFrame._getFrames=function(){return this._frames;};_pFrame._getFirstChildFrame=function(){var _a=this._frames;if(!_a||_a.length==0){return;}var _b=_a.length;for(var _d=0;_d<_b;_d++ ){var _c=_a[_d];if(_c._is_child){return _c;}else{_c=_c._getFirstChildFrame();}if(_c){return _c;}}};_pFrame._getLastChildFrame=function(){var _a=this._frames;if(!_a||_a.length==0){return;}var _b=_a.length;for(var _d=_b -1;_d>=0;_d-- ){var _c=_a[_d];if(_c._is_child){return _c;}else{_c=_c._getLastChildFrame();}if(_c){return _c;}}};_pFrame._getWaitComponentElement=nexacro._emptyFn;_pFrame._accessibilityModalLock=nexacro._emptyFn;_pFrame._accessibilityModalUnLock=nexacro._emptyFn;nexacro.MainFrame=function(_a,_b,_c,_d,_e,_f,_g,_h){nexacro.Frame.call(this,_a,_b,_c,_d,_e,_f,_g,_h,true);this._openalign=null;this._window=new nexacro._Window(_a,null,true);};var _pMainFrame=nexacro._createPrototype(nexacro.Frame,nexacro.MainFrame);nexacro.MainFrame.prototype=_pMainFrame;_pMainFrame._type_name="MainFrame";_pMainFrame._p_frame=null;_pMainFrame._p_resizable=true;_pMainFrame._p_layered=false;_pMainFrame._p_accessibilityrole="frame";_pMainFrame._ref_comm=0;_pMainFrame._defaulttitleheight=30;_pMainFrame._defaultstatusheight=30;_pMainFrame._is_window=true;_pMainFrame._is_autorecalc_frame=true;_pMainFrame.getActiveFrame=function(){return this._p_frame;};_pMainFrame.on_createBodyFrame=nexacro._emptyFn;_pMainFrame._initComponent=function(){this._initUniqueID();this.createWindow();if(nexacro._locale){this._on_apply_locale(nexacro._locale);}if(this._is_window){nexacro._checkWindowActive(this._window);}};_pMainFrame.createWindow=function(){var _a=this._window;if(_a==null){_a=this._window=new nexacro._Window(this.name,null,true);}_a.create(null,this._p_name,this._width,this._height,this._left,this._top,this._p_resizable);_a.attachFrame(this,false);_a._setSystemMenuResizable(this._p_resizable);this._setSize(nexacro._getMainWindowWidth(_a),nexacro._getMainWindowHeight(_a));};_pMainFrame.createBodyFrame=function(){this.on_createBodyFrame();};_pMainFrame.on_create_contents=function(){nexacro.Frame.prototype.on_create_contents.call(this);if(this._p_frame){this._p_frame._setPos(0,0);this._p_frame._setSize(this._getClientWidth(),this._getClientHeight());this._p_frame.createComponent();this._p_frame._changeOpenStatus(3);}};_pMainFrame.on_created_contents=function(_a){nexacro.Frame.prototype.on_created_contents.call(this,_a);if(this._p_frame){this._p_frame.on_created(_a);}var _b=this._control_element;if(_b){_b.setElementRtl(nexacro._rtl);}var _c=this._adjust_width;var _d=this._adjust_height;var _e=this._getOpenAlignPos(this._getWindow(),this._adjust_left,this._adjust_top,_c,_d);if(_e){this._move(_e.left,_e.top,_c,_d);}if(_a){nexacro._refreshWindow(_a.handle,true);}if(_b){nexacro._refreshWindowRegion(_a.handle,_b.handle);}};_pMainFrame.destroyComponent=function(){if(this._waitcomp){this._waitcomp.destroy();this._waitcomp=null;}this._openalign=null;if(nexacro._com_waiting){nexacro._com_waiting=false;}if(this._window&&this._window._is_alive){this._window.destroy();this._window=null;}else if(this._is_alive){nexacro.Frame.prototype.destroyComponent.call(this);}return true;};_pMainFrame.on_destroy_contents=function(){nexacro.Frame.prototype.on_destroy_contents.call(this);if(this._p_frame){this._p_frame.destroyComponent();this._p_frame=null;}};_pMainFrame._on_deactivate=function(){var _a=this._getWindow();if(_a){_a._keydown_element=null;_a._keydown_element_list.clear();}return nexacro.Frame.prototype._on_deactivate.call(this);};_pMainFrame.on_change_containerPos=function(_a,_b){var _c=this._p_frame;if(_c){_c._setPos(0,0);}};_pMainFrame.on_change_containerRect=function(_a,_b){var _c=this._p_frame;if(_c){_c._setSize(_a,_b);}};_pMainFrame.on_update_position=function(_a,_b,_c){var _d=nexacro.FormBase.prototype.on_update_position.call(this,_a,_b,_c);if(this._is_window&&(nexacro._Browser=="Runtime"||(nexacro._allow_default_pinchzoom&&!nexacro._isDesktop()))){var _e=this._window;if(_e){if(_a){if(nexacro._isDesktop()){_e.setSize(this._adjust_width,this._adjust_height);}}if(_b){_e.moveTo(this._left,this._top);}}}return _d;};_pMainFrame._isShowTitleBar=function(){return nexacro._isShowTitleBar(this,this._p_showtitlebar);};_pMainFrame._isShowStatusBar=function(){return nexacro._isShowStatusBar(this,this._p_showstatusbar);};_pMainFrame._waitCursor=function(_a,_b){if(this._window){var _c=this._waitcomp;if(_a==true){if(this._ref_comm==0){nexacro._com_waiting=true;if(_c==null){_c=this._waitcomp=new nexacro._WaitControl("waitwindow",0,0,0,0,null,null,null,null,null,null,this);_c.createComponent();_c.on_created();}var _d=nexacro._getLoadingImageUrl();_c.setImage(_d);this._window._updateWrapper(true);this._window._cancelEvent();this._window._blockImeInput(true);_c._setAccessibilityStatLive(true);_c._setAccessibilityStatHidden(false);_c.show();}_c._addContext(_b);this._ref_comm++ ;}else{this._window._updateWrapper(false);if(this._ref_comm>0){this._ref_comm-- ;}if(_c){_c._removeContext(_b);if(this._ref_comm<=0){this._ref_comm=0;nexacro._com_waiting=false;this._window._blockImeInput(false);_c.hide();_c._setAccessibilityStatHidden(true);}}}}};_pMainFrame.set_visible=function(_a){if(_a===undefined||_a===null){return;}_a=nexacro._toBoolean(_a);if(this._p_visible!=_a){nexacro.Component.prototype.set_visible.call(this,_a);var _b=this._getRootWindow();if(_b&&_b.handle){nexacro._setPopupWindowHandleVisible(_b.handle,_a);}}};_pMainFrame.set_openalign=function(_a){this._p_openalign=_a;if(this._openalign==null||(this._openalign&&this._openalign.value!=_a)){this._openalign=nexacro.AlignObject(_a);this.on_apply_prop_openalign(this._openalign);}};_pMainFrame.set_resizable=function(_a){var _b=nexacro._toBoolean(_a);if(this._p_resizable!=_b){this._p_resizable=_b;this._resetTitleAbsoluteStyle();var _c=this._control_element;if(_c){_c._setResizable(this._canDragResize());}var _d=this._window;if(_d){_d._setSystemMenuResizable(_b);}}};_pMainFrame.set_layered=function(_a){_a=nexacro._toBoolean(_a);if(this._p_layered!=_a){this._p_layered=_a;}};_pMainFrame.on_apply_prop_openalign=function(){var _a=this._openalign;if(!_a&&this._is_created){var _b=this._adjust_left;var _c=this._adjust_top;var _d=this._adjust_width;var _e=this._adjust_height;var _f=this._getOpenAlignPos(this._getWindow(),_b,_c,_d,_e);if(_f){this._move(_f.left,_f.top,_d,_e);}}};_pMainFrame.on_apply_borderRadius=function(_a){nexacro.Component.prototype.on_apply_borderRadius.call(this,_a);var _b=this._control_element;var _c=this._window;if(_b&&_c){nexacro._refreshWindowRegion(_c.handle,_b.handle);}};_pMainFrame._getParentEnable=function(_a){return true;};_pMainFrame.on_apply_prop_enable=function(_a){var _b=this._p_frame;if(_b){_b._setEnable(_a);}};_pMainFrame.on_apply_prop_stringresource=function(){if(!nexacro._StringResource){return;}if(this._p_frame){this._p_frame.on_apply_prop_stringresource();}};_pMainFrame.set_frame=function(_a){this._p_frame=_a;};_pMainFrame._properties=[{name:"visible"},{name:"openalign"},{name:"resizable"},{name:"titlebarheight"},{name:"layered"},{name:"frame"}];nexacro._defineProperties(_pMainFrame,_pMainFrame._properties);_pMainFrame._on_beforeclose=function(_a){if(!_a){_a=this;}var _b=nexacro.Frame.prototype._on_beforeclose.call(this,_a);var _c=nexacro.getApplication();if(_c){var _d=_c.on_fire_onbeforeexit();_b=this._appendBeforeCloseMsg(_b,_d);}return _b;};_pMainFrame._on_syscommand=function(_a,_b,_c,_d,_e){if(nexacro._Browser=="Runtime"&&(nexacro._SystemType.toLowerCase()=="win32"||nexacro._SystemType.toLowerCase()=="win64")){if(this._inProcSysCommand===true){return;}if(this._iscallfromresize!==true){this.on_fire_syscommand(this,_b);}if(_d&&_d!=this){return true;}this._inProcSysCommand=true;this._procSysCommand(_b);this._inProcSysCommand=false;}else{this.on_fire_syscommand(this,_b);if(_d&&_d!=this){return true;}this._procSysCommand(_b);}};_pMainFrame._on_closebutton_click=function(_a,_b){var _c=nexacro.getApplication();if(_c){_c.exit();}};_pMainFrame._getOpenAlignPos=function(_a,_b,_c,_d,_e){var _f=this._openalign;if(_f){return nexacro._getWindowRectforOpenAlign(_f.halign,_f.valign,_a.left,_a.top,_b,_c,_d,_e);}return null;};_pMainFrame._changeStateActivate=function(_a){if(_a==false){var _b=this._p_frame;if(_b){_b._changeStateActivate(false);}}nexacro.Frame.prototype._changeStateActivate.call(this,_a);};_pMainFrame._getTitleText=function(_a){var _b;_b=this._getStringResourceProperty(this._p_titletext);if(_a){var _c=this.frame;if(_c){var _d=_c._getTitleText(true);_d=this._getStringResourceProperty(_d);if(_d.length>0){if(_b.length>0){_b+=" - ";}_b+=_d;}}}return _b;};_pMainFrame._getStatusText=function(_a){var _b;_b=this._p_statustext;if(_a){var _c=this._p_frame;if(_c){var _d=_c._getStatusText(true);if(_d.length>0){if(_b.length>0){_b+=" - ";}_b+=_d;}}}return _b;};_pMainFrame._getWaitComponentElement=function(){var _a=this._waitcomp;if(_a){return _a.getElement();}return null;};_pMainFrame._on_apply_locale=function(_a){var _b=this._p_frame;if(_b){_b._on_apply_locale(_a);}};_pMainFrame._getNextFrame=function(_a){var _b=this._getFrames();var _c=nexacro._indexOf(_b,_a);if(_c<0){return null;}var _d=_b[_c+1];if(_d){_d=_d._is_child?_d:_d._getFirstChildFrame();if(_d){return _d;}}_d=_b[0];return _d._is_frameset?_d._getFirstChildFrame():_d;};_pMainFrame._getPrevFrame=function(_a){var _b=this._getFrames();var _c=nexacro._indexOf(_b,_a);if(_c<0){return null;}var _d=_b[_c -1];if(_d){_d=_d._is_child?_d:_d._getLastChildFrame();if(_d){return _d;}}_d=_b[_b.length-1];return _d._is_frameset?_d._getLastChildFrame():_d;};nexacro.ChildFrame=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Frame.call(this,_a,_b,_c,_d,_e,_f,_g,_i);this._p_titlebar=new nexacro.TitleBarControl("titlebar",0,0,this._adjust_width,0,null,null,null,null,null,null,this);this._openalign=null;if(_h){this.set_formurl(_h);}};var _pChildFrame=nexacro._createPrototype(nexacro.Frame,nexacro.ChildFrame);nexacro.ChildFrame.prototype=_pChildFrame;_pChildFrame._type_name="ChildFrame";_pChildFrame._p_opener=null;_pChildFrame._p_form=null;_pChildFrame._p_autosize=true;_pChildFrame._p_resizable=false;_pChildFrame._p_layered=false;_pChildFrame._p_showontaskbar=null;_pChildFrame._p_dragmovetype="normal";_pChildFrame._p_overlaycolor=null;_pChildFrame._ref_comm=0;_pChildFrame._waitcomp=null;_pChildFrame._window_type=0;_pChildFrame._dragmovetype=1;_pChildFrame._is_popup_frame=false;_pChildFrame._is_loadform_failed=false;_pChildFrame._init_openstatus=null;_pChildFrame._is_autosized=false;_pChildFrame._is_child=true;_pChildFrame._close_callback=null;_pChildFrame._close_argument=undefined;_pChildFrame.widget=false;nexacro.ChildFrame._default_overlaycolor=nexacro.BackgroundObject("rgba(0,0,0,0.5)");_pChildFrame.on_apply_prop_openalign=function(){};_pChildFrame.on_apply_prop_enable=function(_a){if(this._p_form){this._p_form._setEnable(_a);}};_pChildFrame.on_apply_prop_stringresource=function(){if(!nexacro._StringResource){return;}if(this._p_form){this._p_form.on_apply_prop_stringresource();}this.on_apply_prop_tooltip();this._applyStatusText();this._applyTitleText();this.on_apply_prop_tooltip();if(nexacro._enableaccessibility){this.on_apply_prop_accessibilitylabel();this.on_apply_prop_accessibilitydescription();this.on_apply_prop_accessibilityaction();}};_pChildFrame.set_overlaycolor=function(_a){this._p_overlaycolor=_a;if(_a){if(this._overlaycolor==null||this._overlaycolor.value!=_a){var _b=nexacro.BackgroundObject(_a);this._overlaycolor=_b;this.on_apply_overlaycolor(_b);}}else{if(this._overlaycolor){this._overlaycolor=null;this.on_apply_overlaycolor(null);}}};_pChildFrame.on_apply_overlaycolor=function(_a){var _b=this._modal_overlay_elem;if(_b){_b.setElementBackground(_a);}};_pChildFrame.on_create_contents=function(){nexacro.Frame.prototype.on_create_contents.call(this);if(this._p_form){this._p_form._setPos(0,0);this._p_form._setSize(this._getClientWidth(),this._getClientHeight());this._p_form.createComponent();}};_pChildFrame.destroyComponent=function(_a){if(this._window_type==1||this._window_type==4){this._setModalUnlock();this._runCallback();if(this._window_type==4){var _b=this._getWindow();var _c=this._virtual_handle;nexacro._unblockScript(_b._handle,_c);this._virtual_handle=null;}}else if(this._window_type==5){this._setModalUnlock();}if(this._waitcomp){this._waitcomp.destroy();this._waitcomp=null;}this._openalign=null;if(nexacro._com_waiting){nexacro._com_waiting=false;}if(this._window&&this._window._is_alive){this._window.destroy();this._window=null;return true;}else{return nexacro.Frame.prototype.destroyComponent.call(this,_a);}};_pChildFrame.on_destroy_contents=function(_a){if(this._overlaycolor){this._overlaycolor=null;}if(this._waitcomp){this._waitcomp.destroy();this._waitcomp=null;}nexacro.Frame.prototype.on_destroy_contents.call(this,_a);if(this._variables){var _b=this._variables.length;for(var _c=0;_c<_b;_c++ ){delete this[this._variables[_c]];}}if(this._p_form){this._p_form.destroyComponent(_a);this._p_form=null;}};_pChildFrame._unregisterPopupFrame=function(_a,_b){if(this._window_type==2){nexacro._unregisterPopupFrame(_b,_a,true);}};_pChildFrame._runCallback=function(){var _a=this._close_callback;if(_a){if(typeof (_a)=="string"){if(this.opener){var _b=this.opener[_a];if(_b){_b.call(this.opener,this._p_name,this._close_argument);}}}else if(typeof (_a)=="function"){_a.call(this.opener,this._p_name,this._close_argument);}}};_pChildFrame.on_created_contents=function(_a){var _b,_c,_d,_e,_f,_g,_h;if(this._is_window&&this._window){var _i=this._window;_a=_i;var _j=this._delayed_window_pos;if(_j&&_i.handle){if(nexacro._OS=="Windows"){if(this._window_type==5&&this._p_form&&this._p_form._is_loaded==true&&_i._prepared_flag==false){_b=_j.left;_c=_j.top;_d=this._getAutosizedFrameSize(true);_e=_d.width;_f=_d.height;_g=this._getOpenAlignPos(this._getWindow(),_b,_c,_e,_f);if(_g){_b=_g.left;_c=_g.top;}_h=this._recalcModalPosition(_b,_c,_e,_f);_i.moveTo(_j._p_left,_j._p_top);this._move(_j._p_left,_j._p_top,_h._p_width,_h._p_height);}else{_i.setSize(_j.left,_j.top);}}else{_i.moveTo(_j._p_left,_j._p_top);_i.setSize(_j._p_width,_j._p_height);if(this._window_type==5&&this._p_form&&this._p_form._is_loaded==true&&_i._prepared_flag==false){this._move(_j._p_left,_j._p_top,_j._p_width,_j._p_height);}}delete this._delayed_window_pos;}if(_i.handle){_i._setSystemMenuResizable(this._p_resizable);}}else if((this._window_type==1||this._window_type==4)&&this._p_form&&this._p_autosize){_b=this._adjust_left;_c=this._adjust_top;_d=this._getAutosizedFrameSize(true);_e=_d.width;_f=_d.height;_g=this._getOpenAlignPos(this._getWindow(),_b,_c,_e,_f);if(_g){_b=_g.left;_c=_g.top;}_h=this._recalcModalPosition(_b,_c,_e,_f);this._move(_h.left,_h.top,_h.width,_h.height);}nexacro.Frame.prototype.on_created_contents.call(this,_a);if(!this._formurl){this._changeStateActivate(true);}this._createForm();};_pChildFrame.on_change_containerPos=function(_a,_b){if(this._p_form){this._p_form._setPos(0,0);}};_pChildFrame.on_change_containerRect=function(_a,_b){if(this._p_form){this._p_form._setSize(_a,_b);}if(this._p_titlebar){this._p_titlebar._update_position(false,true);}};_pChildFrame._isShowTitleBar=function(){return nexacro._isShowTitleBar(this,this._p_showtitlebar);};_pChildFrame._isShowStatusBar=function(){return nexacro._isShowStatusBar(this,this._p_showstatusbar);};_pChildFrame._createControlElement=function(_a){if(this._window_type==1||this._window_type==4){_a=this._modal_overlay_elem;}var _b=this.getElement();if(!_b){_b=this.on_create_control_element(_a);_b._is_nc_element=this._is_nc_control;}return _b;};_pChildFrame._waitCursor=function(_a,_b){if(this._isNested()){return nexacro.Frame.prototype._waitCursor.call(this,_a,_b);}if(this._window){var _c=this._waitcomp;if(_a==true){if(_c==null){_c=this._waitcomp=new nexacro._WaitControl("waitwindow",0,0,0,0,null,null,null,null,null,null,this);_c.createComponent();_c.on_created(this._window);}this._window._updateWrapper(true);if(this._ref_comm==0){nexacro._com_waiting=true;var _d=nexacro._getLoadingImageUrl();_c.setImage(_d);this._window._cancelEvent();this._window._blockImeInput(true);_c.show();}_c._addContext(_b);this._ref_comm++ ;}else{this._window._updateWrapper(false);if(this._ref_comm>0){this._ref_comm-- ;}if(_c){_c._removeContext(_b);if(this._ref_comm<=0){this._ref_comm=0;nexacro._com_waiting=false;this._window._blockImeInput(false);_c.hide();}}}}};_pChildFrame.set_autosize=function(_a){if(this._p_autosize!=_a){this._p_autosize=nexacro._toBoolean(_a);}};_pChildFrame.set_dragmovetype=function(_a){if(this._p_dragmovetype!=_a){switch(_a){case "all":this._p_dragmovetype=_a;this._dragmovetype=2;break;case "normal":this._p_dragmovetype=_a;this._dragmovetype=1;break;case "none":this._p_dragmovetype=_a;this._dragmovetype=0;break;}this._applyDragMoveType();}};_pChildFrame.set_openalign=function(_a){this._p_openalign=_a;if(this._openalign==null||(this._openalign&&this._openalign.value!=_a)){this._openalign=nexacro.AlignObject(_a);}};_pChildFrame.set_formurl=function(_a){var _b=nexacro._getFDLLocation(_a);if(this._formurl!=_b){if(this._p_form&&this._p_form._control_element){var _c=this._on_beforeclose();if(this._checkAndConfirmClose(_c)==false){return;}this._on_close();}this._p_formurl=_a;this._formurl=_b;this._is_loadform_failed=false;if(this._is_created){this._createForm();}}};_pChildFrame.set_resizable=function(_a){var _b=nexacro._toBoolean(_a);if(this._p_resizable!=_b){this._p_resizable=_b;this._resetTitleAbsoluteStyle();if(this._control_element){this._control_element._setResizable(this._canDragResize());}if(this._window){this._window._setSystemMenuResizable(_b);}}};_pChildFrame.set_layered=function(_a){var _b=nexacro._toBoolean(_a);if(this._p_layered!=_b){this._p_layered=_b;nexacro._on_apply_layered(this,this._p_layered);}};_pChildFrame.set_showontaskbar=function(_a){var _b=nexacro._toBoolean(_a);if(this._p_showontaskbar!=_b){this._p_showontaskbar=_b;}};_pChildFrame.set_widget=function(_a){var _b=nexacro._toBoolean(_a);if(this._p_widget!=_b){this._p_widget=_b;}};_pChildFrame._properties=[{name:"overlaycolor"},{name:"autosize"},{name:"dragmovetype"},{name:"openalign"},{name:"formurl"},{name:"resizable"},{name:"layered"},{name:"showontaskbar"},{name:"form",readonly:true}];nexacro._defineProperties(_pChildFrame,_pChildFrame._properties);_pChildFrame.init=function(_a,_b,_c,_d,_e,_f,_g,_h){if(_a){this.id=this._p_name=_a;}var _i=this._adjust_left;var _j=this._adjust_top;var _k=this._adjust_width;var _l=this._adjust_height;var _m=false,_n=false;if(arguments.length>=5){if(this._is_window&&this._window){this._adjustPosition(_b,_c,_f,_g,_d,_e);}else{this._adjustPosition(_b,_c,_f,_g,_d,_e,this._p_parent?this._p_parent._getClientWidth():0,this._p_parent?this._p_parent._getClientHeight():0);}if(this._adjust_width!=_k||this._adjust_height!=_l){_m=true;}if(this._adjust_left!=_i||this._adjust_top!=_j){_n=true;}this.on_update_position(_m,_n);}if(_h){this.set_formurl(_h);}};_pChildFrame._addVariable=function(_a,_b){this[_a]=_b;if(!this._variables){this._variables=[];}this._variables.push(_a);};_pChildFrame.showModal=function(_a,_b,_c,_d,_e,_f){if(nexacro._current_popups.length>0){nexacro._checkClosePopupComponent(null);}var _g,_h,_i;if(!(_a instanceof nexacro.Frame)&&_a!=null){this.id=_i=arguments[0];_h=arguments[1];this._arg=arguments[2];this.opener=arguments[3];this._close_callback=arguments[4];}else{_i=this.id;_h=arguments[0];this._arg=arguments[1];this.opener=arguments[2];this._close_callback=arguments[3];}var _j=_h?_h._getWindow():this._getWindow();if(_j){_j._updateWrapper(undefined,"hide");}var _k=null;if(_h==null){var _l=nexacro.getApplication();if(_l){_h=_l._p_mainframe;}}if(_h){_g=_h.addChild(_i,this);}if(_g==-1){if(_j){_j._updateWrapper(undefined,"show");}return false;}else{_k=this;}if(_k&&_k._arg){for(var _z in _k._arg){_k._addVariable(_z,_k._arg[_z]);}}var _m=_h?_h._getWindow():null;if(nexacro._registerPopupFrame(_i,this,_m)<0){if(_j){_j._updateWrapper(undefined,"show");}throw nexacro.MakeNativeError(this,"native_exist_id",_i);}_k._is_window=false;_k._window_type=1;var _n=1.0;var _o=this._getWindow();if(_o&&(_o._wheelZoom!=undefined)&&(_o._wheelZoom!=100)){_n=_o._wheelZoom/100.0;}if(_k._adjust_left==-1||_k._adjust_top==-1){this._adjustPosition();}var _p=_k._adjust_left;var _q=_k._adjust_top;var _r=_k._adjust_width;var _s=_k._adjust_height;if(this._p_left==null){if((this._p_width||this._p_right)&&!(isNaN(this._p_width)||isNaN(this._p_right))){if(_o){this._p_left=_o.clientWidth/_n-this._p_width-this._p_right;}}}if(this._p_top==null){if((this._p_height||this._p_bottom)&&!(isNaN(this._p_height)||isNaN(this._p_bottom))){if(_o){this.top=_o.clientHeight/_n-this.height-this.bottom;}}}if(this._p_width==null){if((this._p_left||this._p_right)&&!(isNaN(this._p_left)||isNaN(this._p_right))){if(_o){this._p_width=_o.clientWidth/_n-this._p_left-this._p_right;}}}if(this._p_height==null){if((this._p_top||this._p_bottom)&&!(isNaN(this._p_top)||isNaN(this._p_bottom))){if(_o){this._p_height=_o.clientHeight/_n-this._p_top-this._p_bottom;}}}if(this._p_autosize){var _t=this._getAutosizedFrameSize(true);this._p_width=_r=_t.width;this._p_height=_s=_t.height;}var _u=_k._getOpenAlignPos(this._getWindow(),_p,_q,_r,_s);if(_u){this._p_left=_u.left;this._p_top=_u.top;}if(!this.opener||(this.opener&&!this.opener._is_form&&!this.opener._is_application)){var _v=null;if(_h&&_h._focusManager){_v=_h._focusManager[0];}if(_v){if(_v._p_parent._is_form){this.opener=_v._p_parent;}else{this.opener=_h._p_form;}}else{this.opener=_h?_h._p_form:null;}}if(this._p_form){this._p_form._p_opener=this.opener;}var _w=this._getMainFrame();if(_w){_w._changeStateActivate(false,this);}var _x=this._recalcModalPosition((this._p_left==null)?null:this._p_left,(this._p_top==null)?null:this._p_top,this._p_width,this._p_height);this._p_left=_x.left;this._p_top=_x.top;this._p_width=_x.width;this._p_height=_x.height;this._setModalLock();this._cancelTouchEvent();this.createComponent(true);this.on_created();if(_j){_j._updateWrapper(undefined,"show");}if(_n!=1.0){if(this._p_form._is_loaded){var _y=this.getElement();if(_y){_y.setElementZoom(_o._wheelZoom);_y.setElementSize(_y._unscaledwidth,_y._unscaledheight,false,true);}}else{this._isNotProcessedWheelZoom=true;this.set_visible(false);}}return true;};_pChildFrame._showModalSync=function(_a,_b,_c,_d){var _e,_f,_g;if(!(_a instanceof nexacro.Frame)&&_a!=null){this.id=_g=arguments[0];_f=arguments[1];this._arg=arguments[2];this.opener=arguments[3];}else{_g=this.id;_f=arguments[0];this._arg=arguments[1];this.opener=arguments[2];}var _h=this._getWindow();if(_h){_h._updateWrapper(undefined,"hide");}var _i=null;if(_f==null){var _j=nexacro.getApplication();if(_j){_f=_j._p_mainframe;}}if(_f){_e=_f.addChild(_g,this);}if(_e==-1){if(_h){_h._updateWrapper(undefined,"show");}return false;}else{_i=this;}if(_i&&_i._arg){for(var _y in _i._arg){_i._addVariable(_y,_i._arg[_y]);}}var _k=_f?_f._getWindow():null;if(nexacro._registerPopupFrame(_g,this,_k)<0){if(_h){_h._updateWrapper(undefined,"show");}throw nexacro.MakeNativeError(this,"native_exist_id",_g);}_i._is_window=false;_i._window_type=4;var _l=_i._adjust_left;var _m=_i._adjust_top;var _n=_i._adjust_width;var _o=_i._adjust_height;if(this.autosize){var _p=this._getAutosizedFrameSize(true);this._p_width=_n=_p.width;this._p_height=_o=_p.height;}var _q=_i._getOpenAlignPos(this._getWindow(),_l,_m,_n,_o);if(_q){this._p_left=_q.left;this._p_top=_q.top;}if(!this.opener||(this.opener&&!this.opener._is_form&&!this.opener._is_application)){var _r=null;if(_f&&_f._focusManager){_r=_f._focusManager[0];}if(_r){if(_r._p_parent._is_form){this.opener=_r._p_parent;}else{this.opener=_f._p_form;}}else{this.opener=_f?_f._p_form:null;}}if(this._p_form){this._p_form._p_opener=this.opener;}var _s=this._getWindow();var _t=1.0;if(_s&&(_s._wheelZoom!=undefined)&&(_s._wheelZoom!=100)){_t=_s._wheelZoom/100.0;}var _u=this._recalcModalPosition((this._p_left==null)?null:this._p_left,(this._p_top==null)?null:this._p_top,this._p_width,this._p_height);this._p_left=_u.left;this._p_top=_u.top;this._p_width=_u.width;this._p_height=_u.height;this._setModalLock();this._cancelTouchEvent();this.createComponent(true);this.on_created();if(_t!=1.0){var _v=this.getElement();_v.setElementZoom(_s._wheelZoom);_v.setElementSize(_v._unscaledwidth,_v._unscaledheight,false,true);}var _w=this._getWindow();if(_w&&_w.handle){var _x=nexacro._createVirtualWindowHandle(_w.handle);this._virtual_handle=_x;nexacro._blockScript(_w.handle,_x);nexacro._SysOnceCallbackTimer.callonce(_w,function(){_w._cancelEvent();});}if(_h){_h._updateWrapper(undefined,"show");}return true;};_pChildFrame._showModalWindow=function(_a,_b,_c,_d,_e){this._is_popup_frame=true;var _f,_g,_h,_i;var _j=0;if(!(_a instanceof nexacro.Frame)&&_a!=null){this.id=_h=arguments[0];}else{_j=-1;_h=this.id;}_g=arguments[1+_j];this._arg=arguments[2+_j];if(arguments[3+_j]){this.opener=arguments[3+_j];}_i=1;if(_g){_f=_g.addChild(_h,this);}if(_f==-1){throw nexacro.MakeNativeError(this,"native_exist_id",_h);}if(this&&this._arg){for(var _s in this._arg){this._addVariable(_s,this._arg[_s]);}}var _k=_g?_g._getWindow():null;if(nexacro._Browser=="Runtime"&&(nexacro._SystemType.toLowerCase()=="win32"||nexacro._SystemType.toLowerCase()=="win64")){if(nexacro._registerPopupFrame(_h,this,_k)<0){throw nexacro.MakeNativeError(this,"native_exist_id",_h);}}else{if(nexacro._registerPopupFrame(_h,this)<0){throw nexacro.MakeNativeError(this,"native_exist_id",_h);}}if(this._init_formurl){this.set_formurl(this._init_formurl);}this._is_window=true;this._window_type=5;var _l=this._adjust_left;var _m=this._adjust_top;var _n=this._adjust_width;var _o=this._adjust_height;if(_k){if(this._p_autosize==false&&(this._openalign==null||this._openalign&&this._openalign.value=="")){}else{_l=_k.getLeft();_m=_k.getTop();}}var _p=false;if(this._p_autosize&&this._p_form&&this._p_form._control_element){_n=this._p_form._init_width;_o=this._p_form._init_height;_p=true;}_k=_g?_g._getWindow():null;if(!_p){var _q=this._getOpenAlignPos(_k,_l,_m,_n,_o);if(_q){_l=_q.left;_m=_q.top;}}if(!this.opener||(this.opener&&!this.opener._is_form&&!this.opener._is_application)){this.opener=_g?_g._p_form:null;}if(this._p_form){this._p_form._p_opener=this.opener;}if(this._p_autosize&&!_p){this._delayed_create_window=true;this._delayed_create_parent=_k;}this._window=new nexacro._Window(this._p_name,_k,false);this._window.attachFrame(this,false);if(this._p_form&&this._p_form._load_manager.status>=7){this._loadedForm();}if(_g&&_g._setModalLock){this._setModalLock(this._overlaycolor);}var _r=this._window.createModal(_k,this.id,_n,_o,_l,_m,this._p_resizable,this._p_layered,_i);nexacro._SysOnceCallbackTimer.callonce(_k,function(){_k._cancelEvent();});return _r;};_pChildFrame._on_init=function(){if(this._is_popup_frame&&this._window_type==2){var _a;var _b;var _c;var _d,_e,_f,_g;var _h;var _i=this._p_name;var _j=nexacro._popupframeoption[_i];if(_j){delete nexacro._popupframeoption[_i];_a=_j._formurl;_b=_j._openstyles;_c=_j._parentframe;_d=_j._left;_e=_j._top;_f=_j._width;_g=_j._height;_h=_j._args;this.opener=_j._opener;}if(_c){_c.addChild(_i,this);}if(_h){for(var _o in _h){this._addVariable(_o,_h[_o]);}}if(_b){var _k=_b.split(" ");for(var _p=0,_q=_k.length;_p<_q;_p++ ){var _l=_k[_p].split("=");if(_l[0]){if(_l[1]&&_l[1].indexOf("'")>-1){_l[1]=_l[1].replace("'","");for(var _r=_p;_r<_q;_r++ ){var _m=_k[ ++_p];if(_m){_l[1]+=" "+_m;if(_m.indexOf("'")>-1){_l[1]=_l[1].replace("'","");break;}}}}}if(_l[0]=="openstatus"){this._init_openstatus=_l[1];continue;}if(this["set_"+_l[0]]){this["set_"+_l[0]](_l[1]);}}}var _n=nexacro._locale?nexacro._locale:nexacro._getLocale();if(_n){this._setLocale(_n);}this.init(this._p_name,_d,_e,_f,_g,null,null,_a);if(nexacro.__setViewportScale){nexacro.__setViewportScale();}}};_pChildFrame._on_load=function(){nexacro._initLayoutManager(true,true,true);this.createComponent();this._on_focus(true);this.on_created();this._changeStateActivate(true);};_pChildFrame._loadApplicationCSS=function(){if(nexacro._cssurls){var _a,_b=nexacro._cssurls.length;for(var _l=0;_l<_b;_l++ ){_a=nexacro._cssurls[_l];if(_a){var _c=_a.replace("::","_");var _d,_e;_d=nexacro._getServiceLocation("theme://"+_c,nexacro._project_absolutepath,null,false);if(nexacro._localcache_path){_e=_d.substring(nexacro._project_absolutepath.length,_d.length);_d=nexacro._localcache_path+_e;}var _f=_d;var _g=_d.lastIndexOf('/');_d=_d.substring(0,_g+1)+nexacro._getCSSFileName(_d.substring(_g+1,_d.length-5));_g=_f.lastIndexOf('.');_f=nexacro._getMapFileName(_f.substring(0,_g));var _h=nexacro._getServiceObject(_a);var _i=nexacro.getEnvironment();var _j=_i.checkversion;if(_j){var _k=_h.version;if(!nexacro._isNull(_k)&&_k!==""){_d+=nexacro._getVersionQueryString(_d,null,_k);_f+=nexacro._getVersionQueryString(_f,null,_k);}}this._load_manager.loadCssModule(_d,null,null,_h,true,1);this._load_manager.loadCssModule(_f,null,null,_h);}}}};_pChildFrame._loadEnvironment=function(){this._loadTheme(nexacro._curthemeid);this._loadInitValueFile(nexacro._initvaluefileid);};_pChildFrame._loadTheme=function(_a){if(!_a){return;}var _b,_c,_d;var _e=false;if(nexacro._localcache_path&&nexacro._hasLocalCacheUrl(_a)){_b=nexacro._getLocalCacheUrl(_a);if(_b){_d=nexacro._getServiceObject(_a);this._load_manager.loadCssModule(_b,null,null,_d);return;}_e=true;_c=nexacro._localcache_path;}_b=nexacro._theme_uri+"/"+nexacro._getCSSFileName("theme");_b=nexacro._getServiceLocation(_b,_c);if(_e){nexacro._addLocalCacheUrl(_a,_b);}_d=nexacro._getServiceObject(_b);this._load_manager.loadCssModule(_b,null,null,_d,true,0);_b=nexacro._getMapFileName(nexacro._theme_uri+"/theme");_b=nexacro._getServiceLocation(_b,_c);if(_e){nexacro._addLocalCacheUrl(_a,_b);}_d=nexacro._getServiceObject(_b);this._load_manager.loadCssModule(_b,null,null,_d);};_pChildFrame._loadInitValueFile=function(_a){if(!_a){return;}var _b,_c,_d;var _e=false;if(nexacro._localcache_path&&nexacro._hasLocalCacheUrl(_a)){_b=nexacro._getLocalCacheUrl(_a);if(_b){_d=nexacro._getServiceObject(_a);this._load_manager.loadGlobalModule(_a,null,null,_d);return;}_e=true;_c=nexacro._localcache_path;}_b=nexacro._getServiceLocation(_a,_c);if(_e){nexacro._addLocalCacheUrl(_a,_b);}_d=nexacro._getServiceObject(_b);this._load_manager.loadGlobalModule(_b,null,null,_d);};_pChildFrame._showModeless=function(_a,_b){this._is_popup_frame=true;this._is_window=true;this._window=_b;this._window.frame=this;this._window_type=2;this._is_autosized=false;this._load_manager.status=2;this._load_manager._is_mainloaded=true;this._loadEnvironment();this._loadApplicationCSS();};_pChildFrame.hideModal=function(){};_pChildFrame.hideModeless=function(){};_pChildFrame.getForm=function(){return this._p_form?this._p_form:null;};_pChildFrame.on_fire_sys_onkeydown=function(_a,_b,_c,_d,_e,_f,_g){if(this._window_type==1){return true;}var _h=nexacro.Frame.prototype.on_fire_sys_onkeydown.call(this,_a,_b,_c,_d,_e,_f,_g);if(this._is_window){return true;}return _h;};_pChildFrame.on_fire_sys_onkeyup=function(_a,_b,_c,_d,_e,_f,_g){if(this._window_type==1){return true;}var _h=nexacro.Frame.prototype.on_fire_sys_onkeyup.call(this,_a,_b,_c,_d,_e,_f,_g);if(this._is_window){return true;}return _h;};_pChildFrame.on_fire_sys_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this._window_type==1){return true;}var _n=nexacro.Frame.prototype.on_fire_sys_onlbuttondown.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);if(this._is_loadform_failed&&this._isShowTitleBar()==false){var _o=this.getOwnerFrame();if(_o){_o.removeChild(this.id);var _p=_o.getElement();if(_p){_o.on_change_containerRect(_o._getClientWidth(),_o._getClientHeight());}}if(this._is_window&&this._window&&this._window._is_alive){this._window.destroy();}else{this._destroy();}if(this._control_element){this._control_element.destroy();}this._control_element=null;}if(this._is_window){return true;}return _n;};_pChildFrame.on_fire_sys_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this._window_type==1){return true;}var _n=nexacro.Frame.prototype.on_fire_sys_onlbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);if(this._is_window){return true;}return _n;};_pChildFrame.on_fire_sys_onrbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this._window_type==1){return true;}var _n=nexacro.Frame.prototype.on_fire_sys_onrbuttondown.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);if(this._is_window){return true;}return _n;};_pChildFrame.on_fire_sys_onrbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this._window_type==1){return true;}var _n=nexacro.Frame.prototype.on_fire_sys_onrbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);if(this._is_window){return true;}return _n;};_pChildFrame.on_fire_sys_onmousedown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this._window_type==1){return true;}var _n=nexacro.Frame.prototype.on_fire_sys_onmousedown.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);if(this._is_window){return true;}return _n;};_pChildFrame.on_fire_sys_onmouseup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this._window_type==1){return true;}var _n=nexacro.Frame.prototype.on_fire_sys_onmouseup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);if(this._is_window){return true;}return _n;};_pChildFrame.on_fire_sys_onmouseenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){var _n=nexacro.Frame.prototype.on_fire_sys_onmouseenter.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);if(this._is_window){return true;}return _n;};_pChildFrame.on_fire_sys_onmouseleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){var _n=nexacro.Frame.prototype.on_fire_sys_onmouseleave.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);if(this._is_window){return true;}return _n;};_pChildFrame.on_fire_sys_onmousemove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this._window_type==1){return true;}var _n=nexacro.Frame.prototype.on_fire_sys_onmousemove.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);if(this._is_window){return true;}return _n;};_pChildFrame.on_fire_sys_onmousewheel=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o){var _p=nexacro.Frame.prototype.on_fire_sys_onmousewheel.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o);if(this._is_window){return true;}return _p;};_pChildFrame.on_fire_user_onkeydown=function(_a,_b,_c,_d,_e,_f,_g){var _h=nexacro.Frame.prototype.on_fire_user_onkeydown.call(this,_a,_b,_c,_d,_e,_f,_g);if(this._is_window){return true;}return _h;};_pChildFrame.on_fire_user_onkeyup=function(_a,_b,_c,_d,_e,_f,_g){var _h=nexacro.Frame.prototype.on_fire_user_onkeyup.call(this,_a,_b,_c,_d,_e,_f,_g);if(this._is_window){return true;}return _h;};_pChildFrame.on_fire_user_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){var _n=nexacro.Frame.prototype.on_fire_user_onlbuttondown.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);if(this._is_window){return true;}return _n;};_pChildFrame.on_fire_user_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=nexacro.Frame.prototype.on_fire_user_onlbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);if(this._is_window){return true;}return _o;};_pChildFrame.on_fire_user_onrbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){var _n=nexacro.Frame.prototype.on_fire_user_onrbuttondown.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);if(this._is_window){return true;}return _n;};_pChildFrame.on_fire_user_onrbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=nexacro.Frame.prototype.on_fire_user_onrbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);if(this._is_window){return true;}return _o;};_pChildFrame.on_fire_user_onmouseup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){var _n=nexacro.Frame.prototype.on_fire_user_onmouseup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);if(this._is_window){return true;}return _n;};_pChildFrame.on_fire_user_onmousedown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){var _n=nexacro.Frame.prototype.on_fire_user_onmousedown.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);if(this._is_window){return true;}return _n;};_pChildFrame.on_fire_user_onmouseenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){var _n=nexacro.Frame.prototype.on_fire_user_onmouseenter.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);if(this._is_window){return true;}return _n;};_pChildFrame.on_fire_user_onmouseleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){var _n=nexacro.Frame.prototype.on_fire_user_onmouseleave.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);if(this._is_window){return true;}return _n;};_pChildFrame.on_fire_user_onmousemove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this._window_type==1){return true;}var _n=nexacro.Frame.prototype.on_fire_user_onmousemove.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);if(this._is_window){return true;}return _n;};_pChildFrame.on_fire_user_onmousewheel=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o){var _p=nexacro.Frame.prototype.on_fire_user_onmousewheel.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o);if(this._is_window){return true;}return _p;};_pChildFrame._createForm=function(){var _a=this._p_formurl;if(!_a){_a="";}var _b=nexacro.getApplication();if(_b){if(_b.key==="designform"){return null;}}var _c=this._p_form;if(_c){if(_c._url!=this._formurl){_c.destroyComponent();_c=new nexacro.Form("form",0,0,this._getClientWidth(),this._getClientHeight(),null,null,null,null,null,null,this);_c._p_opener=this.opener;this._p_form=_c;_c.loadForm(_a);if(this._control_element){_c.createComponent();}}}else{_c=new nexacro.Form("form",0,0,this._getClientWidth(),this._getClientHeight(),null,null,null,null,null,null,this);_c._p_opener=this.opener;this._p_form=_c;if(this._formurl){_c.loadForm(_a);}if(this._control_element){_c.createComponent();}}return _c;};_pChildFrame._closeForm=function(_a){var _b;if(this._is_window){if(_a!==undefined){this._close_argument=_a;this._window.returnValue=_a;}var _c=this._p_all;var _d=_c.length-1;for(var _h=_d;_h>=0;_h-- ){var _e=_c.get_id(_h);var _f=_c[_h];if(_f&&_f._is_window&&_f._window&&_f._is_alive){this.removeChild(_e);_f._window.destroy();_f._window=null;}}_b=this.getOwnerFrame();if(_b){_b.removeChild(this.id);}else if(this._window&&this._window._parentwindowforopen&&this._window_type==2){if(nexacro._Browser=="Runtime"&&(nexacro._SystemType.toLowerCase()=="win32"||nexacro._SystemType.toLowerCase()=="win64")){nexacro._unregisterPopupFrame(this.id,this._window._parentwindowforopen,undefined,true);}}if(this._p_form&&this._p_form._is_alive){this._p_form._destroy();this._p_form=null;}if(this._window&&this._window._is_alive){this._window.destroy();this._window=null;}}else{if(_a!==undefined){this._close_argument=_a;}var _g=true;_b=this.getOwnerFrame();if(_b){_b.removeChild(this.id);_g=false;}if(this._p_form&&this._p_form._is_alive){this._p_form._destroy();this._p_form=null;}this._destroy(_g);}};_pChildFrame._destroyForm=function(){if(this._p_form){this._p_form._destroy();this._p_form=null;}};_pChildFrame._loadedForm=function(){this._setLastFocus(this._p_form);if(this._is_loadform_failed){return;}this._applyDragMoveType();if(this._p_autosize){var _a,_b=this._delayed_create_parent;var _c=this._left;var _d=this._top;var _e;var _f;var _g,_h,_i;if(this._is_window&&this._window_type==2){if(this._delayed_create_window){_g=this._getAutosizedFrameSize(nexacro._Browser=="Runtime");_e=_g.width;_f=_g.height;_a=this._getOpenAlignPos(_b,_c,_d,_e,_f);if(_a){_c=_a.left;_d=_a.top;}this._move(this._adjust_left,this._adjust_top,_e,_f);var _j=this._window=new nexacro._Window(this._p_name,_b,false);_j.attachFrame(this,false);_j.create(_b,this.id,_e,_f,_c,_d,this._p_resizable,this._p_layered,this._p_showontaskbar);delete this._delayed_create_parent;delete this._delayed_create_window;}else{if(this._window){_g=this._getAutosizedFrameSize(nexacro._Browser=="Runtime");_e=_g.width;_f=_g.height;_a=this._getOpenAlignPos(this._window._p_parent,_c,_d,_e,_f);if(_a){_c=_a.left;_d=_a.top;}this._move(_c,_d,_e,_f);if(this._init_openstatus){this.set_openstatus(this._init_openstatus);if(this._init_openstatus!="normal"){this._init_openstatus=null;return;}this._init_openstatus=null;}_h=_e+this._window._gap_client_width;_i=_f+this._window._gap_client_height;this._window.setSize(_h,_i);}}}else if(this._window_type==5){if(this._delayed_create_window){{_g=this._getAutosizedFrameSize(nexacro._Browser=="Runtime");_e=_g.width;_f=_g.height;}_a=this._getOpenAlignPos(_b,_c,_d,_e,_f);if(_a){_c=_a.left;_d=_a.top;}if(this._window.handle){this._window.moveTo(_c,_d);if(this._state_openstatus==0){this._move(_c,_d,_e,_f);}else{this._restore_position={left:_c,top:_d,width:_e,height:_f,right:this._p_right,bottom:this._p_bottom};}}else{this._delayed_window_pos={left:_c,top:_d,width:_e,height:_f};}delete this._delayed_create_parent;delete this._delayed_create_window;}else{if(this._window){_g=this._getAutosizedFrameSize(nexacro._Browser=="Runtime");_e=_g.width;_f=_g.height;_a=this._getOpenAlignPos(this._window._p_parent,_c,_d,_e,_f);if(_a){_c=_a.left;_d=_a.top;}this._move(_c,_d,_e,_f);_h=_e+this._window._gap_client_width;_i=_f+this._window._gap_client_height;this._window.setSize(_h,_i);}}}else if(this._window_type==1||this._window_type==4){_g=this._getAutosizedFrameSize(true);_e=_g.width;_f=_g.height;_a=this._getOpenAlignPos(this._getWindow(),_c,_d,_e,_f);if(_a){_c=_a.left;_d=_a.top;}var _k=this._recalcModalPosition(_c,_d,_e,_f);this._move(_k.left,_k.top,_k.width,_k.height);}}this._is_autosized=true;};_pChildFrame._on_window_loaded=function(){this._checkValidWindowSize();if(!this._is_created){this.createComponent();this._on_focus(true);this.on_created();}if(this._lockmode){delete this._lockmode;this._lockmode=null;}};_pChildFrame._onHttpSystemError=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){this._is_loadform_failed=true;};_pChildFrame._createdForm=function(){var _a;if(this._window_type==1){if(this._isNotProcessedWheelZoom==true){_a=this._getWindow();var _b=1.0;if(_a&&(_a._wheelZoom!=undefined)&&(_a._wheelZoom!=100)){_b=_a._wheelZoom/100.0;}var _c=this._getOpenAlignPos(_a,this._p_left,this._p_top,this._p_width,this._p_height);if(_c){this._p_left=_c.left;this._p_top=_c.top;}var _d=this._recalcModalPosition(this._p_left,this._p_top,this._p_width,this._p_height);this._p_left=_d.left;this._p_top=_d.top;this._p_width=_d.width;this._p_height=_d.height;if(_b!=1.0){var _e=this.getElement();if(_e){_e.setElementZoom(_a._wheelZoom);_e.setElementSize(_d.width,_d.height,false,true);_e._updateBorderElementsPosition();this.set_visible(true);}}this._isNotProcessedWheelZoom=false;}}if(this._state_openstatus!=2){var _f=this.getOwnerFrame();var _g=this._getWindow();var _h;if(_f){var _i=false;if(_f._is_frameset&&_f._getTopOrderFrame()==this){_i=true;}else if(!_f._is_frameset&&_f._is_frame){_i=true;}if(_i){if(this._getWindow()==_f._getWindow()){this._changeStateActivate(true);}else if(this._window_type==5){if(_g&&_g._prepared_flag==true){this._changeStateActivate(true);}}if(nexacro._enableaccessibility&&(nexacro._accessibilitywholereadtype==1||nexacro._accessibilitywholereadtype==3)){this._setFocus();this._p_form._playAccessibilityWholeReadLabel("wholeread");}else{_h=_g._isActiveLayerComponent(this._p_form);if(_h){this._p_form._on_focus(true);}}}}else{this._changeStateActivate(true);if(nexacro._enableaccessibility&&(nexacro._accessibilitywholereadtype==1||nexacro._accessibilitywholereadtype==3)){this._setFocus();this._p_form._playAccessibilityWholeReadLabel("wholeread");}else{_h=_g._isActiveLayerComponent(this._p_form);if(_h){this._p_form._on_focus(true);}}}}if(this._is_window&&this._p_autosize!=true){this._checkValidWindowSize();}if(this._p_form&&this._p_form._delayedfocuscomp){if(this._window_type==5){_a=this._getWindow();if(_a&&_a._prepared_flag==true){this._p_form._delayedfocuscomp=null;delete this._p_form._delayedfocuscomp;}}else{this._p_form._delayedfocuscomp=null;delete this._p_form._delayedfocuscomp;}}};_pChildFrame._applyDragMoveType=function(){var _a=this._p_form;if(_a){var _b=false;if(this._dragmovetype==2||(this._dragmovetype==1&&!this._isShowTitleBar())){_b=true;}{_a._setDragMove(_b,this._is_window);}}if(this._p_titlebar){this._p_titlebar._setDragMove(this._dragmovetype!=0,this._is_window);}};_pChildFrame._cancelTouchEvent=function(){var _a=this._getWindow();var _b=_a?_a._gesture_manager:null;if(_b){var _c=_b._touch_session;if(_c&&_c._cur_input){_c._cur_input.preventAction();}}};_pChildFrame._getTitleText=function(_a){var _b;_b=this._getStringResourceProperty(this._p_titletext);if(_a){if(this._p_form&&this._p_form._p_titletext.length>0){if(_b.length>0){_b+=" - ";}_b+=this._getStringResourceProperty(this._p_form._p_titletext);}}return _b;};_pChildFrame._getStatusText=function(_a){var _b;_b=this._p_statustext;if(_a){if(this._p_form&&this._p_form._p_statustext.length>0){if(_b.length>0){_b+=" - ";}_b+=this._p_form._p_statustext;}}return _b;};_pChildFrame._getOpenAlignPos=function(_a,_b,_c,_d,_e){if(this._openalign){if(_a==null){return;}var _f=this._getWindow();var _g=1.0;if(_f&&(_f._wheelZoom!=undefined)&&(_f._wheelZoom!=100)){_g=_f._wheelZoom/100.0;}var _h=(this._window_type==1||this._window_type==4);var _i=_h?0:(_a.left|0);var _j=_h?0:(_a.top|0);var _k=_a.clientWidth;var _l=_a.clientHeight;switch(this._openalign.halign){case "left":_b=_i;break;case "center":_b=_i+Math.round((_k-_d* _g)/2);break;case "right":_b=_i+_k-_d* _g;break;}switch(this._openalign.valign){case "top":_c=_j;break;case "middle":_c=_j+Math.round((_l-_e* _g)/2);break;case "bottom":_c=_j+_l-_e* _g;break;}return {left:_b,top:_c};}return null;};if(nexacro._Browser=="Gecko"){_pChildFrame._checkValidWindowSize=function(){var _a=this._window;if(!_a){return;}var _b=this._adjust_width;var _c=this._adjust_height;if((_a.clientWidth!=_b||_a.clientHeight!=_c)&&(_a.clientWidth!=0&&_a.clientHeight!=0)){if(this.autosize!=true&&this._control_element){var _d=this._control_element;_d.setElementSize(_b,_c);_d.setElementSize(this._adjust_width,this._adjust_height);}this._move(this._adjust_left,this._adjust_top,_a.clientWidth,_a.clientHeight);if(this._p_autosize!=true){this.on_change_containerRect(this._adjust_width,this._adjust_height);}return false;}return true;};}else{_pChildFrame._checkValidWindowSize=nexacro._emptyFn;}_pChildFrame._setModalLock=function(_a){var _b;if(this._window_type==5){_b=this._p_parent?this._p_parent._getWindow():null;}else{_b=this._getWindow();}if(!_b){_b=nexacro._getMainWindowHandle()?nexacro._getMainWindowHandle()._linked_window:null;}if(!_b){return;}var _c=_b.getCurrentFocusPaths()?_b.getCurrentFocusPaths().slice(0):null;_b._removeFromCurrentFocusPath(null,false);if(_c){var _d=_c.length;var _e;for(var _m=_d;_m>0;_m-- ){_e=_c[_m -1];_e._changeStatus("mouseover",false);}}var _f=nexacro.ChildFrame._default_overlaycolor;if(_a){_f=_a;}else if(this._overlaycolor){_f=this._overlaycolor;}var _g=nexacro._zindex_firstmodal;var _h=_b._modal_frame_stack;if(_h.length>0){var _i=_h[_h.length-1];_g=_i[1]+1;}var _j;if(this._window_type==5){_j=this._p_parent?((this._p_parent._window_type==5)?this._p_parent:this._p_parent._p_parent):null;}else{_j=this._p_parent;}if(!_j){var _k=nexacro.getApplication();if(_k){_j=_k._p_mainframe;}}var _l;if(_j){if(this._window_type==5){_l=this._modal_overlay_elem=new nexacro.ModalOverlayElement(_j._control_element);_l.setLinkedControl(_j);_l.setElementZIndex(_g);_l.name="modal_overlay";if(_f){_l.setElementBackground(_f);}_l.create(_b);_j._accessibilityModalLock(_h);_b._modal_frame_stack.push([this,_g,_c]);}else{_l=this._modal_overlay_elem=new nexacro.ModalOverlayElement(_j._control_element);_l.setLinkedControl(this);_l.setElementZIndex(_g);_l.name="modal_overlay";if(_f){_l.setElementBackground(_f);}_l.create(_b);this._accessibilityModalLock(_h);_b._modal_frame_stack.push([this,_g,_c]);}}};_pChildFrame._setModalUnlock=function(){var _a;if(this._window_type==5){_a=this._p_parent?this._p_parent._getWindow():null;}else{_a=this._getWindow();}if(!_a){_a=nexacro._getMainWindowHandle()?nexacro._getMainWindowHandle()._linked_window:null;}if(!_a){return;}var _b=_a._modal_frame_stack;var _c=_b.length;var _d;for(var _h=0;_h<_c;_h++ ){_d=_b[_h];if(_d[0]==this){for(var _i=_h;_i<_c -1;_i++ ){_b[_i]=_b[_i+1];}_b.length=_c -1;break;}}nexacro._unregisterPopupFrame(this.id,_a);this._accessibilityModalUnLock(_b);if(_d){var _e=_d[2];if(_e&&_e.length>0){var _f=_e.length;for(_h=0;_h<_f;_h++ ){var _g=_e[_h];if(_g instanceof nexacro.ChildFrame){_g._changeStateActivate(true);continue;}else if(_g._is_form){_g._on_focus(true);break;}if(_h==(_f -1)){_g._on_focus(true);}}}}if(this._modal_overlay_elem){this._modal_overlay_elem.destroy();this._modal_overlay_elem=null;}};_pChildFrame._setModalOverlaySize=function(_a,_b){this._modal_overlay_elem.setElementSize(_a,_b);if(this._state_openstatus==3){this._setSize(_a,_b);}};_pChildFrame._recalcModalPosition=function(_a,_b,_c,_d){var _e=this._getWindow();var _f=1.0;if(_e&&(_e._wheelZoom!=undefined)&&(_e._wheelZoom!=100)){_f=_e._wheelZoom/100.0;}_a=parseInt(_a);_b=parseInt(_b);_c=parseInt(_c);_d=parseInt(_d);var _g=this._getWindow();if(!_g){return {left:_a,top:_b,width:_c,height:_d};}var _h=parseInt(this._titlebarheight|0);if(_h<=0){_h=this._defaulttitleheight;}if(_a+_c* _f>_g.clientWidth){_a=_g.clientWidth-_c* _f;}if(_b+_h* _f>_g.clientHeight){_b=_g.clientHeight-_h* _f;}if(_a<0){_a=0;}if(_b<0){_b=0;}return {left:_a,top:_b,width:_c,height:_d};};_pChildFrame._getAutosizedFrameSize=function(_a){var _b=this._adjust_width;var _c=this._adjust_height;var _d=this._p_form;if(_d&&_d._is_loading==false){var _e=nexacro._getLayoutManager();if(_e){var _f=_e.getValidLayout(_d);if(_f&&_f._p_width>-1&&_f._p_height>-1){_b=_f._p_width;_c=_f._p_height;}else{_b=_d._init_width;_c=_d._init_height;}}}if(_a){var _g=0,_h=0;if(this._isShowTitleBar()){_g=parseInt(this._titlebarheight)|0;}if(this._isShowStatusBar()){_h=parseInt(this._statusbarheight)|0;}_c+=_g+_h;}return {"width":_b,"height":_c};};_pChildFrame._on_apply_locale=function(_a){var _b=this._p_form;if(_b){_b._setLocale(_a);}};nexacro.FrameSetBase=function(_a,_b,_c,_d,_e,_f,_g,_h){nexacro.Frame.call(this,_a,_b,_c,_d,_e,_f,_g,_h);this._p_frames=new nexacro.Collection();this._zordermap=new nexacro.Collection();this._separatesize=[];};var _pFrameSetBase=nexacro._createPrototype(nexacro.Frame,nexacro.FrameSetBase);nexacro.FrameSetBase.prototype=_pFrameSetBase;_pFrameSetBase._type_name="FrameSetBase";_pFrameSetBase._p_separatesize="";_pFrameSetBase._p_keepseparatesizewhenswap=false;_pFrameSetBase._p_ctrltaborder="active";_pFrameSetBase._p_ctrltabtype="order";_pFrameSetBase._p_showstatusbar=false;_pFrameSetBase._p_showtitlebar=false;_pFrameSetBase._max_frame=null;_pFrameSetBase._track_frame=null;_pFrameSetBase._active_frame=null;_pFrameSetBase._is_frameset=true;_pFrameSetBase._is_autorecalc_frame=true;_pFrameSetBase.on_create_contents=function(){nexacro.Frame.prototype.on_create_contents.call(this);var _a=this._p_frames.length;for(var _c=0;_c<_a;_c++ ){var _b=this._p_frames[_c];if(_b.set_resizable){_b.set_resizable(true);}_b.createComponent();this._zordermap.add_item(_b._p_name,_b);}};_pFrameSetBase.on_change_containerRect=function(_a,_b){var _c=this._control_element;if(_c){}};_pFrameSetBase.on_created_contents=function(_a){nexacro.Frame.prototype.on_created_contents.call(this,_a);var _b=0,_c=0;var _d=0,_e=0;var _f=this._control_element;if(_f){_d=_f.client_width/5* 3;_e=_f.client_height/5* 3;_c=_f.client_top;}var _g=this._titlebarheight;var _h=this._p_frames.length;var _i=this._p_frames;for(var _k=0;_k<_h;_k++ ){var _j=_i[_k];if(_j.position){if(_j._adjust_width==0&&_j._adjust_height==0){_j._move(_b,_c,_d,_e);_b+=_g;_c+=_g;}}_j.on_created();}};_pFrameSetBase.on_destroy_contents=function(){nexacro.Frame.prototype.on_destroy_contents.call(this);var _a=this._p_frames.length;for(var _c=_a -1;_c>=0;_c-- ){var _b=this._p_frames[_c];if(_b){_b.destroyComponent();}}this._p_frames=null;};_pFrameSetBase.set_separatesize=function(_a){if(_a&&this._p_separatesize!=_a){this._p_separatesize=_a;this._separatesize=_a.split(",");var _b=this._control_element;if(_b){this.on_change_containerRect(this._getClientWidth(),this._getClientHeight());}}};_pFrameSetBase.set_keepseparatesizewhenswap=function(_a){var _b=nexacro._toBoolean(_a);if(this._p_keepseparatesizewhenswap!=_b){this._p_keepseparatesizewhenswap=_b;}};_pFrameSetBase.set_minimizedchildposition=function(_a){var _b=this._p_minimizedchildposition;if(_b==_a){return;}switch(_a){case "left":this._minimizedchildposition=0;this._p_minimizedchildposition=_a;break;case "top":this._minimizedchildposition=1;this._p_minimizedchildposition=_a;break;case "right":this._minimizedchildposition=2;this._p_minimizedchildposition=_a;break;case "bottom":this._minimizedchildposition=3;this._p_minimizedchildposition=_a;break;}var _c=this._control_element;if(this._p_minimizedchildposition==_a&&_c){this.on_change_containerRect(this._getClientWidth(),this._getClientHeight());}};_pFrameSetBase._properties=[{name:"ctrltaborder",readonly:true},{name:"ctrltabtype",readonly:true},{name:"tabkeycirculation",readonly:true},{name:"separatesize"},{name:"keepseparatesizewhenswap"},{name:"minimizedchildposition"}];nexacro._defineProperties(_pFrameSetBase,_pFrameSetBase._properties);_pFrameSetBase._on_child_movetrack=function(_a,_b,_c,_d){var _e=(this._type_name=="VFrameSet")?false:true;var _f=(this._type_name=="HFrameSet")?false:true;var _g=_a._adjust_left+(_a._adjust_width/2);var _h=_a._adjust_top+(_a._adjust_height/2);var _i=-1;var _j=this._p_frames;var _k=_j.length;for(var _s=0;_s<_k;_s++ ){var _l=_j[_s];if(_l==_a){continue;}if(_l._state_openstatus==2){continue;}if(_e){var _m=_l._adjust_left;var _n=_m+_l._adjust_width;if(_m>_g){continue;}if(_n<_g){continue;}}if(_f){var _o=_l._adjust_top;var _p=_o+_l._adjust_height;if(_o>_h){continue;}if(_p<_h){continue;}}_i=_s;break;}if(_i!=(-1)){var _q=_j.indexOf(_a.name);var _r=_j[_i];_j.remove_item(_r.name);_j.insert_item(_q,_r.name,_r);_j.remove_item(_a.name);_j.insert_item(_i,_a.name,_a);if(this._control_element){this.on_change_containerRect(this._getClientWidth(),this._getClientHeight());}}};_pFrameSetBase._on_child_starttrack=function(_a,_b,_c,_d){if(_a){this._track_frame=_a;}};_pFrameSetBase._on_child_endtrack=function(_a,_b,_c,_d){this._track_frame=null;if(this._control_element){this.on_change_containerRect(this._getClientWidth(),this._getClientHeight());}};_pFrameSetBase._changeStateActivate=function(_a,_b){if(_a==true){if(_b){var _c=this.getActiveFrame();if(_c&&_c!=_b){_c._changeStateActivate(false,null);}this._active_frame=_b;if(_b._control_element){if(this._zordermap.indexOf(_b)<0){this._zordermap.insert_item(0,_b,_b.id);}if(this._zordermap.length>1){if(this._control_element){this._control_element.bringToFrontElement(_b._control_element);}this._zordermap.remove_item(_b.id);this._zordermap.add_item(_b.id,_b);}if(this._max_frame&&this._max_frame!=_b){_b._changeOpenStatus(3);}}}}else if(_a==false){var _d=this._p_frames;var _e=_d.length;for(var _g=0;_g<_e;_g++ ){var _f=_d[_g];if(_f._isNested()){_f._changeStateActivate(false);}}}nexacro.Frame.prototype._changeStateActivate.call(this,_a);};_pFrameSetBase._changeStateFocus=function(_a,_b){if(_a==true){if(_b){var _c=this.getActiveFrame();if(_c&&_c!=_b){_c._changeStateActivate(false,null);}this._active_frame=_b;if(_b._control_element){if(this._zordermap.indexOf(_b)<0){this._zordermap.insert_item(0,_b,_b.id);}if(this._zordermap.length>1){if(this._control_element){this._control_element.bringToFrontElement(_b._control_element);}this._zordermap.remove_item(_b.id);this._zordermap.add_item(_b.id,_b);}if(this._max_frame&&this._max_frame!=_b){_b._changeOpenStatus(3);}}}}else if(_a==false){var _d=this._p_frames;var _e=_d.length;for(var _g=0;_g<_e;_g++ ){var _f=_d[_g];if(_f._isNested()){_f._changeStateActivate(false);}}}nexacro.Frame.prototype._changeStateFocus.call(this,_a);};_pFrameSetBase.on_apply_prop_enable=function(_a){var _b=this._p_frames;var _c=_b.length;for(var _e=0;_e<_c;_e++ ){var _d=_b[_e];_d._setEnable(_a);}};_pFrameSetBase.on_apply_prop_stringresource=function(){if(!nexacro._StringResource){return;}var _a=this._p_frames;var _b=_a.length;for(var _d=0;_d<_b;_d++ ){var _c=_a[_d];_c.on_apply_prop_stringresource();}this.on_apply_prop_tooltip();this._applyStatusText();this._applyTitleText();if(nexacro._enableaccessibility){this.on_apply_prop_accessibilitylabel();this.on_apply_prop_accessibilitydescription();this.on_apply_prop_accessibilityaction();}};_pFrameSetBase.getActiveFrame=function(){if(this._active_frame){return this._active_frame;}return this._getTopOrderFrame();};_pFrameSetBase.getHandle=function(){};_pFrameSetBase._getTopOrderFrame=function(){var _a=this._zordermap.length;if(_a>0){var _b=this._zordermap.get_item(_a -1);return _b;}return null;};_pFrameSetBase._getNextOrderFrame=function(_a){var _b=this._zordermap.length;if(_b>0){var _c=this._zordermap.indexOf(_a.id);if(_c -1>_b -1&&_c -1<0){return null;}var _d=this._zordermap.get_item(_c -1);return _d;}return null;};_pFrameSetBase._visibleFrameCount=function(){return this._p_frames.length;};_pFrameSetBase._getMinimizeFrameCount=function(){var _a=0;var _b=this._p_frames;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(this._p_frames[_d]._state_openstatus==2){_a++ ;}}return _a;};_pFrameSetBase._recalcSeparateFrameSize=function(_a,_b,_c){var _d=[];var _e=((_b)?_b:this._visibleFrameCount());var _f=0,_g=0;var _h=0,_i=0;var _j=this._separatesize;var _k;for(_k=0;_k<_e;_k++ ){var _l=_j[_k];var _m=-1;var _n=-1;if(_l){_l.trim();_m=_l.indexOf("*");_n=((_m<0)&&(_l.length>0))?nexacro._parseInt(_l):-1;}if(_n==-1){var _o=-1;if(_l){_o=nexacro._parseInt(_l.substring(0,_m));}if(_o>0){_f+=_o;_d[_k]=_o* _n;}else{_f++ ;_d[_k]=_n;}}else{_g++ ;_h+=_n;if(_h<=_a){_d[_k]=_n;}else if(_g==1){_d[_k]=_a;}else{_h-=_n;}}}_i=_f>0?(_a-_h)/_f:0;for(_k=0;_k<_e;_k++ ){if(_d[_k]<0){_d[_k]=Math.abs(_d[_k])* _i;}else if(_d[_k]==undefined){_d[_k]=0;}}return _d;};_pFrameSetBase._getTitleText=function(_a){var _b;_b=this._getStringResourceProperty(this._p_titletext);if(_a){var _c=this.getActiveFrame();if(_c){var _d=_c._getTitleText(true);_d=this._getStringResourceProperty(_d);if(_d&&_d.length>0){if(_b.length>0){_b+=" - ";}_b+=_d;}}}return _b;};_pFrameSetBase._getStatusText=function(_a){var _b;_b=this._p_statustext;if(_a){var _c=this.getActiveFrame();if(_c){var _d=_c._getStatusText(true);if(_d.length>0){if(_b.length>0){_b+=" - ";}_b+=_d;}}}return _b;};_pFrameSetBase._getFrames=function(){var _a=this._frames;let _b=this._tabkeycirculation;let _c,_d=_a.length;if(_b==3){_b=this._arrange==0?1:0;}if(_b===undefined||_b==0){return _a;}let _e=new nexacro.Collection();for(_c=0;_c<_d;_c++ ){var _f=_a[_c];if(_f){if((_b==1&&_f._state_openstatus!=2)||_b==2&&_f._activate){_e.add_item(_f.id,_f);}}}return _e;};_pFrameSetBase._on_apply_locale=function(_a){var _b=this._p_frames;if(_b){var _c;for(var _d=0;_d<_b.length;_d++ ){_c=_b[_d];if(_c){_c._on_apply_locale(_a);}}}};nexacro.FrameSet=function(_a,_b,_c,_d,_e,_f,_g,_h){nexacro.FrameSetBase.call(this,_a,_b,_c,_d,_e,_f,_g,_h);this._separatesize=[];};var _pFrameSet=nexacro._createPrototype(nexacro.FrameSetBase,nexacro.FrameSet);nexacro.FrameSet.prototype=_pFrameSet;_pFrameSet._type_name="FrameSet";_pFrameSet._p_separatesize="";_pFrameSet._p_keepseparatesizewhenswap=false;_pFrameSet._p_ctrltaborder=0;_pFrameSet._p_ctrltabtype=0;_pFrameSet._p_minimizedchildposition="bottom";_pFrameSet._p_tabkeycirculation="all";_pFrameSet._p_restorechildpositiontype="normal";_pFrameSet._tabkeycirculation=0;_pFrameSet._minimizedchildposition=3;_pFrameSet._is_autorecalc_frame=false;_pFrameSet._arrange=0;_pFrameSet.on_change_containerRect=function(_a,_b){var _c=this._control_element;if(_c){var _d=this._getClientWidth();var _e=this._getClientHeight();var _f=0;var _g=0;var _h=_d;var _i=_e;var _j=_f+_d;var _k=_g+_e;if(this._max_frame){this._max_frame._move(_f,_g,_h,_i);}var _l;var _m=this._p_frames;var _n=_m.length;for(_l=0;_l<_n;_l++ ){var _o=_m[_l];if(_o==this._max_frame){continue;}if(_o._state_openstatus==2){_o._setVerticalMin(false);var _p=this._p_minimizewidth?this._p_minimizewidth:125;var _q=this._p_minimizeheight;if(!_q){_q=_o._titlebarheight;}switch(this._minimizedchildposition){case 0:_k=_g+_q;_o._move(_f,_g,_p,_q);_g=_k;break;case 1:_j=_f+_p;_o._move(_f,_g,_p,_q);_f=_j;break;case 2:_k=_g+_q;_o._move(_j-_p,_g,_p,_q);_g=_k;break;case 3:_j=_f+_p;_o._move(_f,_k-_q,_p,_q);_f=_j;break;}}}}};_pFrameSet.set_tabkeycirculation=function(_a){this._p_tabkeycirculation=_a;switch(_a){case "all,no_minimize":this._tabkeycirculation=1;break;case "active_only":this._tabkeycirculation=2;break;case "auto":this._tabkeycirculation=3;break;default:this._tabkeycirculation=0;this._p_tabkeycirculation="all";break;}};_pFrameSet.set_minimizewidth=function(_a){_a=parseInt(_a);this._p_minimizewidth=_a;this.on_apply_minimizewidth(_a);};_pFrameSet.on_apply_minimizewidth=function(){if(this._is_created){this.on_change_containerRect(this._getClientWidth(),this._getClientHeight());}};_pFrameSet.set_minimizeheight=function(_a){_a=parseInt(_a);this._p_minimizeheight=_a;this.on_apply_minimizeheight(_a);};_pFrameSet.on_apply_minimizeheight=function(){if(this._is_created){this.on_change_containerRect(this._getClientWidth(),this._getClientHeight());}};_pFrameSet.set_restorechildpositiontype=function(_a){var _b=_a;if(this._p_restorechildpositiontype!=_b){switch(_b){case "normal":case "keepmaximizeposition":this._p_restorechildpositiontype=_b;break;default:break;}}};_pFrameSet._properties=[{name:"tabkeycirculation"},{name:"minimizewidth"},{name:"minimizeheight"},{name:"restorechildpositiontype"}];nexacro._defineProperties(_pFrameSet,_pFrameSet._properties);_pFrameSet.arrange=function(_a){var _b=this._max_frame;if(_b){_b._on_syscommand(_b.getElement(),"restore",true,_b,null);}var _c=0;var _d=this._p_frames;var _e=_d.length;var _f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q;for(_f=0;_f<_e;_f++ ){_h=this._zordermap[_f];if(_h._p_visible==false||_h._state_openstatus==2){continue;}_c++ ;}var _r=0;var _s=0;var _t=this._getClientWidth();var _u=this._getClientHeight();if(_a=="cascade"){this._arrange=0;var _v=0;for(var _aa=100;;_v++ ){if(this._getClientHeight()<_aa){break;}_aa+=(60+(_v* 10));}var _w=parseInt(this._titlebarheight)|this._defaulttitleheight;var _x=_w;_t=this._getClientWidth()-(_w* _v);_u=this._getClientHeight()-(_x* _v);for(_f=0,_g=0;_f<this._p_frames.length;_f++ ){_h=this._zordermap[_f];if(_h._p_visible==false||_h._state_openstatus==2){continue;}_r=_w* (_g%(_v+1));_s=_x* (_g%(_v+1));_h._move(_r,_s,_t,_u);_g++ ;}}if(_a=="tilevertical"){this._arrange=1;_i=true;_k=parseInt(Math.sqrt(_c))|0;_j=parseInt(_c/_k)|0;if((_c%_k)!=0){_k+=1;_i=false;}_l=_c;for(_m=0,_f=0;_m<_j;_m++ ){for(_q=0;_q<_k;){_h=this._zordermap[_f];if(_h._p_visible==false||_h._state_openstatus==2){continue;}_n={left:_r,top:_s,right:_r+_t,bottom:_s+_u};_n.right=_n.left+((_n.right-_n.left)/_j);_n.bottom=_n.top+((_n.bottom-_n.top)/_k);_o=_n.right-_n.left;_p=_n.bottom-_n.top;_n.left+=(_j-_m -1)* _o;_n.top+=(_k-_q -1)* _p;_n.right+=(_j-_m -1)* _o;_n.bottom+=(_k-_q -1)* _p;_h._move(_n.left,_n.top,_n.right-_n.left,_n.bottom-_n.top);_q++ ;_f++ ;_l-- ;}if(!_i&&_k>2&&(_l%(_k -1))==0){_k-- ;_i=true;}}}if(_a=="tilehorizontal"){this._arrange=2;_i=true;_j=parseInt(Math.sqrt(_c))|0;_k=parseInt(_c/_j)|0;if((_c%_j)!=0){_k+=1;_i=false;}_l=_c;for(_m=0,_f=0;_m<_j;_m++ ){for(_q=0;_q<_k;){_h=this._zordermap[_f];if(_h._p_visible==false||_h._state_openstatus==2){continue;}_n={left:_r,top:_s,right:_r+_t,bottom:_s+_u};_n.right=_n.left+((_n.right-_n.left)/_j);_n.bottom=_n.top+((_n.bottom-_n.top)/_k);_o=_n.right-_n.left;_p=_n.bottom-_n.top;_n.left+=(_j-_m -1)* _o;_n.top+=(_k-_q -1)* _p;_n.right+=(_j-_m -1)* _o;_n.bottom+=(_k-_q -1)* _p;_h._move(_n.left,_n.top,_n.right-_n.left,_n.bottom-_n.top);_q++ ;_f++ ;_l-- ;}if(!_i&&_k>2&&(_l%(_k -1))==0){_k-- ;_i=true;}}}if(_a=="vertical"){this._arrange=3;for(_f=0,_g=0;_f<this._p_frames.length;_f++ ){_h=this._zordermap[_f];if(_h._p_visible==false||_h._state_openstatus==2){continue;}_h._move(_r+(_g* (_t/_c)),_s,(_t/_c),_u);_g++ ;}}if(_a=="horizontal"){this._arrange=4;var _y=_s;for(_f=0;_f<this._p_frames.length;_f++ ){_h=this._zordermap[_f];if(_h._p_visible==false||_h._state_openstatus==2){continue;}_n={left:_r,top:_s,right:_r+_t,bottom:_s+_u};_n.top=_y;_n.bottom=_n.top+(_u/_c);var _z=0;if(_n.bottom-_n.top<_z){_n.bottom=_n.top+_z;}_y=_n.bottom+1;_h._move(_r,_n.top,_t,_n.bottom-_n.top);}}};nexacro.VFrameSet=function(_a,_b,_c,_d,_e,_f,_g,_h){nexacro.FrameSetBase.call(this,_a,_b,_c,_d,_e,_f,_g,_h);};var _pVFrameSet=nexacro._createPrototype(nexacro.FrameSetBase,nexacro.VFrameSet);nexacro.VFrameSet.prototype=_pVFrameSet;_pVFrameSet._type_name="VFrameSet";_pVFrameSet.on_change_containerRect=function(_a,_b){nexacro.Frame.prototype.on_change_containerRect.call(this,_a,_b);var _c=this._control_element;if(_c){var _d=this._recalcSeparateFrameSize(_b);var _e=this._p_frames.length;var _f=0;var _g=0;var _h=0;var _i=_f+_a;var _j=this._getClientHeight();var _k,_l,_m,_n;if(this._max_frame){var _o=-1;for(_l=0;_l<_e;_l++ ){_k=this._p_frames[_l];if(_k==this._max_frame){_o=_l;continue;}if(_k instanceof nexacro.FrameSetBase){var _p=_k._p_frames?_k._p_frames[0]._titlebarheight:0;_n=_p;}else{_n=_k._titlebarheight;}_m=parseInt(_n)|0;_j-=_m;_d[_l]=_m;}_d[_o]=_j;}var _q=false;var _r=0;for(_l=0;_l<_e;_l++ ){_k=this._p_frames[_l];if(_q){_g=_h;_q=false;}if(_k._state_openstatus==2){_k._setVerticalMin(false);_n=_k._titlebarheight;_m=parseInt(_n)|0;_r+=_d[_l]-_m;_d[_l]=_m;_q=true;}if(_k._state_openstatus!=2){_d[_l]+=_r;_r=0;}_h=_d[_l]+_g;if(_k!=this._track_frame){_k._move(_f,_g,_i-_f,_h-_g);}_g=_h;}}};_pVFrameSet.arrange=nexacro._emptyFn;_pVFrameSet.set_minimizedchildposition=nexacro._emptyFn;nexacro.HFrameSet=function(_a,_b,_c,_d,_e,_f,_g,_h){nexacro.FrameSetBase.call(this,_a,_b,_c,_d,_e,_f,_g,_h);};var _pHFrameSet=nexacro._createPrototype(nexacro.FrameSetBase,nexacro.HFrameSet);nexacro.HFrameSet.prototype=_pHFrameSet;_pHFrameSet._type_name="HFrameSet";_pHFrameSet.on_change_containerRect=function(_a,_b){nexacro.Frame.prototype.on_change_containerRect.call(this,_a,_b);var _c=this._control_element;if(_c){var _d=this._recalcSeparateFrameSize(_a);var _e=this._p_frames.length;var _f=0;var _g=0;var _h=0;var _i=_g+_b;var _j=this._getClientWidth();var _k,_l,_m,_n;if(this._max_frame){var _o=-1;for(_l=0;_l<_e;_l++ ){_k=this._p_frames[_l];if(_k==this._max_frame){_o=_l;continue;}_n=_k._titlebarheight;_m=parseInt(_n)|0;_j-=_m;_d[_l]=_m;}_d[_o]=_j;}var _p=false;var _q=0;for(_l=0;_l<_e;_l++ ){_k=this._p_frames[_l];if(_p){_f=_h;_p=false;}if(_k._state_openstatus==2){_k._setVerticalMin(true);_n=_k._titlebarheight;_m=parseInt(_n)|0;_q+=_d[_l]-_m;_d[_l]=_m;_p=true;}if(_k._state_openstatus!=2){if(this._max_frame&&_k!=this._max_frame){_k._setVerticalMin(true);}else{_k._setVerticalMin(false);}_d[_l]+=_q;_q=0;}_h=_d[_l]+_f;if(_k!=this._track_frame){_k._move(_f,_g,_h-_f,_i-_g);}_f=_h;}}};_pHFrameSet.arrange=nexacro._emptyFn;_pHFrameSet.set_minimizedchildposition=nexacro._emptyFn;_pHFrameSet._properties=[{name:"frames",readonly:true}];nexacro._defineProperties(_pHFrameSet,_pHFrameSet._properties);nexacro.TileFrameSet=function(_a,_b,_c,_d,_e,_f,_g,_h){nexacro.FrameSetBase.call(this,_a,_b,_c,_d,_e,_f,_g,_h);};var _pTileFrameSet=nexacro._createPrototype(nexacro.FrameSetBase,nexacro.TileFrameSet);nexacro.TileFrameSet.prototype=_pTileFrameSet;_pTileFrameSet._type_name="TileFrameSet";_pTileFrameSet._p_separatetype="horizontal";_pTileFrameSet._p_separatecount=1;_pTileFrameSet._p_fullframemaximize=true;_pTileFrameSet._p_minimizedchildposition="bottom";_pTileFrameSet._separatetype=0;_pTileFrameSet._minimizedchildposition=3;_pTileFrameSet.on_change_containerRect=function(_a,_b){nexacro.Frame.prototype.on_change_containerRect.call(this,_a,_b);var _c=this._control_element;if(_c){var _d=this._p_frames.length;var _e=this._getClientWidth();var _f=this._getClientHeight();var _g;if(this._p_fullframemaximize==false){if(this._max_frame){for(_g=0;_g<this._p_frames.length;_g++ ){if(this._max_frame!=this._p_frames[_g]&&this._p_frames[_g]._state_openstatus!=2){this._p_frames[_g]._p_openstatus="minimize";this._p_frames[_g]._changeOpenStatus(2);}}}else{for(_g=0;_g<this._p_frames.length;_g++ ){if(this._p_frames[_g]._state_openstatus==2){this._p_frames[_g]._p_openstatus="normal";this._p_frames[_g]._changeOpenStatus(0);}}}}var _h=this._getMinimizeFrameCount();var _i=(_d-_h)>0?_d-_h:1;var _j=this._p_separatecount>0?this._p_separatecount:1;var _k=parseInt(_i/_j)+(parseInt(_i%_j)>0?1:0);var _l=false;if(this._minimizedchildposition==1||this._minimizedchildposition==3){_l=true;}var _m=0,_n=0;if(_l){_m=_a;if(_h>0){_n=this._getMaxMinimizedHeight();}}else{_n=_b;if(_h>0){_m=this._getMaxMinimizedWidth();}}var _o=0,_p=0;if(this._separatetype==1){_o=(_a-(_l?0:_m))/_k;_p=_b-(_l?_n:0);}else{_o=_a-(_l?0:_m);_p=(_b-(_l?_n:0))/_k;}var _q=_i-_j>0?_j:_i;var _r=0;if(this._separatetype==1){_r=_b;if(_l){_r-=_n;}}else{_r=_a;if(!_l){_r-=_m;}}var _s=this._recalcSeparateFrameSize(_r,_q,_q);var _t=0;var _u=0;var _v=_t+_a;var _w=_u+_b;if(_h>0){switch(this._minimizedchildposition){case 0:_t+=_m;break;case 1:_u+=_n;break;case 2:_v-=_m;break;case 3:_w-=_n;break;}}if(this._separatetype==1){_v=_t+_o;}else{_w=_u+_p;}if(this._max_frame){if(this.fullframemaximize){this._max_frame._move(0,0,_e,_f);}else{this._max_frame._move(_t,_u,_v-_t,_w-_u);}if(this._control_element&&this._max_frame._control_element){this._control_element.bringToFrontElement(this._max_frame._control_element);}}else if(this.fullframemaximize==false){for(_g=0;_g<this._p_frames.length;_g++ ){if(this._p_frames[_g]._state_openstatus==2){this._p_frames[_g]._changeOpenStatus(1);}}}var _x=0,_y=0;var _z;for(_g=0;_g<_k;_g++ ){for(_x=0;_x<_q&&_y<_d;_y++ ){_z=this._p_frames[_y];if(_z==this._max_frame){continue;}if(_z._state_openstatus==2){continue;}if(this._separatetype==1){_w=_s[_x]+_u;}else{_v=_s[_x]+_t;}if(_z!=this._track_frame){_z._move(_t,_u,_v-_t,_w-_u);}if(this._separatetype==1){_u=_w;}else{_t=_v;}_x++ ;}if(this._separatetype==1){_u=0;_t=_v;_v=_t+_o;if(this._minimizedchildposition==1){_u+=_n;}}else{_t=0;_u=_w;_w=_u+_p;if(this._minimizedchildposition==0){_t+=_m;}}}if(_h<=0){return;}var _aa=0;var _ab=0;var _ac=_aa+this._getClientWidth();var _ad=_ab+this._getClientHeight();switch(this._minimizedchildposition){case 0:_ac=_aa+_m;break;case 1:_ad=_ab+_n;break;case 2:_aa=_ac-_m;break;case 3:_ab=_ad-_n;break;}var _ae=this._p_minimizewidth?this._p_minimizewidth:150;var _af=_a-(_h* _ae);_af=_af>0?_ae:(_a/_h);_af=_af<100?100:_af;for(_g=0;_g<_d;_g++ ){_z=this._p_frames[_g];if(_z._state_openstatus==2){_z._setVerticalMin(false);var _ag=this._p_minimizeheight;if(!_ag){var _ah=_z._titlebarheight;_ag=parseInt(_ah)|0;var _ai=_z._getCurrentStyleBorder();if(_ai){_ag+=_ai._getBorderHeight();}}switch(this._minimizedchildposition){case 0:case 2:_ad=_ab+_ag;_z._move(_aa,_ab,_ac-_aa,_ag);_ab=_ad;break;case 1:case 3:_ac=_aa+_af;_z._move(_aa,_ab,_af,_ad-_ab);_aa=_ac;break;}}}}};_pTileFrameSet.set_separatetype=function(_a){if(this._p_separatetype!=_a){this._p_separatetype=_a;this._separatetype=(_a=="vertical"?1:0);if(this._control_element){this.on_change_containerRect(this._getClientWidth(),this._getClientHeight());}}};_pTileFrameSet.set_separatecount=function(_a){var _b=nexacro._parseInt(_a);if(this._p_separatecount!=_b){if(_b<0){this._p_separatecount=1;}else{this._p_separatecount=_b;}if(this._control_element){this.on_change_containerRect(this._getClientWidth(),this._getClientHeight());}}};_pTileFrameSet.set_fullframemaximize=function(_a){var _b=nexacro._toBoolean(_a);if(this._p_fullframemaximize!=_b){this._p_fullframemaximize=_b;for(var _d=0;_d<this._p_frames.length;_d++ ){var _c=this._p_frames[_d];if(_c._p_titlebar){if(_b==false){_c._p_titlebar._setAbsoluteStyle(0x0001,0);}else{_c._p_titlebar._setAbsoluteStyle(0x0100,0x0001);_c._p_titlebar._setAbsoluteStyle(0,0x0100);}}}if(this._control_element){this.on_change_containerRect(this._getClientWidth(),this._getClientHeight());}}};_pTileFrameSet.set_minimizewidth=function(_a){_a=parseInt(_a);this._p_minimizewidth=_a;this.on_apply_minimizewidth(_a);};_pTileFrameSet.on_apply_minimizewidth=function(){if(this._is_created){this.on_change_containerRect(this._getClientWidth(),this._getClientHeight());}};_pTileFrameSet.set_minimizeheight=function(_a){_a=parseInt(_a);this._p_minimizeheight=_a;this.on_apply_minimizeheight(_a);};_pTileFrameSet.on_apply_minimizeheight=function(){if(this._is_created){this.on_change_containerRect(this._getClientWidth(),this._getClientHeight());}};_pTileFrameSet._properties=[{name:"separatetype"},{name:"separatecount"},{name:"fullframemaximize"},{name:"minimizewidth"},{name:"minimizeheight"},{name:"minimizedchildposition"}];nexacro._defineProperties(_pTileFrameSet,_pTileFrameSet._properties);_pTileFrameSet.arrange=nexacro._emptyFn;_pTileFrameSet._getMaxMinimizedWidth=function(){return this._p_minimizewidth?this._p_minimizewidth:150;};_pTileFrameSet._getMaxMinimizedHeight=function(){var _a=-1;for(var _f=0;_f<this._p_frames.length;_f++ ){var _b=this._p_frames[_f];if(_b._state_openstatus!=2){continue;}var _c=this._p_minimizeheight;if(!_c){var _d=_b._titlebarheight;_c=parseInt(_d)|0;var _e=_b._getCurrentStyleBorder();if(_e){_c+=_e._getBorderHeight();}if(_c>_a){_a=_c;}}}return _a>0?_a:(this._p_minimizeheight?this._p_minimizeheight:25);};if(!nexacro._MainStatusBarControl){nexacro._MainStatusBarControl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){nexacro.StatusBarControl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);};var __pMainStatusBarControl=nexacro._createPrototype(nexacro.StatusBarControl,nexacro._MainStatusBarControl);nexacro._MainStatusBarControl.prototype=__pMainStatusBarControl;__pMainStatusBarControl._type_name="StatusBarControl";__pMainStatusBarControl._is_subcontrol=true;__pMainStatusBarControl._comm_progress_ref=0;__pMainStatusBarControl._comm_progress_timer=null;if(nexacro._Browser=="Runtime"){__pMainStatusBarControl._beginCommProgress=function(){var _a= ++this._comm_progress_ref;if(_a==1){var _b=this._p_progressbar;if(_b){_b.set_max(1000);_b.set_pos(0);}var _c=new nexacro._CallbackTimer(this,function(){var _b=this._p_progressbar;if(!_b){return;}var _d=_b.pos;_d+=Math.max(1,(1000-_d)/(100* this._comm_progress_ref));if(_d>990){_d=990;}_b.set_pos(_d);},500);_c.start();this._comm_progress_timer=_c;}};__pMainStatusBarControl._stepCommProgress=function(_a,_b){var _c=this._p_progressbar;if(_c){_c.set_max(_b);_c.set_pos(_a);}};__pMainStatusBarControl._endCommProgress=function(){var _a= --this._comm_progress_ref;if(_a==0){var _b=this._p_progressbar;if(_b){_b.set_pos(0);}if(this._comm_progress_timer){this._comm_progress_timer.stop();}}};}else{__pMainStatusBarControl._beginCommProgress=nexacro._emptyFn;__pMainStatusBarControl._stepCommProgress=nexacro._emptyFn;__pMainStatusBarControl._endCommProgress=nexacro._emptyFn;}}}if(_process){delete _process;delete _pFrame;delete _pMainFrame;delete _pChildFrame;delete _pFrameSetBase;delete _pFrameSet;delete _pVFrameSet;delete _pHFrameSet;delete _pTileFrameSet;delete __pMainStatusBarControl;}if(!nexacro.ScrollBarControl){nexacro.ScrollBarControl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);this._rectshaft=new nexacro.Rect();};nexacro.ScrollBarControl.TRACKBAR_SIZE_MIN=6;nexacro.ScrollBarControl.TRACKFIRSTOVER=1;nexacro.ScrollBarControl.TRACKLASTOVER=2;var _pScrollBar=nexacro._createPrototype(nexacro.Component,nexacro.ScrollBarControl);nexacro.ScrollBarControl.prototype=_pScrollBar;_pScrollBar._type_name="ScrollBarControl";_pScrollBar._p_incbutton=null;_pScrollBar._p_decbutton=null;_pScrollBar._p_trackbar=null;_pScrollBar._p_barminsize=undefined;_pScrollBar._p_baroutsize=undefined;_pScrollBar._p_decbuttonsize=undefined;_pScrollBar._p_imgoutsize=-1;_pScrollBar._p_incbuttonsize=undefined;_pScrollBar._p_trackbarsize=undefined;_pScrollBar._p_direction="vertical";_pScrollBar._p_line=1;_pScrollBar._p_page=3;_pScrollBar._p_view=-1;_pScrollBar._p_max=0;_pScrollBar._p_min=0;_pScrollBar._p_pos=0;_pScrollBar._event_list={"onkeydown":1,"onkeyup":1,"onlbuttondown":1,"onlbuttonup":1,"onmousedown":1,"onmouseup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmove":1,"onrbuttondown":1,"onrbuttonup":1,"onsize":1,"onscroll":1,"ondevicebuttonup":1};_pScrollBar._mousepoint={};_pScrollBar._max=0;_pScrollBar._min=0;_pScrollBar._orgmax=0;_pScrollBar._trackbarsize=-1;_pScrollBar._pos=0;_pScrollBar._lineup=1;_pScrollBar._linedown=1;_pScrollBar._pageup=3;_pScrollBar._pagedown=3;_pScrollBar._trackover=0;_pScrollBar._is_repeat=true;_pScrollBar._start_page_navi=null;_pScrollBar._is_tracking=false;_pScrollBar._reset_trackbar_fix=false;_pScrollBar._set_real=false;_pScrollBar._is_nc_control=true;_pScrollBar._is_focus_accept=false;_pScrollBar._is_subcontrol=true;_pScrollBar.on_get_css_assumedtypename=function(){if(this._p_direction=="vertical"){return "VScrollBarControl";}else if(this._p_direction=="horizontal"){return "HScrollBarControl";}return this._type_name;};_pScrollBar.on_create_contents=function(){var _a=this._control_element;if(_a){this._p_decbutton=new nexacro.Button("decbutton",0,0,0,0,null,null,null,null,null,null,this);this._p_decbutton._p_accessibilityenable=false;this._p_decbutton._is_focus_accept=false;this._p_incbutton=new nexacro.Button("incbutton",0,0,0,0,null,null,null,null,null,null,this);this._p_incbutton._p_accessibilityenable=false;this._p_incbutton._is_focus_accept=false;this._p_trackbar=new nexacro.Button("trackbar",0,0,0,0,null,null,null,null,null,null,this);this._p_trackbar._use_translate_move=true;this._p_trackbar._p_accessibilityenable=false;this._p_trackbar._is_focus_accept=false;this._p_decbutton._setControl();this._p_incbutton._setControl();this._p_trackbar._setControl();this._p_trackbar._is_track=true;this._p_trackbar._on_starttrack=this._on_starttrack;this._p_trackbar._on_movetrack=this._on_movetrack;this._p_trackbar._on_endtrack=this._on_endtrack;if(!nexacro._allow_default_pinchzoom){this._p_trackbar._no_slide_scroll=true;}this._p_decbutton.createComponent();this._p_trackbar.createComponent();this._p_incbutton.createComponent();}};_pScrollBar.on_created_contents=function(_a){var _b=this._p_decbutton;if(_b){_b.on_created(_a);}var _c=this._p_incbutton;if(_c){_c.on_created(_a);}this._recalcLayout();};_pScrollBar.on_destroy_contents=function(){if(this._p_decbutton){this._p_decbutton.destroy();this._p_decbutton=null;}if(this._p_trackbar){this._p_trackbar.destroy();this._p_trackbar=null;}if(this._p_incbutton){this._p_incbutton.destroy();this._p_incbutton=null;}this._rectshaft=null;this._mousepoint=null;};_pScrollBar.on_create_contents_command=function(){this._recalcLayout();var _a="";if(this._p_decbutton){_a+=this._p_decbutton.createCommand();}if(this._p_trackbar){_a+=this._p_trackbar.createCommand();}if(this._p_incbutton){_a+=this._p_incbutton.createCommand();}return _a;};_pScrollBar.on_attach_contents_handle=function(_a){if(this._p_decbutton){this._p_decbutton.attachHandle(_a);}if(this._p_trackbar){this._p_trackbar.attachHandle(_a);}if(this._p_incbutton){this._p_incbutton.attachHandle(_a);}};_pScrollBar.on_change_containerRect=function(){this._recalcLayout();};_pScrollBar._on_repeat=function(_a,_b,_c){var _d=this._getCumulativeZoomFactor()/100.0;if(!this._is_alive){return;}var _e=_a;var _f,_g,_h,_i,_j;if(_e==this._p_decbutton){_f=this._p_decbutton;_g=_f._adjust_left;_h=_f._adjust_top;_i=_f._adjust_width* _d;_j=_f._adjust_height* _d;if(_g<=_b&&(_g+_i)>=_b&&_h<=_c&&(_h+_j)>=_c){this.on_decbutton_lbuttondown(this);}}else if(_e==this._p_incbutton){_f=this._p_incbutton;_g=_f._adjust_left;_h=_f._adjust_top;_i=_f._adjust_width* _d;_j=_f._adjust_height* _d;if(_g<=_b&&(_g+_i)>=_b&&_h<=_c&&(_h+_j)>=_c){this.on_incbutton_lbuttondown(this);}}else if(_e==this){this.on_page_click(this,_b,_c);}};_pScrollBar._on_startrepeat=function(_a,_b,_c){var _d=this._getCumulativeZoomFactor()/100.0;if(!this._is_alive){return;}var _e,_f=_a;var _g,_h,_i,_j;if(_f==this._p_decbutton){_e=this._p_decbutton;_g=_e._adjust_left;_h=_e._adjust_top;_i=_e._adjust_width* _d;_j=_e._adjust_height* _d;if(_g<=_b&&(_g+_i)>=_b&&_h<=_c&&(_h+_j)>=_c){this.on_decbutton_lbuttondown(this,null);}}else if(_f==this._p_incbutton){_e=this._p_incbutton;_g=_e._adjust_left;_h=_e._adjust_top;_i=_e._adjust_width* _d;_j=_e._adjust_height* _d;if(_g<=_b&&(_g+_i)>=_b&&_h<=_c&&(_h+_j)>=_c){this.on_incbutton_lbuttondown(this,null);}}else if(_f==this){_e=this._p_trackbar;_g=_e._adjust_left;_h=_e._adjust_top;_i=_e._adjust_width* _d;_j=_e._adjust_height* _d;var _k="";if(this._p_direction=="vertical"){if(_c<_h){_k="pageup";}else if(_c>(_h+_j)){_k="pagedown";}}else{if(_b<_g){_k="pageleft";}else if(_b>(_g+_i)){_k="pageright";}}this._start_page_navi=_k;this.on_page_click(this,_b,_c);}};_pScrollBar.set_barminsize=function(_a){if(_a!=undefined){_a=nexacro._toInt(_a);}if(this._p_barminsize!=_a){this._p_barminsize=_a;this._recalcLayout();}};_pScrollBar.set_baroutsize=function(_a){if(_a!=undefined){_a=nexacro._toInt(_a);}if(this._p_baroutsize!=_a){this._p_baroutsize=_a;this._recalcLayout();}};_pScrollBar.set_decbuttonsize=function(_a){if(_a!=undefined){_a=nexacro._toInt(_a);}if(this._p_decbuttonsize!=_a){this._p_decbuttonsize=_a;this._recalcLayout();}};_pScrollBar.set_imgoutsize=function(_a){if(_a!=undefined){_a=nexacro._toInt(_a);}if(this._p_imgoutsize!=_a){this._p_imgoutsize=_a;this._recalcLayout();}};_pScrollBar.set_incbuttonsize=function(_a){if(_a!=undefined){_a=nexacro._toInt(_a);}if(this._p_incbuttonsize!=_a){this._p_incbuttonsize=_a;this._recalcLayout();}};_pScrollBar.set_trackbarsize=function(_a){if(_a!=undefined){_a=nexacro._toInt(_a);}if(this._p_trackbarsize!=_a){this._p_trackbarsize=_a;this._recalcLayout();}};_pScrollBar.set_pos=function(_a){this._setPos(_a);};_pScrollBar.on_apply_resize=function(){this._recalcLayout();this.on_fire_onsize(this._adjust_width,this._adjust_height);};_pScrollBar.on_apply_move=function(){this._recalcLayout();this.on_fire_onmove(this._adjust_left,this._adjust_top);};_pScrollBar.on_apply_prop_enable=function(_a){var _b=_a;if(_a==undefined){_b=this._p_enable;}if(this._p_incbutton){this._p_incbutton._setEnable(_b);}if(this._p_decbutton){this._p_decbutton._setEnable(_b);}if(this._p_trackbar){this._p_trackbar._setEnable(_b);}};_pScrollBar.on_fire_onscroll=function(_a,_b,_c,_d,_e){if(this.onscroll&&this.onscroll._has_handlers){_a=(_a+0.5)|0;var _f=(this._p_direction=="vertical")?"onvscroll":"onhscroll";var _g=new nexacro.ScrollEventInfo(this,_f,_a,_b,this,this._p_parent);if(_c!==undefined){_g.touchscrolling=_c;_g.touchscrolldir=_d;}_g._evtkind=_e;var _h=this.onscroll._fireEvent(this,_g);return _h;}return true;};_pScrollBar.on_incbutton_lbuttondown=function(_a){var _b=this._max;var _c=this._pos;var _d=this._p_line;if(_d==-1){_d=this._lineup;}var _e=_c+_d;var _f=this._getIncNewPosPixel();if(_f!==undefined){_e=_f;}this._is_lineupdown=true;var _g;if(_c>=_b){_g=this._scroll_reverse_convert(_b);this._p_pos=_g[0];this._pos=_g[1];this.on_fire_onscroll(this._p_pos,"lastover",undefined,undefined,this._p_direction);}else if(_e>=_b){_g=this._scroll_reverse_convert(_b);this._p_pos=_g[0];this._pos=_g[1];this.on_fire_onscroll(this._p_pos,(this._p_direction=="vertical"?"linedown":(this._isRtl()?"lineleft":"lineright")),undefined,undefined,this._p_direction);this.on_fire_onscroll(this._p_pos,"last",undefined,undefined,this._p_direction);}else{_g=this._scroll_reverse_convert(_e);this._p_pos=_g[0];this._pos=_g[1];this.on_fire_onscroll(this._p_pos,(this._p_direction=="vertical"?"linedown":(this._isRtl()?"lineleft":"lineright")),undefined,undefined,this._p_direction);}this._is_lineupdown=undefined;var _h=this._rectshaft;this._resetTrackBar(_h.left,_h.top,_h.right,_h.bottom);};_pScrollBar.on_decbutton_lbuttondown=function(_a){var _b=this._min;var _c=this._pos;var _d=this._p_line;if(_d==-1){_d=this._linedown;}var _e=_c-_d;var _f=this._getDecNewPosPixel();if(_f!==undefined){_e=_f;}this._is_lineupdown=true;var _g;if(_c<=_b){_g=this._scroll_reverse_convert(_b);this._p_pos=_g[0];this._pos=_g[1];this.on_fire_onscroll(this._p_pos,"firstover",undefined,undefined,this._p_direction);}else if(_e<=_b){_g=this._scroll_reverse_convert(_b);this._p_pos=_g[0];this._pos=_g[1];this.on_fire_onscroll(this._p_pos,(this._p_direction=="vertical"?"lineup":(this._isRtl()?"lineright":"lineleft")),undefined,undefined,this._p_direction);this.on_fire_onscroll(this._p_pos,"first",undefined,undefined,this._p_direction);}else{_g=this._scroll_reverse_convert(_e);this._p_pos=_g[0];this._pos=_g[1];this.on_fire_onscroll(this._p_pos,(this._p_direction=="vertical"?"lineup":(this._isRtl()?"lineright":"lineleft")),undefined,undefined,this._p_direction);}this._is_lineupdown=undefined;var _h=this._rectshaft;this._resetTrackBar(_h.left,_h.top,_h.right,_h.bottom);};_pScrollBar._on_starttrack=function(){if(!this._is_alive){return;}var _a=this._p_parent;_a._mousepoint={x:0,y:0};nexacro.ScrollBarControl.prototype._starttrack.call(_a);_a._is_tracking=true;};_pScrollBar._on_endtrack=function(){if(!this._is_alive){return;}var _a=this._p_parent;nexacro.ScrollBarControl.prototype._endtrack.call(_a);_a._is_tracking=false;};_pScrollBar._on_movetrack=function(_a,_b){if(!this._is_alive){return;}var _c=this._p_parent;nexacro.ScrollBarControl.prototype._movetrack.call(_c,_a,_b);};_pScrollBar.on_page_click=function(_a,_b,_c){var _d=this._min;var _e=this._max;var _f=this._pos;var _g=this._p_page;var _h=this._pageup;var _i=this._pagedown;if(_g!=-1){_h=_g;_i=_g;}var _j=this._p_trackbar;if(_j._adjust_width<=0||_j._adjust_height<=0){return;}var _k=_j._adjust_top;var _l=_j._adjust_left;var _m=_j._adjust_left+_j._adjust_width;var _n=_j._adjust_top+_j._adjust_height;var _o=_f,_p;if(this._p_direction=="vertical"){if(this._start_page_navi=="pageup"&&_c<_k){_o=(_f-_h);_o=(_o<_d?_d:_o);_p="pageup";}else if(this._start_page_navi=="pagedown"&&_c>_n){_o=(_f+_i);_o=(_o>_e?_e:_o);_p="pagedown";}else{_p="";}}else{if(this._start_page_navi=="pageleft"&&_b<_l){_o=(_f-_h);_o=(_o<_d?_d:_o);_p="pageleft";}else if(this._start_page_navi=="pageright"&&_b>_m){_o=(_f+_i);_o=(_o>_e?_e:_o);_p="pageright";}else{_p="";}if(this._isRtl()&&_p){if(_p=="pageleft"){_p="pageright";}else{_p="pageleft";}}}if(this._pos==_o){return;}var _q=this._scroll_reverse_convert(_o);this._p_pos=_q[0];this._pos=_q[1];this.on_fire_onscroll(this._p_pos,_p,undefined,undefined,this._p_direction);if(this._p_direction=="vertical"){if(_c<_k&&_o==_d){this.on_fire_onscroll(this._p_pos,"first",undefined,undefined,this._p_direction);}else if(_c>_n&&_o==_e){this.on_fire_onscroll(this._p_pos,"last",undefined,undefined,this._p_direction);}else{if(_o==_d){this.on_fire_onscroll(this._p_pos,"first",undefined,undefined,this._p_direction);}else if(_o==_e){this.on_fire_onscroll(this._p_pos,"last",undefined,undefined,this._p_direction);}}}else{if(_b<_l&&_o==_d){this.on_fire_onscroll(this._p_pos,"first",undefined,undefined,this._p_direction);}else if(_b>_m&&_o==_e){this.on_fire_onscroll(this._p_pos,"last",undefined,undefined,this._p_direction);}else{if(_o==_d){this.on_fire_onscroll(this._p_pos,"first",undefined,undefined,this._p_direction);}else if(_o==_e){this.on_fire_onscroll(this._p_pos,"last",undefined,undefined,this._p_direction);}}}var _r=this._rectshaft;this._resetTrackBar(_r.left,_r.top,_r.right,_r.bottom);};_pScrollBar.set_direction=function(_a){if(this._p_direction!=_a){switch(_a){case "vertical":case "horizontal":this._p_direction=_a;this._recalcLayout();break;}}return _a;};_pScrollBar._scroll_convert_pixel=function(_a){return _a;};_pScrollBar._scroll_reverse_convert=function(_a){return [_a,_a];};_pScrollBar._setPos=function(_a,_b,_c){if(!this._isEnable()){return;}if(_a<this._p_min){_a=this._p_min;}if(_a>this._p_max){_a=this._p_max;}if(this._p_pos!=_a){this._p_pos=_a;this._pos=this._scroll_convert_pixel(_a);var _d=this._rectshaft;this._resetTrackBar(_d.left,_d.top,_d.right,_d.bottom);}if(_c!==false){this.on_fire_onscroll(this._p_pos,"none",undefined,undefined,_b);}};_pScrollBar._setScrollPos=function(_a){if(this._is_tracking){return;}var _b=this._scroll_reverse_convert(_a);this._p_pos=_b[0];this._pos=_b[1];if(this._pos<this._min){this._p_pos=this._p_min;this._pos=this._min;}if(this._pos>this._max){this._p_pos=this._p_max;this._pos=this._max;}this._recalcLayout();};_pScrollBar.set_min=function(_a){_a=parseInt(_a);var _b=this._scroll_reverse_convert(_a);this._p_min=_b[0];this._min=_b[1];if(this._pos<this._min){this._p_pos=this._p_min;this._pos=this._min;}this._recalcLayout();};_pScrollBar.set_max=function(_a){_a=parseInt(_a);var _b=this._scroll_reverse_convert(_a);this._p_max=_b[0];this._max=_b[1];if(this._pos>this._max){this._p_pos=this._p_max;this._pos=this._max;}this._recalcLayout();};_pScrollBar._setScrollInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){var _l=this._scroll_reverse_convert(_e);this._p_min=_l[0];this._min=_l[1];_l=this._scroll_reverse_convert(_f,false,true);this._p_max=_l[0];this._max=_l[1];this._orgmax=_f;this._p_line=_g;this._p_page=_h;this._p_view=_i;_l=this._scroll_reverse_convert(_k);this._p_pos=_l[0];this._pos=_l[1];if(this._pos<this._min){this._p_pos=this._p_min;this._pos=this._min;}if(this._pos>this._max){this._p_pos=this._p_max;this._pos=this._max;}var _m=this._adjust_left;var _n=this._adjust_top;var _o=this._adjust_width;var _p=this._adjust_height;var _q=false;if(_m!=_a||_n!=_b||_o!=_c||_p!=_d){_q=true;}if(_q){this.move(_a,_b,_c,_d,null,null);var _r=this._control_element;if(_r){_r.setElementPosition(this._adjust_left,this._adjust_top);_r.setElementSize(this._adjust_width,this._adjust_height);if(_m!=this._adjust_left||_n!=this._adjust_top){this.on_fire_onmove(this._adjust_left,this._adjust_top);}if(_o!=this._adjust_width||_p!=this._adjust_height){this.on_fire_onsize(this._adjust_width,this._adjust_height);}}}this._recalcLayout();this._setEnable(_j);};_pScrollBar._recalcLayout=function(){var _a=this._control_element;if(_a&&this._is_created_contents){var _b=_a.client_width;var _c=_a.client_height;if(_b<=0||_c<=0){return;}var _d=this._getClientLeft();var _e=this._getClientTop();var _f=0,_g=0,_h=0,_i=0;var _j=this._p_decbuttonsize!=undefined?this._p_decbuttonsize:-1;var _k=this._p_incbuttonsize!=undefined?this._p_incbuttonsize:-1;var _l=0,_m;var _n,_o,_p,_q,_r;if(this._p_direction=="vertical"){if(_j<0){_j=_b;}if(_k<0){_k=_b;}_m=_c-(_j+_k);if(_m<0){_j=((_c+(_c%2))/2)|0;_k=_c-_j;}var _s=_e+_c;_f=_d;_g=_f+_b;_h=_e+_j;_i=_s-_k;if(_j==0){this._p_decbutton.move(_f,-100,_b,_j);}else{this._p_decbutton.move(_f,_e,_b,_j);}if(_k==0){this._p_incbutton.move(_f,-100,_b,_c-_i);}else{this._p_incbutton.move(_f,_i,_b,_c-_i);}_n=_i-_h;if(_n>0){_o=this._p_view;_p=this._p_barminsize!=undefined?this._p_barminsize:-1;_q=this._p_baroutsize!=undefined?this._p_baroutsize:-1;_r=this._max-this._min;if(_q<0){_q=_g-_f;}if(_p<0){_p=((_g-_f)* 0.60)|0;if(_p<nexacro.ScrollBarControl.TRACKBAR_SIZE_MIN){_p=nexacro.ScrollBarControl.TRACKBAR_SIZE_MIN;}}if(_o<0){_o=1;}if(_n>_q){if(this._p_trackbarsize!=undefined&&this._p_trackbarsize>0){this._trackbarsize=this._p_trackbarsize;}else{_l=(_n* (_o/(_o+_r)))|0;this._trackbarsize=(_l<_p)?_p:_l;}}else{this._trackbarsize=0;}}else{this._trackbarsize=0;}if(_n<this._trackbarsize){this._trackbarsize=_n;}}else{if(_j<0){_j=_c;}if(_k<0){_k=_c;}_m=_b-(_j+_k);if(_m<0){_j=((_b+(_b%2))/2)|0;_k=_b-_j;}var _t=_d+_b;_f=_d+_j;_g=_t-_k;_h=_e;_i=_e+_c;if(_j==0){this._p_decbutton.move(_d,-100,_j,_c);}else{this._p_decbutton.move(_d,_h,_j,_c);}if(_k==0){this._p_incbutton.move(_g,-100,_b-_g,_c);}else{this._p_incbutton.move(_g,_h,_b-_g,_c);}_n=_g-_f;if(_n>0){_o=this._p_view;_p=this._p_barminsize!=undefined?this._p_barminsize:-1;_q=this._p_baroutsize!=undefined?this._p_baroutsize:-1;_r=this._max-this._min;if(_q<0){_q=_i-_h;}if(_p<0){_p=parseInt((_i-_h)* 0.60);if(_p<nexacro.ScrollBarControl.TRACKBAR_SIZE_MIN){_p=nexacro.ScrollBarControl.TRACKBAR_SIZE_MIN;}}if(_o<0){_o=1;}this._barminsize=_p;this._baroutsize=_q;if(_n>_q){if(this._p_trackbarsize!=undefined&&this._p_trackbarsize>0){this._trackbarsize=this._p_trackbarsize;}else{_l=(_n* (_o/(_o+_r)))|0;this._trackbarsize=(_l<_p)?_p:_l;}}else{this._trackbarsize=0;}}else{this._trackbarsize=0;}if(_n<this._trackbarsize){this._trackbarsize=_n;}}this._rectshaft.set(_f,_h,_g-_f,_i-_h);this._resetTrackBar(_f,_h,_g,_i);}};_pScrollBar._resetTrackBar=function(_a,_b,_c,_d){if(this._trackbarsize<=0){if(this._p_trackbar){this._p_trackbar.set_visible(false);}return;}if(this._p_trackbar._is_created!=true){this._p_trackbar.on_created(this._getWindow());}this._p_trackbar.set_visible(true);var _e=0,_f=0,_g=0,_h=0;var _i=this._min;var _j=this._pos;var _k=this._trackbarsize;var _l=this._max-this._min;if(_l>0){var _m,_n;if(this._p_direction=="vertical"){_m=_d-_b;_n=((_j-_i)* (_m-_k)/_l)|0;_e=_a;_g=_c;_f=_b+_n;_h=_f+_k;if(_h>_d){_h=_d;_f=_d-_k;}}else{_m=_c-_a;_n=parseInt((_j-_i)* (_m-_k)/_l);_e=_a+_n;_g=_e+_k;_f=_b;_h=_d;if(_g>_c){_g=_c;_e=_c-_k;}}}if((_e<=0&&_f<=0&&_g-_e<=0&&_h-_f<=0)){this._set_real=true;this._setRealEnable(false);this._p_trackbar.set_visible(false);}else if(this._set_real){this._set_real=false;this._setRealEnable(true);this._p_trackbar.set_visible(true);}if(!this._reset_trackbar_fix){this._p_trackbar.move(_e,_f,_g-_e,_h-_f);}this._reset_trackbar_fix=false;};_pScrollBar._setRealEnable=function(_a){if(_a==undefined){_a=this._p_enable;}if(this._real_enable!=_a){this._real_enable=_a;this._is_enable_changing=true;this._changeStatus("disabled",!_a);this._is_enable_changing=false;if(this._p_incbutton){this._p_incbutton._setEnable(_a);}if(this._p_decbutton){this._p_decbutton._setEnable(_a);}if(this._p_trackbar){this._p_trackbar._setEnable(_a);}}};_pScrollBar._moveTrackBar=function(_a,_b){var _c=_a.right-_a.left;var _d=_a.bottom-_a.top;if(_a.left<_b.left){_a.left=_b.left;_a.right=_a.left+_c;}if(_a.right>_b.right){_a.right=_b.right;_a.left=_a.right-_c;}if(_a.top<_b.top){_a.top=_b.top;_a.bottom=_a.top+_d;}if(_a.bottom>_b.bottom){_a.bottom=_b.bottom;_a.top=_a.bottom-_d;}this._p_trackbar.move(_a.left,_a.top,_a.right-_a.left,_a.bottom-_a.top);};_pScrollBar._starttrack=function(){this.on_fire_onscroll(this._p_pos,"trackstart",undefined,undefined,this._p_direction);};_pScrollBar._endtrack=function(){this.on_fire_onscroll(this._p_pos,"trackend",undefined,undefined,this._p_direction);var _a=this._rectshaft;this._resetTrackBar(_a.left,_a.top,_a.right,_a.bottom);};_pScrollBar._movetrack=function(_a,_b){var _c=_a;var _d=_b;var _e=this._min;var _f=this._max;var _g=this._pos;var _h=0;var _i=_f-_e;var _j=_g;var _k=this._p_trackbar;var _l={left:_k._adjust_left,top:_k._adjust_top,right:_k._adjust_left+_k._adjust_width,bottom:_k._adjust_top+_k._adjust_height};var _m=_l.right-_l.left;var _n=_l.bottom-_l.top;if(_m<=0||_n<=0){return;}var _o={left:_l.left,top:_l.top,right:_l.right,bottom:_l.bottom};var _p;if(this._p_direction=="vertical"){_p=this._rectshaft;_h=_d-this._mousepoint.y;if((_h<0&&_l.top>_p.top)||(_h>0&&_l.bottom<_p.bottom)){_o.top+=_h;_o.bottom+=_h;_j=(_i* (_o.top-_p.top)/((_p.bottom-_p.top)-(_o.bottom-_o.top)));this._moveTrackBar(_o,_p);if(_k._adjust_top-_l.top==0){this._mousepoint.x=_c;this._mousepoint.y=_d;}else{this._mousepoint.x=_c;this._mousepoint.y=this._mousepoint.y+(_k._adjust_top-_l.top);}}}else{_p=this._rectshaft;_h=_c-this._mousepoint.x;if((_h<0&&_l.left>_p.left)||(_h>0&&_l.right<_p.right)){_o.left+=_h;_o.right+=_h;_j=parseInt(_i* ((_o.left-_p.left)/((_p.right-_p.left)-(_o.right-_o.left))));this._moveTrackBar(_o,_p);if(_k._adjust_left-_l.left==0){this._mousepoint.x=_c;this._mousepoint.y=_d;}else{this._mousepoint.x=this._mousepoint.x+(_k._adjust_left-_l.left);this._mousepoint.y=_d;}}}var _q;if(_j<=_e){_q=this._scroll_reverse_convert(_e);this._p_pos=_q[0];this._pos=_q[1];if(!(this._trackover&nexacro.ScrollBarControl.TRACKFIRSTOVER)){this.on_fire_onscroll(this._p_pos,"trackfirst",undefined,undefined,this._p_direction);this._trackover=nexacro.ScrollBarControl.TRACKFIRSTOVER;}else{this.on_fire_onscroll(this._p_pos,"trackfirstover",undefined,undefined,this._p_direction);}}else if(_j>=_f){_q=this._scroll_reverse_convert(_f);this._p_pos=_q[0];this._pos=_q[1];if(!(this._trackover&nexacro.ScrollBarControl.TRACKLASTOVER)){this.on_fire_onscroll(this._p_pos,"tracklast",undefined,undefined,this._p_direction);this._trackover=nexacro.ScrollBarControl.TRACKLASTOVER;}else{this.on_fire_onscroll(this._p_pos,"tracklastover",undefined,undefined,this._p_direction);}}else{_q=this._scroll_reverse_convert(_j);this._p_pos=_q[0];this._pos=_q[1];this.on_fire_onscroll(this._p_pos,"track",undefined,undefined,this._p_direction);this._trackover=0;}};_pScrollBar._getIncNewPosPixel=function(){};_pScrollBar._getDecNewPosPixel=function(){};_pScrollBar._properties=[{name:"barminsize"},{name:"baroutsize"},{name:"decbutton",readonly:true},{name:"decbuttonsize"},{name:"direction"},{name:"imgoutsize"},{name:"incbutton"},{name:"incbuttonsize"},{name:"line",readonly:true},{name:"max",readonly:true},{min:"name",readonly:true},{name:"page",readonly:true},{name:"pos",readonly:true},{name:"trackbar",readonly:true},{name:"trackbarsize"}];nexacro._defineProperties(_pScrollBar,_pScrollBar._properties);delete _pScrollBar;}if(!nexacro.ScrollIndicatorControl){nexacro.ScrollIndicatorControl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){nexacro.ScrollBarControl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);};var _pScrollIndicatorControl=nexacro._createPrototype(nexacro.ScrollBarControl,nexacro.ScrollIndicatorControl);nexacro.ScrollIndicatorControl.prototype=_pScrollIndicatorControl;_pScrollIndicatorControl._p_accessibilityenable=false;_pScrollIndicatorControl._type_name="ScrollIndicatorControl";_pScrollIndicatorControl._is_subcontrol=true;_pScrollIndicatorControl._is_repeat=false;_pScrollIndicatorControl.on_get_css_assumedtypename=function(){if(this._p_direction=="vertical"){return "VScrollIndicatorControl";}else if(this._p_direction=="horizontal"){return "HScrollIndicatorControl";}return this._type_name;};_pScrollIndicatorControl.on_create_contents=function(){var _a=this._control_element;if(_a){this._p_trackbar=new nexacro.Button("trackbar",0,0,0,0,null,null,null,null,null,null,this);this._p_trackbar._use_translate_move=true;this._p_trackbar.accessibilityenable=false;this._p_trackbar._setControl();this._p_trackbar.createComponent();}};_pScrollIndicatorControl.on_created_contents=function(){this._recalcLayout();};_pScrollIndicatorControl.on_destroy_contents=function(){if(this._p_trackbar){this._p_trackbar.destroy();this._p_trackbar=null;}this._rectshaft=null;this._mousepoint=null;};_pScrollIndicatorControl.on_create_contents_command=function(){this._recalcLayout();var _a="";if(this._p_trackbar){_a+=this._p_trackbar.createCommand();}return _a;};_pScrollIndicatorControl.on_attach_contents_handle=function(_a){if(this._p_trackbar){this._p_trackbar.attachHandle(_a);}};_pScrollIndicatorControl.set_pos=function(_a){this._setPos(_a);};_pScrollIndicatorControl.on_apply_prop_enable=function(_a){var _b=_a;if(_a==undefined){_b=this._p_enable;}if(this._p_trackbar){this._p_trackbar._setEnable(_b);}};_pScrollIndicatorControl._setRealEnable=function(_a){if(_a==undefined){_a=this._p_enable;}if(this._real_enable!=_a){this._real_enable=_a;if(this._p_trackbar){this._p_trackbar._setEnable(_a);}}};_pScrollIndicatorControl._recalcLayout=function(){var _a=this._control_element;if(_a&&this._is_created_contents){var _b=_a.client_width;var _c=_a.client_height;if(_b<=0||_c<=0){return;}var _d=this._getClientLeft();var _e=this._getClientTop();var _f=0,_g=0,_h=0,_i=0;var _j,_k=0;var _l,_m,_n,_o;if(this._p_direction=="vertical"){_f=_d;_g=_f+_b;_h=_e;_i=_e+_c;_j=_c;if(_j>0){_l=this._p_view;_m=this._p_barminsize!=undefined?this._p_barminsize:-1;_n=this._p_baroutsize!=undefined?this._p_baroutsize:-1;_o=this._max-this._min;if(_n<0){_n=_b;}if(_m<0){_m=(_b* 0.60)|0;if(_m<nexacro.ScrollIndicatorControl.TRACKBAR_SIZE_MIN){_m=nexacro.ScrollIndicatorControl.TRACKBAR_SIZE_MIN;}}if(_l<0){_l=1;}if(_j>_n){if(this._p_trackbarsize!=undefined&&this._p_trackbarsize>0){this._trackbarsize=this._p_trackbarsize;}else{_k=(_j* (_l/(_l+_o)))|0;this._trackbarsize=(_k<_m)?_m:_k;}}else{this._trackbarsize=0;}}else{this._trackbarsize=0;}if(_j<this._trackbarsize){this._trackbarsize=_j;}}else{_f=_d;_g=_f+_b;_h=_e;_i=_e+_c;_j=_b;if(_j>0){_l=this._p_view;_m=this._p_barminsize!=undefined?this._p_barminsize:-1;_n=this._p_baroutsize!=undefined?this._p_baroutsize:-1;_o=this._max-this._min;if(_n<0){_n=_c;}if(_m<0){_m=parseInt(_c* 0.60)|0;if(_m<nexacro.ScrollIndicatorControl.TRACKBAR_SIZE_MIN){_m=nexacro.ScrollIndicatorControl.TRACKBAR_SIZE_MIN;}}if(_l<0){_l=1;}this._barminsize=_m;this._baroutsize=_n;if(_j>_n){if(this._p_trackbarsize!=undefined&&this._p_trackbarsize>0){this._trackbarsize=this._p_trackbarsize;}else{_k=(_j* (_l/(_l+_o)))|0;this._trackbarsize=(_k<_m)?_m:_k;}}else{this._trackbarsize=0;}}else{this._trackbarsize=0;}if(_j<this._trackbarsize){this._trackbarsize=_j;}}this._rectshaft.set(_f,_h,_g-_f,_i-_h);this._resetTrackBar(_f,_h,_g,_i);}};_pScrollIndicatorControl.set_imgoutsize=nexacro._emptyFn;_pScrollIndicatorControl._on_repeat=nexacro._emptyFn;_pScrollIndicatorControl._on_startrepeat=nexacro._emptyFn;_pScrollIndicatorControl._on_starttrack=nexacro._emptyFn;_pScrollIndicatorControl._on_endtrack=nexacro._emptyFn;_pScrollIndicatorControl._on_movetrack=nexacro._emptyFn;_pScrollIndicatorControl.on_page_click=nexacro._emptyFn;_pScrollIndicatorControl._getIncNewPosPixel=function(){};_pScrollIndicatorControl._getDecNewPosPixel=function(){};_pScrollIndicatorControl._properties=[{name:"barminsize"},{name:"baroutsize"},{name:"direction"},{name:"line",readonly:true},{name:"max",readonly:true},{min:"name",readonly:true},{name:"page",readonly:true},{name:"pos",readonly:true},{name:"trackbar",readonly:true},{name:"trackbarsize"}];nexacro._defineProperties(_pScrollIndicatorControl,_pScrollIndicatorControl._properties);delete _pScrollIndicatorControl;}if(!nexacro.StepControl){nexacro.StepChangeEventInfo=function(_a,_b,_c,_d){this.id=this.eventid=_b||"onstepchanged";this.fromobject=_a._form||_a;this.fromreferenceobject=_a;this.preindex=_c;this.postindex=_d;};var _pEventStepChangeEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.StepChangeEventInfo);nexacro.StepChangeEventInfo.prototype=_pEventStepChangeEventInfo;_pEventStepChangeEventInfo._type_name="StepChangeEventInfo";delete _pEventStepChangeEventInfo;nexacro.StepMouseEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){nexacro.ClickEventInfo.call(this,_a,_b||"onstepmouse",_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);this.index=_c<0?-1:_c;};var _pEventStepMouseEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.StepMouseEventInfo);nexacro.StepMouseEventInfo.prototype=_pEventStepMouseEventInfo;_pEventStepMouseEventInfo._type_name="StepMouseEventInfo";delete _pEventStepMouseEventInfo;nexacro.StepDragEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s,_t,_u,_v){nexacro.DragEventInfo.call(this,_a,_b||"onstepdrag",_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s,_t,_u,_v);this.index=_c?-1:_c;};var _pEventStepDragEventInfo=nexacro._createPrototype(nexacro.DragEventInfo,nexacro.StepDragEventInfo);nexacro.StepDragEventInfo.prototype=_pEventStepDragEventInfo;_pEventStepDragEventInfo._type_name="StepDragEventInfo";delete _pEventStepDragEventInfo;nexacro.StepControl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);this._items=[];this._icon_info={width:0,height:0,isloaded:false};this._form=_l;};var _pStepControl=nexacro._createPrototype(nexacro.Component,nexacro.StepControl);nexacro.StepControl.prototype=_pStepControl;_pStepControl._type_name="StepControl";_pStepControl._p_stepcount=0;_pStepControl._p_stepindex=0;_pStepControl._p_stepitemsize=undefined;_pStepControl._p_stepitemgap=undefined;_pStepControl._itemid="stepitem";_pStepControl._prestepindex=null;_pStepControl._poststepindex=null;_pStepControl._prestepcount=null;_pStepControl._poststepcount=null;_pStepControl._stepiconsize=undefined;_pStepControl._is_nc_control=true;_pStepControl._is_subcontrol=true;_pStepControl.accessibilityrole="step";_pStepControl._event_list={"onclick":1,"ondblclick":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onkillfocus":1,"onsetfocus":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"ondragend":1,"onlbuttondown":1,"onlbuttonup":1,"onrbuttondown":1,"onrbuttonup":1,"onmousedown":1,"onmouseup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmove":1,"onsize":1,"canstepchange":1,"onstepchanged":1};_pStepControl.on_create_contents=function(){var _a=this.getElement();if(_a){var _b=this._items;var _c;var _d=this._p_stepcount;for(var _e=0;_e<_d;_e++ ){_c=_b[_e]=new nexacro.StepImageButtonControl(this._itemid+_e,0,0,0,0,null,null,null,null,null,null,this);_c._is_focus_accept=false;_c._setEventHandler("onclick",this._on_button_onclick,this);_c.createComponent();}}};_pStepControl.on_created_contents=function(){var _a=this._items.length?this._items[0]:null;var _b=_a?_a._getCSSStyleValue("icon"):null;if(_b){var _c=this._icon_info;var _d=nexacro._getImageSize(_b.url,this._on_icon_onload,this);if(_d){_c.width=_d.width;_c.height=_d.height;_c.isloaded=true;this._setStepIconSize(_d.width,_d.height);}}this._redrawStepButton();this._updateStepLayout();};_pStepControl.on_destroy_contents=function(){var _a=this._items;var _b=_a.length;for(var _c=0;_c<_b;_c++ ){_a[_c].destroy();_a[_c]=null;}this._items=[];};_pStepControl.on_create_contents_command=nexacro._emptyFn;_pStepControl.on_attach_contents_handle=nexacro._emptyFn;_pStepControl.on_change_containerRect=function(){if(this._is_created){this._redrawStepButton();}};_pStepControl.on_change_containerPos=nexacro._emptyFn;_pStepControl._on_getAccessibilityAdditionalLabel=function(){return this._p_stepindex+" "+this._p_stepcount;};_pStepControl.set_stepitemsize=function(_a){if(_a!==undefined){if(isNaN(_a= +_a)){return;}}if(this._p_stepitemsize!=_a){this._p_stepitemsize=_a;this.on_apply_stepitemsize();}};_pStepControl.on_apply_stepitemsize=function(){var _a=this.getElement();if(_a){this._redrawStepButton();this._updateStepLayout();}};_pStepControl.set_stepitemgap=function(_a){if(_a!==undefined){if(isNaN(_a= +_a)){return;}}if(this._p_stepitemgap!=_a){this._p_stepitemgap=_a;this.on_apply_stepitemgap();}};_pStepControl.on_apply_stepitemgap=function(){var _a=this.getElement();if(_a){this._redrawStepButton();this._updateStepLayout();}};_pStepControl.set_stepcount=function(_a){if(isNaN(_a= +_a)||_a<0){return;}this._prestepindex=this._p_stepindex;this._prestepcount=this._p_stepcount;this._poststepcount=_a;if(this._p_stepcount!=_a){this._p_stepcount=_a;if(this._p_stepindex>=_a){this._p_stepindex=_a -1;}this.on_apply_stepcount(_a);}};_pStepControl.on_apply_stepcount=function(){var _a=this.getElement();if(_a){this._redrawStepButton();this._updateStepLayout();}};_pStepControl.set_stepindex=function(_a){if(isNaN(_a= +_a)||_a<0){return;}if(this._p_stepindex!=_a){var _b=this._p_stepcount<=_a||_a<0;if(!_b){this._prestepindex=this._p_stepindex;this._poststepindex=_a;var _c=this.on_fire_canstepchange(this);if(_c){var _d=this._form;if(_d){_c=_d.on_fire_canstepchange(this);if(_c){this._p_stepindex=_a;this.on_apply_stepindex(_a);this.on_fire_onstepchanged(this);_d.on_fire_onstepchanged(this);return true;}else{var _e=this._form;if(_e){_e._createStepChangeAnimation(this._prestepindex,600);}var _f=this._items[_a];if(_f){_f._changeStatus("focused",false);}}}}}}return false;};_pStepControl.on_apply_stepindex=function(_a){var _b=this.getElement();if(_b){var _c=this._prestepindex;if(_c!=_a){var _d=this._items[_c];if(_d){_d._changeUserStatus("selected",false);}else{for(var _o=0;_o<this._items.length;_o++ ){if(this._items[_o]._userstatus=="selected"){this._items[_o]._changeUserStatus("selected",false);}}}var _e=this._items[_a];if(_e){_e._changeUserStatus("selected",true);}var _f=this._form;if(_f){var _g=_f.getElement();if(_g){_g.setElementStepIndex(_a);_f._setHscrollPos(_g.client_width* _a);var _h;var _i=_f._p_components;var _j=_i.length;var _k,_l;var _m;for(var _o=0;_o<_j;_o++ ){_h=_i[_o];_h.on_apply_positionstep();if(_h._p_positionstep==-1){_k=_h;_l=_g.getContainerElement(_k._p_positionstep);}if(_k&&_k!=_h){_m=_g.getContainerElement(_h._p_positionstep);if(_l==_m){_k.moveToNext(_h.id);_k=null;}}_h._update_position();}}var _n=nexacro._getLayoutManager();if(_n){_n.setLayoutProperty(_f,"","stepindex",_a);}}}}};_pStepControl._properties=[{name:"stepitemsize"},{name:"stepitemgap"},{name:"stepcount"},{name:"stepindex"}];nexacro._defineProperties(_pStepControl,_pStepControl._properties);_pStepControl.getStepCount=function(){return this._p_stepcount;};_pStepControl.stepIt=function(_a,_b){var _c=this._p_stepindex;var _d=this._p_stepcount;if(_a==undefined){_a=true;}else{_a=nexacro._toBoolean(_a);}_b=nexacro._toBoolean(_b);if(_a){_c++ ;if(_c>=_d){_c=_d -1;if(_b){_c=0;}}}else{_c-- ;if(_c<0){_c=0;if(_b){_c=_d -1;}}}return this.set_stepindex(_c);};_pStepControl._on_icon_onload=function(_a,_b,_c){var _d=this._icon_info;if(!_d.isloaded){_d.width=_b;_d.height=_c;_d.isloaded=true;this._setStepIconSize(_b,_c);this._redrawStepButton();this._updateStepLayout();}};_pStepControl._on_button_onclick=function(_a){var _b=nexacro._toString(_a.id);var _c=_b.slice(this._itemid.length);this.set_stepindex(_c);};_pStepControl.on_fire_canstepchange=function(_a){if(this.canstepchange&&this.canstepchange._has_handlers){var _b=new nexacro.StepChangeEventInfo(_a,"canstepchange",_a._prestepindex,_a._poststepindex);return this.canstepchange._fireCheckEvent(this,_b);}return true;};_pStepControl.on_fire_onstepchanged=function(_a){if(this.onstepchanged&&this.onstepchanged._has_handlers){var _b=new nexacro.StepChangeEventInfo(_a,"onstepchanged",_a._prestepindex,_a._poststepindex);return this.onstepchanged._fireEvent(this,_b);}};_pStepControl._redrawStepButton=function(){var _a=this._p_stepcount;if(_a>0){var _b=this._items;var _c=_b.length;var _d=this._p_stepindex;var _e=this._getStepItemSize();var _f=this._getStepItemGap();var _g=0;var _h,_i;for(var _j=0;_j<_a;_j++ ){_h=_b[_j];if(!_h){_h=_b[_j]=new nexacro.StepImageButtonControl("stepitem"+_j,_g,0,_e,_e,null,null,null,null,null,null,this);_h._is_focus_accept=false;_h._setEventHandler("onclick",this._on_button_onclick,this);_h.createComponent();}else{_h.move(_g,0,_e,_e);}if(!_h._is_created){_h.on_created();}_h.on_apply_icon();_h.on_apply_iconPosition();_g=_g+_e+_f;if(_d==_j){_h._changeUserStatus("selected",true);}}if(_c>_a){while(_b.length!=_a){_i=_b.pop();_i.destroy();}}}};_pStepControl._updateStepLayout=function(){var _a=this._form;if(_a){_a._recalcStepLayout();}};_pStepControl._setStepIconSize=function(_a,_b){var _c=this._items;if(_c.length){var _d=_c[0];var _e=0;var _f=0;var _g=_d._getCurrentStyleBorder();if(_g){_e+=_g._getBorderWidth();_f+=_g._getBorderHeight();}var _h=_d._getCurrentStylePadding();if(_h){_e+=_h.left+_h.right;_f+=_h.top+_h.bottom;}this._stepiconsize=Math.max(_a+_e,_b+_f);}};_pStepControl._getStepItemSize=function(){var _a=this._p_stepitemsize;var _b=this._stepiconsize;if(nexacro._isNull(_a)&&!nexacro._isNull(_b)){return _b;}var _c=0;var _d=this._items;if(_d.length&&_a!=0){var _e=_d[0];var _f=0;var _g=0;var _h=_e._getCurrentStyleBorder();if(_h){_f+=_h._getBorderWidth();_g+=_h._getBorderHeight();}var _i=_e._getCurrentStylePadding();if(_i){_f+=_i.left+_i.right;_g+=_i.top+_i.bottom;}var _j=this._icon_info;if(!nexacro._isNull(_a)){_c=_a+Math.max(_f,_g);}else{_c=Math.max(_j.width+_f,_j.height+_g);}}return _c;};_pStepControl._getStepItemGap=function(){return this._p_stepitemgap?this._p_stepitemgap:3;};_pStepControl._getItemAreaSize=function(){var _a=0;var _b=0;var _c=this._getCurrentStylePadding();if(_c){_a+=_c.left+_c.right;_b+=_c.top+_c.bottom;}var _d=this._getCurrentStyleBorder();if(_d){_a+=_d._getBorderWidth();_b+=_d._getBorderHeight();}var _e=this._p_stepcount;var _f=this._getStepItemSize();var _g=this._getStepItemGap();_a+=_f* _e+_g* (_e -1);_b+=_f;return {width:_a,height:_b};};delete _pStepControl;}if(!nexacro.Animation){"use strict";var _process=true;(function(_a,_b){if(typeof define==='function'&&define.amd){define([],_b);}else if(typeof module==='object'&&module.exports){module.exports=_b();}else{_a.anime=_b();}}(this,function(){var _a={update:undefined,begin:undefined,run:undefined,complete:undefined,loop:1,direction:'normal',autoplay:false,offset:0};var _b={duration:1000,delay:0,easing:'easeOutElastic',elasticity:500,round:0};var _c=['translateX','translateY','translateZ','rotate','rotateX','rotateY','rotateZ','scale','scaleX','scaleY','scaleZ','skewX','skewY'];var _d;function stringContains(_l,_m){return _l.indexOf(_m)>-1;}var _e;_e=function(_l){var _m=String.prototype.split,_n=/()??/.exec("")[1]===_l,_o;_o=function(_p,_q,_r){if(Object.prototype.toString.call(_q)!=="[object RegExp]"){return _m.call(_p,_q,_r);}var _s=[],_t=(_q.ignoreCase?"i":"")+(_q.multiline?"m":"")+(_q.extended?"x":"")+(_q.sticky?"y":""),_u=0,_v,_w,_x,_y;_q=new RegExp(_q.source,_t+"g");_p+="";if(!_n){_v=new RegExp("^"+_q.source+"$(?!\\s)",_t);}_r=_r===_l?-1>>>0:_r>>>0;while(_w=_q.exec(_p)){_x=_w.index+_w[0].length;if(_x>_u){_s.push(_p.slice(_u,_w.index));if(!_n&&_w.length>1){_w[0].replace(_v,function(){for(var _z=1;_z<arguments.length-2;_z++ ){if(arguments[_z]===_l){_w[_z]=_l;}}});}if(_w.length>1&&_w.index<_p.length){Array.prototype.push.apply(_s,_w.slice(1));}_y=_w[0].length;_u=_x;if(_s.length>=_r){break;}}if(_q.lastIndex===_w.index){_q.lastIndex++ ;}}if(_u===_p.length){if(_y||!_q.test("")){_s.push("");}}else{_s.push(_p.slice(_u));}return _s.length>_r?_s.slice(0,_r):_s;};return _o;}();var _f={arr:function(_l){return nexacro._isArray(_l);},obj:function(_l){return stringContains(Object.prototype.toString.call(_l),'Object');},dom:function(_l){return _l.nodeType;},str:function(_l){return typeof _l==='string';},fnc:function(_l){return typeof _l==='function';},und:function(_l){return typeof _l==='undefined';},hex:function(_l){return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(_l);},rgb:function(_l){return /^rgb/.test(_l);},hsl:function(_l){return /^hsl/.test(_l);},col:function(_l){return (_f.hex(_l)||_f.rgb(_l)||_f.hsl(_l)||nexacro._xreNamedColorList.hasOwnProperty(_l));}};var _g=function(){var _l=11;var _m=1.0/(_l -1.0);function A(_n,_o){return 1.0-3.0* _o+3.0* _n;}function B(_n,_o){return 3.0* _o -6.0* _n;}function C(_n){return 3.0* _n;}function calcBezier(_n,_o,_p){return ((A(_o,_p)* _n+B(_o,_p))* _n+C(_o))* _n;}function getSlope(_n,_o,_p){return 3.0* A(_o,_p)* _n* _n+2.0* B(_o,_p)* _n+C(_o);}function binarySubdivide(_n,_o,_p,_q,_r){var _s,_t,_u=0;do{_t=_o+(_p-_o)/2.0;_s=calcBezier(_t,_q,_r)-_n;if(_s>0.0){_p=_t;}else{_o=_t;}}while(Math.abs(_s)>0.0000001&& ++_u<10)return _t;}function newtonRaphsonIterate(_n,_o,_p,_q){for(var _t=0;_t<4; ++_t){var _r=getSlope(_o,_p,_q);if(_r===0.0){return _o;}var _s=calcBezier(_o,_p,_q)-_n;_o-=_s/_r;}return _o;}function _bezier(_n,_o,_p,_q){if(!(0<=_n&&_n<=1&&0<=_p&&_p<=1)){return;}var _r=new Array(_l);if(_n!==_o||_p!==_q){for(var _s=0;_s<_l; ++_s){_r[_s]=calcBezier(_s* _m,_n,_p);}}function getTForX(_t){var _u=0.0;var _v=1;var _w=_l -1;for(;_v!==_w&&_r[_v]<=_t; ++_v){_u+=_m;}-- _v;var _x=(_t-_r[_v])/(_r[_v+1]-_r[_v]);var _y=_u+_x* _m;var _z=getSlope(_y,_n,_p);if(_z>=0.001){return newtonRaphsonIterate(_t,_y,_n,_p);}else if(_z===0.0){return _y;}else{return binarySubdivide(_t,_u,_u+_m,_n,_p);}}return function(_t){if(_n===_o&&_p===_q){return _t;}if(_t===0){return 0;}if(_t===1){return 1;}return calcBezier(getTForX(_t),_o,_q);};}return _bezier;}();var _h=function(){var _l=['Quad','Cubic','Quart','Quint','Sine','Expo','Circ','Back','Elastic','Bounce'];function elastic(_q,_r){return _q===0||_q===1?_q: -Math.pow(2,10* (_q -1))* Math.sin((((_q -1)-(_r/(Math.PI* 2.0)* Math.asin(1)))* (Math.PI* 2))/_r);}function bounce(_q){if(_q<(1/2.75)){return (7.5625* _q* _q);}else if(_q<(2/2.75)){_q-=(1.5/2.75);return (7.5625* (_q)* _q+0.75);}else if(_q<(2.5/2.75)){_q-=(2.25/2.75);return (7.5625* (_q)* _q+.9375);}else{_q-=(2.625/2.75);return (7.5625* (_q)* _q+.984375);}}var _m={In:[[0.550,0.085,0.680,0.530],[0.550,0.055,0.675,0.190],[0.895,0.030,0.685,0.220],[0.755,0.050,0.855,0.060],[0.470,0.000,0.745,0.715],[0.950,0.050,0.795,0.035],[0.600,0.040,0.980,0.335],[0.600,-0.280,0.735,0.045],elastic,function(_q){return 1-bounce(1-_q);}],Out:[[0.250,0.460,0.450,0.940],[0.215,0.610,0.355,1.000],[0.165,0.840,0.440,1.000],[0.230,1.000,0.320,1.000],[0.390,0.575,0.565,1.000],[0.190,1.000,0.220,1.000],[0.075,0.820,0.165,1.000],[0.175,0.885,0.320,1.275],function(_q,_p){return 1-elastic(1-_q,_p);},bounce],InOut:[[0.455,0.030,0.515,0.955],[0.645,0.045,0.355,1.000],[0.770,0.000,0.175,1.000],[0.860,0.000,0.070,1.000],[0.445,0.050,0.550,0.950],[1.000,0.000,0.000,1.000],[0.785,0.135,0.150,0.860],[0.680,-0.550,0.265,1.550],function(_q,_p){return _q<.5?elastic(_q* 2,_p)/2:1-elastic(_q* -2+2,_p)/2;},function(_q){return _q<.5?(1-bounce(1-(_q* 2)))* 0.5:bounce(_q* 2-1)* 0.5+0.5;}]};var _n={linear:_g(0.250,0.250,0.750,0.750)};var _o=this;for(var _q in _m){if(_m.hasOwnProperty(_q)){for(var _r=0;_r<_m[_q].length;_r++ ){var _p=_m[_q][_r];_n[('ease'+_q+_l[_r]).toLowerCase()]=_f.fnc(_p)?_p:_g.apply(_o,_p);}}}return _n;}();function stringToHyphens(_l){return _l.replace(/([a-z])([A-Z])/g,'$1-$2').toLowerCase();}function selectString(_l){if(_f.col(_l)){return;}try{}catch(e){return;}}function arrayLength(_l){return _l.length;}function filterArray(_l,_m){var _n=_l.length;var _o=arguments.length>=2?arguments[1]:void 0;var _p=[];for(var _r=0;_r<_n;_r++ ){if(_r in _l){var _q=_l[_r];if(_m.call(_o,_q,_r,_l)){_p.push(_q);}}}return _p;}function flattenArray(_l){return _l.reduce(function(_m,_n){return _m.concat(_f.arr(_n)?flattenArray(_n):_n);},[]);}function toArray(_l){if(_f.arr(_l)){return _l;}return [_l];}function arrayContains(_l,_m){return _l.some(function(_n){return _n===_m;});}function objectHas(_l,_m){return _l.hasOwnProperty(_m);}function cloneObject(_l){var _m={};for(var _n in _l){_m[_n]=_l[_n];}return _m;}function replaceObjectProps(_l,_m){var _n=cloneObject(_l);for(var _o in _l){_n[_o]=objectHas(_m,_o)?_m[_o]:_l[_o];}return _n;}function mergeObjects(_l,_m){var _n=cloneObject(_l);for(var _o in _m){_n[_o]=_f.und(_l[_o])?_m[_o]:_l[_o];}return _n;}function rgbToRgba(_l){var _m=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(_l);return _m?'rgba('+_m[1]+',1)':_l;}function hexToRgba(_l){var _m=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;var _n=_l.replace(_m,function(_s,_p,_q,_r){return _p+_p+_q+_q+_r+_r;});var _o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(_n);var _p=parseInt(_o[1],16);var _q=parseInt(_o[2],16);var _r=parseInt(_o[3],16);return 'rgba('+_p+','+_q+','+_r+',1)';}function hslToRgba(_l){var _m=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(_l)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(_l);var _n=parseInt(_m[1])/360;var _o=parseInt(_m[2])/100;var _p=parseInt(_m[3])/100;var _q=_m[4]||1;function hue2rgb(_v,_u,_w){if(_w<0){_w+=1;}if(_w>1){_w-=1;}if(_w<1/6){return _v+(_u-_v)* 6* _w;}if(_w<1/2){return _u;}if(_w<2/3){return _v+(_u-_v)* (2/3-_w)* 6;}return _v;}var _r,_s,_t;if(_o==0){_r=_s=_t=_p;}else{var _u=_p<0.5?_p* (1+_o):_p+_o-_p* _o;var _v=2* _p-_u;_r=hue2rgb(_v,_u,_n+1/3);_s=hue2rgb(_v,_u,_n);_t=hue2rgb(_v,_u,_n -1/3);}return 'rgba('+(_r* 255)+','+(_s* 255)+','+(_t* 255)+','+_q+')';}function isNamedColor(_l){return nexacro._xreNamedColorList.hasOwnProperty(_l);}function colorToRgb(_l){if(_f.rgb(_l)){return rgbToRgba(_l);}if(_f.hex(_l)){return hexToRgba(_l);}if(_f.hsl(_l)){return hslToRgba(_l);}if(isNamedColor(_l)){return hexToRgba(nexacro._xreNamedColorList[_l]||'#000000');}}function getUnit(_l){if(_l.toString().split(' ').length>1){return;}var _m=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|pc|vw|vh|deg|rad|turn)?/.exec(_l);if(_m){return _m[2];}}function getTransformUnit(_l){if(stringContains(_l,'translate')){return 'px';}if(stringContains(_l,'rotate')||stringContains(_l,'skew')){return 'deg';}}function parseFloatValue(_l){return parseFloat(_l);}function minMaxValue(_l,_m,_n){return Math.min(Math.max(_l,_m),_n);}function getFunctionValue(_l,_m){if(!_f.fnc(_l)){return _l;}return _l(_m.target,_m.id,_m.total);}function getCSSValue(_l,_m){if(_m in _l.style){return getComputedStyle(_l).getPropertyValue(stringToHyphens(_m))||'0';}}function getAnimationType(_l,_m){if(_f.dom(_l)&&arrayContains(_c,_m)){return 'transform';}if(_f.dom(_l)&&(_l.getAttribute(_m)||(_f.svg(_l)&&_l[_m]))){return 'attribute';}if(_f.dom(_l)&&(_m!=='transform'&&getCSSValue(_l,_m))){return 'css';}if(_l[_m]!=null){return 'object';}}function getTransformValue(_l,_m){var _n=getTransformUnit(_m);var _o=stringContains(_m,'scale')?1:0+_n;var _p=_l.style.transform;if(!_p){return _o;}var _q=[];var _r=[];var _s=[];var _t=/(\w+)\((.+?)\)/g;while(_q=_t.exec(_p)){_r.push(_q[1]);_s.push(_q[2]);}var _u=_s.filter(function(_v,_w){return (_r[_w]===_m);});return arrayLength(_u)?_u[0]:_o;}function getOriginalTargetValue(_l,_m){switch(getAnimationType(_l,_m)){case 'transform':return getTransformValue(_l,_m);case 'css':return getCSSValue(_l,_m);case 'attribute':return _l.getAttribute(_m);}return _l[_m]||0;}function getRelativeValue(_l,_m){var _n=/^(\*=|\+=|-=)/.exec(_l);if(!_n){return _l;}var _o=parseFloatValue(_m);var _p=parseFloatValue(_l.replace(_n[0],''));switch(_n[0][0]){case '+':return _o+_p;case '-':return _o-_p;case '*':return _o* _p;}}function validateValue(_l,_m){var _n=_l.toString().split(' ');var _o='';for(var _r=0;_r<_n.length;_r++ ){if(_f.col(_n[_r])){_o+=colorToRgb(_n[_r]);}else{var _p=getUnit(_n[_r]);var _q=_p?_n[_r].substr(0,arrayLength(_n[_r])-arrayLength(_p)):_n[_r];_o+=((_m?_q+_m:(_p?_q+_p:_q))+' ');}}return _o.trim();}function isPath(_l){return _f.obj(_l)&&objectHas(_l,'totalLength');}function setDashoffset(_l){var _m=_l.getTotalLength();_l.setAttribute('stroke-dasharray',_m);return _m;}function getPath(_l,_m){var _n=_l;var _o=_m||100;return function(_p){return {el:_n,property:_p,totalLength:_n.getTotalLength()* (_o/100)};};}function getPathProgress(_l,_m){function point(_q){var _r=_m+_q>=1?_m+_q:0;return _l.el.getPointAtLength(_r);}var _n=point(0);var _o=point(-1);var _p=point( +1);switch(_l.property){case 'x':return _n.x;case 'y':return _n.y;case 'angle':return Math.atan2(_p.y-_o.y,_p.x-_o.x)* 180/Math.PI;}}function decomposeValue(_l,_m){var _n=/-?\d*\.?\d+/g;var _o=validateValue((isPath(_l)?_l.totalLength:_l),_m)+'';return {original:_o,numbers:_o.match(_n)?_o.match(_n).map(Number):[0],strings:_e(_o,_n)};}function parseTargets(_l){var _m=_l?(flattenArray(_f.arr(_l)?_l.map(toArray):toArray(_l))):[];return _m.filter(function(_n,_o,_p){return _p.indexOf(_n)===_o;});}function getAnimatables(_l){var _m=parseTargets(_l);return _m.map(function(_n,_o){return {target:_n,id:_o,total:arrayLength(_m)};});}function normalizePropertyTweens(_l,_m){var _n=cloneObject(_m);if(_f.arr(_l)){var _o=arrayLength(_l);var _p=(_o===2&&!_f.obj(_l[0]));if(!_p){if(!_f.fnc(_m.duration)){_n.duration=_m.duration/_o;}}else{_l={value:_l};}}return toArray(_l).map(function(_q,_r){var _s=!_r?_m.delay:0;var _t=_f.obj(_q)&&!isPath(_q)?_q:{value:_q};if(_f.und(_t.delay)){_t.delay=_s;}return _t;}).map(function(_q){return mergeObjects(_q,_n);});}function getProperties(_l,_m,_n,_o){var _p=[];var _q=mergeObjects(_l,_m);_n.map(function(_r){var _s=_o.props[_r.target.id];for(var _t in _s){_p.push({name:_t,animatableid:_r.id,offset:_q["offset"],tweens:normalizePropertyTweens(_s[_t],_m)});}});return _p;}function normalizeTweenValues(_l,_m){var _n={};for(var _p in _l){var _o=getFunctionValue(_l[_p],_m);if(_f.arr(_o)){_o=_o.map(function(_q){return getFunctionValue(_q,_m);});if(arrayLength(_o)===1){_o=_o[0];}}_n[_p]=_o;}_n.duration=parseFloatValue(_n.duration);_n.delay=parseFloatValue(_n.delay);return _n;}function normalizeEasing(_l){return _f.arr(_l)?_g.apply(this,_l):_h[_l];}function normalizeTweens(_l,_m){var _n;return _l.tweens.map(function(_o){var _p=normalizeTweenValues(_o,_m);var _q=_p.value;var _r=getOriginalTargetValue(_m.target,_l.name);var _s=_n?_n.to.original:_r;var _t=_f.arr(_q)?_q[0]:_s;var _u=getRelativeValue(_f.arr(_q)?_q[1]:_q,_t);var _v=getUnit(_u)||getUnit(_t)||getUnit(_r);_p.isPath=isPath(_q);_p.from=decomposeValue(_t,_v);_p.to=decomposeValue(_u,_v);_p.start=_n?_n.end:_l.offset;_p.end=_p.start+_p.delay+_p.duration;_p.easing=normalizeEasing(_p.easing);_p.elasticity=(1000-minMaxValue(_p.elasticity,1,999))/1000;_p.isColor=_f.col(_p.from.original);if(_p.isColor){_p.round=1;}_n=_p;return _p;});}var _i={css:function(_l,_m,_n){_l.style[_m]=_n;},attribute:function(_l,_m,_n){_l.setAttribute(_m,_n);},object:function(_l,_m,_n){(_l["set_"+_m]&&_l["set_"+_m](_n))||(_l[_m]=_n);},transform:function(_l,_m,_n,_o,_p){if(!_o[_p]){_o[_p]=[];}_o[_p].push(""+_m+""+_n);}};function createAnimation(_l,_m){var _n=getAnimationType(_l.target,_m.name);if(_n){var _o=normalizeTweens(_m,_l);return {type:_n,property:_m.name,animatable:_l,tweens:_o,duration:_o[arrayLength(_o)-1].end,delay:_o[0].delay};}}function getAnimations(_l,_m){return flattenArray(_l.map(function(_n){return _m.map(function(_o){if(_o.animatableid==_n.id){return createAnimation(_n,_o);}});})).filter(function(_n){return !_f.und(_n);});}function getInstanceTimings(_l,_m,_n){var _o=(_l==='delay')?Math.min:Math.max;return arrayLength(_m)?_o.apply(Math,_m.map(function(_p){return _p[_l];})):_n[_l];}function createNewInstance(_l){var _m=replaceObjectProps(_a,_l);var _n=replaceObjectProps(_b,_l);var _o=getAnimatables(_l.targets);var _p=getProperties(_m,_n,_o,_l);var _q=getAnimations(_o,_p);return mergeObjects(_m,{children:[],animatables:_o,animations:_q,duration:getInstanceTimings('duration',_q,_n),delay:getInstanceTimings('delay',_q,_n)});}var _j=[];var _k=0;function step(_l){var _m=arrayLength(_j);if(_m){var _n=0;if(!Date.now){Date.now=function(){return new Date().getTime();};}while(_n<_m){if(_j[_n]){_j[_n].tick(Date.now());}_n++ ;}if(_k){_k.start();}}else{_k.stop();_k=0;}}function anime(_l){var _m,_n,_o=0;var _p=createNewInstance(_l);function toggleInstanceDirection(){_p.reversed=!_p.reversed;}function adjustTime(_q){return _p.reversed?_p.duration-_q:_q;}function syncInstanceChildren(_q){var _r;var _s=_p.children;if(_q>=_p.currentTime){for(_r=0;_r<arrayLength(_s);_r++ ){_s[_r].seek(_q);}}else{for(_r=arrayLength(_s);_r-- ;){_s[_r].seek(_q);}}}function setAnimationsProgress(_q){var _r=0,_s;var _t={};var _u=_p.animations;var _v=_u.length;while(_r<_v){var _w=_u[_r];var _x=_w.animatable;var _y=_w.tweens;var _z=_y.length-1;var _aa=_y[_z];if(_z){_aa=filterArray(_y,function(_ar){return (_q<_ar.end);})[0]||_aa;}var _ab=minMaxValue(_q-_aa.start-_aa.delay,0,_aa.duration)/_aa.duration;var _ac=isNaN(_ab)?1:_aa.easing(_ab,_aa.elasticity);var _ad=_aa.to.strings;var _ae=_aa.round;if(!_ae){var _af=_aa.to.original.toString().split(' ');var _ag;for(_s=0;_s<_af.length;_s++ ){if(_f.col(_af[_s])){_ag=true;}}}var _ah=[];var _ai;var _aj=_aa.to.numbers.length;for(_s=0;_s<_aj;_s++ ){var _ak;var _al=_aa.to.numbers[_s];var _am=_aa.from.numbers[_s];if(!_aa.isPath){_ak=_am+(_ac* (_al-_am));}else{_ak=getPathProgress(_aa.value,_ac* _al);}if(_ae){if(!(_aa.isColor&&_s>2)){_ak=Math.round(_ak* _ae)/_ae;}}else{if(_ag&&_s>=_aj -4){_ak=Math.round(_ak* 1)/1;}}_ah.push(_ak);}var _an=_ad.length;if(!_an){_ai=_ah[0];}else{_ai=_ad[0];for(var _as=0;_as<_an;_as++ ){var _ao=_ad[_as+1];var _ap=_ah[_as];if(!isNaN(_ap)){if(!_ao){_ai+=_ap+' ';}else{_ai+=_ap+_ao;}}}}if(!isNaN(_ai)&&isFinite(_ai)){if(_w.property!="opacity"){_ai=Math.round(_ai);}}_i[_w.type](_x.target,_w.property,_ai,_t,_x.id);_w.currentValue=_ai;_r++ ;}var _aq=0;if(Object.keys){_aq=Object.keys(_t).length;}else{for(var _at in _t){if(_t.hasOwnProperty(_at)){_aq++ ;}}}if(_aq){for(var _au=0;_au<_aq;_au++ ){if(!_d){var _ar='transform';_d=(getCSSValue(document.body,_ar)?_ar:'-webkit-'+_ar);}_p.animatables[_au].target.style[_d]=_t[_au].join(' ');}}_p.currentTime=_q;_p.progress=(_q/_p.duration)* 100;}function setCallback(_q){if(_p[_q]){_p[_q](_p);}}function countIteration(){if(_p.remaining&&_p.remaining!==true){_p.remaining-- ;}}function setInstanceProgress(_q){var _r=_p.duration;var _s=_p.offset;var _t=_p.delay;var _u=_p.currentTime;var _v=_p.reversed;var _w=minMaxValue(adjustTime(_q),0,_r);if(_p.children){syncInstanceChildren(_w);}if(_v){if(_u!==0||(_u===0&&_q==_u)){if(_u===0){countIteration();}setAnimationsProgress(_w);if(!_p.began&&_w>=_t){_p.began=true;setCallback('begin');}setCallback('run');}else{if(_u===0&&_p.remaining&&_p._refobject._reverse){setAnimationsProgress(_w);countIteration();}if(_w<=_s&&_u!==0){setAnimationsProgress(0);if(_v){countIteration();}}if(_w>=_r&&_u!==_r){setAnimationsProgress(_r);if(!_v){countIteration();}}}}else{if(_w>=(_s+_t)&&_w<_r){setAnimationsProgress(_w);if(!_p.began&&_w>=_t){_p.began=true;setCallback('begin');}setCallback('run');}else{if(_w<=_s&&_u!==0){setAnimationsProgress(0);if(_v){countIteration();}}if(_w>=_r&&_u!==_r){setAnimationsProgress(_r);if(!_v){countIteration();}}if(_u===_r){countIteration();}}}if(_q>=_r){if(_p.remaining){_n=_m;if(_p.direction==='alternate'){toggleInstanceDirection();}}else{_p.pause();if(!_p.completed){_p.completed=true;setCallback('complete');}}_o=0;}setCallback('update');}_p._rafTarget=_l._rafTarget;_p.equalInstance=function(_q,_l){var _r=createNewInstance(_l);if(_q=="tweens"){for(var _aa=0;_aa<this.animations.length;_aa++ ){var _s=this.animations[_aa];var _t=_r.animations[_aa];var _u=_s.tweens;var _v=_t.tweens;if(_u.length!=_v.length){return false;}for(var _ab=0;_ab<_u.length;_ab++ ){var _w=_u[_ab].from.original;var _x=_u[_ab].to.original;var _y=_v[_ab].from.original;var _z=_v[_ab].to.original;if(_w!=_y){return false;}if(_x!=_z){return false;}}}return true;}};_p.tick=function(_q){_m=_q;if(!_n){_n=_m;}var _r=(_o+_m-_n)* anime.speed;setInstanceProgress(_r);};_p.seek=function(_q){setInstanceProgress(adjustTime(_q));};_p.pause=function(){var _q=_j.indexOf(_p);if(_q>-1){_j.splice(_q,1);}_p.paused=true;};_p.play=function(){if(!_p.paused){return;}_p.paused=false;_n=0;_o=adjustTime(_p.currentTime);_j.push(_p);if(!_k){_k=new nexacro.AnimationFrame(_p._rafTarget,step);_k.start();}};_p.reverse=function(){toggleInstanceDirection();_n=0;_o=adjustTime(_p.currentTime);};_p.restart=function(){_p.pause();_p.reset();_p.play();};_p.destroy=function(){if(_k){_k.stop();_k.destroy();_k=0;}};_p.reset=function(){var _q=_p.direction;var _r=_p.loop;_p.currentTime=0;_p.progress=0;_p.paused=true;_p.began=false;_p.completed=false;_p.reversed=_q==='reverse';_p.remaining=_q==='alternate'&&_r===1?2:_r;for(var _t=arrayLength(_p.children);_t-- ;){var _s=_p.children[_t];_s.seek(_s.offset);_s.reset();}};_p.reset();if(_p.autoplay){_p.play();}return _p;}function removeTargets(_l){var _m=parseTargets(_l);for(var _p=arrayLength(_j);_p-- ;){var _n=_j[_p];var _o=_n.animations;for(var _q=arrayLength(_o);_q-- ;){if(arrayContains(_m,_o[_q].animatable.target)){_o.splice(_q,1);if(!arrayLength(_o)){_n.pause();}}}}}function timeline(_l){var _m=anime(_l);_m.pause();_m.duration=0;_m.add=function(_n){var _o;for(_o=0;_o<_m.children.length;_o++ ){_m.children[_o].began=true;_m.children[_o].completed=true;}var _p=toArray(_n);for(_o=0;_o<_p.length;_o++ ){var _q=_m.duration;var _r=_p[_o].offset;_p[_o].autoplay=false;_p[_o].offset=_f.und(_r)?_q:getRelativeValue(_r,_q);_m.seek(_p[_o].offset);var _s=anime(_p[_o]);if(_s.duration>_q){_m.duration=_s.duration;}_s.began=true;_m.children.push(_s);}_m.reset();_m.seek(0);if(_m.autoplay){_m.restart();}return _m;};return _m;}anime.version='2.0.2';anime.speed=1;anime.running=_j;anime.remove=removeTargets;anime.getValue=getOriginalTargetValue;anime.path=getPath;anime.setDashoffset=setDashoffset;anime.bezier=_g;anime.easings=_h;anime.timeline=timeline;anime.random=function(_l,_m){return Math.floor(nexacro._random()* (_m-_l+1))+_l;};return anime;}));nexacro.AnimationItem=function(_a,_b,_c){nexacro.Object.call(this,_a);this._p_componentid=_b||"";this.props=_c||"";};var _pAnimationItem=nexacro._createPrototype(nexacro.Object,nexacro.AnimationItem);nexacro.AnimationItem.prototype=_pAnimationItem;_pAnimationItem._type_name="AnimationItem";_pAnimationItem._properties=[{name:"componentid"},];_pAnimationItem.set_componentid=function(_a){if(this._p_componentid!=_a){this._p_componentid=_a;}};nexacro.AnimationEventInfo=function(_a,_b){this.id=this.eventid=_b;this.fromobject=this.fromreferenceobject=_a;this.direction=_a._anime.reversed?"reverse":"normal";if(_a.loop){this.loopcount=_a.loopcount-_a._anime.remaining+1;}else{this.loopcount=1;}this.reversed=_a._anime.reversed;this.paused=_a._anime.paused;this.currenttime=_a._anime.currentTime;};var _pAnimationEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.AnimationEventInfo);nexacro.AnimationEventInfo.prototype=_pAnimationEventInfo;_pAnimationEventInfo._type_name="AnimationEventInfo";nexacro.Animation=function(_a,_b){nexacro._EventSinkObject.call(this,_a,_b);this._p_items=new nexacro.Collection();this._anime_task=[];};var _pAnimation=nexacro._createPrototype(nexacro._EventSinkObject,nexacro.Animation);nexacro.Animation.prototype=_pAnimation;_pAnimation._type_name="Animation";_pAnimation._p_beziercurve="";_pAnimation._p_delay=0;_pAnimation._p_direction="normal";_pAnimation._reverse=false;_pAnimation._p_duration=1000;_pAnimation._p_easing="easeOutElastic";_pAnimation._p_elasticity=0;_pAnimation._p_items=null;_pAnimation._p_loop=false;_pAnimation._p_loopcount=undefined;_pAnimation._p_enableevent=true;_pAnimation._p_offset=undefined;_pAnimation._p_round=undefined;_pAnimation._p_targets=undefined;_pAnimation._anime=null;_pAnimation._is_alive=true;_pAnimation._properties=[{name:"beziercurve"},{name:"delay"},{name:"direction"},{name:"duration"},{name:"easing"},{name:"elasticity"},{name:"items",readonly:true},{name:"loop"},{name:"loopcount"},{name:"enableevent"},{name:"offset"},{name:"round"},{name:"targets"},];_pAnimation._event_list={"onupdate":1,"onrun":1,"onbegin":1,"oncomplete":1};_pAnimation.on_created=function(){this._createAnimeJSObject();};_pAnimation.destroy=function(){this._is_alive=false;if(this._p_parent&&this._p_parent.removeChild){this._p_parent.removeChild(this.id);}nexacro._EventSinkObject.prototype.destroy.call(this);if(this._anime){this._anime.pause();this._anime.destroy();this._anime=null;}if(this._p_parent){this._p_parent=null;}return true;};_pAnimation.set_beziercurve=function(_a){var _b=nexacro._toString(_a);if(this._p_beziercurve!=_b){this._p_beziercurve=_b;}};_pAnimation.set_delay=function(_a){var _b=nexacro._toInt(_a);if(this._p_delay!=_b){this._p_delay=_b;}};_pAnimation.set_direction=function(_a){var _b=nexacro._toString(_a);if(this._p_direction!=_b){this._p_direction=_b;}this._reverse=_b=="reverse";};_pAnimation.set_duration=function(_a){var _b=nexacro._toInt(_a);if(this._p_duration!=_b){this._p_duration=_b;}};_pAnimation.set_easing=function(_a){var _b=nexacro._toString(_a);if(this._p_easing!=_b){this._p_easing=_b;}};_pAnimation.set_elasticity=function(_a){var _b=nexacro._toInt(_a);if(this._p_elasticity!=_b){this._p_elasticity=_b;}};_pAnimation.set_loop=function(_a){var _b=nexacro._toBoolean(_a)?_a:false;if(this._p_loop!=_b){this._p_loop=_b;}};_pAnimation.set_loopcount=function(_a){var _b=nexacro._isInt(_a)?(_a>0?_a:undefined):undefined;if(this._p_loopcount!=_b){this._p_loopcount=_b;}};_pAnimation.set_enableevent=function(_a){_a=nexacro._toBoolean(_a);if(this._p_enableevent!=_a){this._p_enableevent=_a;}};_pAnimation.set_offset=function(_a){var _b=nexacro._toInt(_a);if(this._p_offset!=_b){this._p_offset=_b;}};_pAnimation.set_round=function(_a){var _b=nexacro._toInt(_a);if(this._p_round!=_b){this._p_round=_b;}};_pAnimation.set_targets=function(_a){if(nexacro._isObject(_a)){this._p_targets=_a;}else{this._p_targets=nexacro._toString(_a);}};_pAnimation.set_targetprops=function(_a){};_pAnimation.addTarget=function(_a,_b,_c){var _d=-1;var _e=this._p_items[_a];if(!_e){_e=new nexacro.AnimationItem(_a,_b.id,_c);_d=this.addChild(_a,_b);if(_d==0){_d=this._p_items.add_item(_a,_e);}if(this._anime){if(this._anime_task.length==0&&this._p_parent){nexacro._OnceCallbackTimer.callonce(this,this._runAnimeTask,1);}this._setAnimeTask("changeAnimationItem");}}return _d;};_pAnimation.removeTarget=function(_a){var _b=null;var _c=this._p_items[_a];if(_c){_b=_c;this.removeChild(_a);this._p_items.remove_item(_a);if(this._anime){if(this._anime_task.length==0&&this._p_parent){nexacro._OnceCallbackTimer.callonce(this,this._runAnimeTask,1);}this._setAnimeTask("changeAnimationItem");}}return _b;};_pAnimation.pause=function(){if(this._anime){if(this._anime_task.length>0){this._setAnimeTask("pause");}else{this._anime.pause();}return true;}return false;};_pAnimation.play=function(){if(this._anime){if(this._anime_task.length>0){this._setAnimeTask("play");}else{var _a=this.getCurrentTime();this._anime.loop=(this._p_loop===true&&this._p_loopcount>1)?this._p_loopcount:this._p_loop;this._anime.reset();if(this.getCompletedStatus()){if(this._reverse){if(_a<=0){this._anime.seek(this._anime.duration);}else{this._anime.seek(_a);}if(!this.getReversedStatus()){this._anime.reverse();}this._anime.play();}else{this._anime.seek(0);if(this.getReversedStatus()){this._anime.reverse();}this._anime.play();}}else{if(this.getPausedStatus()){if(this._reverse){if(_a<=0){this._anime.seek(this._anime.duration);}else{this._anime.seek(_a);}if(!this.getReversedStatus()){this._anime.reverse();}this._anime.play();}else{this._anime.seek(0);if(this.getReversedStatus()){this._anime.reverse();}this._syncTweens();this._anime.play();}}else{this._anime.pause();this._anime.seek(0);this._createAnimeJSObject();this._anime.play();}}}}else{this._createAnimeJSObject();if(this._reverse){this._anime.seek(this._anime.duration);if(!this.getReversedStatus()){this._anime.reverse();}}this._anime.play();}return true;};_pAnimation.reverse=function(){if(this._anime){if(this._anime_task.length>0){this._setAnimeTask("reverse");}else{if(this.getBeginStatus()){this._reverse=!this._reverse;if(this.getPausedStatus()||this.getCompletedStatus()){this._anime.reverse();}else{this._anime.pause();this._anime.reverse();this._anime.play();}return true;}}}return false;};_pAnimation.seek=function(_a){if(this._anime){if(this._anime_task.length>0){this._setAnimeTask("seek",[_a]);}else{if(this.getBeginStatus()){if(this.getPausedStatus()||this.getCompletedStatus()){this._anime.seek(_a);}else{this._anime.pause();this._anime.seek(_a);this._anime.play();}}else{this._anime.seek(_a);}}}else{this._createAnimeJSObject();this._anime.seek(_a);}return true;};_pAnimation.stop=function(){if(this._anime){if(this._anime_task.length>0){this._setAnimeTask("stop");}else{if(this.getBeginStatus()&&!this.getCompletedStatus()){this._anime.pause();this._anime.seek(0);this._anime.reset();this._createAnimeJSObject();return true;}}}return false;};_pAnimation.reset=function(){};_pAnimation.restart=function(){};_pAnimation._on_begin=function(){if(this._refobject&&this._refobject._p_enableevent){this._refobject.on_fire_begin();}};_pAnimation._on_complete=function(){if(this._refobject&&this._refobject._p_enableevent){this._refobject.on_fire_complete();}};_pAnimation._on_run=function(){if(this._refobject&&this._refobject._p_enableevent){this._refobject.on_fire_run();}};_pAnimation._on_update=function(){if(this._refobject&&this._refobject._p_enableevent){this._refobject.on_fire_update();}};_pAnimation.on_fire_begin=function(){if(this.onbegin&&this.onbegin._has_handlers){var _a=new nexacro.AnimationEventInfo(this,"onbegin");this.onbegin._fireEvent(this,_a);}};_pAnimation.on_fire_complete=function(){if(this.oncomplete&&this.oncomplete._has_handlers){var _a=new nexacro.AnimationEventInfo(this,"oncomplete");this.oncomplete._fireEvent(this,_a);}};_pAnimation.on_fire_run=function(){if(this.onrun&&this.onrun._has_handlers){var _a=new nexacro.AnimationEventInfo(this,"onrun");this.onrun._fireEvent(this,_a);}};_pAnimation.on_fire_update=function(){if(this.onupdate&&this.onupdate._has_handlers){var _a=new nexacro.AnimationEventInfo(this,"onupdate");this.onupdate._fireEvent(this,_a);}};_pAnimation.addChild=function(_a,_b){if(_a&&_a.length<=0){return -1;}if(!_b){throw nexacro.MakeReferenceError(this,"reference_not_define",_a);}if(this[_a]){throw nexacro.MakeNativeError(this,"native_exist_id",_a);}this[_a]=_b;return 0;};_pAnimation.removeChild=function(_a){if(!_a||_a.length<=0){return null;}var _b=this[_a];if(!_b){return null;}delete this[_a];return _b;};_pAnimation._makeParamsObject=function(_a,_b){var _c={};if(_a){this._anime=null;}_c._rafTarget=this._p_parent;var _d=this._p_items;var _e=[];var _f={};var _g,_h;for(var _k=0,_l=_d.length;_k<_l;_k++ ){var _i=_d[_k];if(_i){_e.push(this[_i.id]);_h=_i.props;_g=new Function('return {'+_h+'}')();var _j=_i._p_componentid;if(_j){_j=_j.substring(_j.lastIndexOf(".")+1,_j.length);}_f[_j]=_g;}}_c.targets=_e;_c.props=_f;_c.loop=this._p_loop;if(this._p_loop===true&&this._p_loopcount>1){_c.loop=this._p_loopcount;}if(this._p_direction.length>0){_c.direction=this._p_direction;}if(this.duration>0){_c.duration=this.duration;}if(this._p_delay>0){_c.delay=this._p_delay;}if(this._p_easing=="custom"){if(this._p_beziercurve){_c.easing=this._p_beziercurve.split(",");}}else if(this._p_easing){_c.easing=this._p_easing.toLowerCase();}if(this._p_elasticity>=0){_c.elasticity=this._p_elasticity;}if(this._p_round>0){_c.round=this._p_round;}if(!isNaN(_b)){if(_b>0){_c.offset="+="+_b;}}return _c;};_pAnimation._createAnimeJSObject=function(){var _a=anime(this._makeParamsObject(true));this._anime=_a;_a._refobject=this;_a.update=this._on_update;_a.begin=this._on_begin;_a.run=this._on_run;_a.complete=this._on_complete;};_pAnimation._setAnimeTask=function(_a,_b){this._anime_task.push({"action":_a,"params":_b});};_pAnimation._runAnimeTask=function(_a){var _b=this._anime_task.splice(0);var _c,_d;for(var _e=0;_e<_b.length;_e++ ){_c=_b[_e];_d=_b[_e+1];switch(_b[_e].action){case "changeAnimationItem":if(_d&&_d.action=="changeAnimationItem"){continue;}this._createAnimeJSObject();break;case "pause":this.pause();break;case "play":this.play();break;case "reverse":this.reverse();break;case "seek":this.seek(_c.params[0]);break;case "stop":this.stop();break;}}this._anime_task=[];};_pAnimation._syncTweens=function(){if(!this._anime){return true;}var _a=this._anime.equalInstance("tweens",this._makeParamsObject(false));if(!_a){this._createAnimeJSObject();}};_pAnimation.getReversedStatus=function(){if(this._anime){return this._anime.reversed;}return false;};_pAnimation.getCurrentTime=function(){if(this._anime){return this._anime.currentTime;}return 0;};_pAnimation.getPausedStatus=function(){if(this._anime){return this._anime.paused;}return false;};_pAnimation.getBeginStatus=function(){if(this._anime){return this._anime.began;}return false;};_pAnimation.getCompletedStatus=function(){if(this._anime){return this._anime.completed;}return false;};_pAnimation._getReferenceContext=function(){return this._p_parent;};nexacro.AnimationTimelineItem=function(_a,_b,_c){nexacro.Object.call(this,_a);this.animationid=_b||"";this._p_offset=_c||0;};var _pAnimationTimelineItem=nexacro._createPrototype(nexacro.Object,nexacro.AnimationTimelineItem);nexacro.AnimationTimelineItem.prototype=_pAnimationTimelineItem;_pAnimationTimelineItem._type_name="AnimationTimelineItem";_pAnimationTimelineItem.animationid="";_pAnimationTimelineItem._p_offset=0;_pAnimationTimelineItem._properties=[{name:"offset"},];_pAnimationTimelineItem.set_offset=function(_a){if(this._p_offset!=_a){this._p_offset=_a;}};nexacro.AnimationTimeline=function(_a,_b){nexacro.Animation.call(this,_a,_b);};var _pAnimationTimeline=nexacro._createPrototype(nexacro.Animation,nexacro.AnimationTimeline);nexacro.AnimationTimeline.prototype=_pAnimationTimeline;_pAnimationTimeline._type_name="AnimationTimeline";_pAnimationTimeline._makeParamsObject=function(_a){var _b={};if(_a){this._anime=null;}_b._rafTarget=this._p_parent;if(this._p_loop>-1){_b.loop=this._p_loop;}if(this._p_direction.length>0){_b.direction=this._p_direction;}if(this.duration>0){_b.duration=this.duration;}if(this._p_delay>0){_b.delay=this._p_delay;}if(this._p_easing){_b.easing=this._p_easing;}if(this._p_elasticity>=0){_b.elasticity=this._p_elasticity;}if(this._p_round>0){_b.round=this._p_round;}return _b;};_pAnimationTimeline._createAnimeJSObject=function(){this._anime=anime.timeline(this._makeParamsObject(true));this._anime._refobject=this;for(var _b=0,_c=this._p_items.length;_b<_c;_b++ ){var _a=this._p_items[_b];this._anime.add(this[_a.animationid]._makeParamsObject(true,_a.offset));}this._anime.update=this._on_update;this._anime.begin=this._on_begin;this._anime.run=this._on_run;this._anime.complete=this._on_complete;};_pAnimationTimeline.addTarget=function(_a,_b,_c){var _d=-1;var _e=this._p_items[_a];if(!_e){_e=new nexacro.AnimationTimelineItem(_a,_b.id,_c);this.addChild(_b.id,_b);_d=this._p_items.add_item(_a,_e);}return _d;};_pAnimationTimeline.insertTarget=function(_a,_b,_c,_d){var _e=-1;var _f=this._p_items[_b];if(!_f){_f=new nexacro.AnimationTimelineItem(_b,_c.id,_d);}else{this._p_items.removeTarget(_b);}this.addChild(_c.id,_c);_e=this._p_items.insert_item(_a,_b,_f);return _e;};nexacro._defineProperties(_pAnimationItem,_pAnimationItem._properties);nexacro._defineProperties(_pAnimation,_pAnimation._properties);nexacro._defineProperties(_pAnimationTimelineItem,_pAnimationTimelineItem._properties);}if(_process){_pAnimationItem=null;_pAnimationEventInfo=null;_pAnimation=null;_pAnimationTimelineItem=null;_pAnimationTimeline=null;}if(nexacro._Browser!=="Runtime"&&!nexacro._ViewTransitionEffect){(function(){const _a=11;const _b=1.0/(_a -1.0);function A(_e,_f){return 1.0-3.0* _f+3.0* _e;}function B(_e,_f){return 3.0* _f -6.0* _e;}function C(_e){return 3.0* _e;}nexacro._TransformEasing=function(_e,_f){this.name=_e;if(typeof _f==='function'){this._getValue=_f;}else if(_f.length==4){this.dX1=_f[0],this.dY1=_f[1],this.dX2=_f[2],this.dY2=_f[3];if(!(0<=this.dX1&&this.dX1<=1&&0<=this.dX2&&this.dX2<=1)){return;}this.sampleValues=new Array(_a);if(this.dX1!==this.dY1||this.dX2!==this.dY2){for(var _g=0;_g<_a; ++_g){this.sampleValues[_g]=this.calcBezier(_g* _b,this.dX1,this.dX2);}}}};var _c=nexacro._createPrototype(nexacro.Object,nexacro._TransformEasing);nexacro._TransformEasing.prototype=_c;_c._type_name="_TransformEasing";_c.dX1=0;_c.dY1=0;_c.dX2=0;_c.dY2=0;_c.sampleValues=null;_c._getValue=null;_c.isCustomEasing=function(){return this._getValue!==null;};_c.calcBezier=function calcBezier(_e,_f,_g){return ((A(_f,_g)* _e+B(_f,_g))* _e+C(_f))* _e;};_c.getSlope=function(_e,_f,_g){return 3.0* A(_f,_g)* _e* _e+2.0* B(_f,_g)* _e+C(_f);};_c.binarySubdivide=function(_e,_f,_g,_h,_i){var _j,_k,_l=0;do{_k=_f+(_g-_f)/2.0;_j=this.calcBezier(_k,_h,_i)-_e;if(_j>0.0){_g=_k;}else{_f=_k;}}while(Math.abs(_j)>0.0000001&& ++_l<10)return _k;};_c.newtonRaphsonIterate=function(_e,_f,_g,_h){for(var _k=0;_k<4; ++_k){var _i=this.getSlope(_f,_g,_h);if(_i===0.0){return _f;}var _j=this.calcBezier(_f,_g,_h)-_e;_f-=_j/_i;}return _f;};_c.getTForX=function(_e){var _f=0.0;var _g=1;var _h=_a -1;for(;_g!==_h&&this.sampleValues[_g]<=_e; ++_g){_f+=_b;}-- _g;var _i=(_e-this.sampleValues[_g])/(this.sampleValues[_g+1]-this.sampleValues[_g]);var _j=_f+_i* _b;var _k=this.getSlope(_j,this.dX1,this.dX2);if(_k>=0.001){return this.newtonRaphsonIterate(_e,_j,this.dX1,this.dX2);}else if(_k===0.0){return _j;}else{return this.binarySubdivide(_e,_f,_f+_b,this.dX1,this.dX2);}};_c.getValue=function(_e){if(this._getValue&&typeof this._getValue==='function'){return this._getValue.call(null,_e);}else{if(this.dX1===this.dY1&&this.dX2===this.dY2){return _e;}if(_e===0){return 0;}if(_e===1){return 1;}return this.calcBezier(this.getTForX(_e),this.dY1,this.dY2);}};nexacro._TransformMatrix=function(_e){if(_e){this.sx=_e.sx;this.shy=_e.shy;this.w0=_e.w0;this.shx=_e.shx;this.sy=_e.sy;this.w1=_e.w1;this.tx=_e.tx;this.ty=_e.ty;this.w2=_e.w2;}};var _d=nexacro._createPrototype(nexacro.Object,nexacro._TransformMatrix);nexacro._TransformMatrix.prototype=_d;_d._type_name="_TransformMatrix";_d.sx=1.0;_d.shy=0;_d.w0=0;_d.shx=0;_d.sy=1.0;_d.w1=0;_d.tx=0;_d.ty=0;_d.w2=1.0;_d.rectToQuad=function(_e,_f,_g,_h,_i){const _j=[_e,_f,_g,_f,_g,_h,_e,_h];if(!this.squareToQuad(_j)){return false;}if(!this.invert()){return false;}const _k=new nexacro._TransformMatrix();if(!_k.squareToQuad(_i)){return false;}this.multiply(_k);return true;};_d.squareToQuad=function(_e){const _f=_e[0]-_e[2]+_e[4]-_e[6];const _g=_e[1]-_e[3]+_e[5]-_e[7];if(_f==0.0&&_g==0.0){this.sx=_e[2]-_e[0];this.shy=_e[3]-_e[1];this.w0=0.0;this.shx=_e[4]-_e[2];this.sy=_e[5]-_e[3];this.w1=0.0;this.tx=_e[0];this.ty=_e[1];this.w2=1.0;}else{const _h=_e[2]-_e[4];const _i=_e[3]-_e[5];const _j=_e[6]-_e[4];const _k=_e[7]-_e[5];const _l=_h* _k-_j* _i;if(_l==0.0){this.sx=this.shy=this.w0=this.shx=this.sy=this.w1=this.tx=this.ty=this.w2=0.0;return false;}const _m=(_f* _k-_g* _j)/_l;const _n=(_g* _h-_f* _i)/_l;this.sx=_e[2]-_e[0]+_m* _e[2];this.shy=_e[3]-_e[1]+_m* _e[3];this.w0=_m;this.shx=_e[6]-_e[0]+_n* _e[6];this.sy=_e[7]-_e[1]+_n* _e[7];this.w1=_n;this.tx=_e[0];this.ty=_e[1];this.w2=1.0;}return true;};_d.invert=function(){const _e=this.sy* this.w2-this.w1* this.ty;const _f=this.w0* this.ty-this.shy* this.w2;const _g=this.shy* this.w1-this.w0* this.sy;let _h=this.sx* _e+this.shx* _f+this.tx* _g;if(_h==0.0){this.sx=this.shy=this.w0=this.shx=this.sy=this.w1=this.tx=this.ty=this.w2=0.0;return false;}_h=1.0/_h;const _i=new nexacro._TransformMatrix(this);this.sx=_h* _e;this.shy=_h* _f;this.w0=_h* _g;this.shx=_h* (_i.w1* _i.tx-_i.shx* _i.w2);this.sy=_h* (_i.sx* _i.w2-_i.w0* _i.tx);this.w1=_h* (_i.w0* _i.shx-_i.sx* _i.w1);this.tx=_h* (_i.shx* _i.ty-_i.sy* _i.tx);this.ty=_h* (_i.shy* _i.tx-_i.sx* _i.ty);this.w2=_h* (_i.sx* _i.sy-_i.shy* _i.shx);return true;};_d.multiply=function(_e){const _f=new nexacro._TransformMatrix(this);this.sx=_e.sx* _f.sx+_e.shx* _f.shy+_e.tx* _f.w0;this.shx=_e.sx* _f.shx+_e.shx* _f.sy+_e.tx* _f.w1;this.tx=_e.sx* _f.tx+_e.shx* _f.ty+_e.tx* _f.w2;this.shy=_e.shy* _f.sx+_e.sy* _f.shy+_e.ty* _f.w0;this.sy=_e.shy* _f.shx+_e.sy* _f.sy+_e.ty* _f.w1;this.ty=_e.shy* _f.tx+_e.sy* _f.ty+_e.ty* _f.w2;this.w0=_e.w0* _f.sx+_e.w1* _f.shy+_e.w2* _f.w0;this.w1=_e.w0* _f.shx+_e.w1* _f.sy+_e.w2* _f.w1;this.w2=_e.w0* _f.tx+_e.w1* _f.ty+_e.w2* _f.w2;};_d.preMultiply=function(_e){const _f=new nexacro._TransformMatrix(this);this.sx=_f.sx* _e.sx+_f.shx* _e.shy+_f.tx* _e.w0;this.shx=_f.sx* _e.shx+_f.shx* _e.sy+_f.tx* _e.w1;this.tx=_f.sx* _e.tx+_f.shx* _e.ty+_f.tx* _e.w2;this.shy=_f.shy* _e.sx+_f.sy* _e.shy+_f.ty* _e.w0;this.sy=_f.shy* _e.shx+_f.sy* _e.sy+_f.ty* _e.w1;this.ty=_f.shy* _e.tx+_f.sy* _e.ty+_f.ty* _e.w2;this.w0=_f.w0* _e.sx+_f.w1* _e.shy+_f.w2* _e.w0;this.w1=_f.w0* _e.shx+_f.w1* _e.sy+_f.w2* _e.w1;this.w2=_f.w0* _e.tx+_f.w1* _e.ty+_f.w2* _e.w2;};})();nexacro._ViewTransitionEffect=function(_a,_b){this._effect=_b;this._target=_a;};var _pViewTransitionEffect=nexacro._createPrototype(nexacro.Object,nexacro._ViewTransitionEffect);nexacro._ViewTransitionEffect.prototype=_pViewTransitionEffect;_pViewTransitionEffect._type_name="_ViewTransitionEffect";_pViewTransitionEffect._target=null;_pViewTransitionEffect._effect=null;_pViewTransitionEffect._easingFunction=null;_pViewTransitionEffect._properties=null;_pViewTransitionEffect._effectors=null;_pViewTransitionEffect.on_apply=nexacro._emptyFn;_pViewTransitionEffect.on_cancel=nexacro._emptyFn;_pViewTransitionEffect.destroy=function(){nexacro.Object.prototype.destroy.call(this);if(this._effectors){this._effectors.forEach((_a)=>{_a.destroy();});this._effectors=null;}this._effect=null;this._target=null;return true;};_pViewTransitionEffect.begin=function(_a){if(this._effectors){this._effectors.forEach((_h)=>_h.end());}if(!document.startViewTransition){_a();return;}const _b=this._target;if(_b&&this._effect&&document.startViewTransition){const _c=this._effect.direction;const _d=this._effect.duration|0;this._appendBuiltinStyles();const _e=this._createEffectors();if(!_e){_a();return;}if(this._properties){this._properties.forEach((_h)=>document.documentElement.style.setProperty(_h.name,_h.value));}const _f=_b.getBoundingClientRect();const _g=document.startViewTransition(()=>{let _h=new Promise((_i, _j)=>{this.on_apply=()=>_i();this.on_cancel=()=>_j();if(_a){_a();}else{_i();}});return _h;});_g.finished.finally(()=>{_e.forEach((_h)=>{_h.end();});if(this._properties){this._properties.forEach((_h)=>document.documentElement.style.setProperty(_h.name,_h.init));}_b.style.viewTransitionName='';});_g.ready.then(()=>{_e.forEach((_h)=>{_h.run(_c,_d,_f,this._easingFunction);});});}};_pViewTransitionEffect.apply=function(){this.on_apply();};_pViewTransitionEffect.cancel=function(){this.on_cancel();};_pViewTransitionEffect._appendBuiltinStyles=function(){if(document.getElementById('nexa_effect_builtin_style')){return;}const _a=document.createElement('style');const _b=`
	            ::view-transition-image-pair(root) {
	              isolation: isolate;
	            }

	            ::view-transition-image-pair(nexa-effect-root),
	            ::view-transition-image-pair(nexa-effect-axis-root),
	            ::view-transition-image-pair(nexa-effect-3d-root) {
	              overflow: var(--nexa-effect-overflow, visible);
	            }
	
	            ::view-transition-image-pair(nexa-effect-3d-root) {
	              perspective: var(--nexa-effect-perspective, 1000px);
	              transform-style: preserve-3d;
	            }
	
	            ::view-transition-image-pair(nexa-effect-axis-root) {
	              transform-style: preserve-3d;
	            }
	
	            ::view-transition-old(nexa-effect-root),
	            ::view-transition-old(nexa-effect-axis-root),
	            ::view-transition-old(nexa-effect-3d-root) {
	              animation-name: none;
	              background-color: var(--nexa-effect-old-bk-color, white);
	              transform-origin: var(--nexa-effect-old-transform-origin, center);
	              z-index: var(--nexa-effect-old-zindex, unset);
	            }
	
	            ::view-transition-new(nexa-effect-root),
	            ::view-transition-new(nexa-effect-axis-root),
	            ::view-transition-new(nexa-effect-3d-root) {
	              animation-name: none;
	              background-color: var(--nexa-effect-new-bk-color, white);
	              transform-origin: var(--nexa-effect-new-transform-origin, center);
	            }
	
	            ::view-transition-old(nexa-effect-3d-root),
	            ::view-transition-new(nexa-effect-3d-root) {
	              backface-visibility: hidden;
	            }
	
	            ::view-transition-old(nexa-effect-axis-root),
	            ::view-transition-new(nexa-effect-axis-root) {
	              transform-style: preserve-3d;
	            }
            `;const _c=document.head||document.getElementsByTagName('head')[0];_a.id='nexa_effect_builtin_style';_a.type='text/css';_a.appendChild(document.createTextNode(_b));_c.appendChild(_a);};_pViewTransitionEffect._createEffectors=function(){const _a=this._effect;const _b=this._target;if(!_a||!_b){return;}const _c=_a.direction;if(!nexacro._ViewTransitionEffect.DIRECTIONS.includes(_c)){return;}const _d=_a.duration;if(_d<=0){return;}const _e=nexacro._ViewTransitionEffect.TRANSITION_EASINGS.get(_a.easing);if(!_e){return;}const _f=nexacro._ViewTransitionEffect.TRANSITION_EFFECT_TYPES.get(_a.type);if(!_f||!_f.viewTransitionName){return;}const _g=_f[_c]||_f["all"];if(!_g||_g.length==0){return;}this._easingFunction=new nexacro._TransformEasing(_a.easing,_e);_b.style.viewTransitionName=_f.viewTransitionName;this._properties=_f.styleVariables;const _h=this._effectors=[];_g.forEach((_i, _j)=>{_h.push(new nexacro._ViewTransitionEffector(`${_j+1}`,_i.frames,_i.properties,_i.options));});return _h;};nexacro._ViewTransitionEffect.DIRECTIONS=['toleft','totop','toright','tobottom'];nexacro._ViewTransitionEffect.TRANSITION_EASINGS=new Map([['linear',[0.250,0.250,0.750,0.750]],['easeinsine',[0.470,0.000,0.745,0.715]],['easeoutsine',[0.390,0.575,0.565,1.000]],['easeinoutsine',[0.445,0.050,0.550,0.950]],['easeinquad',[0.550,0.085,0.680,0.530]],['easeoutquad',[0.250,0.460,0.450,0.940]],['easeinoutquad',[0.455,0.030,0.515,0.955]],['easeincubic',[0.550,0.055,0.675,0.190]],['easeoutcubic',[0.215,0.610,0.355,1.000]],['easeinoutcubic',[0.645,0.045,0.355,1.000]],['easeinquart',[0.895,0.030,0.685,0.220]],['easeoutquart',[0.165,0.840,0.440,1.000]],['easeinoutquart',[0.770,0.000,0.175,1.000]],['easeinquint',[0.755,0.050,0.855,0.060]],['easeoutquint',[0.230,1.000,0.320,1.000]],['easeinoutquint',[0.860,0.000,0.070,1.000]],['easeinexpo',[0.950,0.050,0.795,0.035]],['easeoutexpo',[0.190,1.000,0.220,1.000]],['easeinoutexpo',[1.000,0.000,0.000,1.000]],['easeincirc',[0.600,0.040,0.980,0.335]],['easeoutcirc',[0.075,0.820,0.165,1.000]],['easeinoutcirc',[0.785,0.135,0.150,0.860]],['easeinback',[0.600,-0.280,0.735,0.045]],['easeoutback',[0.175,0.885,0.320,1.275]],['easeinoutback',[0.680,-0.550,0.265,1.550]]]);(function(_a){function easeInElastic(_b){const _c=(2* Math.PI)/3;return _b===0?0:_b===1?1: -Math.pow(2,10* _b -10)* Math.sin((_b* 10-10.75)* _c);}_a.set('easeinelastic',easeInElastic);function easeOutElastic(_b){const _c=(2* Math.PI)/3;return _b===0?0:_b===1?1:Math.pow(2,-10* _b)* Math.sin((_b* 10-0.75)* _c)+1;}_a.set('easeoutelastic',easeOutElastic);function easeInOutElastic(_b){const _c=(2* Math.PI)/4.5;return _b===0?0:_b===1?1:_b<0.5? -(Math.pow(2,20* _b -10)* Math.sin((20* _b -11.125)* _c))/2:(Math.pow(2,-20* _b+10)* Math.sin((20* _b -11.125)* _c))/2+1;}_a.set('easeinoutelastic',easeInOutElastic);function easeOutBounce(_b){const _c=7.5625;const _d=2.75;if(_b<1/_d){return _c* _b* _b;}else if(_b<2/_d){return _c* (_b-=1.5/_d)* _b+0.75;}else if(_b<2.5/_d){return _c* (_b-=2.25/_d)* _b+0.9375;}else{return _c* (_b-=2.625/_d)* _b+0.984375;}}function easeInBounce(_b){return 1-easeOutBounce(1-_b);}function easeInOutBounce(_b){return _b<0.5?(1-easeOutBounce(1-2* _b))/2:(1+easeOutBounce(2* _b -1))/2;}_a.set('easeinbounce',easeInBounce);_a.set('easeoutbounce',easeOutBounce);_a.set('easeinoutbounce',easeInOutBounce);})(nexacro._ViewTransitionEffect.TRANSITION_EASINGS);(function(_a){const _b=(function(){function calculateQuad(_g,_h,_i,_j,_k){const _l=new Array(8);const _m=0.087266;const _n=_i>>1;const _o=_j>>1;let _p=0.0;let _q=0.0;let _r=0.0;let _s=0.0;if(_k){switch(_h){case 'toleft':{_p=Math.tan(_m)* _n;_q=_n;_s=(Math.sqrt(2.0)* _n-_n)/2.0;_r=Math.tan(_m)* _s;if(_g<45){_l[0]= -((_g/45.0)* _s);_l[1]=(((_g/45.0)* _s)* _r/_s);}else{_l[0]= -_s+(((_g -45.0)/45.0)* _s);_l[1]=_r+((((_g -45.0)/45.0)* _s)* _r/_s);}if(_g<45){_l[2]=_i-(_g/45.0)* _n;_l[3]= -((_g/45.0)* _n* _p/_q);}else{_l[2]=_n-((_g -45.0)/45.0)* _n;_l[3]= -_p+(((_g -45.0)/45.0)* _n* _p/_q);}_l[4]=_l[2];_l[5]=_j-_l[3];_l[6]=_l[0];_l[7]=_j-_l[1];}break;case 'toright':{_p=Math.tan(_m)* _n;_q=_n;_s=(Math.sqrt(2.0)* _n-_n)/2.0;_r=Math.tan(_m)* _s;if(_g<45){_l[0]=(_g/45.0)* _n;_l[1]= -(_l[0]* _p/_q);}else{_l[0]=_n+((_g -45.0)/45.0)* _n;_l[1]= -_p+((_l[0]-_n)* _p/_q);}if(_g<45){_l[2]=_i+((_g/45.0)* _s);_l[3]=(((_g/45.0)* _s)* _r/_s);}else{_l[2]=_i+_s-(((_g -45.0)/45.0)* _s);_l[3]=_r+((((_g -45.0)/45.0)* _s)* _r/_s);}_l[4]=_l[2];_l[5]=_j-_l[3];_l[6]=_l[0];_l[7]=_j-_l[1];}break;case 'tobottom':{_p=_o;_q=Math.tan(_m)* _o;_r=(Math.sqrt(2.0)* _o-_o)/2.0;_s=Math.tan(_m)* _r;if(_g<45){_l[1]=(_g/45.0)* _o;_l[0]= -(_l[1]* _q/_p);}else{_l[1]=_o+((_g -45.0)/45.0)* _o;_l[0]= -_q+((_l[1]-_o)* _q/_p);}if(_g<45){_l[7]=_j+((_g/45.0)* _r);_l[6]=(((_g/45.0)* _r)* _s/_r);}else{_l[7]=_j+_r-(((_g -45.0)/45.0)* _r);_l[6]=_s+((((_g -45.0)/45.0)* _r)* _s/_r);}_l[4]=_i-_l[6];_l[5]=_l[7];_l[2]=_i-_l[0];_l[3]=_l[1];}break;case 'totop':{_p=_o;_q=Math.tan(_m)* _o;_r=(Math.sqrt(2.0)* _o-_o)/2.0;_s=Math.tan(_m)* _r;if(_g<45){_l[1]= -((_g/45.0)* _r);_l[0]=(((_g/45.0)* _r)* _s/_r);}else{_l[1]= -_r+(((_g -45.0)/45.0)* _r);_l[0]=_s+((((_g -45.0)/45.0)* _r)* _s/_r);}if(_g<45){_l[7]=_j-(_g/45.0)* _o;_l[6]= -((_j-_l[7])* _q/_p);}else{_l[7]=_o-((_g -45.0)/45.0)* _o;_l[6]= -_q+((_o-_l[7])* _q/_p);}_l[4]=_i-_l[6];_l[5]=_l[7];_l[2]=_i-_l[0];_l[3]=_l[1];}break;}}else{switch(_h){case 'toleft':{_p=Math.tan(_m)* _n;_q=_n;_s=(Math.sqrt(2.0)* _n-_n)/2.0;_r=Math.tan(_m)* _s;if(_g<45){_l[0]=_i-(_g/45.0)* _n;_l[1]= -((_g/45.0)* _n* _p/_q);}else{_l[0]=_n-((_g -45.0)/45.0)* _n;_l[1]= -_p+(((_g -45.0)/45.0)* _n* _p/_q);}if(_g<45){_l[2]=_i+((_g/45.0)* _s);_l[3]=(_r* 2.0)-(((_g/45.0)* _s)* _r/_s);}else{_l[2]=_i+_s-(((_g -45.0)/45.0)* _s);_l[3]=_r-((((_g -45.0)/45.0)* _s)* _r/_s);}_l[4]=_l[2];_l[5]=_j-_l[3];_l[6]=_l[0];_l[7]=_j-_l[1];}break;case 'toright':{_p=Math.tan(_m)* _n;_q=_n;_s=(Math.sqrt(2.0)* _n-_n)/2.0;_r=Math.tan(_m)* _s;if(_g<45){_l[0]= -((_g/45.0)* _s);_l[1]=(_r* 2.0)-(((_g/45.0)* _s)* _r/_s);}else{_l[0]= -_s+(((_g -45.0)/45.0)* _s);_l[1]=_r-((((_g -45.0)/45.0)* _s)* _r/_s);}if(_g<45){_l[2]=(_g/45.0)* _n;_l[3]= -(_l[2]* _p/_q);}else{_l[2]=_n+((_g -45.0)/45.0)* _n;_l[3]= -_p+((_l[2]-_n)* _p/_q);}_l[4]=_l[2];_l[5]=_j-_l[3];_l[6]=_l[0];_l[7]=_j-_l[1];}break;case 'tobottom':{_p=_o;_q=Math.tan(_m)* _o;_r=(Math.sqrt(2.0)* _o-_o)/2.0;_s=Math.tan(_m)* _r;if(_g<45){_l[1]= -((_g/45.0)* _r);_l[0]=(((_g/45.0)* _r)* _s/_r);}else{_l[1]= -_r+(((_g -45.0)/45.0)* _r);_l[0]= -_s+((((_g -45.0)/45.0)* _r)* _s/_r);}if(_g<45){_l[7]=(_g/45.0)* _o;_l[6]= -(_l[7]* _q/_p);}else{_l[7]=_o+((_g -45.0)/45.0)* _o;_l[6]= -_q+((_l[7]-_o)* _q/_p);}_l[4]=_i-_l[6];_l[5]=_l[7];_l[2]=_i-_l[0];_l[3]=_l[1];}break;case 'totop':{_p=_o;_q=Math.tan(_m)* _o;_r=(Math.sqrt(2.0)* _o-_o)/2.0;_s=Math.tan(_m)* _r;if(_g<45){_l[1]=_j-(_g/45.0)* _o;_l[0]= -((_j-_l[1])* _q/_p);}else{_l[1]=_o-((_g -45.0)/45.0)* _o;_l[0]= -_q+((_o-_l[1])* _q/_p);}if(_g<45){_l[7]=_j+((_g/45.0)* _r);_l[6]=_s* 2.0-(((_g/45.0)* _r)* _s/_r);}else{_l[7]=_j+_r-(((_g -45.0)/45.0)* _r);_l[6]=_s-((((_g -45.0)/45.0)* _r)* _s/_r);}_l[4]=_i-_l[6];_l[5]=_l[7];_l[2]=_i-_l[0];_l[3]=_l[1];}break;}}return _l;};function beforeFrame(_g,_h){const _i=_g.width,_j=_g.height;return function(_k){const _l=90* _k;let _m;if(_l<90.0){if(_l>0.0){_m=calculateQuad(_l,_h,_i,_j,true);}else{_m=calculateQuad(90-_l,_h,_i,_j,false);}}const _n=new nexacro._TransformMatrix();if(_m&&_n.rectToQuad(0,0,_i,_j,_m)){if(!isNaN(_n.sx)){return `${_n.sx}, ${_n.shy}, 0, ${_n.w0}, ${_n.shx}, ${_n.sy}, 0, ${_n.w1}, 0, 0, 1, 0, ${_n.tx}, ${_n.ty}, 0, ${_n.w2}`;}}return '0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1';};}function afterFrame(_g,_h){const _i=_g.width,_j=_g.height;return function(_k){const _l=90* _k;let _m;if(_l>0.0){if(_l<90.0){_m=calculateQuad(_l,_h,_i,_j,false);}else{_m=calculateQuad(_l -90.0,_h,_i,_j,true);}}const _n=new nexacro._TransformMatrix();if(_m&&_n.rectToQuad(0,0,_i,_j,_m)){if(!isNaN(_n.sx)){return `${_n.sx}, ${_n.shy}, 0, ${_n.w0}, ${_n.shx}, ${_n.sy}, 0, ${_n.w1}, 0, 0, 1, 0, ${_n.tx}, ${_n.ty}, 0, ${_n.w2}`;}}return '0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1';};}return {viewTransitionName:"nexa-effect-axis-root",all:[{frames:{matrix3d:[beforeFrame]},properties:[{name:"--nexa-effect-old-transform-origin",value:"0% 0%",init:"center"}],options:{pseudoElement:'::view-transition-old(nexa-effect-axis-root)'}},{frames:{matrix3d:[afterFrame]},properties:[{name:"--nexa-effect-new-transform-origin",value:"0% 0%",init:"center"}],options:{pseudoElement:'::view-transition-new(nexa-effect-axis-root)'}}]};})();_a.set('cubic',_b);const _c={viewTransitionName:"nexa-effect-root",all:[{frames:{opacity:[1,0.3]},options:{pseudoElement:'::view-transition-old(nexa-effect-root)'}},{frames:{opacity:[0.3,1]},options:{pseudoElement:'::view-transition-new(nexa-effect-root)'}}]};_a.set('fade',_c);const _d=(function(){function calculateQuad(_g,_h,_i,_j){const _k=new Array(8);const _l=0.087266;const _m=_i>>1;const _n=_j>>1;let _o=0.0;let _p=0.0;switch(_h){case 'toleft':_o=Math.tan(_l)* _m;_p=_m;if(_g<90){_k[0]=(_g/90.0)* _m;_k[1]=(_k[0]* _o/_p);}else{_k[0]=((180-_g)/90.0)* _m;_k[1]= -(_k[0]* _o/_p);}if(_g===90){_k[2]=_k[0]+0.1;}else{_k[2]=_i-_k[0];}_k[3]= -_k[1];_k[4]=_k[2];_k[5]=_j+_k[1];_k[6]=_k[0];_k[7]=_j-_k[1];break;case 'toright':_o=Math.tan(_l)* _m;_p=_m;if(_g<90){_k[0]=(_g/90.0)* _m;_k[1]= -(_k[0]* _o/_p);}else{_k[0]=((180-_g)/90.0)* _m;_k[1]=(_k[0]* _o/_p);}if(_g===90){_k[2]=_k[0]+0.1;}else{_k[2]=_i-_k[0];}_k[3]= -_k[1];_k[4]=_k[2];_k[5]=_j+_k[1];_k[6]=_k[0];_k[7]=_j-_k[1];break;case 'tobottom':_o=_n;_p=Math.tan(_l)* _n;if(_g<90){_k[1]=(_g/90.0)* _n;_k[0]= -(_k[1]* _p/_o);}else{_k[1]=((180-_g)/90.0)* _n;_k[0]=(_k[1]* _p/_o);}if(_g===90){_k[5]=_k[1]+0.1;}else{_k[5]=_j-_k[1];}_k[3]=_k[1];_k[2]=_i-_k[0];_k[4]=_i+_k[0];_k[7]=_k[5];_k[6]= -_k[0];break;case 'totop':_o=_n;_p=Math.tan(_l)* _n;if(_g<90){_k[1]=(_g/90.0)* _n;_k[0]=(_k[1]* _p/_o);}else{_k[1]=((180-_g)/90.0)* _n;_k[0]= -(_k[1]* _p/_o);}if(_g===90){_k[5]=_k[1]+0.1;}else{_k[5]=_j-_k[1];}_k[3]=_k[1];_k[2]=_i-_k[0];_k[4]=_i+_k[0];_k[7]=_k[5];_k[6]= -_k[0];break;default:break;}return _k;}function beforeFrame(_g,_h){const _i=_g.width,_j=_g.height;return function(_k){const _l=90* _k;if(_l<90.0){const _m=calculateQuad((_l<0.0?180.0+_l:_l),_h,_i,_j);const _n=new nexacro._TransformMatrix();if(_m&&_n.rectToQuad(0,0,_i,_j,_m)){if(!isNaN(_n.sx)){return `${_n.sx}, ${_n.shy}, 0, ${_n.w0}, ${_n.shx}, ${_n.sy}, 0, ${_n.w1}, 0, 0, 1, 0, ${_n.tx}, ${_n.ty}, 0, ${_n.w2}`;}}}return '0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1';};}function afterFrame(_g,_h){const _i=_g.width,_j=_g.height;return function(_k){const _l=90* _k+90;if(_l>=90.0){const _m=calculateQuad((_l>180.0?_l -180.0:_l),_h,_i,_j);const _n=new nexacro._TransformMatrix();if(_m&&_n.rectToQuad(0,0,_i,_j,_m)){if(!isNaN(_n.sx)){return `${_n.sx}, ${_n.shy}, 0, ${_n.w0}, ${_n.shx}, ${_n.sy}, 0, ${_n.w1}, 0, 0, 1, 0, ${_n.tx}, ${_n.ty}, 0, ${_n.w2}`;}}}return '0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1';};}return {viewTransitionName:"nexa-effect-axis-root",all:[{frames:{matrix3d:[beforeFrame]},properties:[{name:"--nexa-effect-old-transform-origin",value:"0% 0%",init:"center"}],options:{durationPercent:50,pseudoElement:'::view-transition-old(nexa-effect-axis-root)'}},{frames:{matrix3d:[afterFrame]},properties:[{name:"--nexa-effect-new-transform-origin",value:"0% 0%",init:"center"}],options:{delayPercent:50,durationPercent:50,pseudoElement:'::view-transition-new(nexa-effect-axis-root)'}}]};})();_a.set('flip',_d);const _e={viewTransitionName:"nexa-effect-root",styleVariables:[{name:"--nexa-effect-overflow",value:"hidden",init:"unset"}],toleft:[{frames:{translateX:[0,-100]},options:{pseudoElement:'::view-transition-old(nexa-effect-root)'}},{frames:{translateX:[100,0]},options:{pseudoElement:'::view-transition-new(nexa-effect-root)'}},],totop:[{frames:{translateY:[0,-100]},options:{pseudoElement:'::view-transition-old(nexa-effect-root)'}},{frames:{translateY:[100,0]},options:{pseudoElement:'::view-transition-new(nexa-effect-root)'}},],toright:[{frames:{translateX:[0,100]},options:{pseudoElement:'::view-transition-old(nexa-effect-root)'}},{frames:{translateX:[-100,0]},options:{pseudoElement:'::view-transition-new(nexa-effect-root)'}},],tobottom:[{frames:{translateY:[0,100]},options:{pseudoElement:'::view-transition-old(nexa-effect-root)'}},{frames:{translateY:[-100,0]},options:{pseudoElement:'::view-transition-new(nexa-effect-root)'}},]};_a.set('slide',_e);const _f={viewTransitionName:"nexa-effect-root",styleVariables:[{name:"--nexa-effect-overflow",value:"hidden",init:"unset"}],toleft:[{frames:{},options:{pseudoElement:'::view-transition-old(nexa-effect-root)'}},{frames:{clipLeft:[100,0]},options:{pseudoElement:'::view-transition-new(nexa-effect-root)'}},],totop:[{frames:{},options:{pseudoElement:'::view-transition-old(nexa-effect-root)'}},{frames:{clipTop:[100,0]},options:{pseudoElement:'::view-transition-new(nexa-effect-root)'}},],toright:[{frames:{},options:{pseudoElement:'::view-transition-old(nexa-effect-root)'}},{frames:{clipRight:[100,0]},options:{pseudoElement:'::view-transition-new(nexa-effect-root)'}},],tobottom:[{frames:{},options:{pseudoElement:'::view-transition-old(nexa-effect-root)'}},{frames:{clipBottom:[100,0]},options:{pseudoElement:'::view-transition-new(nexa-effect-root)'}},]};_a.set('wipe',_f);})(nexacro._ViewTransitionEffect.TRANSITION_EFFECT_TYPES=new Map());nexacro._ViewTransitionEffector=function(_a,_b,_c,_d){nexacro.Object.call(this,_a);this.frames=_b;this.properties=_c;this.options=_d;};var _pViewTransitionEffector=nexacro._createPrototype(nexacro.Object,nexacro._ViewTransitionEffector);nexacro._ViewTransitionEffector.prototype=_pViewTransitionEffector;_pViewTransitionEffector._type_name="_ViewTransitionEffector";_pViewTransitionEffector.frames=null;_pViewTransitionEffector.properties=null;_pViewTransitionEffector.options=null;_pViewTransitionEffector._direction='';_pViewTransitionEffector._bounding_rect=null;_pViewTransitionEffector._animation=null;_pViewTransitionEffector._requestFrameId=0;_pViewTransitionEffector._variable_name_prefix='';_pViewTransitionEffector.destroy=function(){nexacro.Object.prototype.destroy.call(this);this.end();return true;};_pViewTransitionEffector.run=function(_a,_b,_c,_d){if(!_d){return null;}if(this._animation){this._animation.pause();this._animation=null;}this._bounding_rect=_c;this._direction=_a;const _e=this.properties?this.properties.slice():null;if(_e){_e.forEach((_o)=>{document.documentElement.style.setProperty(_o.name,_o.value);});}let _f={duration:_b|0,easing:'linear',delay:0,fill:"both"};if(this.options){if('delayPercent' in this.options){const _g=Math.max(0,Math.min(100,( +this.options.delayPercent||0)));_f.delay=_f.duration* (_g/100);}if('durationPercent' in this.options){const _h=Math.max(0,Math.min(100,( +this.options.durationPercent||100)));_f.duration*=(_h/100);if(_f.duration+_f.delay<(_b|0)){_f.endDelay=(_b|0)-(_f.duration+_f.delay);}}if(this.options.pseudoElement){_f.pseudoElement=this.options.pseudoElement;}}let _i=false;const _j={};for(let _o in this.frames){let _k=this.frames[_o].slice();_k.forEach((_p, _q)=>{if(typeof _p==='function'){_i=true;_k[_q]=_p(_c,_a);}});_j[_o]=_k;}const _l=`nexa-effect-${_d.name}${this.id}`;this._variable_name_prefix=_l;let _m;if(_i||_d.isCustomEasing()){_m=this.convToCustomKeyFrames(_j);}else{_m=this.convToKeyFrames(_j);}_f.easing='linear';const _n=document.documentElement.animate(_m,_f);_n.onfinish=(_p)=>{if(this._requestFrameId>0){this._requestFrameId=0;}if(_e){_e.forEach((_o)=>document.documentElement.style.setProperty(_o.name,_o.init));}};_n.oncancel=(_p)=>{if(this._requestFrameId>0){window.cancelAnimationFrame(this._requestFrameId);this._requestFrameId=0;}if(_e){_e.forEach((_o)=>document.documentElement.style.setProperty(_o.name,_o.init));}};_n.onremove=_n.onfinish;this._animation=_n;if(_i||_d.isCustomEasing()){this._requestFrameId=window.requestAnimationFrame((_p)=>{this.animationFrame(_p,_n,_j,_d);});}};_pViewTransitionEffector.end=function(){if(this._animation){if(!this._animation.finished){this._animation.finish();}this._animation=null;}if(this._requestFrameId>0){window.cancelAnimationFrame(this._requestFrameId);this._requestFrameId=0;}};_pViewTransitionEffector.normalizeValue=function(_a,_b){switch(_a){case 'translateX':case 'translateY':return `${_b}%`;case 'translateZ':return `${_b}px`;case 'rotateX':case 'rotateY':case 'skewX':case 'skewY':return `${_b}deg`;case 'matrix':case 'matrix3d':return `${_b}`;case 'clipLeft':case 'clipTop':case 'clipRight':case 'clipBottom':return `${_b}%`;}return _b;};_pViewTransitionEffector.convToKeyFrames=function(_a){let _b=[],_c=[],_d;Object.entries(_a).forEach((_f)=>{const _g=_f[0];const _h=_f[1];switch(_g){case 'translateX':case 'translateY':case 'translateZ':case 'rotateX':case 'rotateY':case 'skewX':case 'skewY':case 'scaleX':case 'scaleY':case 'scale':case 'matrix':case 'matrix3d':_h.forEach((_i, _j)=>{if(!_b[_j]){_b[_j]=[];}_b[_j].push(`${_g}(${this.normalizeValue(_g,_i)})`);});break;case 'opacity':_d=_h;break;case 'clipLeft':_h.forEach((_i, _j)=>{if(!_c[_j]){_c[_j]={left:0,top:0,right:0,bottom:0};}_c[_j]["left"]=this.normalizeValue(_g,_i);});break;case 'clipTop':_h.forEach((_i, _j)=>{if(!_c[_j]){_c[_j]={left:0,top:0,right:0,bottom:0};}_c[_j]["top"]=this.normalizeValue(_g,_i);});break;case 'clipRight':_h.forEach((_i, _j)=>{if(!_c[_j]){_c[_j]={left:0,top:0,right:0,bottom:0};}_c[_j]["right"]=this.normalizeValue(_g,_i);});break;case 'clipBottom':_h.forEach((_i, _j)=>{if(!_c[_j]){_c[_j]={left:0,top:0,right:0,bottom:0};}_c[_j]["bottom"]=this.normalizeValue(_g,_i);});break;}});const _e={};if(_b.length>0){_e["transform"]=_b.map((_f)=>_f.join(' '));}else{_e["transform"]=['none','none'];}if(_c.length>0){_e["clipPath"]=_c.map((_f)=>{return `inset(${_f.top} ${_f.right} ${_f.bottom} ${_f.left})`;});}else{_e["clipPath"]=['none','none'];}if(_d){_e["opacity"]=_d;}else{_e["opacity"]=['unset','unset'];}return _e;};_pViewTransitionEffector.convToCustomKeyFrames=function(_a){let _b=[],_c=[],_d=[];const _e=this._variable_name_prefix;Object.entries(_a).forEach((_g)=>{const _h=_g[0];const _i=_g[1];const _j=`--${_e}-${_h}-value`;switch(_h){case 'translateX':case 'translateY':case 'translateZ':case 'matrix':case 'matrix3d':case 'rotateX':case 'rotateY':case 'skewX':case 'skewY':case 'scaleX':case 'scaleY':case 'scale':if(_i.length>0){_i.forEach((_k, _l)=>{if(!_b[_l]){_b[_l]=[];}const _m=(typeof _k==='function')?'':`, ${this.normalizeValue(_k)}`;_b[_l].push(`${_h}(var(${_j}${_m}))`);});if(_i.length==1){if(!_b[1]){_b[1]=[];}const _k=(typeof _i[0]==='function')?'':`, ${this.normalizeValue(_i[0])}`;_b[1].push(`${_h}(var(${_j}${_k}))`);}}break;case 'opacity':if(_i.length>0){_i.forEach((_l)=>{const _k=(typeof _l==='function')?'':`, ${this.normalizeValue(_l)}`;_d.push(`var(${_j}${_k})`);});if(_i.length==1){const _k=(typeof _i[0]==='function')?'':`, ${this.normalizeValue(_i[0])}`;_d.push(`var(${_j}${_k})`);}}break;case 'clipLeft':if(_i.length>0){_i.forEach((_l, _m)=>{if(!_c[_m]){_c[_m]={left:0,top:0,right:0,bottom:0};}const _k=(typeof _l==='function')?'':`, ${this.normalizeValue(_l)}`;_c[_m]["left"]=`var(--${_e}-clip-left-value${_k})`;_c[_m]["right"]=`var(--${_e}-clip-right-value, 0)`;});if(_i.length==1){if(!_c[1]){_c[1]={left:0,top:0,right:0,bottom:0};}const _k=(typeof _i[0]==='function')?'':`, ${this.normalizeValue(_i[0])}`;_c[1]["left"]=`var(--${_e}-clip-left-value${_k})`;_c[1]["right"]=`var(--${_e}-clip-right-value, 0)`;}}break;case 'clipRight':if(_i.length>0){_i.forEach((_l, _m)=>{if(!_c[_m]){_c[_m]={left:0,top:0,right:0,bottom:0};}const _k=(typeof _l==='function')?'':`, ${this.normalizeValue(_l)}`;_c[_m]["left"]=`var(--${_e}-clip-left-value, 0)`;_c[_m]["right"]=`var(--${_e}-clip-right-value${_k})`;});if(_i.length==1){if(!_c[1]){_c[1]={left:0,top:0,right:0,bottom:0};}const _k=(typeof _i[0]==='function')?'':`, ${this.normalizeValue(_i[0])}`;_c[1]["left"]=`var(--${_e}-clip-left-value, 0)`;_c[1]["right"]=`var(--${_e}-clip-right-value${_k})`;}}break;case 'clipTop':if(_i.length>0){_i.forEach((_l, _m)=>{if(!_c[_m]){_c[_m]={left:0,top:0,right:0,bottom:0};}const _k=(typeof _l==='function')?'':`, ${this.normalizeValue(_l)}`;_c[_m]["top"]=`var(--${_e}-clip-top-value${_k})`;_c[_m]["bottom"]=`var(--${_e}-clip-bottom-value, 0)`;});if(_i.length==1){if(!_c[1]){_c[1]={left:0,top:0,right:0,bottom:0};}const _k=(typeof _i[0]==='function')?'':`, ${this.normalizeValue(_i[0])}`;_c[1]["top"]=`var(--${_e}-clip-top-value${_k})`;_c[1]["bottom"]=`var(--${_e}-clip-bottom-value, 0)`;}}break;case 'clipBottom':if(_i.length>0){_i.forEach((_l, _m)=>{if(!_c[_m]){_c[_m]={left:0,top:0,right:0,bottom:0};}const _k=(typeof _l==='function')?'':`, ${this.normalizeValue(_l)}`;_c[_m]["top"]=`var(--${_e}-clip-top-value, 0)`;_c[_m]["bottom"]=`var(--${_e}-clip-bottom-value${_k})`;});if(_i.length==1){if(!_c[1]){_c[1]={left:0,top:0,right:0,bottom:0};}const _k=(typeof _i[0]==='function')?'':`, ${this.normalizeValue(_i[0])}`;_c[1]["top"]=`var(--${_e}-clip-top-value, 0)`;_c[1]["bottom"]=`var(--${_e}-clip-bottom-value${_k})`;}}break;}});const _f={};if(_b.length>0){_f["transform"]=_b.map((_g)=>_g.join(' '));}else{_f["transform"]=['none','none'];}if(_c.length>0){_f["clipPath"]=_c.map((_g)=>{return `inset(${_g.top} ${_g.right} ${_g.bottom} ${_g.left})`;});}else{_f["clipPath"]=['none','none'];}if(_d.length>0){_f["opacity"]=_d;}else{_f["opacity"]=['unset','unset'];}return _f;};_pViewTransitionEffector.setCustomEasingValues=function(_a,_b,_c){let _d=this._variable_name_prefix,_e,_f;for(let _l in _a){const _g=_a[_l];let _h=_g[0],_i;if(_g.length>1){_i=_g[_g.length-1];_f=_b===0?_h:(_b===1?_i:(_h+(_i-_h)* _c));}if(typeof _h==='function'){_f=_h(_c);}else if(_i!==undefined){if(_b===0){_f=_h;}else if(_b===1){_f=_i;}else{const _j=1/(_g.length-1);const _k=(_c/_j)|0;_f=_g[_k]+(_g[_k+1]-_g[_k])* (_c%_j);}}if(_l==="clipLeft"||_l==="clipTop"||_l==="clipRight"||_l==="clipBottom"){if(_f<0){_f=Math.abs(_f);if(_l==="clipLeft"){_e=`--${_d}-clip-right-value`;}if(_l==="clipTop"){_e=`--${_d}-clip-bottom-value`;}if(_l==="clipRight"){_e=`--${_d}-clip-left-value`;}if(_l==="clipBottom"){_e=`--${_d}-clip-top-value`;}}else{if(_l==="clipLeft"){_e=`--${_d}-clip-left-value`;}if(_l==="clipTop"){_e=`--${_d}-clip-top-value`;}if(_l==="clipRight"){_e=`--${_d}-clip-right-value`;}if(_l==="clipBottom"){_e=`--${_d}-clip-bottom-value`;}}}else{_e=`--${_d}-${_l}-value`;}if(_f===''){return;}document.documentElement.style.setProperty(_e,this.normalizeValue(_l,_f));}};_pViewTransitionEffector.animationFrame=function(_a,_b,_c,_d){let _e=0,_f=0,_g="none";const _h=_b.effect;if(_h){const _i=_h.getTiming();_e=_i.duration|0;_f=_i.delay|0;_g=_i.fill;}if(!_b.startTime){_b.startTime=_a;}let _j=_a-_b.startTime;if(_b.playState==="running"){if(_f>0&&!_b.previousTime){if(_g==="backwards"||_g==="both"){this.setCustomEasingValues(_c,0,_d.getValue(0)||0);}}else if(_j>=_f){const _k=1-Math.max(0,_e-_j+_f)/_e;this.setCustomEasingValues(_c,2,_d.getValue(_k));}if((_j-_f)<_e){_b.previousTime=_a;this._requestFrameId=window.requestAnimationFrame((_a)=>{this.animationFrame(_a,_b,_c,_d);});}else{if(_g==="forwards"||_g==="both"){this.setCustomEasingValues(_c,1,_d.getValue(1));}else{this.setCustomEasingValues(_c,0,_d.getValue(0)||0);}}}};}